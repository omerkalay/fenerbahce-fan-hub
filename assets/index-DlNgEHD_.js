(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Bp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hp={exports:{}},Qr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb=Symbol.for("react.transitional.element"),ab=Symbol.for("react.fragment");function qp(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var l in t)l!=="key"&&(n[l]=t[l])}else n=t;return t=n.ref,{$$typeof:sb,type:e,key:i,ref:t!==void 0?t:null,props:n}}Qr.Fragment=ab;Qr.jsx=qp;Qr.jsxs=qp;Hp.exports=Qr;var u=Hp.exports,Vp={exports:{}},I={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=Symbol.for("react.transitional.element"),rb=Symbol.for("react.portal"),ob=Symbol.for("react.fragment"),cb=Symbol.for("react.strict_mode"),ub=Symbol.for("react.profiler"),fb=Symbol.for("react.consumer"),db=Symbol.for("react.context"),hb=Symbol.for("react.forward_ref"),mb=Symbol.for("react.suspense"),pb=Symbol.for("react.memo"),Gp=Symbol.for("react.lazy"),gb=Symbol.for("react.activity"),Qd=Symbol.iterator;function yb(e){return e===null||typeof e!="object"?null:(e=Qd&&e[Qd]||e["@@iterator"],typeof e=="function"?e:null)}var Yp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fp=Object.assign,Qp={};function Nl(e,t,n){this.props=e,this.context=t,this.refs=Qp,this.updater=n||Yp}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kp(){}Kp.prototype=Nl.prototype;function tf(e,t,n){this.props=e,this.context=t,this.refs=Qp,this.updater=n||Yp}var nf=tf.prototype=new Kp;nf.constructor=tf;Fp(nf,Nl.prototype);nf.isPureReactComponent=!0;var Kd=Array.isArray;function Lc(){}var de={H:null,A:null,T:null,S:null},Xp=Object.prototype.hasOwnProperty;function lf(e,t,n){var i=n.ref;return{$$typeof:ef,type:e,key:t,ref:i!==void 0?i:null,props:n}}function _b(e,t){return lf(e.type,t,e.props)}function sf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ef}function vb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xd=/\/+/g;function jo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vb(""+e.key):t.toString(36)}function bb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Lc,Lc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function qi(e,t,n,i,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ef:case rb:a=!0;break;case Gp:return a=e._init,qi(a(e._payload),t,n,i,l)}}if(a)return l=l(e),a=i===""?"."+jo(e,0):i,Kd(l)?(n="",a!=null&&(n=a.replace(Xd,"$&/")+"/"),qi(l,t,n,"",function(c){return c})):l!=null&&(sf(l)&&(l=_b(l,n+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(Xd,"$&/")+"/")+a)),t.push(l)),1;a=0;var r=i===""?".":i+":";if(Kd(e))for(var o=0;o<e.length;o++)i=e[o],s=r+jo(i,o),a+=qi(i,t,n,s,l);else if(o=yb(e),typeof o=="function")for(e=o.call(e),o=0;!(i=e.next()).done;)i=i.value,s=r+jo(i,o++),a+=qi(i,t,n,s,l);else if(s==="object"){if(typeof e.then=="function")return qi(bb(e),t,n,i,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function ma(e,t,n){if(e==null)return e;var i=[],l=0;return qi(e,i,"","",function(s){return t.call(n,s,l++)}),i}function xb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sb={map:ma,forEach:function(e,t,n){ma(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ma(e,function(){t++}),t},toArray:function(e){return ma(e,function(t){return t})||[]},only:function(e){if(!sf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Activity=gb;I.Children=Sb;I.Component=Nl;I.Fragment=ob;I.Profiler=ub;I.PureComponent=tf;I.StrictMode=cb;I.Suspense=mb;I.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de;I.__COMPILER_RUNTIME={__proto__:null,c:function(e){return de.H.useMemoCache(e)}};I.cache=function(e){return function(){return e.apply(null,arguments)}};I.cacheSignal=function(){return null};I.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Fp({},e.props),l=e.key;if(t!=null)for(s in t.key!==void 0&&(l=""+t.key),t)!Xp.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),r=0;r<s;r++)a[r]=arguments[r+2];i.children=a}return lf(e.type,l,i)};I.createContext=function(e){return e={$$typeof:db,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:fb,_context:e},e};I.createElement=function(e,t,n){var i,l={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)Xp.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=t[i]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var r=Array(a),o=0;o<a;o++)r[o]=arguments[o+2];l.children=r}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)l[i]===void 0&&(l[i]=a[i]);return lf(e,s,l)};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:hb,render:e}};I.isValidElement=sf;I.lazy=function(e){return{$$typeof:Gp,_payload:{_status:-1,_result:e},_init:xb}};I.memo=function(e,t){return{$$typeof:pb,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=de.T,n={};de.T=n;try{var i=e(),l=de.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Lc,Zd)}catch(s){Zd(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),de.T=t}};I.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()};I.use=function(e){return de.H.use(e)};I.useActionState=function(e,t,n){return de.H.useActionState(e,t,n)};I.useCallback=function(e,t){return de.H.useCallback(e,t)};I.useContext=function(e){return de.H.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e,t){return de.H.useDeferredValue(e,t)};I.useEffect=function(e,t){return de.H.useEffect(e,t)};I.useEffectEvent=function(e){return de.H.useEffectEvent(e)};I.useId=function(){return de.H.useId()};I.useImperativeHandle=function(e,t,n){return de.H.useImperativeHandle(e,t,n)};I.useInsertionEffect=function(e,t){return de.H.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return de.H.useLayoutEffect(e,t)};I.useMemo=function(e,t){return de.H.useMemo(e,t)};I.useOptimistic=function(e,t){return de.H.useOptimistic(e,t)};I.useReducer=function(e,t,n){return de.H.useReducer(e,t,n)};I.useRef=function(e){return de.H.useRef(e)};I.useState=function(e){return de.H.useState(e)};I.useSyncExternalStore=function(e,t,n){return de.H.useSyncExternalStore(e,t,n)};I.useTransition=function(){return de.H.useTransition()};I.version="19.2.0";Vp.exports=I;var C=Vp.exports;const wb=Bp(C);var Zp={exports:{}},Kr={},Pp={exports:{}},$p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,S){var M=b.length;b.push(S);e:for(;0<M;){var j=M-1>>>1,B=b[j];if(0<l(B,S))b[j]=S,b[M]=B,M=j;else break e}}function n(b){return b.length===0?null:b[0]}function i(b){if(b.length===0)return null;var S=b[0],M=b.pop();if(M!==S){b[0]=M;e:for(var j=0,B=b.length,ze=B>>>1;j<ze;){var Ke=2*(j+1)-1,Gt=b[Ke],ni=Ke+1,ha=b[ni];if(0>l(Gt,M))ni<B&&0>l(ha,Gt)?(b[j]=ha,b[ni]=M,j=ni):(b[j]=Gt,b[Ke]=M,j=Ke);else if(ni<B&&0>l(ha,M))b[j]=ha,b[ni]=M,j=ni;else break e}}return S}function l(b,S){var M=b.sortIndex-S.sortIndex;return M!==0?M:b.id-S.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,r=a.now();e.unstable_now=function(){return a.now()-r}}var o=[],c=[],h=1,f=null,d=3,m=!1,y=!1,x=!1,E=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function v(b){for(var S=n(c);S!==null;){if(S.callback===null)i(c);else if(S.startTime<=b)i(c),S.sortIndex=S.expirationTime,t(o,S);else break;S=n(c)}}function N(b){if(x=!1,v(b),!y)if(n(o)!==null)y=!0,R||(R=!0,me());else{var S=n(c);S!==null&&oe(N,S.startTime-b)}}var R=!1,T=-1,O=5,D=-1;function k(){return E?!0:!(e.unstable_now()-D<O)}function Q(){if(E=!1,R){var b=e.unstable_now();D=b;var S=!0;try{e:{y=!1,x&&(x=!1,p(T),T=-1),m=!0;var M=d;try{t:{for(v(b),f=n(o);f!==null&&!(f.expirationTime>b&&k());){var j=f.callback;if(typeof j=="function"){f.callback=null,d=f.priorityLevel;var B=j(f.expirationTime<=b);if(b=e.unstable_now(),typeof B=="function"){f.callback=B,v(b),S=!0;break t}f===n(o)&&i(o),v(b)}else i(o);f=n(o)}if(f!==null)S=!0;else{var ze=n(c);ze!==null&&oe(N,ze.startTime-b),S=!1}}break e}finally{f=null,d=M,m=!1}S=void 0}}finally{S?me():R=!1}}}var me;if(typeof _=="function")me=function(){_(Q)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=Q,me=function(){W.postMessage(null)}}else me=function(){g(Q,0)};function oe(b,S){T=g(function(){b(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(b){switch(d){case 1:case 2:case 3:var S=3;break;default:S=d}var M=d;d=S;try{return b()}finally{d=M}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(b,S){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var M=d;d=b;try{return S()}finally{d=M}},e.unstable_scheduleCallback=function(b,S,M){var j=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?j+M:j):M=j,b){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=M+B,b={id:h++,callback:S,priorityLevel:b,startTime:M,expirationTime:B,sortIndex:-1},M>j?(b.sortIndex=M,t(c,b),n(o)===null&&b===n(c)&&(x?(p(T),T=-1):x=!0,oe(N,M-j))):(b.sortIndex=B,t(o,b),y||m||(y=!0,R||(R=!0,me()))),b},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(b){var S=d;return function(){var M=d;d=S;try{return b.apply(this,arguments)}finally{d=M}}}})($p);Pp.exports=$p;var Eb=Pp.exports,Wp={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb=C;function Jp(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bn(){}var Ge={d:{f:bn,r:function(){throw Error(Jp(522))},D:bn,C:bn,L:bn,m:bn,X:bn,S:bn,M:bn},p:0,findDOMNode:null},Cb=Symbol.for("react.portal");function Nb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var ns=Tb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Xr(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ge;Qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Jp(299));return Nb(e,t,null,n)};Qe.flushSync=function(e){var t=ns.T,n=Ge.p;try{if(ns.T=null,Ge.p=2,e)return e()}finally{ns.T=t,Ge.p=n,Ge.d.f()}};Qe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ge.d.C(e,t))};Qe.prefetchDNS=function(e){typeof e=="string"&&Ge.d.D(e)};Qe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Xr(n,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ge.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:s}):n==="script"&&Ge.d.X(e,{crossOrigin:i,integrity:l,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Qe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Xr(t.as,t.crossOrigin);Ge.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ge.d.M(e)};Qe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Xr(n,t.crossOrigin);Ge.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Qe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Xr(t.as,t.crossOrigin);Ge.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ge.d.m(e)};Qe.requestFormReset=function(e){Ge.d.r(e)};Qe.unstable_batchedUpdates=function(e,t){return e(t)};Qe.useFormState=function(e,t,n){return ns.H.useFormState(e,t,n)};Qe.useFormStatus=function(){return ns.H.useHostTransitionStatus()};Qe.version="19.2.0";function eg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eg)}catch(e){console.error(e)}}eg(),Wp.exports=Qe;var Ab=Wp.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Me=Eb,tg=C,Mb=Ab;function w(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ng(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ks(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ig(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lg(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pd(e){if(Ks(e)!==e)throw Error(w(188))}function Rb(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(w(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Pd(l),e;if(s===i)return Pd(l),t;s=s.sibling}throw Error(w(188))}if(n.return!==i.return)n=l,i=s;else{for(var a=!1,r=l.child;r;){if(r===n){a=!0,n=l,i=s;break}if(r===i){a=!0,i=l,n=s;break}r=r.sibling}if(!a){for(r=s.child;r;){if(r===n){a=!0,n=s,i=l;break}if(r===i){a=!0,i=s,n=l;break}r=r.sibling}if(!a)throw Error(w(189))}}if(n.alternate!==i)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?e:t}function sg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=sg(e),t!==null)return t;e=e.sibling}return null}var he=Object.assign,Db=Symbol.for("react.element"),pa=Symbol.for("react.transitional.element"),Pl=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),rg=Symbol.for("react.consumer"),Jt=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),Uc=Symbol.for("react.suspense"),Bc=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Hc=Symbol.for("react.activity"),Ob=Symbol.for("react.memo_cache_sentinel"),$d=Symbol.iterator;function Bl(e){return e===null||typeof e!="object"?null:(e=$d&&e[$d]||e["@@iterator"],typeof e=="function"?e:null)}var jb=Symbol.for("react.client.reference");function qc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===jb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yi:return"Fragment";case Ic:return"Profiler";case ag:return"StrictMode";case Uc:return"Suspense";case Bc:return"SuspenseList";case Hc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Pl:return"Portal";case Jt:return e.displayName||"Context";case rg:return(e._context.displayName||"Context")+".Consumer";case af:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rf:return t=e.displayName||null,t!==null?t:qc(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return qc(e(t))}catch{}}return null}var $l=Array.isArray,L=tg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=Mb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,hi={pending:!1,data:null,method:null,action:null},Vc=[],Fi=-1;function Ht(e){return{current:e}}function ke(e){0>Fi||(e.current=Vc[Fi],Vc[Fi]=null,Fi--)}function re(e,t){Fi++,Vc[Fi]=e.current,e.current=t}var Ut=Ht(null),Ss=Ht(null),jn=Ht(null),$a=Ht(null);function Wa(e,t){switch(re(jn,t),re(Ss,e),re(Ut,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?im(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=im(t),e=Ny(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ke(Ut),re(Ut,e)}function dl(){ke(Ut),ke(Ss),ke(jn)}function Gc(e){e.memoizedState!==null&&re($a,e);var t=Ut.current,n=Ny(t,e.type);t!==n&&(re(Ss,e),re(Ut,n))}function Ja(e){Ss.current===e&&(ke(Ut),ke(Ss)),$a.current===e&&(ke($a),js._currentValue=hi)}var ko,Wd;function li(e){if(ko===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ko=t&&t[1]||"",Wd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+e+Wd}var zo=!1;function Lo(e,t){if(!e||zo)return"";zo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var d=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){d=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){d=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&d&&typeof m.stack=="string")return[m.stack,d.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],r=s[1];if(a&&r){var o=a.split(`
`),c=r.split(`
`);for(l=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;l<c.length&&!c[l].includes("DetermineComponentFrameRoot");)l++;if(i===o.length||l===c.length)for(i=o.length-1,l=c.length-1;1<=i&&0<=l&&o[i]!==c[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==c[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==c[l]){var h=`
`+o[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=l);break}}}finally{zo=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?li(n):""}function kb(e,t){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return e.child!==t&&t!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return Lo(e.type,!1);case 11:return Lo(e.type.render,!1);case 1:return Lo(e.type,!0);case 31:return li("Activity");default:return""}}function Jd(e){try{var t="",n=null;do t+=kb(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Yc=Object.prototype.hasOwnProperty,of=Me.unstable_scheduleCallback,Io=Me.unstable_cancelCallback,zb=Me.unstable_shouldYield,Lb=Me.unstable_requestPaint,ut=Me.unstable_now,Ib=Me.unstable_getCurrentPriorityLevel,og=Me.unstable_ImmediatePriority,cg=Me.unstable_UserBlockingPriority,er=Me.unstable_NormalPriority,Ub=Me.unstable_LowPriority,ug=Me.unstable_IdlePriority,Bb=Me.log,Hb=Me.unstable_setDisableYieldValue,Xs=null,ft=null;function An(e){if(typeof Bb=="function"&&Hb(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Xs,e)}catch{}}var dt=Math.clz32?Math.clz32:Gb,qb=Math.log,Vb=Math.LN2;function Gb(e){return e>>>=0,e===0?32:31-(qb(e)/Vb|0)|0}var ga=256,ya=262144,_a=4194304;function si(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zr(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var r=i&134217727;return r!==0?(i=r&~s,i!==0?l=si(i):(a&=r,a!==0?l=si(a):n||(n=r&~e,n!==0&&(l=si(n))))):(r=i&~s,r!==0?l=si(r):a!==0?l=si(a):n||(n=i&~e,n!==0&&(l=si(n)))),l===0?0:t!==0&&t!==l&&!(t&s)&&(s=l&-l,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:l}function Zs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Yb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fg(){var e=_a;return _a<<=1,!(_a&62914560)&&(_a=4194304),e}function Uo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ps(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fb(e,t,n,i,l,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-dt(n),f=1<<h;r[h]=0,o[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var m=d[h];m!==null&&(m.lane&=-536870913)}n&=~f}i!==0&&dg(e,i,0),s!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function dg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-dt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function hg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-dt(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}function mg(e,t){var n=t&-t;return n=n&42?1:cf(n),n&(e.suspendedLanes|t)?0:n}function cf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function pg(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Uy(e.type))}function eh(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var ei=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ei,nt="__reactProps$"+ei,Al="__reactContainer$"+ei,Fc="__reactEvents$"+ei,Qb="__reactListeners$"+ei,Kb="__reactHandles$"+ei,th="__reactResources$"+ei,$s="__reactMarker$"+ei;function ff(e){delete e[Ie],delete e[nt],delete e[Fc],delete e[Qb],delete e[Kb]}function Qi(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Al]||n[Ie]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=om(e);e!==null;){if(n=e[Ie])return n;e=om(e)}return t}e=n,n=e.parentNode}return null}function Ml(e){if(e=e[Ie]||e[Al]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Wl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(w(33))}function il(e){var t=e[th];return t||(t=e[th]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function je(e){e[$s]=!0}var gg=new Set,yg={};function Mi(e,t){hl(e,t),hl(e+"Capture",t)}function hl(e,t){for(yg[e]=t,e=0;e<t.length;e++)gg.add(t[e])}var Xb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nh={},ih={};function Zb(e){return Yc.call(ih,e)?!0:Yc.call(nh,e)?!1:Xb.test(e)?ih[e]=!0:(nh[e]=!0,!1)}function za(e,t,n){if(Zb(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function va(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Yt(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _g(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pb(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qc(e){if(!e._valueTracker){var t=_g(e)?"checked":"value";e._valueTracker=Pb(e,t,""+e[t])}}function vg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=_g(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function tr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $b=/[\n"\\]/g;function bt(e){return e.replace($b,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Kc(e,t,n,i,l,s,a,r){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yt(t)):e.value!==""+yt(t)&&(e.value=""+yt(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Xc(e,a,yt(t)):n!=null?Xc(e,a,yt(n)):i!=null&&e.removeAttribute("value"),l==null&&s!=null&&(e.defaultChecked=!!s),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+yt(r):e.removeAttribute("name")}function bg(e,t,n,i,l,s,a,r){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Qc(e);return}n=n!=null?""+yt(n):"",t=t!=null?""+yt(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=r?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Qc(e)}function Xc(e,t,n){t==="number"&&tr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ll(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function xg(e,t,n){if(t!=null&&(t=""+yt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+yt(n):""}function Sg(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(w(92));if($l(i)){if(1<i.length)throw Error(w(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=yt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Qc(e)}function ml(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lh(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Wb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function wg(e,t,n){if(t!=null&&typeof t!="object")throw Error(w(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var l in t)i=t[l],t.hasOwnProperty(l)&&n[l]!==i&&lh(e,l,i)}else for(var s in t)t.hasOwnProperty(s)&&lh(e,s,t[s])}function df(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),e1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(e){return e1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function en(){}var Zc=null;function hf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,sl=null;function sh(e){var t=Ml(e);if(t&&(e=t.stateNode)){var n=e[nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Kc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=i[nt]||null;if(!l)throw Error(w(90));Kc(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&vg(i)}break e;case"textarea":xg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ll(e,!!n.multiple,t,!1)}}}var Bo=!1;function Eg(e,t,n){if(Bo)return e(t,n);Bo=!0;try{var i=e(t);return i}finally{if(Bo=!1,(Ki!==null||sl!==null)&&(ro(),Ki&&(t=Ki,e=sl,sl=Ki=null,sh(t),e)))for(t=0;t<e.length;t++)sh(e[t])}}function ws(e,t){var n=e.stateNode;if(n===null)return null;var i=n[nt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(w(231,t,typeof n));return n}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=!1;if(cn)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{Pc=!1}var Mn=null,mf=null,Ia=null;function Tg(){if(Ia)return Ia;var e,t=mf,n=t.length,i,l="value"in Mn?Mn.value:Mn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===l[s-i];i++);return Ia=l.slice(e,1<i?1-i:void 0)}function Ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ba(){return!0}function ah(){return!1}function lt(e){function t(n,i,l,s,a){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(s):s[r]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ba:ah,this.isPropagationStopped=ah,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),t}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pr=lt(Ri),Ws=he({},Ri,{view:0,detail:0}),t1=lt(Ws),Ho,qo,ql,$r=he({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ql&&(ql&&e.type==="mousemove"?(Ho=e.screenX-ql.screenX,qo=e.screenY-ql.screenY):qo=Ho=0,ql=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:qo}}),rh=lt($r),n1=he({},$r,{dataTransfer:0}),i1=lt(n1),l1=he({},Ws,{relatedTarget:0}),Vo=lt(l1),s1=he({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),a1=lt(s1),r1=he({},Ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),o1=lt(r1),c1=he({},Ri,{data:0}),oh=lt(c1),u1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d1[e])?!!t[e]:!1}function pf(){return h1}var m1=he({},Ws,{key:function(e){if(e.key){var t=u1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pf,charCode:function(e){return e.type==="keypress"?Ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p1=lt(m1),g1=he({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ch=lt(g1),y1=he({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pf}),_1=lt(y1),v1=he({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),b1=lt(v1),x1=he({},$r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S1=lt(x1),w1=he({},Ri,{newState:0,oldState:0}),E1=lt(w1),T1=[9,13,27,32],gf=cn&&"CompositionEvent"in window,is=null;cn&&"documentMode"in document&&(is=document.documentMode);var C1=cn&&"TextEvent"in window&&!is,Cg=cn&&(!gf||is&&8<is&&11>=is),uh=" ",fh=!1;function Ng(e,t){switch(e){case"keyup":return T1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ag(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function N1(e,t){switch(e){case"compositionend":return Ag(t);case"keypress":return t.which!==32?null:(fh=!0,uh);case"textInput":return e=t.data,e===uh&&fh?null:e;default:return null}}function A1(e,t){if(Xi)return e==="compositionend"||!gf&&Ng(e,t)?(e=Tg(),Ia=mf=Mn=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cg&&t.locale!=="ko"?null:t.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M1[e.type]:t==="textarea"}function Mg(e,t,n,i){Ki?sl?sl.push(i):sl=[i]:Ki=i,t=vr(t,"onChange"),0<t.length&&(n=new Pr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ls=null,Es=null;function R1(e){Ey(e,0)}function Wr(e){var t=Wl(e);if(vg(t))return e}function hh(e,t){if(e==="change")return t}var Rg=!1;if(cn){var Go;if(cn){var Yo="oninput"in document;if(!Yo){var mh=document.createElement("div");mh.setAttribute("oninput","return;"),Yo=typeof mh.oninput=="function"}Go=Yo}else Go=!1;Rg=Go&&(!document.documentMode||9<document.documentMode)}function ph(){ls&&(ls.detachEvent("onpropertychange",Dg),Es=ls=null)}function Dg(e){if(e.propertyName==="value"&&Wr(Es)){var t=[];Mg(t,Es,e,hf(e)),Eg(R1,t)}}function D1(e,t,n){e==="focusin"?(ph(),ls=t,Es=n,ls.attachEvent("onpropertychange",Dg)):e==="focusout"&&ph()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wr(Es)}function j1(e,t){if(e==="click")return Wr(t)}function k1(e,t){if(e==="input"||e==="change")return Wr(t)}function z1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:z1;function Ts(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!Yc.call(t,l)||!mt(e[l],t[l]))return!1}return!0}function gh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yh(e,t){var n=gh(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gh(n)}}function Og(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Og(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=tr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tr(e.document)}return t}function yf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var L1=cn&&"documentMode"in document&&11>=document.documentMode,Zi=null,$c=null,ss=null,Wc=!1;function _h(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wc||Zi==null||Zi!==tr(i)||(i=Zi,"selectionStart"in i&&yf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ss&&Ts(ss,i)||(ss=i,i=vr($c,"onSelect"),0<i.length&&(t=new Pr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Zi)))}function ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pi={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionrun:ii("Transition","TransitionRun"),transitionstart:ii("Transition","TransitionStart"),transitioncancel:ii("Transition","TransitionCancel"),transitionend:ii("Transition","TransitionEnd")},Fo={},kg={};cn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function Di(e){if(Fo[e])return Fo[e];if(!Pi[e])return e;var t=Pi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kg)return Fo[e]=t[n];return e}var zg=Di("animationend"),Lg=Di("animationiteration"),Ig=Di("animationstart"),I1=Di("transitionrun"),U1=Di("transitionstart"),B1=Di("transitioncancel"),Ug=Di("transitionend"),Bg=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function jt(e,t){Bg.set(e,t),Mi(t,[e])}var nr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},gt=[],$i=0,_f=0;function Jr(){for(var e=$i,t=_f=$i=0;t<e;){var n=gt[t];gt[t++]=null;var i=gt[t];gt[t++]=null;var l=gt[t];gt[t++]=null;var s=gt[t];if(gt[t++]=null,i!==null&&l!==null){var a=i.pending;a===null?l.next=l:(l.next=a.next,a.next=l),i.pending=l}s!==0&&Hg(n,l,s)}}function eo(e,t,n,i){gt[$i++]=e,gt[$i++]=t,gt[$i++]=n,gt[$i++]=i,_f|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function vf(e,t,n,i){return eo(e,t,n,i),ir(e)}function Oi(e,t){return eo(e,null,null,t),ir(e)}function Hg(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var l=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(l=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,l&&t!==null&&(l=31-dt(n),e=s.hiddenUpdates,i=e[l],i===null?e[l]=[t]:i.push(t),t.lane=n|536870912),s):null}function ir(e){if(50<ms)throw ms=0,bu=null,Error(w(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Wi={};function H1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,i){return new H1(e,t,n,i)}function bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qg(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ba(e,t,n,i,l,s){var a=0;if(i=e,typeof e=="function")bf(e)&&(a=1);else if(typeof e=="string")a=Fx(e,n,Ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Hc:return e=ot(31,n,t,l),e.elementType=Hc,e.lanes=s,e;case Yi:return mi(n.children,l,s,t);case ag:a=8,l|=24;break;case Ic:return e=ot(12,n,t,l|2),e.elementType=Ic,e.lanes=s,e;case Uc:return e=ot(13,n,t,l),e.elementType=Uc,e.lanes=s,e;case Bc:return e=ot(19,n,t,l),e.elementType=Bc,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jt:a=10;break e;case rg:a=9;break e;case af:a=11;break e;case rf:a=14;break e;case Sn:a=16,i=null;break e}a=29,n=Error(w(130,e===null?"null":typeof e,"")),i=null}return t=ot(a,n,t,l),t.elementType=e,t.type=i,t.lanes=s,t}function mi(e,t,n,i){return e=ot(7,e,i,t),e.lanes=n,e}function Qo(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function Vg(e){var t=ot(18,null,null,0);return t.stateNode=e,t}function Ko(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vh=new WeakMap;function xt(e,t){if(typeof e=="object"&&e!==null){var n=vh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Jd(t)},vh.set(e,t),t)}return{value:e,source:t,stack:Jd(t)}}var Ji=[],el=0,lr=null,Cs=0,_t=[],vt=0,Qn=null,zt=1,Lt="";function Pt(e,t){Ji[el++]=Cs,Ji[el++]=lr,lr=e,Cs=t}function Gg(e,t,n){_t[vt++]=zt,_t[vt++]=Lt,_t[vt++]=Qn,Qn=e;var i=zt;e=Lt;var l=32-dt(i)-1;i&=~(1<<l),n+=1;var s=32-dt(t)+l;if(30<s){var a=l-l%5;s=(i&(1<<a)-1).toString(32),i>>=a,l-=a,zt=1<<32-dt(t)+l|n<<l|i,Lt=s+e}else zt=1<<s|n<<l|i,Lt=e}function xf(e){e.return!==null&&(Pt(e,1),Gg(e,1,0))}function Sf(e){for(;e===lr;)lr=Ji[--el],Ji[el]=null,Cs=Ji[--el],Ji[el]=null;for(;e===Qn;)Qn=_t[--vt],_t[vt]=null,Lt=_t[--vt],_t[vt]=null,zt=_t[--vt],_t[vt]=null}function Yg(e,t){_t[vt++]=zt,_t[vt++]=Lt,_t[vt++]=Qn,zt=t.id,Lt=t.overflow,Qn=e}var Ue=null,fe=null,X=!1,kn=null,St=!1,eu=Error(w(519));function Kn(e){var t=Error(w(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ns(xt(t,e)),eu}function bh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ie]=e,t[nt]=i,n){case"dialog":G("cancel",t),G("close",t);break;case"iframe":case"object":case"embed":G("load",t);break;case"video":case"audio":for(n=0;n<Ds.length;n++)G(Ds[n],t);break;case"source":G("error",t);break;case"img":case"image":case"link":G("error",t),G("load",t);break;case"details":G("toggle",t);break;case"input":G("invalid",t),bg(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":G("invalid",t);break;case"textarea":G("invalid",t),Sg(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Cy(t.textContent,n)?(i.popover!=null&&(G("beforetoggle",t),G("toggle",t)),i.onScroll!=null&&G("scroll",t),i.onScrollEnd!=null&&G("scrollend",t),i.onClick!=null&&(t.onclick=en),t=!0):t=!1,t||Kn(e,!0)}function xh(e){for(Ue=e.return;Ue;)switch(Ue.tag){case 5:case 31:case 13:St=!1;return;case 27:case 3:St=!0;return;default:Ue=Ue.return}}function Li(e){if(e!==Ue)return!1;if(!X)return xh(e),X=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Tu(e.type,e.memoizedProps)),n=!n),n&&fe&&Kn(e),xh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));fe=rm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));fe=rm(e)}else t===27?(t=fe,ti(e.type)?(e=Mu,Mu=null,fe=e):fe=t):fe=Ue?Et(e.stateNode.nextSibling):null;return!0}function _i(){fe=Ue=null,X=!1}function Xo(){var e=kn;return e!==null&&($e===null?$e=e:$e.push.apply($e,e),kn=null),e}function Ns(e){kn===null?kn=[e]:kn.push(e)}var tu=Ht(null),ji=null,tn=null;function En(e,t,n){re(tu,t._currentValue),t._currentValue=n}function sn(e){e._currentValue=tu.current,ke(tu)}function nu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function iu(e,t,n,i){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var s=l.dependencies;if(s!==null){var a=l.child;s=s.firstContext;e:for(;s!==null;){var r=s;s=l;for(var o=0;o<t.length;o++)if(r.context===t[o]){s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),nu(s.return,n,e),i||(a=null);break e}s=r.next}}else if(l.tag===18){if(a=l.return,a===null)throw Error(w(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),nu(a,n,e),a=null}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}}function Rl(e,t,n,i){e=null;for(var l=t,s=!1;l!==null;){if(!s){if(l.flags&524288)s=!0;else if(l.flags&262144)break}if(l.tag===10){var a=l.alternate;if(a===null)throw Error(w(387));if(a=a.memoizedProps,a!==null){var r=l.type;mt(l.pendingProps.value,a.value)||(e!==null?e.push(r):e=[r])}}else if(l===$a.current){if(a=l.alternate,a===null)throw Error(w(387));a.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(js):e=[js])}l=l.return}e!==null&&iu(t,e,n,i),t.flags|=262144}function sr(e){for(e=e.firstContext;e!==null;){if(!mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vi(e){ji=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Fg(ji,e)}function xa(e,t){return ji===null&&vi(e),Fg(e,t)}function Fg(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},tn===null){if(e===null)throw Error(w(308));tn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tn=tn.next=t;return n}var q1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},V1=Me.unstable_scheduleCallback,G1=Me.unstable_NormalPriority,we={$$typeof:Jt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new q1,data:new Map,refCount:0}}function Js(e){e.refCount--,e.refCount===0&&V1(G1,function(){e.controller.abort()})}var as=null,lu=0,pl=0,al=null;function Y1(e,t){if(as===null){var n=as=[];lu=0,pl=Xf(),al={status:"pending",value:void 0,then:function(i){n.push(i)}}}return lu++,t.then(Sh,Sh),t}function Sh(){if(--lu===0&&as!==null){al!==null&&(al.status="fulfilled");var e=as;as=null,pl=0,al=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function F1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var wh=L.S;L.S=function(e,t){sy=ut(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Y1(e,t),wh!==null&&wh(e,t)};var pi=Ht(null);function Ef(){var e=pi.current;return e!==null?e:ie.pooledCache}function Ha(e,t){t===null?re(pi,pi.current):re(pi,t.pool)}function Qg(){var e=Ef();return e===null?null:{parent:we._currentValue,pool:e}}var Dl=Error(w(460)),Tf=Error(w(474)),to=Error(w(542)),ar={then:function(){}};function Eh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kg(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(en,en),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ch(e),e;default:if(typeof t.status=="string")t.then(en,en);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(w(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=i}},function(i){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ch(e),e}throw gi=t,Dl}}function ai(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(gi=n,Dl):n}}var gi=null;function Th(){if(gi===null)throw Error(w(459));var e=gi;return gi=null,e}function Ch(e){if(e===Dl||e===to)throw Error(w(483))}var rl=null,As=0;function Sa(e){var t=As;return As+=1,rl===null&&(rl=[]),Kg(rl,e,t)}function Vl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function wa(e,t){throw t.$$typeof===Db?Error(w(525)):(e=Object.prototype.toString.call(t),Error(w(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xg(e){function t(g,p){if(e){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function i(g){for(var p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function l(g,p){return g=ln(g,p),g.index=0,g.sibling=null,g}function s(g,p,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=67108866,p):_):(g.flags|=67108866,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function r(g,p,_,v){return p===null||p.tag!==6?(p=Qo(_,g.mode,v),p.return=g,p):(p=l(p,_),p.return=g,p)}function o(g,p,_,v){var N=_.type;return N===Yi?h(g,p,_.props.children,v,_.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Sn&&ai(N)===p.type)?(p=l(p,_.props),Vl(p,_),p.return=g,p):(p=Ba(_.type,_.key,_.props,null,g.mode,v),Vl(p,_),p.return=g,p)}function c(g,p,_,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=Ko(_,g.mode,v),p.return=g,p):(p=l(p,_.children||[]),p.return=g,p)}function h(g,p,_,v,N){return p===null||p.tag!==7?(p=mi(_,g.mode,v,N),p.return=g,p):(p=l(p,_),p.return=g,p)}function f(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Qo(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case pa:return _=Ba(p.type,p.key,p.props,null,g.mode,_),Vl(_,p),_.return=g,_;case Pl:return p=Ko(p,g.mode,_),p.return=g,p;case Sn:return p=ai(p),f(g,p,_)}if($l(p)||Bl(p))return p=mi(p,g.mode,_,null),p.return=g,p;if(typeof p.then=="function")return f(g,Sa(p),_);if(p.$$typeof===Jt)return f(g,xa(g,p),_);wa(g,p)}return null}function d(g,p,_,v){var N=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return N!==null?null:r(g,p,""+_,v);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pa:return _.key===N?o(g,p,_,v):null;case Pl:return _.key===N?c(g,p,_,v):null;case Sn:return _=ai(_),d(g,p,_,v)}if($l(_)||Bl(_))return N!==null?null:h(g,p,_,v,null);if(typeof _.then=="function")return d(g,p,Sa(_),v);if(_.$$typeof===Jt)return d(g,p,xa(g,_),v);wa(g,_)}return null}function m(g,p,_,v,N){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return g=g.get(_)||null,r(p,g,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pa:return g=g.get(v.key===null?_:v.key)||null,o(p,g,v,N);case Pl:return g=g.get(v.key===null?_:v.key)||null,c(p,g,v,N);case Sn:return v=ai(v),m(g,p,_,v,N)}if($l(v)||Bl(v))return g=g.get(_)||null,h(p,g,v,N,null);if(typeof v.then=="function")return m(g,p,_,Sa(v),N);if(v.$$typeof===Jt)return m(g,p,_,xa(p,v),N);wa(p,v)}return null}function y(g,p,_,v){for(var N=null,R=null,T=p,O=p=0,D=null;T!==null&&O<_.length;O++){T.index>O?(D=T,T=null):D=T.sibling;var k=d(g,T,_[O],v);if(k===null){T===null&&(T=D);break}e&&T&&k.alternate===null&&t(g,T),p=s(k,p,O),R===null?N=k:R.sibling=k,R=k,T=D}if(O===_.length)return n(g,T),X&&Pt(g,O),N;if(T===null){for(;O<_.length;O++)T=f(g,_[O],v),T!==null&&(p=s(T,p,O),R===null?N=T:R.sibling=T,R=T);return X&&Pt(g,O),N}for(T=i(T);O<_.length;O++)D=m(T,g,O,_[O],v),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?O:D.key),p=s(D,p,O),R===null?N=D:R.sibling=D,R=D);return e&&T.forEach(function(Q){return t(g,Q)}),X&&Pt(g,O),N}function x(g,p,_,v){if(_==null)throw Error(w(151));for(var N=null,R=null,T=p,O=p=0,D=null,k=_.next();T!==null&&!k.done;O++,k=_.next()){T.index>O?(D=T,T=null):D=T.sibling;var Q=d(g,T,k.value,v);if(Q===null){T===null&&(T=D);break}e&&T&&Q.alternate===null&&t(g,T),p=s(Q,p,O),R===null?N=Q:R.sibling=Q,R=Q,T=D}if(k.done)return n(g,T),X&&Pt(g,O),N;if(T===null){for(;!k.done;O++,k=_.next())k=f(g,k.value,v),k!==null&&(p=s(k,p,O),R===null?N=k:R.sibling=k,R=k);return X&&Pt(g,O),N}for(T=i(T);!k.done;O++,k=_.next())k=m(T,g,O,k.value,v),k!==null&&(e&&k.alternate!==null&&T.delete(k.key===null?O:k.key),p=s(k,p,O),R===null?N=k:R.sibling=k,R=k);return e&&T.forEach(function(me){return t(g,me)}),X&&Pt(g,O),N}function E(g,p,_,v){if(typeof _=="object"&&_!==null&&_.type===Yi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case pa:e:{for(var N=_.key;p!==null;){if(p.key===N){if(N=_.type,N===Yi){if(p.tag===7){n(g,p.sibling),v=l(p,_.props.children),v.return=g,g=v;break e}}else if(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Sn&&ai(N)===p.type){n(g,p.sibling),v=l(p,_.props),Vl(v,_),v.return=g,g=v;break e}n(g,p);break}else t(g,p);p=p.sibling}_.type===Yi?(v=mi(_.props.children,g.mode,v,_.key),v.return=g,g=v):(v=Ba(_.type,_.key,_.props,null,g.mode,v),Vl(v,_),v.return=g,g=v)}return a(g);case Pl:e:{for(N=_.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),v=l(p,_.children||[]),v.return=g,g=v;break e}else{n(g,p);break}else t(g,p);p=p.sibling}v=Ko(_,g.mode,v),v.return=g,g=v}return a(g);case Sn:return _=ai(_),E(g,p,_,v)}if($l(_))return y(g,p,_,v);if(Bl(_)){if(N=Bl(_),typeof N!="function")throw Error(w(150));return _=N.call(_),x(g,p,_,v)}if(typeof _.then=="function")return E(g,p,Sa(_),v);if(_.$$typeof===Jt)return E(g,p,xa(g,_),v);wa(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),v=l(p,_),v.return=g,g=v):(n(g,p),v=Qo(_,g.mode,v),v.return=g,g=v),a(g)):n(g,p)}return function(g,p,_,v){try{As=0;var N=E(g,p,_,v);return rl=null,N}catch(T){if(T===Dl||T===to)throw T;var R=ot(29,T,null,g.mode);return R.lanes=v,R.return=g,R}finally{}}}var bi=Xg(!0),Zg=Xg(!1),wn=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function su(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,P&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,t=ir(e),Hg(e,null,n),t}return eo(e,i,t,n),ir(e)}function rs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,hg(e,n)}}function Zo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var au=!1;function os(){if(au){var e=al;if(e!==null)throw e}}function cs(e,t,n,i){au=!1;var l=e.updateQueue;wn=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var o=r,c=o.next;o.next=null,a===null?s=c:a.next=c,a=o;var h=e.alternate;h!==null&&(h=h.updateQueue,r=h.lastBaseUpdate,r!==a&&(r===null?h.firstBaseUpdate=c:r.next=c,h.lastBaseUpdate=o))}if(s!==null){var f=l.baseState;a=0,h=c=o=null,r=s;do{var d=r.lane&-536870913,m=d!==r.lane;if(m?(K&d)===d:(i&d)===d){d!==0&&d===pl&&(au=!0),h!==null&&(h=h.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var y=e,x=r;d=t;var E=n;switch(x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(E,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,d=typeof y=="function"?y.call(E,f,d):y,d==null)break e;f=he({},f,d);break e;case 2:wn=!0}}d=r.callback,d!==null&&(e.flags|=64,m&&(e.flags|=8192),m=l.callbacks,m===null?l.callbacks=[d]:m.push(d))}else m={lane:d,tag:r.tag,payload:r.payload,callback:r.callback,next:null},h===null?(c=h=m,o=f):h=h.next=m,a|=d;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;m=r,r=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);h===null&&(o=f),l.baseState=o,l.firstBaseUpdate=c,l.lastBaseUpdate=h,s===null&&(l.shared.lanes=0),Zn|=a,e.lanes=a,e.memoizedState=f}}function Pg(e,t){if(typeof e!="function")throw Error(w(191,e));e.call(t)}function $g(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Pg(n[e],t)}var gl=Ht(null),rr=Ht(0);function Nh(e,t){e=hn,re(rr,e),re(gl,t),hn=e|t.baseLanes}function ru(){re(rr,hn),re(gl,gl.current)}function Nf(){hn=rr.current,ke(gl),ke(rr)}var pt=Ht(null),wt=null;function Tn(e){var t=e.alternate;re(ve,ve.current&1),re(pt,e),wt===null&&(t===null||gl.current!==null||t.memoizedState!==null)&&(wt=e)}function ou(e){re(ve,ve.current),re(pt,e),wt===null&&(wt=e)}function Wg(e){e.tag===22?(re(ve,ve.current),re(pt,e),wt===null&&(wt=e)):Cn()}function Cn(){re(ve,ve.current),re(pt,pt.current)}function rt(e){ke(pt),wt===e&&(wt=null),ke(ve)}var ve=Ht(0);function or(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Nu(n)||Au(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var un=0,U=null,ne=null,xe=null,cr=!1,ol=!1,xi=!1,ur=0,Ms=0,cl=null,Q1=0;function ye(){throw Error(w(321))}function Af(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0}function Mf(e,t,n,i,l,s){return un=s,U=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?M0:Hf,xi=!1,s=n(i,l),xi=!1,ol&&(s=e0(t,n,i,l)),Jg(e),s}function Jg(e){L.H=Rs;var t=ne!==null&&ne.next!==null;if(un=0,xe=ne=U=null,cr=!1,Ms=0,cl=null,t)throw Error(w(300));e===null||Ee||(e=e.dependencies,e!==null&&sr(e)&&(Ee=!0))}function e0(e,t,n,i){U=e;var l=0;do{if(ol&&(cl=null),Ms=0,ol=!1,25<=l)throw Error(w(301));if(l+=1,xe=ne=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}L.H=R0,s=t(n,i)}while(ol);return s}function K1(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?ea(t):t,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(U.flags|=1024),t}function Rf(){var e=ur!==0;return ur=0,e}function Df(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Of(e){if(cr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cr=!1}un=0,xe=ne=U=null,ol=!1,Ms=ur=0,cl=null}function Ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?U.memoizedState=xe=e:xe=xe.next=e,xe}function be(){if(ne===null){var e=U.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var t=xe===null?U.memoizedState:xe.next;if(t!==null)xe=t,ne=e;else{if(e===null)throw U.alternate===null?Error(w(467)):Error(w(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},xe===null?U.memoizedState=xe=e:xe=xe.next=e}return xe}function no(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ea(e){var t=Ms;return Ms+=1,cl===null&&(cl=[]),e=Kg(cl,e,t),t=U,(xe===null?t.memoizedState:xe.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?M0:Hf),e}function io(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ea(e);if(e.$$typeof===Jt)return Be(e)}throw Error(w(438,String(e)))}function jf(e){var t=null,n=U.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=U.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=no(),U.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Ob;return t.index++,n}function fn(e,t){return typeof t=="function"?t(e):t}function qa(e){var t=be();return kf(t,ne,e)}function kf(e,t,n){var i=e.queue;if(i===null)throw Error(w(311));i.lastRenderedReducer=n;var l=e.baseQueue,s=i.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}t.baseQueue=l=s,i.pending=null}if(s=e.baseState,l===null)e.memoizedState=s;else{t=l.next;var r=a=null,o=null,c=t,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(K&f)===f:(un&f)===f){var d=c.revertLane;if(d===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===pl&&(h=!0);else if((un&d)===d){c=c.next,d===pl&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(r=o=f,a=s):o=o.next=f,U.lanes|=d,Zn|=d;f=c.action,xi&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else d={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(r=o=d,a=s):o=o.next=d,U.lanes|=f,Zn|=f;c=c.next}while(c!==null&&c!==t);if(o===null?a=s:o.next=r,!mt(s,e.memoizedState)&&(Ee=!0,h&&(n=al,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=o,i.lastRenderedState=s}return l===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Po(e){var t=be(),n=t.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);mt(s,t.memoizedState)||(Ee=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function t0(e,t,n){var i=U,l=be(),s=X;if(s){if(n===void 0)throw Error(w(407));n=n()}else n=t();var a=!mt((ne||l).memoizedState,n);if(a&&(l.memoizedState=n,Ee=!0),l=l.queue,zf(l0.bind(null,i,l,e),[e]),l.getSnapshot!==t||a||xe!==null&&xe.memoizedState.tag&1){if(i.flags|=2048,yl(9,{destroy:void 0},i0.bind(null,i,l,n,t),null),ie===null)throw Error(w(349));s||un&127||n0(i,t,n)}return n}function n0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=U.updateQueue,t===null?(t=no(),U.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function i0(e,t,n,i){t.value=n,t.getSnapshot=i,s0(t)&&a0(e)}function l0(e,t,n){return n(function(){s0(t)&&a0(e)})}function s0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mt(e,n)}catch{return!0}}function a0(e){var t=Oi(e,2);t!==null&&Je(t,e,2)}function cu(e){var t=Ve();if(typeof e=="function"){var n=e;if(e=n(),xi){An(!0);try{n()}finally{An(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},t}function r0(e,t,n,i){return e.baseState=n,kf(e,ne,typeof i=="function"?i:fn)}function X1(e,t,n,i,l){if(so(e))throw Error(w(485));if(e=t.action,e!==null){var s={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};L.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,o0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function o0(e,t){var n=t.action,i=t.payload,l=e.state;if(t.isTransition){var s=L.T,a={};L.T=a;try{var r=n(l,i),o=L.S;o!==null&&o(a,r),Ah(e,t,r)}catch(c){uu(e,t,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),L.T=s}}else try{s=n(l,i),Ah(e,t,s)}catch(c){uu(e,t,c)}}function Ah(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Mh(e,t,i)},function(i){return uu(e,t,i)}):Mh(e,t,n)}function Mh(e,t,n){t.status="fulfilled",t.value=n,c0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,o0(e,n)))}function uu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,c0(t),t=t.next;while(t!==i)}e.action=null}function c0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function u0(e,t){return t}function Rh(e,t){if(X){var n=ie.formState;if(n!==null){e:{var i=U;if(X){if(fe){t:{for(var l=fe,s=St;l.nodeType!==8;){if(!s){l=null;break t}if(l=Et(l.nextSibling),l===null){l=null;break t}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){fe=Et(l.nextSibling),i=l.data==="F!";break e}}Kn(i)}i=!1}i&&(t=n[0])}}return n=Ve(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u0,lastRenderedState:t},n.queue=i,n=C0.bind(null,U,i),i.dispatch=n,i=cu(!1),s=Bf.bind(null,U,!1,i.queue),i=Ve(),l={state:t,dispatch:null,action:e,pending:null},i.queue=l,n=X1.bind(null,U,l,s,n),l.dispatch=n,i.memoizedState=e,[t,n,!1]}function Dh(e){var t=be();return f0(t,ne,e)}function f0(e,t,n){if(t=kf(e,t,u0)[0],e=qa(fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ea(t)}catch(a){throw a===Dl?to:a}else i=t;t=be();var l=t.queue,s=l.dispatch;return n!==t.memoizedState&&(U.flags|=2048,yl(9,{destroy:void 0},Z1.bind(null,l,n),null)),[i,s,e]}function Z1(e,t){e.action=t}function Oh(e){var t=be(),n=ne;if(n!==null)return f0(t,n,e);be(),t=t.memoizedState,n=be();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function yl(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=U.updateQueue,t===null&&(t=no(),U.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function d0(){return be().memoizedState}function Va(e,t,n,i){var l=Ve();U.flags|=e,l.memoizedState=yl(1|t,{destroy:void 0},n,i===void 0?null:i)}function lo(e,t,n,i){var l=be();i=i===void 0?null:i;var s=l.memoizedState.inst;ne!==null&&i!==null&&Af(i,ne.memoizedState.deps)?l.memoizedState=yl(t,s,n,i):(U.flags|=e,l.memoizedState=yl(1|t,s,n,i))}function jh(e,t){Va(8390656,8,e,t)}function zf(e,t){lo(2048,8,e,t)}function P1(e){U.flags|=4;var t=U.updateQueue;if(t===null)t=no(),U.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function h0(e){var t=be().memoizedState;return P1({ref:t,nextImpl:e}),function(){if(P&2)throw Error(w(440));return t.impl.apply(void 0,arguments)}}function m0(e,t){return lo(4,2,e,t)}function p0(e,t){return lo(4,4,e,t)}function g0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function y0(e,t,n){n=n!=null?n.concat([e]):null,lo(4,4,g0.bind(null,t,e),n)}function Lf(){}function _0(e,t){var n=be();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Af(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function v0(e,t){var n=be();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Af(t,i[1]))return i[0];if(i=e(),xi){An(!0);try{e()}finally{An(!1)}}return n.memoizedState=[i,t],i}function If(e,t,n){return n===void 0||un&1073741824&&!(K&261930)?e.memoizedState=t:(e.memoizedState=n,e=ry(),U.lanes|=e,Zn|=e,n)}function b0(e,t,n,i){return mt(n,t)?n:gl.current!==null?(e=If(e,n,i),mt(e,t)||(Ee=!0),e):!(un&42)||un&1073741824&&!(K&261930)?(Ee=!0,e.memoizedState=n):(e=ry(),U.lanes|=e,Zn|=e,t)}function x0(e,t,n,i,l){var s=$.p;$.p=s!==0&&8>s?s:8;var a=L.T,r={};L.T=r,Bf(e,!1,t,n);try{var o=l(),c=L.S;if(c!==null&&c(r,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=F1(o,i);us(e,t,h,ht(e))}else us(e,t,i,ht(e))}catch(f){us(e,t,{then:function(){},status:"rejected",reason:f},ht())}finally{$.p=s,a!==null&&r.types!==null&&(a.types=r.types),L.T=a}}function $1(){}function fu(e,t,n,i){if(e.tag!==5)throw Error(w(476));var l=S0(e).queue;x0(e,l,t,hi,n===null?$1:function(){return w0(e),n(i)})}function S0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:hi,baseState:hi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:hi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function w0(e){var t=S0(e);t.next===null&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},ht())}function Uf(){return Be(js)}function E0(){return be().memoizedState}function T0(){return be().memoizedState}function W1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ht();e=zn(n);var i=Ln(t,e,n);i!==null&&(Je(i,t,n),rs(i,t,n)),t={cache:wf()},e.payload=t;return}t=t.return}}function J1(e,t,n){var i=ht();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},so(e)?N0(t,n):(n=vf(e,t,n,i),n!==null&&(Je(n,e,i),A0(n,t,i)))}function C0(e,t,n){var i=ht();us(e,t,n,i)}function us(e,t,n,i){var l={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(so(e))N0(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,r=s(a,n);if(l.hasEagerState=!0,l.eagerState=r,mt(r,a))return eo(e,t,l,0),ie===null&&Jr(),!1}catch{}finally{}if(n=vf(e,t,l,i),n!==null)return Je(n,e,i),A0(n,t,i),!0}return!1}function Bf(e,t,n,i){if(i={lane:2,revertLane:Xf(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},so(e)){if(t)throw Error(w(479))}else t=vf(e,n,i,2),t!==null&&Je(t,e,2)}function so(e){var t=e.alternate;return e===U||t!==null&&t===U}function N0(e,t){ol=cr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function A0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,hg(e,n)}}var Rs={readContext:Be,use:io,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Rs.useEffectEvent=ye;var M0={readContext:Be,use:io,useCallback:function(e,t){return Ve().memoizedState=[e,t===void 0?null:t],e},useContext:Be,useEffect:jh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Va(4194308,4,g0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){Va(4,2,e,t)},useMemo:function(e,t){var n=Ve();t=t===void 0?null:t;var i=e();if(xi){An(!0);try{e()}finally{An(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ve();if(n!==void 0){var l=n(t);if(xi){An(!0);try{n(t)}finally{An(!1)}}}else l=t;return i.memoizedState=i.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},i.queue=e,e=e.dispatch=J1.bind(null,U,e),[i.memoizedState,e]},useRef:function(e){var t=Ve();return e={current:e},t.memoizedState=e},useState:function(e){e=cu(e);var t=e.queue,n=C0.bind(null,U,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Lf,useDeferredValue:function(e,t){var n=Ve();return If(n,e,t)},useTransition:function(){var e=cu(!1);return e=x0.bind(null,U,e.queue,!0,!1),Ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=U,l=Ve();if(X){if(n===void 0)throw Error(w(407));n=n()}else{if(n=t(),ie===null)throw Error(w(349));K&127||n0(i,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,jh(l0.bind(null,i,s,e),[e]),i.flags|=2048,yl(9,{destroy:void 0},i0.bind(null,i,s,n,t),null),n},useId:function(){var e=Ve(),t=ie.identifierPrefix;if(X){var n=Lt,i=zt;n=(i&~(1<<32-dt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ur++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Q1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uf,useFormState:Rh,useActionState:Rh,useOptimistic:function(e){var t=Ve();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bf.bind(null,U,!0,n),n.dispatch=t,[e,t]},useMemoCache:jf,useCacheRefresh:function(){return Ve().memoizedState=W1.bind(null,U)},useEffectEvent:function(e){var t=Ve(),n={impl:e};return t.memoizedState=n,function(){if(P&2)throw Error(w(440));return n.impl.apply(void 0,arguments)}}},Hf={readContext:Be,use:io,useCallback:_0,useContext:Be,useEffect:zf,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:p0,useMemo:v0,useReducer:qa,useRef:d0,useState:function(){return qa(fn)},useDebugValue:Lf,useDeferredValue:function(e,t){var n=be();return b0(n,ne.memoizedState,e,t)},useTransition:function(){var e=qa(fn)[0],t=be().memoizedState;return[typeof e=="boolean"?e:ea(e),t]},useSyncExternalStore:t0,useId:E0,useHostTransitionStatus:Uf,useFormState:Dh,useActionState:Dh,useOptimistic:function(e,t){var n=be();return r0(n,ne,e,t)},useMemoCache:jf,useCacheRefresh:T0};Hf.useEffectEvent=h0;var R0={readContext:Be,use:io,useCallback:_0,useContext:Be,useEffect:zf,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:p0,useMemo:v0,useReducer:Po,useRef:d0,useState:function(){return Po(fn)},useDebugValue:Lf,useDeferredValue:function(e,t){var n=be();return ne===null?If(n,e,t):b0(n,ne.memoizedState,e,t)},useTransition:function(){var e=Po(fn)[0],t=be().memoizedState;return[typeof e=="boolean"?e:ea(e),t]},useSyncExternalStore:t0,useId:E0,useHostTransitionStatus:Uf,useFormState:Oh,useActionState:Oh,useOptimistic:function(e,t){var n=be();return ne!==null?r0(n,ne,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:jf,useCacheRefresh:T0};R0.useEffectEvent=h0;function $o(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var du={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ht(),l=zn(i);l.payload=t,n!=null&&(l.callback=n),t=Ln(e,l,i),t!==null&&(Je(t,e,i),rs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ht(),l=zn(i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Ln(e,l,i),t!==null&&(Je(t,e,i),rs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),i=zn(n);i.tag=2,t!=null&&(i.callback=t),t=Ln(e,i,n),t!==null&&(Je(t,e,n),rs(t,e,n))}};function kh(e,t,n,i,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Ts(n,i)||!Ts(l,s):!0}function zh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&du.enqueueReplaceState(t,t.state,null)}function Si(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=he({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function D0(e){nr(e)}function O0(e){console.error(e)}function j0(e){nr(e)}function fr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Lh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function hu(e,t,n){return n=zn(n),n.tag=3,n.payload={element:null},n.callback=function(){fr(e,t)},n}function k0(e){return e=zn(e),e.tag=3,e}function z0(e,t,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=i.value;e.payload=function(){return l(s)},e.callback=function(){Lh(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Lh(t,n,i),typeof l!="function"&&(In===null?In=new Set([this]):In.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function ex(e,t,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Rl(t,n,l,!0),n=pt.current,n!==null){switch(n.tag){case 31:case 13:return wt===null?gr():n.alternate===null&&_e===0&&(_e=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===ar?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),oc(e,i,l)),!1;case 22:return n.flags|=65536,i===ar?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),oc(e,i,l)),!1}throw Error(w(435,n.tag))}return oc(e,i,l),gr(),!1}if(X)return t=pt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,i!==eu&&(e=Error(w(422),{cause:i}),Ns(xt(e,n)))):(i!==eu&&(t=Error(w(423),{cause:i}),Ns(xt(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,i=xt(i,n),l=hu(e.stateNode,i,l),Zo(e,l),_e!==4&&(_e=2)),!1;var s=Error(w(520),{cause:i});if(s=xt(s,n),hs===null?hs=[s]:hs.push(s),_e!==4&&(_e=2),t===null)return!0;i=xt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=hu(n.stateNode,i,e),Zo(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(In===null||!In.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=k0(l),z0(l,e,n,i),Zo(n,l),!1}n=n.return}while(n!==null);return!1}var qf=Error(w(461)),Ee=!1;function Le(e,t,n,i){t.child=e===null?Zg(t,null,n,i):bi(t,e.child,n,i)}function Ih(e,t,n,i,l){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}else a=i;return vi(t),i=Mf(e,t,n,a,s,l),r=Rf(),e!==null&&!Ee?(Df(e,t,l),dn(e,t,l)):(X&&r&&xf(t),t.flags|=1,Le(e,t,i,l),t.child)}function Uh(e,t,n,i,l){if(e===null){var s=n.type;return typeof s=="function"&&!bf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,L0(e,t,s,i,l)):(e=Ba(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Vf(e,l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ts,n(a,i)&&e.ref===t.ref)return dn(e,t,l)}return t.flags|=1,e=ln(s,i),e.ref=t.ref,e.return=t,t.child=e}function L0(e,t,n,i,l){if(e!==null){var s=e.memoizedProps;if(Ts(s,i)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=i=s,Vf(e,l))e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,dn(e,t,l)}return mu(e,t,n,i,l)}function I0(e,t,n,i){var l=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;i=l&~s}else i=0,t.child=null;return Bh(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ha(t,s!==null?s.cachePool:null),s!==null?Nh(t,s):ru(),Wg(t);else return i=t.lanes=536870912,Bh(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Ha(t,s.cachePool),Nh(t,s),Cn(),t.memoizedState=null):(e!==null&&Ha(t,null),ru(),Cn());return Le(e,t,l,n),t.child}function Jl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bh(e,t,n,i,l){var s=Ef();return s=s===null?null:{parent:we._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Ha(t,null),ru(),Wg(t),e!==null&&Rl(e,t,i,!0),t.childLanes=l,null}function Ga(e,t){return t=dr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Hh(e,t,n){return bi(t,e.child,null,n),e=Ga(t,t.pendingProps),e.flags|=2,rt(t),t.memoizedState=null,e}function tx(e,t,n){var i=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(X){if(i.mode==="hidden")return e=Ga(t,i),t.lanes=536870912,Jl(null,e);if(ou(t),(e=fe)?(e=My(e,St),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:zt,overflow:Lt}:null,retryLane:536870912,hydrationErrors:null},n=Vg(e),n.return=t,t.child=n,Ue=t,fe=null)):e=null,e===null)throw Kn(t);return t.lanes=536870912,null}return Ga(t,i)}var s=e.memoizedState;if(s!==null){var a=s.dehydrated;if(ou(t),l)if(t.flags&256)t.flags&=-257,t=Hh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(w(558));else if(Ee||Rl(e,t,n,!1),l=(n&e.childLanes)!==0,Ee||l){if(i=ie,i!==null&&(a=mg(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Oi(e,a),Je(i,e,a),qf;gr(),t=Hh(e,t,n)}else e=s.treeContext,fe=Et(a.nextSibling),Ue=t,X=!0,kn=null,St=!1,e!==null&&Yg(t,e),t=Ga(t,i),t.flags|=4096;return t}return e=ln(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ya(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(w(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function mu(e,t,n,i,l){return vi(t),n=Mf(e,t,n,i,void 0,l),i=Rf(),e!==null&&!Ee?(Df(e,t,l),dn(e,t,l)):(X&&i&&xf(t),t.flags|=1,Le(e,t,n,l),t.child)}function qh(e,t,n,i,l,s){return vi(t),t.updateQueue=null,n=e0(t,i,n,l),Jg(e),i=Rf(),e!==null&&!Ee?(Df(e,t,s),dn(e,t,s)):(X&&i&&xf(t),t.flags|=1,Le(e,t,n,s),t.child)}function Vh(e,t,n,i,l){if(vi(t),t.stateNode===null){var s=Wi,a=n.contextType;typeof a=="object"&&a!==null&&(s=Be(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=du,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Cf(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Be(a):Wi,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&($o(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&du.enqueueReplaceState(s,s.state,null),cs(t,i,s,l),os(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var r=t.memoizedProps,o=Si(n,r);s.props=o;var c=s.context,h=n.contextType;a=Wi,typeof h=="object"&&h!==null&&(a=Be(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r||c!==a)&&zh(t,s,i,a),wn=!1;var d=t.memoizedState;s.state=d,cs(t,i,s,l),os(),c=t.memoizedState,r||d!==c||wn?(typeof f=="function"&&($o(t,n,f,i),c=t.memoizedState),(o=wn||kh(t,n,o,i,d,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=a,i=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,su(e,t),a=t.memoizedProps,h=Si(n,a),s.props=h,f=t.pendingProps,d=s.context,c=n.contextType,o=Wi,typeof c=="object"&&c!==null&&(o=Be(c)),r=n.getDerivedStateFromProps,(c=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==o)&&zh(t,s,i,o),wn=!1,d=t.memoizedState,s.state=d,cs(t,i,s,l),os();var m=t.memoizedState;a!==f||d!==m||wn||e!==null&&e.dependencies!==null&&sr(e.dependencies)?(typeof r=="function"&&($o(t,n,r,i),m=t.memoizedState),(h=wn||kh(t,n,h,i,d,m,o)||e!==null&&e.dependencies!==null&&sr(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),s.props=i,s.state=m,s.context=o,i=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Ya(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=bi(t,e.child,null,l),t.child=bi(t,null,n,l)):Le(e,t,n,l),t.memoizedState=s.state,e=t.child):e=dn(e,t,l),e}function Gh(e,t,n,i){return _i(),t.flags|=256,Le(e,t,n,i),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jo(e){return{baseLanes:e,cachePool:Qg()}}function ec(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ct),e}function U0(e,t,n){var i=t.pendingProps,l=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),a&&(l=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(X){if(l?Tn(t):Cn(),(e=fe)?(e=My(e,St),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:zt,overflow:Lt}:null,retryLane:536870912,hydrationErrors:null},n=Vg(e),n.return=t,t.child=n,Ue=t,fe=null)):e=null,e===null)throw Kn(t);return Au(e)?t.lanes=32:t.lanes=536870912,null}var r=i.children;return i=i.fallback,l?(Cn(),l=t.mode,r=dr({mode:"hidden",children:r},l),i=mi(i,l,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i=t.child,i.memoizedState=Jo(n),i.childLanes=ec(e,a,n),t.memoizedState=Wo,Jl(null,i)):(Tn(t),pu(t,r))}var o=e.memoizedState;if(o!==null&&(r=o.dehydrated,r!==null)){if(s)t.flags&256?(Tn(t),t.flags&=-257,t=tc(e,t,n)):t.memoizedState!==null?(Cn(),t.child=e.child,t.flags|=128,t=null):(Cn(),r=i.fallback,l=t.mode,i=dr({mode:"visible",children:i.children},l),r=mi(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,bi(t,e.child,null,n),i=t.child,i.memoizedState=Jo(n),i.childLanes=ec(e,a,n),t.memoizedState=Wo,t=Jl(null,i));else if(Tn(t),Au(r)){if(a=r.nextSibling&&r.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(w(419)),i.stack="",i.digest=a,Ns({value:i,source:null,stack:null}),t=tc(e,t,n)}else if(Ee||Rl(e,t,n,!1),a=(n&e.childLanes)!==0,Ee||a){if(a=ie,a!==null&&(i=mg(a,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,Oi(e,i),Je(a,e,i),qf;Nu(r)||gr(),t=tc(e,t,n)}else Nu(r)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,fe=Et(r.nextSibling),Ue=t,X=!0,kn=null,St=!1,e!==null&&Yg(t,e),t=pu(t,i.children),t.flags|=4096);return t}return l?(Cn(),r=i.fallback,l=t.mode,o=e.child,c=o.sibling,i=ln(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,c!==null?r=ln(c,r):(r=mi(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,Jl(null,i),i=t.child,r=e.child.memoizedState,r===null?r=Jo(n):(l=r.cachePool,l!==null?(o=we._currentValue,l=l.parent!==o?{parent:o,pool:o}:l):l=Qg(),r={baseLanes:r.baseLanes|n,cachePool:l}),i.memoizedState=r,i.childLanes=ec(e,a,n),t.memoizedState=Wo,Jl(e.child,i)):(Tn(t),n=e.child,e=n.sibling,n=ln(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function pu(e,t){return t=dr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function dr(e,t){return e=ot(22,e,null,t),e.lanes=0,e}function tc(e,t,n){return bi(t,e.child,null,n),e=pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),nu(e.return,t,n)}function nc(e,t,n,i,l,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=l,a.treeForkCount=s)}function B0(e,t,n){var i=t.pendingProps,l=i.revealOrder,s=i.tail;i=i.children;var a=ve.current,r=(a&2)!==0;if(r?(a=a&1|2,t.flags|=128):a&=1,re(ve,a),Le(e,t,i,n),i=X?Cs:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yh(e,n,t);else if(e.tag===19)Yh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&or(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),nc(t,!1,l,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&or(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}nc(t,!0,n,null,s,i);break;case"together":nc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,!(n&t.childLanes))if(e!==null){if(Rl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(w(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&sr(e)))}function nx(e,t,n){switch(t.tag){case 3:Wa(t,t.stateNode.containerInfo),En(t,we,e.memoizedState.cache),_i();break;case 27:case 5:Gc(t);break;case 4:Wa(t,t.stateNode.containerInfo);break;case 10:En(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ou(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Tn(t),t.flags|=128,null):n&t.child.childLanes?U0(e,t,n):(Tn(t),e=dn(e,t,n),e!==null?e.sibling:null);Tn(t);break;case 19:var l=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Rl(e,t,n,!1),i=(n&t.childLanes)!==0),l){if(i)return B0(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),re(ve,ve.current),i)break;return null;case 22:return t.lanes=0,I0(e,t,n,t.pendingProps);case 24:En(t,we,e.memoizedState.cache)}return dn(e,t,n)}function H0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ee=!0;else{if(!Vf(e,n)&&!(t.flags&128))return Ee=!1,nx(e,t,n);Ee=!!(e.flags&131072)}else Ee=!1,X&&t.flags&1048576&&Gg(t,Cs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ai(t.elementType),t.type=e,typeof e=="function")bf(e)?(i=Si(e,i),t.tag=1,t=Vh(null,t,e,i,n)):(t.tag=0,t=mu(null,t,e,i,n));else{if(e!=null){var l=e.$$typeof;if(l===af){t.tag=11,t=Ih(null,t,e,i,n);break e}else if(l===rf){t.tag=14,t=Uh(null,t,e,i,n);break e}}throw t=qc(e)||e,Error(w(306,t,""))}}return t;case 0:return mu(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,l=Si(i,t.pendingProps),Vh(e,t,i,l,n);case 3:e:{if(Wa(t,t.stateNode.containerInfo),e===null)throw Error(w(387));i=t.pendingProps;var s=t.memoizedState;l=s.element,su(e,t),cs(t,i,null,n);var a=t.memoizedState;if(i=a.cache,En(t,we,i),i!==s.cache&&iu(t,[we],n,!0),os(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Gh(e,t,i,n);break e}else if(i!==l){l=xt(Error(w(424)),t),Ns(l),t=Gh(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Et(e.firstChild),Ue=t,X=!0,kn=null,St=!0,n=Zg(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(_i(),i===l){t=dn(e,t,n);break e}Le(e,t,i,n)}t=t.child}return t;case 26:return Ya(e,t),e===null?(n=um(t.type,null,t.pendingProps,null))?t.memoizedState=n:X||(n=t.type,e=t.pendingProps,i=br(jn.current).createElement(n),i[Ie]=t,i[nt]=e,He(i,n,e),je(i),t.stateNode=i):t.memoizedState=um(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Gc(t),e===null&&X&&(i=t.stateNode=Ry(t.type,t.pendingProps,jn.current),Ue=t,St=!0,l=fe,ti(t.type)?(Mu=l,fe=Et(i.firstChild)):fe=l),Le(e,t,t.pendingProps.children,n),Ya(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&X&&((l=i=fe)&&(i=Ox(i,t.type,t.pendingProps,St),i!==null?(t.stateNode=i,Ue=t,fe=Et(i.firstChild),St=!1,l=!0):l=!1),l||Kn(t)),Gc(t),l=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Tu(l,s)?i=null:a!==null&&Tu(l,a)&&(t.flags|=32),t.memoizedState!==null&&(l=Mf(e,t,K1,null,null,n),js._currentValue=l),Ya(e,t),Le(e,t,i,n),t.child;case 6:return e===null&&X&&((e=n=fe)&&(n=jx(n,t.pendingProps,St),n!==null?(t.stateNode=n,Ue=t,fe=null,e=!0):e=!1),e||Kn(t)),null;case 13:return U0(e,t,n);case 4:return Wa(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=bi(t,null,i,n):Le(e,t,i,n),t.child;case 11:return Ih(e,t,t.type,t.pendingProps,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,En(t,t.type,i.value),Le(e,t,i.children,n),t.child;case 9:return l=t.type._context,i=t.pendingProps.children,vi(t),l=Be(l),i=i(l),t.flags|=1,Le(e,t,i,n),t.child;case 14:return Uh(e,t,t.type,t.pendingProps,n);case 15:return L0(e,t,t.type,t.pendingProps,n);case 19:return B0(e,t,n);case 31:return tx(e,t,n);case 22:return I0(e,t,n,t.pendingProps);case 24:return vi(t),i=Be(we),e===null?(l=Ef(),l===null&&(l=ie,s=wf(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),t.memoizedState={parent:i,cache:l},Cf(t),En(t,we,l)):(e.lanes&n&&(su(e,t),cs(t,null,null,n),os()),l=e.memoizedState,s=t.memoizedState,l.parent!==i?(l={parent:i,cache:i},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),En(t,we,i)):(i=s.cache,En(t,we,i),i!==l.cache&&iu(t,[we],n,!0))),Le(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(w(156,t.tag))}function Ft(e){e.flags|=4}function ic(e,t,n,i,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(uy())e.flags|=8192;else throw gi=ar,Tf}else e.flags&=-16777217}function Fh(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!jy(t))if(uy())e.flags|=8192;else throw gi=ar,Tf}function Ea(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?fg():536870912,e.lanes|=t,_l|=t)}function Gl(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ix(e,t,n){var i=t.pendingProps;switch(Sf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(t),null;case 1:return ce(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),sn(we),dl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Li(t)?Ft(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xo())),ce(t),null;case 26:var l=t.type,s=t.memoizedState;return e===null?(Ft(t),s!==null?(ce(t),Fh(t,s)):(ce(t),ic(t,l,null,i,n))):s?s!==e.memoizedState?(Ft(t),ce(t),Fh(t,s)):(ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Ft(t),ce(t),ic(t,l,e,i,n)),null;case 27:if(Ja(t),n=jn.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ft(t);else{if(!i){if(t.stateNode===null)throw Error(w(166));return ce(t),null}e=Ut.current,Li(t)?bh(t):(e=Ry(l,i,n),t.stateNode=e,Ft(t))}return ce(t),null;case 5:if(Ja(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ft(t);else{if(!i){if(t.stateNode===null)throw Error(w(166));return ce(t),null}if(s=Ut.current,Li(t))bh(t);else{var a=br(jn.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(l,{is:i.is}):a.createElement(l)}}s[Ie]=t,s[nt]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(He(s,l,i),l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ft(t)}}return ce(t),ic(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ft(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(w(166));if(e=jn.current,Li(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,l=Ue,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}e[Ie]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Cy(e.nodeValue,n)),e||Kn(t,!0)}else e=br(e).createTextNode(i),e[Ie]=t,t.stateNode=e}return ce(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Li(t),n!==null){if(e===null){if(!i)throw Error(w(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(557));e[Ie]=t}else _i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ce(t),e=!1}else n=Xo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(rt(t),t):(rt(t),null);if(t.flags&128)throw Error(w(558))}return ce(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Li(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(w(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(w(317));l[Ie]=t}else _i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ce(t),l=!1}else l=Xo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(rt(t),t):(rt(t),null)}return rt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ea(t,t.updateQueue),ce(t),null);case 4:return dl(),e===null&&Zf(t.stateNode.containerInfo),ce(t),null;case 10:return sn(t.type),ce(t),null;case 19:if(ke(ve),i=t.memoizedState,i===null)return ce(t),null;if(l=(t.flags&128)!==0,s=i.rendering,s===null)if(l)Gl(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=or(e),s!==null){for(t.flags|=128,Gl(i,!1),e=s.updateQueue,t.updateQueue=e,Ea(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)qg(n,e),n=n.sibling;return re(ve,ve.current&1|2),X&&Pt(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ut()>mr&&(t.flags|=128,l=!0,Gl(i,!1),t.lanes=4194304)}else{if(!l)if(e=or(s),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Ea(t,e),Gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!X)return ce(t),null}else 2*ut()-i.renderingStartTime>mr&&n!==536870912&&(t.flags|=128,l=!0,Gl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=ve.current,re(ve,l?n&1|2:n&1),X&&Pt(t,i.treeForkCount),e):(ce(t),null);case 22:case 23:return rt(t),Nf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(ce(t),t.subtreeFlags&6&&(t.flags|=8192)):ce(t),n=t.updateQueue,n!==null&&Ea(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ke(pi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sn(we),ce(t),null;case 25:return null;case 30:return null}throw Error(w(156,t.tag))}function lx(e,t){switch(Sf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sn(we),dl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ja(t),null;case 31:if(t.memoizedState!==null){if(rt(t),t.alternate===null)throw Error(w(340));_i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(w(340));_i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(ve),null;case 4:return dl(),null;case 10:return sn(t.type),null;case 22:case 23:return rt(t),Nf(),e!==null&&ke(pi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sn(we),null;case 25:return null;default:return null}}function q0(e,t){switch(Sf(t),t.tag){case 3:sn(we),dl();break;case 26:case 27:case 5:Ja(t);break;case 4:dl();break;case 31:t.memoizedState!==null&&rt(t);break;case 13:rt(t);break;case 19:ke(ve);break;case 10:sn(t.type);break;case 22:case 23:rt(t),Nf(),e!==null&&ke(pi);break;case 24:sn(we)}}function ta(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==l)}}catch(r){ee(t,t.return,r)}}function Xn(e,t,n){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var s=l.next;i=s;do{if((i.tag&e)===e){var a=i.inst,r=a.destroy;if(r!==void 0){a.destroy=void 0,l=t;var o=n,c=r;try{c()}catch(h){ee(l,o,h)}}}i=i.next}while(i!==s)}}catch(h){ee(t,t.return,h)}}function V0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{$g(t,n)}catch(i){ee(e,e.return,i)}}}function G0(e,t,n){n.props=Si(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ee(e,t,i)}}function fs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(l){ee(e,t,l)}}function It(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){ee(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){ee(e,t,l)}else n.current=null}function Y0(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){ee(e,e.return,l)}}function lc(e,t,n){try{var i=e.stateNode;Cx(i,e.type,n,t),i[nt]=t}catch(l){ee(e,e.return,l)}}function F0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ti(e.type)||e.tag===4}function sc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||F0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ti(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=en));else if(i!==4&&(i===27&&ti(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(gu(e,t,n),e=e.sibling;e!==null;)gu(e,t,n),e=e.sibling}function hr(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&ti(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(hr(e,t,n),e=e.sibling;e!==null;)hr(e,t,n),e=e.sibling}function Q0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);He(t,i,n),t[Ie]=e,t[nt]=n}catch(s){ee(e,e.return,s)}}var $t=!1,Se=!1,ac=!1,Qh=typeof WeakSet=="function"?WeakSet:Set,De=null;function sx(e,t){if(e=e.containerInfo,wu=Er,e=jg(e),yf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,r=-1,o=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var m;f!==n||l!==0&&f.nodeType!==3||(r=a+l),f!==s||i!==0&&f.nodeType!==3||(o=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++c===l&&(r=a),d===s&&++h===i&&(o=a),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=r===-1||o===-1?null:{start:r,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eu={focusedElem:e,selectionRange:n},Er=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){switch(t=De,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,l=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var y=Si(n.type,l);e=i.getSnapshotBeforeUpdate(y,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(x){ee(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Cu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(w(163))}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}}function K0(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Kt(e,n),i&4&&ta(5,n);break;case 1:if(Kt(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){ee(n,n.return,a)}else{var l=Si(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){ee(n,n.return,a)}}i&64&&V0(n),i&512&&fs(n,n.return);break;case 3:if(Kt(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{$g(e,t)}catch(a){ee(n,n.return,a)}}break;case 27:t===null&&i&4&&Q0(n);case 26:case 5:Kt(e,n),t===null&&i&4&&Y0(n),i&512&&fs(n,n.return);break;case 12:Kt(e,n);break;case 31:Kt(e,n),i&4&&P0(e,n);break;case 13:Kt(e,n),i&4&&$0(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=mx.bind(null,n),kx(e,n))));break;case 22:if(i=n.memoizedState!==null||$t,!i){t=t!==null&&t.memoizedState!==null||Se,l=$t;var s=Se;$t=i,(Se=t)&&!s?Xt(e,n,(n.subtreeFlags&8772)!==0):Kt(e,n),$t=l,Se=s}break;case 30:break;default:Kt(e,n)}}function X0(e){var t=e.alternate;t!==null&&(e.alternate=null,X0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ff(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,Pe=!1;function Qt(e,t,n){for(n=n.child;n!==null;)Z0(e,t,n),n=n.sibling}function Z0(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Xs,n)}catch{}switch(n.tag){case 26:Se||It(n,t),Qt(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Se||It(n,t);var i=pe,l=Pe;ti(n.type)&&(pe=n.stateNode,Pe=!1),Qt(e,t,n),ps(n.stateNode),pe=i,Pe=l;break;case 5:Se||It(n,t);case 6:if(i=pe,l=Pe,pe=null,Qt(e,t,n),pe=i,Pe=l,pe!==null)if(Pe)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(n.stateNode)}catch(s){ee(n,t,s)}else try{pe.removeChild(n.stateNode)}catch(s){ee(n,t,s)}break;case 18:pe!==null&&(Pe?(e=pe,sm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Sl(e)):sm(pe,n.stateNode));break;case 4:i=pe,l=Pe,pe=n.stateNode.containerInfo,Pe=!0,Qt(e,t,n),pe=i,Pe=l;break;case 0:case 11:case 14:case 15:Xn(2,n,t),Se||Xn(4,n,t),Qt(e,t,n);break;case 1:Se||(It(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&G0(n,t,i)),Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:Se=(i=Se)||n.memoizedState!==null,Qt(e,t,n),Se=i;break;default:Qt(e,t,n)}}function P0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Sl(e)}catch(n){ee(t,t.return,n)}}}function $0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Sl(e)}catch(n){ee(t,t.return,n)}}function ax(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qh),t;default:throw Error(w(435,e.tag))}}function Ta(e,t){var n=ax(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var l=px.bind(null,e,i);i.then(l,l)}})}function Xe(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],s=e,a=t,r=a;e:for(;r!==null;){switch(r.tag){case 27:if(ti(r.type)){pe=r.stateNode,Pe=!1;break e}break;case 5:pe=r.stateNode,Pe=!1;break e;case 3:case 4:pe=r.stateNode.containerInfo,Pe=!0;break e}r=r.return}if(pe===null)throw Error(w(160));Z0(s,a,l),pe=null,Pe=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)W0(t,e),t=t.sibling}var Nt=null;function W0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xe(t,e),Ze(e),i&4&&(Xn(3,e,e.return),ta(3,e),Xn(5,e,e.return));break;case 1:Xe(t,e),Ze(e),i&512&&(Se||n===null||It(n,n.return)),i&64&&$t&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=Nt;if(Xe(t,e),Ze(e),i&512&&(Se||n===null||It(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":s=l.getElementsByTagName("title")[0],(!s||s[$s]||s[Ie]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(i),l.head.insertBefore(s,l.querySelector("head > title"))),He(s,i,n),s[Ie]=e,je(s),i=s;break e;case"link":var a=dm("link","href",l).get(i+(n.href||""));if(a){for(var r=0;r<a.length;r++)if(s=a[r],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(r,1);break t}}s=l.createElement(i),He(s,i,n),l.head.appendChild(s);break;case"meta":if(a=dm("meta","content",l).get(i+(n.content||""))){for(r=0;r<a.length;r++)if(s=a[r],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(r,1);break t}}s=l.createElement(i),He(s,i,n),l.head.appendChild(s);break;default:throw Error(w(468,i))}s[Ie]=e,je(s),i=s}e.stateNode=i}else hm(l,e.type,e.stateNode);else e.stateNode=fm(l,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?hm(l,e.type,e.stateNode):fm(l,i,e.memoizedProps)):i===null&&e.stateNode!==null&&lc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Xe(t,e),Ze(e),i&512&&(Se||n===null||It(n,n.return)),n!==null&&i&4&&lc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Xe(t,e),Ze(e),i&512&&(Se||n===null||It(n,n.return)),e.flags&32){l=e.stateNode;try{ml(l,"")}catch(y){ee(e,e.return,y)}}i&4&&e.stateNode!=null&&(l=e.memoizedProps,lc(e,l,n!==null?n.memoizedProps:l)),i&1024&&(ac=!0);break;case 6:if(Xe(t,e),Ze(e),i&4){if(e.stateNode===null)throw Error(w(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(y){ee(e,e.return,y)}}break;case 3:if(Ka=null,l=Nt,Nt=xr(t.containerInfo),Xe(t,e),Nt=l,Ze(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(t.containerInfo)}catch(y){ee(e,e.return,y)}ac&&(ac=!1,J0(e));break;case 4:i=Nt,Nt=xr(e.stateNode.containerInfo),Xe(t,e),Ze(e),Nt=i;break;case 12:Xe(t,e),Ze(e);break;case 31:Xe(t,e),Ze(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ta(e,i)));break;case 13:Xe(t,e),Ze(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ao=ut()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ta(e,i)));break;case 22:l=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=$t,h=Se;if($t=c||l,Se=h||o,Xe(t,e),Se=h,$t=c,Ze(e),i&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||o||$t||Se||ri(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,l)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{r=o.stateNode;var f=o.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;r.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(y){ee(o,o.return,y)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=l?"":o.memoizedProps}catch(y){ee(o,o.return,y)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;l?am(m,!0):am(o.stateNode,!1)}catch(y){ee(o,o.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ta(e,n))));break;case 19:Xe(t,e),Ze(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ta(e,i)));break;case 30:break;case 21:break;default:Xe(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(F0(i)){n=i;break}i=i.return}if(n==null)throw Error(w(160));switch(n.tag){case 27:var l=n.stateNode,s=sc(e);hr(e,s,l);break;case 5:var a=n.stateNode;n.flags&32&&(ml(a,""),n.flags&=-33);var r=sc(e);hr(e,r,a);break;case 3:case 4:var o=n.stateNode.containerInfo,c=sc(e);gu(e,c,o);break;default:throw Error(w(161))}}catch(h){ee(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function J0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;J0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Kt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)K0(e,t.alternate,t),t=t.sibling}function ri(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xn(4,t,t.return),ri(t);break;case 1:It(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&G0(t,t.return,n),ri(t);break;case 27:ps(t.stateNode);case 26:case 5:It(t,t.return),ri(t);break;case 22:t.memoizedState===null&&ri(t);break;case 30:ri(t);break;default:ri(t)}e=e.sibling}}function Xt(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,l=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Xt(l,s,n),ta(4,s);break;case 1:if(Xt(l,s,n),i=s,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(c){ee(i,i.return,c)}if(i=s,l=i.updateQueue,l!==null){var r=i.stateNode;try{var o=l.shared.hiddenCallbacks;if(o!==null)for(l.shared.hiddenCallbacks=null,l=0;l<o.length;l++)Pg(o[l],r)}catch(c){ee(i,i.return,c)}}n&&a&64&&V0(s),fs(s,s.return);break;case 27:Q0(s);case 26:case 5:Xt(l,s,n),n&&i===null&&a&4&&Y0(s),fs(s,s.return);break;case 12:Xt(l,s,n);break;case 31:Xt(l,s,n),n&&a&4&&P0(l,s);break;case 13:Xt(l,s,n),n&&a&4&&$0(l,s);break;case 22:s.memoizedState===null&&Xt(l,s,n),fs(s,s.return);break;case 30:break;default:Xt(l,s,n)}t=t.sibling}}function Gf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Js(n))}function Yf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e))}function Ct(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ey(e,t,n,i),t=t.sibling}function ey(e,t,n,i){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Ct(e,t,n,i),l&2048&&ta(9,t);break;case 1:Ct(e,t,n,i);break;case 3:Ct(e,t,n,i),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e)));break;case 12:if(l&2048){Ct(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,r=s.onPostCommit;typeof r=="function"&&r(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ee(t,t.return,o)}}else Ct(e,t,n,i);break;case 31:Ct(e,t,n,i);break;case 13:Ct(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?Ct(e,t,n,i):ds(e,t):s._visibility&2?Ct(e,t,n,i):(s._visibility|=2,Vi(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Gf(a,t);break;case 24:Ct(e,t,n,i),l&2048&&Yf(t.alternate,t);break;default:Ct(e,t,n,i)}}function Vi(e,t,n,i,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,a=t,r=n,o=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(s,a,r,o,l),ta(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Vi(s,a,r,o,l):ds(s,a):(h._visibility|=2,Vi(s,a,r,o,l)),l&&c&2048&&Gf(a.alternate,a);break;case 24:Vi(s,a,r,o,l),l&&c&2048&&Yf(a.alternate,a);break;default:Vi(s,a,r,o,l)}t=t.sibling}}function ds(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,l=i.flags;switch(i.tag){case 22:ds(n,i),l&2048&&Gf(i.alternate,i);break;case 24:ds(n,i),l&2048&&Yf(i.alternate,i);break;default:ds(n,i)}t=t.sibling}}var es=8192;function Ii(e,t,n){if(e.subtreeFlags&es)for(e=e.child;e!==null;)ty(e,t,n),e=e.sibling}function ty(e,t,n){switch(e.tag){case 26:Ii(e,t,n),e.flags&es&&e.memoizedState!==null&&Qx(n,Nt,e.memoizedState,e.memoizedProps);break;case 5:Ii(e,t,n);break;case 3:case 4:var i=Nt;Nt=xr(e.stateNode.containerInfo),Ii(e,t,n),Nt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=es,es=16777216,Ii(e,t,n),es=i):Ii(e,t,n));break;default:Ii(e,t,n)}}function ny(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];De=i,ly(i,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&Xn(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Fa(e)):Yl(e);break;default:Yl(e)}}function Fa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];De=i,ly(i,e)}ny(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xn(8,t,t.return),Fa(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Fa(t));break;default:Fa(t)}e=e.sibling}}function ly(e,t){for(;De!==null;){var n=De;switch(n.tag){case 0:case 11:case 15:Xn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Js(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,De=i;else e:for(n=e;De!==null;){i=De;var l=i.sibling,s=i.return;if(X0(i),i===n){De=null;break e}if(l!==null){l.return=s,De=l;break e}De=s}}}var rx={getCacheForType:function(e){var t=Be(we),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Be(we).controller.signal}},ox=typeof WeakMap=="function"?WeakMap:Map,P=0,ie=null,Y=null,K=0,J=0,at=null,Rn=!1,Ol=!1,Ff=!1,hn=0,_e=0,Zn=0,yi=0,Qf=0,ct=0,_l=0,hs=null,$e=null,yu=!1,ao=0,sy=0,mr=1/0,pr=null,In=null,Ce=0,Un=null,vl=null,an=0,_u=0,vu=null,ay=null,ms=0,bu=null;function ht(){return P&2&&K!==0?K&-K:L.T!==null?Xf():pg()}function ry(){if(ct===0)if(!(K&536870912)||X){var e=ya;ya<<=1,!(ya&3932160)&&(ya=262144),ct=e}else ct=536870912;return e=pt.current,e!==null&&(e.flags|=32),ct}function Je(e,t,n){(e===ie&&(J===2||J===9)||e.cancelPendingCommit!==null)&&(bl(e,0),Dn(e,K,ct,!1)),Ps(e,n),(!(P&2)||e!==ie)&&(e===ie&&(!(P&2)&&(yi|=n),_e===4&&Dn(e,K,ct,!1)),qt(e))}function oy(e,t,n){if(P&6)throw Error(w(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Zs(e,t),l=i?fx(e,t):rc(e,t,!0),s=i;do{if(l===0){Ol&&!i&&Dn(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!cx(n)){l=rc(e,t,!1),s=!1;continue}if(l===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var r=e;l=hs;var o=r.current.memoizedState.isDehydrated;if(o&&(bl(r,a).flags|=256),a=rc(r,a,!1),a!==2){if(Ff&&!o){r.errorRecoveryDisabledLanes|=s,yi|=s,l=4;break e}s=$e,$e=l,s!==null&&($e===null?$e=s:$e.push.apply($e,s))}l=a}if(s=!1,l!==2)continue}}if(l===1){bl(e,0),Dn(e,t,0,!0);break}e:{switch(i=e,s=l,s){case 0:case 1:throw Error(w(345));case 4:if((t&4194048)!==t)break;case 6:Dn(i,t,ct,!Rn);break e;case 2:$e=null;break;case 3:case 5:break;default:throw Error(w(329))}if((t&62914560)===t&&(l=ao+300-ut(),10<l)){if(Dn(i,t,ct,!Rn),Zr(i,0,!0)!==0)break e;an=t,i.timeoutHandle=Ay(Kh.bind(null,i,n,$e,pr,yu,t,ct,yi,_l,Rn,s,"Throttled",-0,0),l);break e}Kh(i,n,$e,pr,yu,t,ct,yi,_l,Rn,s,null,-0,0)}}break}while(!0);qt(e)}function Kh(e,t,n,i,l,s,a,r,o,c,h,f,d,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:en},ty(t,s,f);var y=(s&62914560)===s?ao-ut():(s&4194048)===s?sy-ut():0;if(y=Kx(f,y),y!==null){an=s,e.cancelPendingCommit=y(Zh.bind(null,e,t,s,n,i,l,a,r,o,h,f,null,d,m)),Dn(e,s,a,!c);return}}Zh(e,t,s,n,i,l,a,r,o)}function cx(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],s=l.getSnapshot;l=l.value;try{if(!mt(s(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t,n,i){t&=~Qf,t&=~yi,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var l=t;0<l;){var s=31-dt(l),a=1<<s;i[s]=-1,l&=~a}n!==0&&dg(e,n,t)}function ro(){return P&6?!0:(na(0),!1)}function Kf(){if(Y!==null){if(J===0)var e=Y.return;else e=Y,tn=ji=null,Of(e),rl=null,As=0,e=Y;for(;e!==null;)q0(e.alternate,e),e=e.return;Y=null}}function bl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Mx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),an=0,Kf(),ie=e,Y=n=ln(e.current,null),K=t,J=0,at=null,Rn=!1,Ol=Zs(e,t),Ff=!1,_l=ct=Qf=yi=Zn=_e=0,$e=hs=null,yu=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var l=31-dt(i),s=1<<l;t|=e[l],i&=~s}return hn=t,Jr(),n}function cy(e,t){U=null,L.H=Rs,t===Dl||t===to?(t=Th(),J=3):t===Tf?(t=Th(),J=4):J=t===qf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,at=t,Y===null&&(_e=1,fr(e,xt(t,e.current)))}function uy(){var e=pt.current;return e===null?!0:(K&4194048)===K?wt===null:(K&62914560)===K||K&536870912?e===wt:!1}function fy(){var e=L.H;return L.H=Rs,e===null?Rs:e}function dy(){var e=L.A;return L.A=rx,e}function gr(){_e=4,Rn||(K&4194048)!==K&&pt.current!==null||(Ol=!0),!(Zn&134217727)&&!(yi&134217727)||ie===null||Dn(ie,K,ct,!1)}function rc(e,t,n){var i=P;P|=2;var l=fy(),s=dy();(ie!==e||K!==t)&&(pr=null,bl(e,t)),t=!1;var a=_e;e:do try{if(J!==0&&Y!==null){var r=Y,o=at;switch(J){case 8:Kf(),a=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(t=!0);var c=J;if(J=0,at=null,tl(e,r,o,c),n&&Ol){a=0;break e}break;default:c=J,J=0,at=null,tl(e,r,o,c)}}ux(),a=_e;break}catch(h){cy(e,h)}while(!0);return t&&e.shellSuspendCounter++,tn=ji=null,P=i,L.H=l,L.A=s,Y===null&&(ie=null,K=0,Jr()),a}function ux(){for(;Y!==null;)hy(Y)}function fx(e,t){var n=P;P|=2;var i=fy(),l=dy();ie!==e||K!==t?(pr=null,mr=ut()+500,bl(e,t)):Ol=Zs(e,t);e:do try{if(J!==0&&Y!==null){t=Y;var s=at;t:switch(J){case 1:J=0,at=null,tl(e,t,s,1);break;case 2:case 9:if(Eh(s)){J=0,at=null,Xh(t);break}t=function(){J!==2&&J!==9||ie!==e||(J=7),qt(e)},s.then(t,t);break e;case 3:J=7;break e;case 4:J=5;break e;case 7:Eh(s)?(J=0,at=null,Xh(t)):(J=0,at=null,tl(e,t,s,7));break;case 5:var a=null;switch(Y.tag){case 26:a=Y.memoizedState;case 5:case 27:var r=Y;if(a?jy(a):r.stateNode.complete){J=0,at=null;var o=r.sibling;if(o!==null)Y=o;else{var c=r.return;c!==null?(Y=c,oo(c)):Y=null}break t}}J=0,at=null,tl(e,t,s,5);break;case 6:J=0,at=null,tl(e,t,s,6);break;case 8:Kf(),_e=6;break e;default:throw Error(w(462))}}dx();break}catch(h){cy(e,h)}while(!0);return tn=ji=null,L.H=i,L.A=l,P=n,Y!==null?0:(ie=null,K=0,Jr(),_e)}function dx(){for(;Y!==null&&!zb();)hy(Y)}function hy(e){var t=H0(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?oo(e):Y=t}function Xh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qh(n,t,t.pendingProps,t.type,void 0,K);break;case 11:t=qh(n,t,t.pendingProps,t.type.render,t.ref,K);break;case 5:Of(t);default:q0(n,t),t=Y=qg(t,hn),t=H0(n,t,hn)}e.memoizedProps=e.pendingProps,t===null?oo(e):Y=t}function tl(e,t,n,i){tn=ji=null,Of(t),rl=null,As=0;var l=t.return;try{if(ex(e,l,t,n,K)){_e=1,fr(e,xt(n,e.current)),Y=null;return}}catch(s){if(l!==null)throw Y=l,s;_e=1,fr(e,xt(n,e.current)),Y=null;return}t.flags&32768?(X||i===1?e=!0:Ol||K&536870912?e=!1:(Rn=e=!0,(i===2||i===9||i===3||i===6)&&(i=pt.current,i!==null&&i.tag===13&&(i.flags|=16384))),my(t,e)):oo(t)}function oo(e){var t=e;do{if(t.flags&32768){my(t,Rn);return}e=t.return;var n=ix(t.alternate,t,hn);if(n!==null){Y=n;return}if(t=t.sibling,t!==null){Y=t;return}Y=t=e}while(t!==null);_e===0&&(_e=5)}function my(e,t){do{var n=lx(e.alternate,e);if(n!==null){n.flags&=32767,Y=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Y=e;return}Y=e=n}while(e!==null);_e=6,Y=null}function Zh(e,t,n,i,l,s,a,r,o){e.cancelPendingCommit=null;do co();while(Ce!==0);if(P&6)throw Error(w(327));if(t!==null){if(t===e.current)throw Error(w(177));if(s=t.lanes|t.childLanes,s|=_f,Fb(e,n,s,a,r,o),e===ie&&(Y=ie=null,K=0),vl=t,Un=e,an=n,_u=s,vu=l,ay=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,gx(er,function(){return vy(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=L.T,L.T=null,l=$.p,$.p=2,a=P,P|=4;try{sx(e,t,n)}finally{P=a,$.p=l,L.T=i}}Ce=1,py(),gy(),yy()}}function py(){if(Ce===1){Ce=0;var e=Un,t=vl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=L.T,L.T=null;var i=$.p;$.p=2;var l=P;P|=4;try{W0(t,e);var s=Eu,a=jg(e.containerInfo),r=s.focusedElem,o=s.selectionRange;if(a!==r&&r&&r.ownerDocument&&Og(r.ownerDocument.documentElement,r)){if(o!==null&&yf(r)){var c=o.start,h=o.end;if(h===void 0&&(h=c),"selectionStart"in r)r.selectionStart=c,r.selectionEnd=Math.min(h,r.value.length);else{var f=r.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var m=d.getSelection(),y=r.textContent.length,x=Math.min(o.start,y),E=o.end===void 0?x:Math.min(o.end,y);!m.extend&&x>E&&(a=E,E=x,x=a);var g=yh(r,x),p=yh(r,E);if(g&&p&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==p.node||m.focusOffset!==p.offset)){var _=f.createRange();_.setStart(g.node,g.offset),m.removeAllRanges(),x>E?(m.addRange(_),m.extend(p.node,p.offset)):(_.setEnd(p.node,p.offset),m.addRange(_))}}}}for(f=[],m=r;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<f.length;r++){var v=f[r];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Er=!!wu,Eu=wu=null}finally{P=l,$.p=i,L.T=n}}e.current=t,Ce=2}}function gy(){if(Ce===2){Ce=0;var e=Un,t=vl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=L.T,L.T=null;var i=$.p;$.p=2;var l=P;P|=4;try{K0(e,t.alternate,t)}finally{P=l,$.p=i,L.T=n}}Ce=3}}function yy(){if(Ce===4||Ce===3){Ce=0,Lb();var e=Un,t=vl,n=an,i=ay;t.subtreeFlags&10256||t.flags&10256?Ce=5:(Ce=0,vl=Un=null,_y(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(In=null),uf(n),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Xs,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=L.T,l=$.p,$.p=2,L.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var r=i[a];s(r.value,{componentStack:r.stack})}}finally{L.T=t,$.p=l}}an&3&&co(),qt(e),l=e.pendingLanes,n&261930&&l&42?e===bu?ms++:(ms=0,bu=e):ms=0,na(0)}}function _y(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Js(t)))}function co(){return py(),gy(),yy(),vy()}function vy(){if(Ce!==5)return!1;var e=Un,t=_u;_u=0;var n=uf(an),i=L.T,l=$.p;try{$.p=32>n?32:n,L.T=null,n=vu,vu=null;var s=Un,a=an;if(Ce=0,vl=Un=null,an=0,P&6)throw Error(w(331));var r=P;if(P|=4,iy(s.current),ey(s,s.current,a,n),P=r,na(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Xs,s)}catch{}return!0}finally{$.p=l,L.T=i,_y(e,t)}}function Ph(e,t,n){t=xt(n,t),t=hu(e.stateNode,t,2),e=Ln(e,t,2),e!==null&&(Ps(e,2),qt(e))}function ee(e,t,n){if(e.tag===3)Ph(e,e,n);else for(;t!==null;){if(t.tag===3){Ph(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(In===null||!In.has(i))){e=xt(n,e),n=k0(2),i=Ln(t,n,2),i!==null&&(z0(n,i,t,e),Ps(i,2),qt(i));break}}t=t.return}}function oc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new ox;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(Ff=!0,l.add(n),e=hx.bind(null,e,t,n),t.then(e,e))}function hx(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ie===e&&(K&n)===n&&(_e===4||_e===3&&(K&62914560)===K&&300>ut()-ao?!(P&2)&&bl(e,0):Qf|=n,_l===K&&(_l=0)),qt(e)}function by(e,t){t===0&&(t=fg()),e=Oi(e,t),e!==null&&(Ps(e,t),qt(e))}function mx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),by(e,n)}function px(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(w(314))}i!==null&&i.delete(t),by(e,n)}function gx(e,t){return of(e,t)}var yr=null,Gi=null,xu=!1,_r=!1,cc=!1,On=0;function qt(e){e!==Gi&&e.next===null&&(Gi===null?yr=Gi=e:Gi=Gi.next=e),_r=!0,xu||(xu=!0,_x())}function na(e,t){if(!cc&&_r){cc=!0;do for(var n=!1,i=yr;i!==null;){if(e!==0){var l=i.pendingLanes;if(l===0)var s=0;else{var a=i.suspendedLanes,r=i.pingedLanes;s=(1<<31-dt(42|e)+1)-1,s&=l&~(a&~r),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,$h(i,s))}else s=K,s=Zr(i,i===ie?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Zs(i,s)||(n=!0,$h(i,s));i=i.next}while(n);cc=!1}}function yx(){xy()}function xy(){_r=xu=!1;var e=0;On!==0&&Ax()&&(e=On);for(var t=ut(),n=null,i=yr;i!==null;){var l=i.next,s=Sy(i,t);s===0?(i.next=null,n===null?yr=l:n.next=l,l===null&&(Gi=n)):(n=i,(e!==0||s&3)&&(_r=!0)),i=l}Ce!==0&&Ce!==5||na(e),On!==0&&(On=0)}function Sy(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-dt(s),r=1<<a,o=l[a];o===-1?(!(r&n)||r&i)&&(l[a]=Yb(r,t)):o<=t&&(e.expiredLanes|=r),s&=~r}if(t=ie,n=K,n=Zr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(J===2||J===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Io(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Zs(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Io(i),uf(n)){case 2:case 8:n=cg;break;case 32:n=er;break;case 268435456:n=ug;break;default:n=er}return i=wy.bind(null,e),n=of(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Io(i),e.callbackPriority=2,e.callbackNode=null,2}function wy(e,t){if(Ce!==0&&Ce!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(co()&&e.callbackNode!==n)return null;var i=K;return i=Zr(e,e===ie?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(oy(e,i,t),Sy(e,ut()),e.callbackNode!=null&&e.callbackNode===n?wy.bind(null,e):null)}function $h(e,t){if(co())return null;oy(e,t,!0)}function _x(){Rx(function(){P&6?of(og,yx):xy()})}function Xf(){if(On===0){var e=pl;e===0&&(e=ga,ga<<=1,!(ga&261888)&&(ga=256)),On=e}return On}function Wh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:La(""+e)}function Jh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function vx(e,t,n,i,l){if(t==="submit"&&n&&n.stateNode===l){var s=Wh((l[nt]||null).action),a=i.submitter;a&&(t=(t=a[nt]||null)?Wh(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var r=new Pr("action","action",null,i,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(On!==0){var o=a?Jh(l,a):new FormData(l);fu(n,{pending:!0,data:o,method:l.method,action:s},null,o)}}else typeof s=="function"&&(r.preventDefault(),o=a?Jh(l,a):new FormData(l),fu(n,{pending:!0,data:o,method:l.method,action:s},s,o))},currentTarget:l}]})}}for(var uc=0;uc<Jc.length;uc++){var fc=Jc[uc],bx=fc.toLowerCase(),xx=fc[0].toUpperCase()+fc.slice(1);jt(bx,"on"+xx)}jt(zg,"onAnimationEnd");jt(Lg,"onAnimationIteration");jt(Ig,"onAnimationStart");jt("dblclick","onDoubleClick");jt("focusin","onFocus");jt("focusout","onBlur");jt(I1,"onTransitionRun");jt(U1,"onTransitionStart");jt(B1,"onTransitionCancel");jt(Ug,"onTransitionEnd");hl("onMouseEnter",["mouseout","mouseover"]);hl("onMouseLeave",["mouseout","mouseover"]);hl("onPointerEnter",["pointerout","pointerover"]);hl("onPointerLeave",["pointerout","pointerover"]);Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ds));function Ey(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var r=i[a],o=r.instance,c=r.currentTarget;if(r=r.listener,o!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=c;try{s(l)}catch(h){nr(h)}l.currentTarget=null,s=o}else for(a=0;a<i.length;a++){if(r=i[a],o=r.instance,c=r.currentTarget,r=r.listener,o!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=c;try{s(l)}catch(h){nr(h)}l.currentTarget=null,s=o}}}}function G(e,t){var n=t[Fc];n===void 0&&(n=t[Fc]=new Set);var i=e+"__bubble";n.has(i)||(Ty(t,e,2,!1),n.add(i))}function dc(e,t,n){var i=0;t&&(i|=4),Ty(n,e,i,t)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[Ca]){e[Ca]=!0,gg.forEach(function(n){n!=="selectionchange"&&(Sx.has(n)||dc(n,!1,e),dc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ca]||(t[Ca]=!0,dc("selectionchange",!1,t))}}function Ty(e,t,n,i){switch(Uy(t)){case 2:var l=Px;break;case 8:l=$x;break;default:l=Jf}n=l.bind(null,t,n,e),l=void 0,!Pc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function hc(e,t,n,i,l){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var r=i.stateNode.containerInfo;if(r===l)break;if(a===4)for(a=i.return;a!==null;){var o=a.tag;if((o===3||o===4)&&a.stateNode.containerInfo===l)return;a=a.return}for(;r!==null;){if(a=Qi(r),a===null)return;if(o=a.tag,o===5||o===6||o===26||o===27){i=s=a;continue e}r=r.parentNode}}i=i.return}Eg(function(){var c=s,h=hf(n),f=[];e:{var d=Bg.get(e);if(d!==void 0){var m=Pr,y=e;switch(e){case"keypress":if(Ua(n)===0)break e;case"keydown":case"keyup":m=p1;break;case"focusin":y="focus",m=Vo;break;case"focusout":y="blur",m=Vo;break;case"beforeblur":case"afterblur":m=Vo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=i1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_1;break;case zg:case Lg:case Ig:m=a1;break;case Ug:m=b1;break;case"scroll":case"scrollend":m=t1;break;case"wheel":m=S1;break;case"copy":case"cut":case"paste":m=o1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ch;break;case"toggle":case"beforetoggle":m=E1}var x=(t&4)!==0,E=!x&&(e==="scroll"||e==="scrollend"),g=x?d!==null?d+"Capture":null:d;x=[];for(var p=c,_;p!==null;){var v=p;if(_=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||_===null||g===null||(v=ws(p,g),v!=null&&x.push(Os(p,v,_))),E)break;p=p.return}0<x.length&&(d=new m(d,y,null,n,h),f.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==Zc&&(y=n.relatedTarget||n.fromElement)&&(Qi(y)||y[Al]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?Qi(y):null,y!==null&&(E=Ks(y),x=y.tag,y!==E||x!==5&&x!==27&&x!==6)&&(y=null)):(m=null,y=c),m!==y)){if(x=rh,v="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=ch,v="onPointerLeave",g="onPointerEnter",p="pointer"),E=m==null?d:Wl(m),_=y==null?d:Wl(y),d=new x(v,p+"leave",m,n,h),d.target=E,d.relatedTarget=_,v=null,Qi(h)===c&&(x=new x(g,p+"enter",y,n,h),x.target=_,x.relatedTarget=E,v=x),E=v,m&&y)t:{for(x=wx,g=m,p=y,_=0,v=g;v;v=x(v))_++;v=0;for(var N=p;N;N=x(N))v++;for(;0<_-v;)g=x(g),_--;for(;0<v-_;)p=x(p),v--;for(;_--;){if(g===p||p!==null&&g===p.alternate){x=g;break t}g=x(g),p=x(p)}x=null}else x=null;m!==null&&em(f,d,m,x,!1),y!==null&&E!==null&&em(f,E,y,x,!0)}}e:{if(d=c?Wl(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var R=hh;else if(dh(d))if(Rg)R=k1;else{R=O1;var T=D1}else m=d.nodeName,!m||m.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&df(c.elementType)&&(R=hh):R=j1;if(R&&(R=R(e,c))){Mg(f,R,n,h);break e}T&&T(e,d,c),e==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Xc(d,"number",d.value)}switch(T=c?Wl(c):window,e){case"focusin":(dh(T)||T.contentEditable==="true")&&(Zi=T,$c=c,ss=null);break;case"focusout":ss=$c=Zi=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,_h(f,n,h);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":_h(f,n,h)}var O;if(gf)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Xi?Ng(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Cg&&n.locale!=="ko"&&(Xi||D!=="onCompositionStart"?D==="onCompositionEnd"&&Xi&&(O=Tg()):(Mn=h,mf="value"in Mn?Mn.value:Mn.textContent,Xi=!0)),T=vr(c,D),0<T.length&&(D=new oh(D,e,null,n,h),f.push({event:D,listeners:T}),O?D.data=O:(O=Ag(n),O!==null&&(D.data=O)))),(O=C1?N1(e,n):A1(e,n))&&(D=vr(c,"onBeforeInput"),0<D.length&&(T=new oh("onBeforeInput","beforeinput",null,n,h),f.push({event:T,listeners:D}),T.data=O)),vx(f,e,c,n,h)}Ey(f,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vr(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=ws(e,n),l!=null&&i.unshift(Os(e,l,s)),l=ws(e,t),l!=null&&i.push(Os(e,l,s))),e.tag===3)return i;e=e.return}return[]}function wx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function em(e,t,n,i,l){for(var s=t._reactName,a=[];n!==null&&n!==i;){var r=n,o=r.alternate,c=r.stateNode;if(r=r.tag,o!==null&&o===i)break;r!==5&&r!==26&&r!==27||c===null||(o=c,l?(c=ws(n,s),c!=null&&a.unshift(Os(n,c,o))):l||(c=ws(n,s),c!=null&&a.push(Os(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Ex=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function tm(e){return(typeof e=="string"?e:""+e).replace(Ex,`
`).replace(Tx,"")}function Cy(e,t){return t=tm(t),tm(e)===t}function te(e,t,n,i,l,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ml(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ml(e,""+i);break;case"className":va(e,"class",i);break;case"tabIndex":va(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":va(e,n,i);break;case"style":wg(e,i,s);break;case"data":if(t!=="object"){va(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=La(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&te(e,t,"name",l.name,l,null),te(e,t,"formEncType",l.formEncType,l,null),te(e,t,"formMethod",l.formMethod,l,null),te(e,t,"formTarget",l.formTarget,l,null)):(te(e,t,"encType",l.encType,l,null),te(e,t,"method",l.method,l,null),te(e,t,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=La(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=en);break;case"onScroll":i!=null&&G("scroll",e);break;case"onScrollEnd":i!=null&&G("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(w(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(w(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=La(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":G("beforetoggle",e),G("toggle",e),za(e,"popover",i);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":za(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Jb.get(n)||n,za(e,n,i))}}function Su(e,t,n,i,l,s){switch(n){case"style":wg(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(w(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(w(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ml(e,i):(typeof i=="number"||typeof i=="bigint")&&ml(e,""+i);break;case"onScroll":i!=null&&G("scroll",e);break;case"onScrollEnd":i!=null&&G("scrollend",e);break;case"onClick":i!=null&&(e.onclick=en);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yg.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),s=e[nt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,l),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,l);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):za(e,n,i)}}}function He(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":G("error",e),G("load",e);var i=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(w(137,t));default:te(e,t,s,a,n,null)}}l&&te(e,t,"srcSet",n.srcSet,n,null),i&&te(e,t,"src",n.src,n,null);return;case"input":G("invalid",e);var r=s=a=l=null,o=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":l=h;break;case"type":a=h;break;case"checked":o=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(w(137,t));break;default:te(e,t,i,h,n,null)}}bg(e,s,r,o,c,a,l,!1);return;case"select":G("invalid",e),i=a=s=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":s=r;break;case"defaultValue":a=r;break;case"multiple":i=r;default:te(e,t,l,r,n,null)}t=s,n=a,e.multiple=!!i,t!=null?ll(e,!!i,t,!1):n!=null&&ll(e,!!i,n,!0);return;case"textarea":G("invalid",e),s=l=i=null;for(a in n)if(n.hasOwnProperty(a)&&(r=n[a],r!=null))switch(a){case"value":i=r;break;case"defaultValue":l=r;break;case"children":s=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(w(91));break;default:te(e,t,a,r,n,null)}Sg(e,i,l,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:te(e,t,o,i,n,null)}return;case"dialog":G("beforetoggle",e),G("toggle",e),G("cancel",e),G("close",e);break;case"iframe":case"object":G("load",e);break;case"video":case"audio":for(i=0;i<Ds.length;i++)G(Ds[i],e);break;case"image":G("error",e),G("load",e);break;case"details":G("toggle",e);break;case"embed":case"source":case"link":G("error",e),G("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(w(137,t));default:te(e,t,c,i,n,null)}return;default:if(df(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Su(e,t,h,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&te(e,t,r,i,n,null))}function Cx(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,a=null,r=null,o=null,c=null,h=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=f;default:i.hasOwnProperty(m)||te(e,t,m,null,i,f)}}for(var d in i){var m=i[d];if(f=n[d],i.hasOwnProperty(d)&&(m!=null||f!=null))switch(d){case"type":s=m;break;case"name":l=m;break;case"checked":c=m;break;case"defaultChecked":h=m;break;case"value":a=m;break;case"defaultValue":r=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(w(137,t));break;default:m!==f&&te(e,t,d,m,i,f)}}Kc(e,a,r,o,c,h,s,l);return;case"select":m=a=r=d=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:i.hasOwnProperty(s)||te(e,t,s,null,i,o)}for(l in i)if(s=i[l],o=n[l],i.hasOwnProperty(l)&&(s!=null||o!=null))switch(l){case"value":d=s;break;case"defaultValue":r=s;break;case"multiple":a=s;default:s!==o&&te(e,t,l,s,i,o)}t=r,n=a,i=m,d!=null?ll(e,!!n,d,!1):!!i!=!!n&&(t!=null?ll(e,!!n,t,!0):ll(e,!!n,n?[]:"",!1));return;case"textarea":m=d=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:te(e,t,r,null,i,l)}for(a in i)if(l=i[a],s=n[a],i.hasOwnProperty(a)&&(l!=null||s!=null))switch(a){case"value":d=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(w(91));break;default:l!==s&&te(e,t,a,l,i,s)}xg(e,d,m);return;case"option":for(var y in n)if(d=n[y],n.hasOwnProperty(y)&&d!=null&&!i.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:te(e,t,y,null,i,d)}for(o in i)if(d=i[o],m=n[o],i.hasOwnProperty(o)&&d!==m&&(d!=null||m!=null))switch(o){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:te(e,t,o,d,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)d=n[x],n.hasOwnProperty(x)&&d!=null&&!i.hasOwnProperty(x)&&te(e,t,x,null,i,d);for(c in i)if(d=i[c],m=n[c],i.hasOwnProperty(c)&&d!==m&&(d!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(w(137,t));break;default:te(e,t,c,d,i,m)}return;default:if(df(t)){for(var E in n)d=n[E],n.hasOwnProperty(E)&&d!==void 0&&!i.hasOwnProperty(E)&&Su(e,t,E,void 0,i,d);for(h in i)d=i[h],m=n[h],!i.hasOwnProperty(h)||d===m||d===void 0&&m===void 0||Su(e,t,h,d,i,m);return}}for(var g in n)d=n[g],n.hasOwnProperty(g)&&d!=null&&!i.hasOwnProperty(g)&&te(e,t,g,null,i,d);for(f in i)d=i[f],m=n[f],!i.hasOwnProperty(f)||d===m||d==null&&m==null||te(e,t,f,d,i,m)}function nm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var l=n[i],s=l.transferSize,a=l.initiatorType,r=l.duration;if(s&&r&&nm(a)){for(a=0,r=l.responseEnd,i+=1;i<n.length;i++){var o=n[i],c=o.startTime;if(c>r)break;var h=o.transferSize,f=o.initiatorType;h&&nm(f)&&(o=o.responseEnd,a+=h*(o<r?1:(r-c)/(o-c)))}if(--i,t+=8*(s+a)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wu=null,Eu=null;function br(e){return e.nodeType===9?e:e.ownerDocument}function im(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mc=null;function Ax(){var e=window.event;return e&&e.type==="popstate"?e===mc?!1:(mc=e,!0):(mc=null,!1)}var Ay=typeof setTimeout=="function"?setTimeout:void 0,Mx=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,Rx=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(e){return lm.resolve(null).then(e).catch(Dx)}:Ay;function Dx(e){setTimeout(function(){throw e})}function ti(e){return e==="head"}function sm(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(l),Sl(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ps(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ps(n);for(var s=n.firstChild;s;){var a=s.nextSibling,r=s.nodeName;s[$s]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&ps(e.ownerDocument.body);n=l}while(n);Sl(t)}function am(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Cu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Cu(n),ff(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ox(e,t,n,i){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[$s])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Et(e.nextSibling),e===null)break}return null}function jx(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Et(e.nextSibling),e===null))return null;return e}function My(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Et(e.nextSibling),e===null))return null;return e}function Nu(e){return e.data==="$?"||e.data==="$~"}function Au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function kx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Et(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Mu=null;function rm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Et(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function om(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Ry(e,t,n){switch(t=br(n),e){case"html":if(e=t.documentElement,!e)throw Error(w(452));return e;case"head":if(e=t.head,!e)throw Error(w(453));return e;case"body":if(e=t.body,!e)throw Error(w(454));return e;default:throw Error(w(451))}}function ps(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ff(e)}var Tt=new Map,cm=new Set;function xr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yn=$.d;$.d={f:zx,r:Lx,D:Ix,C:Ux,L:Bx,m:Hx,X:Vx,S:qx,M:Gx};function zx(){var e=yn.f(),t=ro();return e||t}function Lx(e){var t=Ml(e);t!==null&&t.tag===5&&t.type==="form"?w0(t):yn.r(e)}var jl=typeof document>"u"?null:document;function Dy(e,t,n){var i=jl;if(i&&typeof t=="string"&&t){var l=bt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),cm.has(l)||(cm.add(l),e={rel:e,crossOrigin:n,href:t},i.querySelector(l)===null&&(t=i.createElement("link"),He(t,"link",e),je(t),i.head.appendChild(t)))}}function Ix(e){yn.D(e),Dy("dns-prefetch",e,null)}function Ux(e,t){yn.C(e,t),Dy("preconnect",e,t)}function Bx(e,t,n){yn.L(e,t,n);var i=jl;if(i&&e&&t){var l='link[rel="preload"][as="'+bt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+bt(n.imageSizes)+'"]')):l+='[href="'+bt(e)+'"]';var s=l;switch(t){case"style":s=xl(e);break;case"script":s=kl(e)}Tt.has(s)||(e=he({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Tt.set(s,e),i.querySelector(l)!==null||t==="style"&&i.querySelector(ia(s))||t==="script"&&i.querySelector(la(s))||(t=i.createElement("link"),He(t,"link",e),je(t),i.head.appendChild(t)))}}function Hx(e,t){yn.m(e,t);var n=jl;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+bt(i)+'"][href="'+bt(e)+'"]',s=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=kl(e)}if(!Tt.has(s)&&(e=he({rel:"modulepreload",href:e},t),Tt.set(s,e),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(la(s)))return}i=n.createElement("link"),He(i,"link",e),je(i),n.head.appendChild(i)}}}function qx(e,t,n){yn.S(e,t,n);var i=jl;if(i&&e){var l=il(i).hoistableStyles,s=xl(e);t=t||"default";var a=l.get(s);if(!a){var r={loading:0,preload:null};if(a=i.querySelector(ia(s)))r.loading=5;else{e=he({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Tt.get(s))&&Pf(e,n);var o=a=i.createElement("link");je(o),He(o,"link",e),o._p=new Promise(function(c,h){o.onload=c,o.onerror=h}),o.addEventListener("load",function(){r.loading|=1}),o.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Qa(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:r},l.set(s,a)}}}function Vx(e,t){yn.X(e,t);var n=jl;if(n&&e){var i=il(n).hoistableScripts,l=kl(e),s=i.get(l);s||(s=n.querySelector(la(l)),s||(e=he({src:e,async:!0},t),(t=Tt.get(l))&&$f(e,t),s=n.createElement("script"),je(s),He(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(l,s))}}function Gx(e,t){yn.M(e,t);var n=jl;if(n&&e){var i=il(n).hoistableScripts,l=kl(e),s=i.get(l);s||(s=n.querySelector(la(l)),s||(e=he({src:e,async:!0,type:"module"},t),(t=Tt.get(l))&&$f(e,t),s=n.createElement("script"),je(s),He(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(l,s))}}function um(e,t,n,i){var l=(l=jn.current)?xr(l):null;if(!l)throw Error(w(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=xl(n.href),n=il(l).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=xl(n.href);var s=il(l).hoistableStyles,a=s.get(e);if(a||(l=l.ownerDocument||l,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=l.querySelector(ia(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Tt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tt.set(e,n),s||Yx(l,e,n,a.state))),t&&i===null)throw Error(w(528,""));return a}if(t&&i!==null)throw Error(w(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=kl(n),n=il(l).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(w(444,e))}}function xl(e){return'href="'+bt(e)+'"'}function ia(e){return'link[rel="stylesheet"]['+e+"]"}function Oy(e){return he({},e,{"data-precedence":e.precedence,precedence:null})}function Yx(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),He(t,"link",n),je(t),e.head.appendChild(t))}function kl(e){return'[src="'+bt(e)+'"]'}function la(e){return"script[async]"+e}function fm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(i)return t.instance=i,je(i),i;var l=he({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),je(i),He(i,"style",l),Qa(i,n.precedence,e),t.instance=i;case"stylesheet":l=xl(n.href);var s=e.querySelector(ia(l));if(s)return t.state.loading|=4,t.instance=s,je(s),s;i=Oy(n),(l=Tt.get(l))&&Pf(i,l),s=(e.ownerDocument||e).createElement("link"),je(s);var a=s;return a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),He(s,"link",i),t.state.loading|=4,Qa(s,n.precedence,e),t.instance=s;case"script":return s=kl(n.src),(l=e.querySelector(la(s)))?(t.instance=l,je(l),l):(i=n,(l=Tt.get(s))&&(i=he({},n),$f(i,l)),e=e.ownerDocument||e,l=e.createElement("script"),je(l),He(l,"link",i),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(w(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Qa(i,n.precedence,e));return t.instance}function Qa(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,s=l,a=0;a<i.length;a++){var r=i[a];if(r.dataset.precedence===t)s=r;else if(s!==l)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Pf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $f(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ka=null;function dm(e,t,n){if(Ka===null){var i=new Map,l=Ka=new Map;l.set(n,i)}else l=Ka,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var s=n[l];if(!(s[$s]||s[Ie]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var r=i.get(a);r?r.push(s):i.set(a,[s])}}return i}function hm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Fx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jy(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Qx(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var l=xl(i.href),s=t.querySelector(ia(l));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Sr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,je(s);return}s=t.ownerDocument||t,i=Oy(i),(l=Tt.get(l))&&Pf(i,l),s=s.createElement("link"),je(s);var a=s;a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),He(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Sr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var pc=0;function Kx(e,t){return e.stylesheets&&e.count===0&&Xa(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Xa(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&pc===0&&(pc=62500*Nx());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xa(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>pc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(l)}}:null}function Sr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wr=null;function Xa(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wr=new Map,t.forEach(Xx,e),wr=null,Sr.call(e))}function Xx(e,t){if(!(t.state.loading&4)){var n=wr.get(e);if(n)var i=n.get(null);else{n=new Map,wr.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var a=l[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}l=t.instance,a=l.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,l),n.set(a,l),this.count++,i=Sr.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),s?s.parentNode.insertBefore(l,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var js={$$typeof:Jt,Provider:null,Consumer:null,_currentValue:hi,_currentValue2:hi,_threadCount:0};function Zx(e,t,n,i,l,s,a,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.hiddenUpdates=Uo(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function ky(e,t,n,i,l,s,a,r,o,c,h,f){return e=new Zx(e,t,n,a,o,c,h,f,r),t=1,s===!0&&(t|=24),s=ot(3,null,null,t),e.current=s,s.stateNode=e,t=wf(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Cf(s),e}function zy(e){return e?(e=Wi,e):Wi}function Ly(e,t,n,i,l,s){l=zy(l),i.context===null?i.context=l:i.pendingContext=l,i=zn(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ln(e,i,t),n!==null&&(Je(n,e,t),rs(n,e,t))}function mm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wf(e,t){mm(e,t),(e=e.alternate)&&mm(e,t)}function Iy(e){if(e.tag===13||e.tag===31){var t=Oi(e,67108864);t!==null&&Je(t,e,67108864),Wf(e,67108864)}}function pm(e){if(e.tag===13||e.tag===31){var t=ht();t=cf(t);var n=Oi(e,t);n!==null&&Je(n,e,t),Wf(e,t)}}var Er=!0;function Px(e,t,n,i){var l=L.T;L.T=null;var s=$.p;try{$.p=2,Jf(e,t,n,i)}finally{$.p=s,L.T=l}}function $x(e,t,n,i){var l=L.T;L.T=null;var s=$.p;try{$.p=8,Jf(e,t,n,i)}finally{$.p=s,L.T=l}}function Jf(e,t,n,i){if(Er){var l=Ru(i);if(l===null)hc(e,t,i,Tr,n),gm(e,i);else if(Jx(l,e,t,n,i))i.stopPropagation();else if(gm(e,i),t&4&&-1<Wx.indexOf(e)){for(;l!==null;){var s=Ml(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=si(s.pendingLanes);if(a!==0){var r=s;for(r.pendingLanes|=2,r.entangledLanes|=2;a;){var o=1<<31-dt(a);r.entanglements[1]|=o,a&=~o}qt(s),!(P&6)&&(mr=ut()+500,na(0))}}break;case 31:case 13:r=Oi(s,2),r!==null&&Je(r,s,2),ro(),Wf(s,2)}if(s=Ru(i),s===null&&hc(e,t,i,Tr,n),s===l)break;l=s}l!==null&&i.stopPropagation()}else hc(e,t,i,null,n)}}function Ru(e){return e=hf(e),ed(e)}var Tr=null;function ed(e){if(Tr=null,e=Qi(e),e!==null){var t=Ks(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ig(t),e!==null)return e;e=null}else if(n===31){if(e=lg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Tr=e,null}function Uy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ib()){case og:return 2;case cg:return 8;case er:case Ub:return 32;case ug:return 268435456;default:return 32}default:return 32}}var Du=!1,Bn=null,Hn=null,qn=null,ks=new Map,zs=new Map,Nn=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gm(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(t.pointerId)}}function Fl(e,t,n,i,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Ml(t),t!==null&&Iy(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Jx(e,t,n,i,l){switch(t){case"focusin":return Bn=Fl(Bn,e,t,n,i,l),!0;case"dragenter":return Hn=Fl(Hn,e,t,n,i,l),!0;case"mouseover":return qn=Fl(qn,e,t,n,i,l),!0;case"pointerover":var s=l.pointerId;return ks.set(s,Fl(ks.get(s)||null,e,t,n,i,l)),!0;case"gotpointercapture":return s=l.pointerId,zs.set(s,Fl(zs.get(s)||null,e,t,n,i,l)),!0}return!1}function By(e){var t=Qi(e.target);if(t!==null){var n=Ks(t);if(n!==null){if(t=n.tag,t===13){if(t=ig(n),t!==null){e.blockedOn=t,eh(e.priority,function(){pm(n)});return}}else if(t===31){if(t=lg(n),t!==null){e.blockedOn=t,eh(e.priority,function(){pm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ru(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Zc=i,n.target.dispatchEvent(i),Zc=null}else return t=Ml(n),t!==null&&Iy(t),e.blockedOn=n,!1;t.shift()}return!0}function ym(e,t,n){Za(e)&&n.delete(t)}function eS(){Du=!1,Bn!==null&&Za(Bn)&&(Bn=null),Hn!==null&&Za(Hn)&&(Hn=null),qn!==null&&Za(qn)&&(qn=null),ks.forEach(ym),zs.forEach(ym)}function Na(e,t){e.blockedOn===t&&(e.blockedOn=null,Du||(Du=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,eS)))}var Aa=null;function _m(e){Aa!==e&&(Aa=e,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,function(){Aa===e&&(Aa=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],l=e[t+2];if(typeof i!="function"){if(ed(i||n)===null)continue;break}var s=Ml(n);s!==null&&(e.splice(t,3),t-=3,fu(s,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function Sl(e){function t(o){return Na(o,e)}Bn!==null&&Na(Bn,e),Hn!==null&&Na(Hn,e),qn!==null&&Na(qn,e),ks.forEach(t),zs.forEach(t);for(var n=0;n<Nn.length;n++){var i=Nn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)By(n),n.blockedOn===null&&Nn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],s=n[i+1],a=l[nt]||null;if(typeof s=="function")a||_m(n);else if(a){var r=null;if(s&&s.hasAttribute("formAction")){if(l=s,a=s[nt]||null)r=a.formAction;else if(ed(l)!==null)continue}else r=a.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),_m(n)}}}function Hy(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return l=a})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function td(e){this._internalRoot=e}uo.prototype.render=td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(w(409));var n=t.current,i=ht();Ly(n,i,e,t,null,null)};uo.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ly(e.current,2,null,e,null,null),ro(),t[Al]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=pg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&By(e)}};var vm=tg.version;if(vm!=="19.2.0")throw Error(w(527,vm,"19.2.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(w(188)):(e=Object.keys(e).join(","),Error(w(268,e)));return e=Rb(t),e=e!==null?sg(e):null,e=e===null?null:e.stateNode,e};var tS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{Xs=Ma.inject(tS),ft=Ma}catch{}}Kr.createRoot=function(e,t){if(!ng(e))throw Error(w(299));var n=!1,i="",l=D0,s=O0,a=j0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ky(e,1,!1,null,null,n,i,null,l,s,a,Hy),e[Al]=t.current,Zf(e),new td(t)};Kr.hydrateRoot=function(e,t,n){if(!ng(e))throw Error(w(299));var i=!1,l="",s=D0,a=O0,r=j0,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=ky(e,1,!0,t,n??null,i,l,o,s,a,r,Hy),t.context=zy(null),n=t.current,i=ht(),i=cf(i),l=zn(i),l.callback=null,Ln(n,l,i),n=i,t.current.lanes=n,Ps(t,n),qt(t),e[Al]=t.current,Zf(e),new uo(t)};Kr.version="19.2.0";function qy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qy)}catch(e){console.error(e)}}qy(),Zp.exports=Kr;var nS=Zp.exports;const iS=Bp(nS),lS="modulepreload",sS=function(e){return"/fenerbahce-fan-hub/"+e},bm={},Ou=function(t,n,i){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));l=Promise.allSettled(n.map(o=>{if(o=sS(o),o in bm)return;bm[o]=!0;const c=o.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":lS,c||(f.as="script"),f.crossOrigin="",f.href=o,r&&f.setAttribute("nonce",r),document.head.appendChild(f),c)return new Promise((d,m)=>{f.addEventListener("load",d),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(a){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=a,window.dispatchEvent(r),!r.defaultPrevented)throw a}return l.then(a=>{for(const r of a||[])r.status==="rejected"&&s(r.reason);return t().catch(s)})};function aS(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:l,onRegisteredSW:s,onRegisterError:a}=e;let r,o;const c=async(f=!0)=>{await o};async function h(){if("serviceWorker"in navigator){if(r=await Ou(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/fenerbahce-fan-hub/sw.js",{scope:"/fenerbahce-fan-hub/",type:"classic"})).catch(f=>{a==null||a(f)}),!r)return;r.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),r.addEventListener("installed",f=>{f.isUpdate||i==null||i()}),r.register({immediate:t}).then(f=>{s?s("/fenerbahce-fan-hub/sw.js",f):l==null||l(f)}).catch(f=>{a==null||a(f)})}}return o=h(),c}function Vy(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=Vy(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function xm(){for(var e,t,n=0,i="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=Vy(e))&&(i&&(i+=" "),i+=t);return i}const _n="https://us-central1-fb-hub-ed9de.cloudfunctions.net/api",rS=(e={})=>{const t=`/player-image/${e.id??""}`,n=e.photo||t;if(n.startsWith("http://")&&!n.includes("localhost"))return n.replace(/^http:\/\//i,"https://");if(n.startsWith("http://")||n.startsWith("https://"))return n;const i=n.startsWith("/")?n:`/${n}`;return`${_n}${i}`},oS=async()=>{try{const e=await fetch(`${_n}/next-match`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next match from backend:",e),null}},cS=async()=>{try{const e=await fetch(`${_n}/squad`);if(!e.ok)throw new Error("Backend fetch failed");return(await e.json()).map(n=>({...n,photo:rS(n)}))}catch(e){return console.error("Error fetching squad from backend:",e),[]}},uS=async()=>{try{const e=await fetch(`${_n}/next-3-matches`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next 3 matches from backend:",e),[]}},Gy="436",fS="https://site.api.espn.com/apis/site/v2/sports/soccer",dS=[{slug:"tur.1",group:"superlig",label:"Sper Lig"},{slug:"uefa.europa",group:"europe",label:"Avrupa"}],hS=(e=new Date)=>{const t=e.getMonth(),n=e.getFullYear();return t>=6?n:n-1},Sm=(e,t={})=>{const n=new URLSearchParams(t);return`${fS}/${e}/teams/${Gy}/schedule?${n.toString()}`},wm=e=>{var t,n,i,l,s,a,r,o,c,h,f;return{id:((t=e==null?void 0:e.team)==null?void 0:t.id)??(e==null?void 0:e.id)??null,name:((n=e==null?void 0:e.team)==null?void 0:n.displayName)??((i=e==null?void 0:e.team)==null?void 0:i.name)??"Takm",shortName:((l=e==null?void 0:e.team)==null?void 0:l.shortDisplayName)??((s=e==null?void 0:e.team)==null?void 0:s.displayName)??((a=e==null?void 0:e.team)==null?void 0:a.name)??"Takm",abbreviation:((r=e==null?void 0:e.team)==null?void 0:r.abbreviation)??null,logo:((h=(c=(o=e==null?void 0:e.team)==null?void 0:o.logos)==null?void 0:c[0])==null?void 0:h.href)??null,score:((f=e==null?void 0:e.score)==null?void 0:f.displayValue)??null,winner:!!(e!=null&&e.winner)}},mS=(e,t=null)=>{var g,p,_,v,N,R,T,O,D,k;const n=(g=e==null?void 0:e.competitions)==null?void 0:g[0],i=(n==null?void 0:n.competitors)??[],l=i.find(Q=>Q.homeAway==="home"),s=i.find(Q=>Q.homeAway==="away");if(!n||!l||!s)return null;const a=wm(l),r=wm(s),o=a.id===Gy,c=o?a:r,h=o?r:a,f=((p=n==null?void 0:n.status)==null?void 0:p.type)??{},d=Number((_=l==null?void 0:l.score)==null?void 0:_.value),m=Number((v=s==null?void 0:s.score)==null?void 0:v.value),y=Number.isFinite(d)&&Number.isFinite(m);let x=null,E=null;if(f.completed&&y){const Q=o?d:m,me=o?m:d;Q>me?(x="G",E="Galibiyet"):Q<me?(x="M",E="Malubiyet"):(x="B",E="Beraberlik")}return{id:String(e.id??n.id??`${e.date}-${a.id}-${r.id}`),date:e.date??n.date,competitionName:((N=e==null?void 0:e.season)==null?void 0:N.displayName)??((R=e==null?void 0:e.seasonType)==null?void 0:R.name)??"Sper Lig",competitionKey:(t==null?void 0:t.slug)??null,competitionGroup:(t==null?void 0:t.group)??null,competitionLabel:(t==null?void 0:t.label)??null,roundLabel:((T=n==null?void 0:n.type)==null?void 0:T.text)??null,venueName:((O=n==null?void 0:n.venue)==null?void 0:O.fullName)??null,venueCity:((k=(D=n==null?void 0:n.venue)==null?void 0:D.address)==null?void 0:k.city)??null,status:{state:f.state??"pre",completed:!!f.completed,description:f.description??null,detail:f.detail??null,shortDetail:f.shortDetail??null},homeTeam:a,awayTeam:r,isFbHome:o,fbTeam:c,opponentTeam:h,resultCode:x,resultLabel:E}},Em=async(e=hS())=>{var t,n,i,l;try{const s=await Promise.all(dS.map(async h=>{const[f,d]=await Promise.all([fetch(Sm(h.slug,{season:String(e)})),fetch(Sm(h.slug,{season:String(e),fixture:"true"}))]);if(!f.ok&&!d.ok)return{competition:h,resultsJson:{},fixturesJson:{}};const[m,y]=await Promise.all([f.ok?f.json():Promise.resolve({}),d.ok?d.json():Promise.resolve({})]);return{competition:h,resultsJson:m,fixturesJson:y}})),a=s.flatMap(({competition:h,resultsJson:f,fixturesJson:d})=>{const m=Array.isArray(f==null?void 0:f.events)?f.events:[],y=Array.isArray(d==null?void 0:d.events)?d.events:[];return[...m,...y].map(x=>({event:x,sourceCompetition:h}))});if(a.length===0)throw new Error("ESPN fixture fetch failed");const o=Array.from(new Map(a.map(({event:h,sourceCompetition:f})=>[String((h==null?void 0:h.id)??`${f==null?void 0:f.slug}-${h==null?void 0:h.date}`),{event:h,sourceCompetition:f}])).values()).map(({event:h,sourceCompetition:f})=>mS(h,f)).filter(Boolean).sort((h,f)=>new Date(h.date)-new Date(f.date)),c=s.find(({resultsJson:h,fixturesJson:f})=>Array.isArray(h==null?void 0:h.events)&&h.events.length>0||Array.isArray(f==null?void 0:f.events)&&f.events.length>0);return{source:"ESPN",seasonStartYear:e,season:((t=c==null?void 0:c.fixturesJson)==null?void 0:t.season)??((n=c==null?void 0:c.resultsJson)==null?void 0:n.season)??null,team:((i=c==null?void 0:c.fixturesJson)==null?void 0:i.team)??((l=c==null?void 0:c.resultsJson)==null?void 0:l.team)??null,matches:o}}catch(s){return console.error("Error fetching ESPN Fenerbahce fixtures:",s),{source:"ESPN",seasonStartYear:e,season:null,team:null,matches:[],error:!0}}},gc=e=>`${_n}/team-image/${e}`,Ra=({teamId:e,name:t="Takm",wrapperClassName:n="",imageClassName:i=""})=>{const[l,s]=C.useState(()=>e?gc(e):null),[a,r]=C.useState(e?"loading":"idle"),[o,c]=C.useState(0);C.useEffect(()=>{if(!e){s(null),r("idle");return}s(gc(e)),c(0),r("loading")},[e]);const h=()=>{if(e)if(o<2){const d=`${Date.now()}-${o+1}`;c(m=>m+1),s(`${gc(e)}?retry=${d}`)}else r("error")},f=(t==null?void 0:t.split(" ").filter(Boolean).map(d=>d[0]).join("").slice(0,2).toUpperCase())||"??";return u.jsxs("div",{className:xm("relative overflow-hidden",n),children:[l&&a!=="error"?u.jsx("img",{src:l,alt:`${t} logosu`,crossOrigin:"anonymous",className:xm("w-full h-full object-contain transition-opacity duration-300",i),onLoad:()=>r("ready"),onError:h}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400 uppercase font-bold bg-white/5 rounded-full",children:f}),a==="loading"&&u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer rounded-full",style:{backgroundSize:"200% 100%"}})]})},pS=()=>{};var Tm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(e,t){if(!e)throw zl(t)},zl=function(e){return new Error("Firebase Database ("+Yy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},gS=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const l=e[n++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const s=e[n++];t[i++]=String.fromCharCode((l&31)<<6|s&63)}else if(l>239&&l<365){const s=e[n++],a=e[n++],r=e[n++],o=((l&7)<<18|(s&63)<<12|(a&63)<<6|r&63)-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(o&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((l&15)<<12|(s&63)<<6|a&63)}}return t.join("")},nd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<e.length;l+=3){const s=e[l],a=l+1<e.length,r=a?e[l+1]:0,o=l+2<e.length,c=o?e[l+2]:0,h=s>>2,f=(s&3)<<4|r>>4;let d=(r&15)<<2|c>>6,m=c&63;o||(m=64,a||(d=64)),i.push(n[h],n[f],n[d],n[m])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<e.length;){const s=n[e.charAt(l++)],r=l<e.length?n[e.charAt(l)]:0;++l;const c=l<e.length?n[e.charAt(l)]:64;++l;const f=l<e.length?n[e.charAt(l)]:64;if(++l,s==null||r==null||c==null||f==null)throw new yS;const d=s<<2|r>>4;if(i.push(d),c!==64){const m=r<<4&240|c>>2;if(i.push(m),f!==64){const y=c<<6&192|f;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qy=function(e){const t=Fy(e);return nd.encodeByteArray(t,!0)},Cr=function(e){return Qy(e).replace(/\./g,"")},ju=function(e){try{return nd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(e){return Ky(void 0,e)}function Ky(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!vS(n)||(e[n]=Ky(e[n],t[n]));return e}function vS(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=()=>bS().__FIREBASE_DEFAULTS__,SS=()=>{if(typeof process>"u"||typeof Tm>"u")return;const e=Tm.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wS=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ju(e[1]);return t&&JSON.parse(t)},Xy=()=>{try{return pS()||xS()||SS()||wS()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ES=e=>{var t,n;return(n=(t=Xy())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},TS=e=>{const t=ES(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Zy=()=>{var e;return(e=Xy())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CS(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",l=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Cr(JSON.stringify(n)),Cr(JSON.stringify(a)),""].join(".")}const gs={};function AS(){const e={prod:[],emulator:[]};for(const t of Object.keys(gs))gs[t]?e.emulator.push(t):e.prod.push(t);return e}function MS(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Cm=!1;function RS(e,t){if(typeof window>"u"||typeof document>"u"||!id(window.location.host)||gs[e]===t||gs[e]||Cm)return;gs[e]=t;function n(d){return`__firebase__banner__${d}`}const i="__firebase__banner",s=AS().prod.length>0;function a(){const d=document.getElementById(i);d&&d.remove()}function r(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function o(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{Cm=!0,a()},d}function h(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=MS(i),m=n("text"),y=document.getElementById(m)||document.createElement("span"),x=n("learnmore"),E=document.getElementById(x)||document.createElement("a"),g=n("preprendIcon"),p=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const _=d.element;r(_),h(E,x);const v=c();o(p,g),_.append(p,y,E,v),document.body.appendChild(_)}s?(y.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Py(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(DS())}function OS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jS(){return Yy.NODE_ADMIN===!0}function $y(){try{return typeof indexedDB=="object"}catch{return!1}}function Wy(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var s;t(((s=l.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}function kS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="FirebaseError";class Ll extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=zS,Object.setPrototypeOf(this,Ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fo.prototype.create)}}class fo{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},l=`${this.service}/${t}`,s=this.errors[t],a=s?LS(s,i):"Error",r=`${this.serviceName}: ${a} (${l}).`;return new Ll(l,r,i)}}function LS(e,t){return e.replace(IS,(n,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const IS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){return JSON.parse(e)}function Ne(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=function(e){let t={},n={},i={},l="";try{const s=e.split(".");t=Ls(ju(s[0])||""),n=Ls(ju(s[1])||""),l=s[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:l}},US=function(e){const t=Jy(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},BS=function(e){const t=Jy(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Nm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Nr(e,t,n){const i={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=t.call(n,e[l],l,e));return i}function Ar(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const l of n){if(!i.includes(l))return!1;const s=e[l],a=t[l];if(Am(s)&&Am(a)){if(!Ar(s,a))return!1}else if(s!==a)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function Am(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)i[f]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let f=16;f<80;f++){const d=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(d<<1|d>>>31)&4294967295}let l=this.chain_[0],s=this.chain_[1],a=this.chain_[2],r=this.chain_[3],o=this.chain_[4],c,h;for(let f=0;f<80;f++){f<40?f<20?(c=r^s&(a^r),h=1518500249):(c=s^a^r,h=1859775393):f<60?(c=s&a|r&(s|a),h=2400959708):(c=s^a^r,h=3395469782);const d=(l<<5|l>>>27)+c+o+h+i[f]&4294967295;o=r,r=a,a=(s<<30|s>>>2)&4294967295,s=l,l=d}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+r&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let l=0;const s=this.buf_;let a=this.inbuf_;for(;l<n;){if(a===0)for(;l<=i;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<n;)if(s[a]=t.charCodeAt(l),++a,++l,a===this.blockSize){this.compress_(s),a=0;break}}else for(;l<n;)if(s[a]=t[l],++a,++l,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let l=0;l<5;l++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[l]>>s&255,++i;return t}}function ld(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);if(l>=55296&&l<=56319){const s=l-55296;i++,A(i<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(i)-56320;l=65536+(s<<10)+a}l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):l<65536?(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},ho=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(e){return e&&e._delegate?e._delegate:e}class mn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new sa;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FS(t))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:l});i.resolve(s)}catch{}}}}clearInstance(t=oi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oi){return this.instances.has(t)}getOptions(t=oi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(s);i===r&&a.resolve(l)}return l}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(t),this.onInitCallbacks.set(i,l);const s=this.instances.get(i);return s&&t(s,i),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YS(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=oi){return this.component?this.component.multipleInstances?t:oi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YS(e){return e===oi?void 0:e}function FS(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new GS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(se||(se={}));const KS={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},XS=se.INFO,ZS={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},PS=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),l=ZS[t];if(l)console[l](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class e_{constructor(t){this.name=t,this._logLevel=XS,this._logHandler=PS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...t),this._logHandler(this,se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...t),this._logHandler(this,se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,se.INFO,...t),this._logHandler(this,se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,se.WARN,...t),this._logHandler(this,se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...t),this._logHandler(this,se.ERROR,...t)}}const $S=(e,t)=>t.some(n=>e instanceof n);let Mm,Rm;function WS(){return Mm||(Mm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return Rm||(Rm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t_=new WeakMap,ku=new WeakMap,n_=new WeakMap,yc=new WeakMap,sd=new WeakMap;function ew(e){const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(rn(e.result)),l()},a=()=>{i(e.error),l()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&t_.set(n,e)}).catch(()=>{}),sd.set(t,e),t}function tw(e){if(ku.has(e))return;const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),l()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});ku.set(e,t)}let zu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ku.get(e);if(t==="objectStoreNames")return e.objectStoreNames||n_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function nw(e){zu=e(zu)}function iw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(_c(this),t,...n);return n_.set(i,t.sort?t.sort():[t]),rn(i)}:JS().includes(e)?function(...t){return e.apply(_c(this),t),rn(t_.get(this))}:function(...t){return rn(e.apply(_c(this),t))}}function lw(e){return typeof e=="function"?iw(e):(e instanceof IDBTransaction&&tw(e),$S(e,WS())?new Proxy(e,zu):e)}function rn(e){if(e instanceof IDBRequest)return ew(e);if(yc.has(e))return yc.get(e);const t=lw(e);return t!==e&&(yc.set(e,t),sd.set(t,e)),t}const _c=e=>sd.get(e);function mo(e,t,{blocked:n,upgrade:i,blocking:l,terminated:s}={}){const a=indexedDB.open(e,t),r=rn(a);return i&&a.addEventListener("upgradeneeded",o=>{i(rn(a.result),o.oldVersion,o.newVersion,rn(a.transaction),o)}),n&&a.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),r.then(o=>{s&&o.addEventListener("close",()=>s()),l&&o.addEventListener("versionchange",c=>l(c.oldVersion,c.newVersion,c))}).catch(()=>{}),r}function vc(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",i=>t(i.oldVersion,i)),rn(n).then(()=>{})}const sw=["get","getKey","getAll","getAllKeys","count"],aw=["put","add","delete","clear"],bc=new Map;function Dm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(bc.get(t))return bc.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,l=aw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||sw.includes(n)))return;const s=async function(a,...r){const o=this.transaction(a,l?"readwrite":"readonly");let c=o.store;return i&&(c=c.index(r.shift())),(await Promise.all([c[n](...r),l&&o.done]))[0]};return bc.set(t,s),s}nw(e=>({...e,get:(t,n,i)=>Dm(t,n)||e.get(t,n,i),has:(t,n)=>!!Dm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ow(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ow(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Lu="@firebase/app",Om="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn=new e_("@firebase/app"),cw="@firebase/app-compat",uw="@firebase/analytics-compat",fw="@firebase/analytics",dw="@firebase/app-check-compat",hw="@firebase/app-check",mw="@firebase/auth",pw="@firebase/auth-compat",gw="@firebase/database",yw="@firebase/data-connect",_w="@firebase/database-compat",vw="@firebase/functions",bw="@firebase/functions-compat",xw="@firebase/installations",Sw="@firebase/installations-compat",ww="@firebase/messaging",Ew="@firebase/messaging-compat",Tw="@firebase/performance",Cw="@firebase/performance-compat",Nw="@firebase/remote-config",Aw="@firebase/remote-config-compat",Mw="@firebase/storage",Rw="@firebase/storage-compat",Dw="@firebase/firestore",Ow="@firebase/ai",jw="@firebase/firestore-compat",kw="firebase",zw="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="[DEFAULT]",Lw={[Lu]:"fire-core",[cw]:"fire-core-compat",[fw]:"fire-analytics",[uw]:"fire-analytics-compat",[hw]:"fire-app-check",[dw]:"fire-app-check-compat",[mw]:"fire-auth",[pw]:"fire-auth-compat",[gw]:"fire-rtdb",[yw]:"fire-data-connect",[_w]:"fire-rtdb-compat",[vw]:"fire-fn",[bw]:"fire-fn-compat",[xw]:"fire-iid",[Sw]:"fire-iid-compat",[ww]:"fire-fcm",[Ew]:"fire-fcm-compat",[Tw]:"fire-perf",[Cw]:"fire-perf-compat",[Nw]:"fire-rc",[Aw]:"fire-rc-compat",[Mw]:"fire-gcs",[Rw]:"fire-gcs-compat",[Dw]:"fire-fst",[jw]:"fire-fst-compat",[Ow]:"fire-vertex","fire-js":"fire-js",[kw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Map,Iw=new Map,Uu=new Map;function jm(e,t){try{e.container.addComponent(t)}catch(n){pn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Pn(e){const t=e.name;if(Uu.has(t))return pn.debug(`There were multiple attempts to register component ${t}.`),!1;Uu.set(t,e);for(const n of Mr.values())jm(n,e);for(const n of Iw.values())jm(n,e);return!0}function po(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Uw(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vn=new fo("app","Firebase",Bw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=zw;function i_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Iu,automaticDataCollectionEnabled:!0,...t},l=i.name;if(typeof l!="string"||!l)throw Vn.create("bad-app-name",{appName:String(l)});if(n||(n=Zy()),!n)throw Vn.create("no-options");const s=Mr.get(l);if(s){if(Ar(n,s.options)&&Ar(i,s.config))return s;throw Vn.create("duplicate-app",{appName:l})}const a=new QS(l);for(const o of Uu.values())a.addComponent(o);const r=new Hw(n,i,a);return Mr.set(l,r),r}function l_(e=Iu){const t=Mr.get(e);if(!t&&e===Iu&&Zy())return i_();if(!t)throw Vn.create("no-app",{appName:e});return t}function Bt(e,t,n){let i=Lw[e]??e;n&&(i+=`-${n}`);const l=i.match(/\s|\//),s=t.match(/\s|\//);if(l||s){const a=[`Unable to register library "${i}" with version "${t}":`];l&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pn.warn(a.join(" "));return}Pn(new mn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firebase-heartbeat-database",Gw=1,Is="firebase-heartbeat-store";let xc=null;function s_(){return xc||(xc=mo(Vw,Gw,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Is)}catch(n){console.warn(n)}}}}).catch(e=>{throw Vn.create("idb-open",{originalErrorMessage:e.message})})),xc}async function Yw(e){try{const n=(await s_()).transaction(Is),i=await n.objectStore(Is).get(a_(e));return await n.done,i}catch(t){if(t instanceof Ll)pn.warn(t.message);else{const n=Vn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pn.warn(n.message)}}}async function km(e,t){try{const i=(await s_()).transaction(Is,"readwrite");await i.objectStore(Is).put(t,a_(e)),await i.done}catch(n){if(n instanceof Ll)pn.warn(n.message);else{const i=Vn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pn.warn(i.message)}}}function a_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=1024,Qw=30;class Kw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zw(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zm();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:l}),this._heartbeatsCache.heartbeats.length>Qw){const a=Pw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){pn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zm(),{heartbeatsToSend:i,unsentEntries:l}=Xw(this._heartbeatsCache.heartbeats),s=Cr(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return pn.warn(n),""}}}function zm(){return new Date().toISOString().substring(0,10)}function Xw(e,t=Fw){const n=[];let i=e.slice();for(const l of e){const s=n.find(a=>a.agent===l.agent);if(s){if(s.dates.push(l.date),Lm(n)>t){s.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Lm(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Zw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $y()?Wy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Yw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return km(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return km(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Lm(e){return Cr(JSON.stringify({version:2,heartbeats:e})).length}function Pw(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(e){Pn(new mn("platform-logger",t=>new rw(t),"PRIVATE")),Pn(new mn("heartbeat",t=>new Kw(t),"PRIVATE")),Bt(Lu,Om,e),Bt(Lu,Om,"esm2020"),Bt("fire-js","")}$w("");var Ww="firebase",Jw="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt(Ww,Jw,"app");var Im={};const Um="@firebase/database",Bm="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r_="";function eE(e){r_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ne(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ls(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return kt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new tE(t)}}catch{}return new nE},ui=o_("localStorage"),iE=o_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new e_("@firebase/database"),c_=function(){let e=1;return function(){return e++}}(),u_=function(e){const t=VS(e),n=new qS;n.update(t);const i=n.digest();return nd.encodeByteArray(i)},aa=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=aa.apply(null,i):typeof i=="object"?t+=Ne(i):t+=i,t+=" "}return t};let ys=null,Hm=!0;const lE=function(e,t){A(!0,"Can't turn on custom loggers persistently."),ul.logLevel=se.VERBOSE,ys=ul.log.bind(ul)},qe=function(...e){if(Hm===!0&&(Hm=!1,ys===null&&iE.get("logging_enabled")===!0&&lE()),ys){const t=aa.apply(null,e);ys(t)}},ra=function(e){return function(...t){qe(e,...t)}},Bu=function(...e){const t="FIREBASE INTERNAL ERROR: "+aa(...e);ul.error(t)},gn=function(...e){const t=`FIREBASE FATAL ERROR: ${aa(...e)}`;throw ul.error(t),new Error(t)},et=function(...e){const t="FIREBASE WARNING: "+aa(...e);ul.warn(t)},sE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ad=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},aE=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},wl="[MIN_NAME]",Ei="[MAX_NAME]",Il=function(e,t){if(e===t)return 0;if(e===wl||t===Ei)return-1;if(t===wl||e===Ei)return 1;{const n=qm(e),i=qm(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},rE=function(e,t){return e===t?0:e<t?-1:1},Ql=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ne(t))},rd=function(e){if(typeof e!="object"||e===null)return Ne(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=Ne(t[i]),n+=":",n+=rd(e[t[i]]);return n+="}",n},f_=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let l=0;l<n;l+=t)l+t>n?i.push(e.substring(l,n)):i.push(e.substring(l,l+t));return i};function it(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const d_=function(e){A(!ad(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let l,s,a,r,o;e===0?(s=0,a=0,l=1/e===-1/0?1:0):(l=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=r+i,a=Math.round(e*Math.pow(2,n-r)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-i-n))));const c=[];for(o=n;o;o-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(o=t;o;o-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(l?1:0),c.reverse();const h=c.join("");let f="";for(o=0;o<64;o+=8){let d=parseInt(h.substr(o,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},oE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uE(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const fE=new RegExp("^-?(0*)\\d{1,10}$"),dE=-2147483648,hE=2147483647,qm=function(e){if(fE.test(e)){const t=Number(e);if(t>=dE&&t<=hE)return t}return null},Ul=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw et("Exception was thrown by user callback.",n),t},Math.floor(0))}},mE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_s=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Uw(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){et(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',et(t)}}class Pa{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Pa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="5",h_="v",m_="s",p_="r",g_="f",y_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,__="ls",v_="p",Hu="ac",b_="websocket",x_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(t,n,i,l,s=!1,a="",r=!1,o=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=l,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=r,this.isUsingEmulator=o,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ui.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ui.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function yE(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function w_(e,t,n){A(typeof t=="string","typeof type must == string"),A(typeof n=="object","typeof params must == object");let i;if(t===b_)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===x_)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);yE(e)&&(n.ns=e.namespace);const l=[];return it(n,(s,a)=>{l.push(s+"="+a)}),i+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.counters_={}}incrementCounter(t,n=1){kt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return _S(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc={},wc={};function cd(e){const t=e.toString();return Sc[t]||(Sc[t]=new _E),Sc[t]}function vE(e,t){const n=e.toString();return wc[n]||(wc[n]=t()),wc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<i.length;++l)i[l]&&Ul(()=>{this.onMessage_(i[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="start",xE="close",SE="pLPCommand",wE="pRTLPCB",E_="id",T_="pw",C_="ser",EE="cb",TE="seg",CE="ts",NE="d",AE="dframe",N_=1870,A_=30,ME=N_-A_,RE=25e3,DE=3e4;class nl{constructor(t,n,i,l,s,a,r){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=l,this.authToken=s,this.transportSessionId=a,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ra(t),this.stats_=cd(n),this.urlFn=o=>(this.appCheckToken&&(o[Hu]=this.appCheckToken),w_(n,x_,o))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(DE)),aE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ud((...s)=>{const[a,r,o,c,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Vm)this.id=r,this.password=o;else if(a===xE)r?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(r,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,r]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,r)},()=>{this.onClosed_()},this.urlFn);const i={};i[Vm]="t",i[C_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[EE]=this.scriptTagHolder.uniqueCallbackIdentifier),i[h_]=od,this.transportSessionId&&(i[m_]=this.transportSessionId),this.lastSessionId&&(i[__]=this.lastSessionId),this.applicationId&&(i[v_]=this.applicationId),this.appCheckToken&&(i[Hu]=this.appCheckToken),typeof location<"u"&&location.hostname&&y_.test(location.hostname)&&(i[p_]=g_);const l=this.urlFn(i);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nl.forceAllow_=!0}static forceDisallow(){nl.forceDisallow_=!0}static isAvailable(){return nl.forceAllow_?!0:!nl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oE()&&!cE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Ne(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Qy(n),l=f_(i,ME);for(let s=0;s<l.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[AE]="t",i[E_]=t,i[T_]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Ne(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ud{constructor(t,n,i,l){this.onDisconnect=i,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=c_(),window[SE+this.uniqueCallbackIdentifier]=t,window[wE+this.uniqueCallbackIdentifier]=n,this.myIFrame=ud.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(r){qe("frame writing exception"),r.stack&&qe(r.stack),qe(r)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||qe("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[E_]=this.myID,t[T_]=this.myPW,t[C_]=this.currentSerial;let n=this.urlFn(t),i="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+A_+i.length<=N_;){const a=this.pendingSegs.shift();i=i+"&"+TE+l+"="+a.seg+"&"+CE+l+"="+a.ts+"&"+NE+l+"="+a.d,l++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(i,Math.floor(RE)),s=()=>{clearTimeout(l),i()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const l=i.readyState;(!l||l==="loaded"||l==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{qe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=16384,jE=45e3;let Rr=null;typeof MozWebSocket<"u"?Rr=MozWebSocket:typeof WebSocket<"u"&&(Rr=WebSocket);class At{constructor(t,n,i,l,s,a,r){this.connId=t,this.applicationId=i,this.appCheckToken=l,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ra(this.connId),this.stats_=cd(n),this.connURL=At.connectionURL_(n,a,r,l,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,l,s){const a={};return a[h_]=od,typeof location<"u"&&location.hostname&&y_.test(location.hostname)&&(a[p_]=g_),n&&(a[m_]=n),i&&(a[__]=i),l&&(a[Hu]=l),s&&(a[v_]=s),w_(t,b_,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ui.set("previous_websocket_failure",!0);try{let i;jS(),this.mySock=new Rr(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){At.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Rr!==null&&!At.forceDisallow_}static previouslyFailed(){return ui.isInMemoryStorage||ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){ui.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ls(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(A(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=Ne(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=f_(n,OE);i.length>1&&this.sendString_(String(i.length));for(let l=0;l<i.length;l++)this.sendString_(i[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jE))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}At.responsesRequiredToBeHealthy=2;At.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{static get ALL_TRANSPORTS(){return[nl,At]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=At&&At.isAvailable();let i=n&&!At.previouslyFailed();if(t.webSocketOnly&&(n||et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[At];else{const l=this.transports_=[];for(const s of Us.ALL_TRANSPORTS)s&&s.isAvailable()&&l.push(s);Us.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Us.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=6e4,zE=5e3,LE=10*1024,IE=100*1024,Ec="t",Gm="d",UE="s",Ym="r",BE="e",Fm="o",Qm="a",Km="n",Xm="p",HE="h";class qE{constructor(t,n,i,l,s,a,r,o,c,h){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=l,this.authToken_=s,this.onMessage_=a,this.onReady_=r,this.onDisconnect_=o,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ra("c:"+this.id+":"),this.transportManager_=new Us(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=_s(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>IE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ec in t){const n=t[Ec];n===Qm?this.upgradeIfSecondaryHealthy_():n===Ym?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Fm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Ql("t",t),i=Ql("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Xm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Qm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Km,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Ql("t",t),i=Ql("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Ql(Ec,t);if(Gm in t){const i=t[Gm];if(n===HE){const l={...i};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===Km){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===UE?this.onConnectionShutdown_(i):n===Ym?this.onReset_(i):n===BE?Bu("Server Error: "+i):n===Fm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bu("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),od!==i&&et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),_s(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_s(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Xm,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{put(t,n,i,l){}merge(t,n,i,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(t){this.allowedEvents_=t,this.listeners_={},A(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let l=0;l<i.length;l++)i[l].callback.apply(i[l].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const l=this.getInitialEvent(t);l&&n.apply(i,l)}off(t,n,i){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let s=0;s<l.length;s++)if(l[s].callback===n&&(!i||i===l[s].context)){l.splice(s,1);return}}validateEventType_(t){A(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends R_{static getInstance(){return new Dr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Py()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return A(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=32,Pm=768;class le{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[i]=this.pieces_[l],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Z(){return new le("")}function q(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function $n(e){return e.pieces_.length-e.pieceNum_}function ae(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new le(e.pieces_,t)}function D_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function VE(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function O_(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function j_(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new le(t,0)}function Ae(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof le)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let l=0;l<i.length;l++)i[l].length>0&&n.push(i[l])}return new le(n,0)}function F(e){return e.pieceNum_>=e.pieces_.length}function Ye(e,t){const n=q(e),i=q(t);if(n===null)return t;if(n===i)return Ye(ae(e),ae(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function fd(e,t){if($n(e)!==$n(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Mt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if($n(e)>$n(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class GE{constructor(t,n){this.errorPrefix_=n,this.parts_=O_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ho(this.parts_[i]);k_(this)}}function YE(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ho(t),k_(e)}function FE(e){const t=e.parts_.pop();e.byteLength_-=ho(t),e.parts_.length>0&&(e.byteLength_-=1)}function k_(e){if(e.byteLength_>Pm)throw new Error(e.errorPrefix_+"has a key path longer than "+Pm+" bytes ("+e.byteLength_+").");if(e.parts_.length>Zm)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Zm+") or object contains a cycle "+ci(e))}function ci(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends R_{static getInstance(){return new dd}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return A(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=1e3,QE=60*5*1e3,$m=30*1e3,KE=1.3,XE=3e4,ZE="server_kill",Wm=3;class on extends M_{constructor(t,n,i,l,s,a,r,o){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=l,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=r,this.authOverride_=o,this.id=on.nextPersistentConnectionId_++,this.log_=ra("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Kl,this.maxReconnectDelay_=QE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Dr.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const l=++this.requestNumber_,s={r:l,a:t,b:n};this.log_(Ne(s)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[l]=i)}get(t){this.initConnection_();const n=new sa,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const r=a.d;a.s==="ok"?n.resolve(r):n.reject(r)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,i,l){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const r={onComplete:l,hashFn:n,query:t,tag:i};this.listens.get(a).set(s,r),this.connected_&&this.sendListen_(r)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+i+" for "+l);const s={p:i},a="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,r=>{const o=r.d,c=r.s;on.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(l))===t&&(this.log_("listen response",r),c!=="ok"&&this.removeListen_(i,l),t.onComplete&&t.onComplete(c,o))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&kt(t,"w")){const i=wi(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||BS(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$m)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=US(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,l=>{const s=l.s,a=l.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+l),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,l)&&this.connected_&&this.sendUnlisten_(i,l,t._queryObject,n)}sendUnlisten_(t,n,i,l){this.log_("Unlisten on "+t+" for "+n);const s={p:t},a="n";l&&(s.q=i,s.t=l),this.sendRequest(a,s)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,l){const s={p:n,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{l&&setTimeout(()=>{l(a.s,a.d)},Math.floor(0))})}put(t,n,i,l){this.putInternal("p",t,n,i,l)}merge(t,n,i,l){this.putInternal("m",t,n,i,l)}putInternal(t,n,i,l,s){this.initConnection_();const a={p:n,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:l}),this.outstandingPutCount_++;const r=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(r):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ne(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Bu("Unrecognized action received from server: "+Ne(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Kl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Kl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XE&&(this.reconnectDelay_=Kl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*KE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+on.nextConnectionId_++,s=this.lastSessionId;let a=!1,r=null;const o=function(){r?r.close():(a=!0,i())},c=function(f){A(r,"sendRequest call when we're not connected not allowed."),r.sendRequest(f)};this.realtime_={close:o,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?qe("getToken() completed but was canceled"):(qe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,r=new qE(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,m=>{et(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(ZE)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&et(f),o())}}}interrupt(t){qe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Nm(this.interruptReasons_)&&(this.reconnectDelay_=Kl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(s=>rd(s)).join("$"):i="default";const l=this.removeListen_(t,i);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,n){const i=new le(t).toString();let l;if(this.listens.has(i)){const s=this.listens.get(i);l=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else l=void 0;return l}onAuthRevoked_(t,n){qe("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Wm&&(this.reconnectDelay_=$m,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){qe("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Wm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+r_.replace(/\./g,"-")]=1,Py()?t["framework.cordova"]=1:OS()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Dr.getInstance().currentlyOnline();return Nm(this.interruptReasons_)&&t}}on.nextPersistentConnectionId_=0;on.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new V(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new V(wl,t),l=new V(wl,n);return this.compare(i,l)!==0}minPost(){return V.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da;class z_ extends go{static get __EMPTY_NODE(){return Da}static set __EMPTY_NODE(t){Da=t}compare(t,n){return Il(t.name,n.name)}isDefinedOn(t){throw zl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return V.MIN}maxPost(){return new V(Ei,Da)}makePost(t,n){return A(typeof t=="string","KeyIndex indexValue must always be a string."),new V(t,Da)}toString(){return".key"}}const fl=new z_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,n,i,l,s=null){this.isReverse_=l,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?i(t.key,n):1,l&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Oe{constructor(t,n,i,l,s){this.key=t,this.value=n,this.color=i??Oe.RED,this.left=l??We.EMPTY_NODE,this.right=s??We.EMPTY_NODE}copy(t,n,i,l,s){return new Oe(t??this.key,n??this.value,i??this.color,l??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let l=this;const s=i(t,l.key);return s<0?l=l.copy(null,null,null,l.left.insert(t,n,i),null):s===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,n,i)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return We.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,l;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return We.EMPTY_NODE;l=i.right.min_(),i=i.copy(l.key,l.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Oe.RED=!0;Oe.BLACK=!1;class PE{copy(t,n,i,l,s){return this}insert(t,n,i){return new Oe(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class We{constructor(t,n=We.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new We(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Oe.BLACK,null,null))}remove(t){return new We(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Oe.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,l=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return l?l.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(l=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Oa(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Oa(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Oa(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Oa(this.root_,null,this.comparator_,!0,t)}}We.EMPTY_NODE=new PE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(e,t){return Il(e.name,t.name)}function hd(e,t){return Il(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu;function WE(e){qu=e}const L_=function(e){return typeof e=="number"?"number:"+d_(e):"string:"+e},I_=function(e){if(e.isLeafNode()){const t=e.val();A(typeof t=="string"||typeof t=="number"||typeof t=="object"&&kt(t,".sv"),"Priority must be a string or number.")}else A(e===qu||e.isEmpty(),"priority of unexpected type.");A(e===qu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm;class Re{static set __childrenNodeConstructor(t){Jm=t}static get __childrenNodeConstructor(){return Jm}constructor(t,n=Re.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),I_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Re(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Re.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return F(t)?this:q(t)===".priority"?this.priorityNode_:Re.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Re.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=q(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(A(i!==".priority"||$n(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Re.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+L_(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=d_(this.value_):t+=this.value_,this.lazyHash_=u_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Re.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Re.__childrenNodeConstructor?-1:(A(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,l=Re.VALUE_TYPE_ORDER.indexOf(n),s=Re.VALUE_TYPE_ORDER.indexOf(i);return A(l>=0,"Unknown leaf type: "+n),A(s>=0,"Unknown leaf type: "+i),l===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Re.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U_,B_;function JE(e){U_=e}function eT(e){B_=e}class tT extends go{compare(t,n){const i=t.node.getPriority(),l=n.node.getPriority(),s=i.compareTo(l);return s===0?Il(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return V.MIN}maxPost(){return new V(Ei,new Re("[PRIORITY-POST]",B_))}makePost(t,n){const i=U_(t);return new V(n,new Re("[PRIORITY-POST]",i))}toString(){return".priority"}}const ge=new tT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=Math.log(2);class iT{constructor(t){const n=s=>parseInt(Math.log(s)/nT,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const l=i(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Or=function(e,t,n,i){e.sort(t);const l=function(o,c){const h=c-o;let f,d;if(h===0)return null;if(h===1)return f=e[o],d=n?n(f):f,new Oe(d,f.node,Oe.BLACK,null,null);{const m=parseInt(h/2,10)+o,y=l(o,m),x=l(m+1,c);return f=e[m],d=n?n(f):f,new Oe(d,f.node,Oe.BLACK,y,x)}},s=function(o){let c=null,h=null,f=e.length;const d=function(y,x){const E=f-y,g=f;f-=y;const p=l(E+1,g),_=e[E],v=n?n(_):_;m(new Oe(v,_.node,x,null,p))},m=function(y){c?(c.left=y,c=y):(h=y,c=y)};for(let y=0;y<o.count;++y){const x=o.nextBitIsOne(),E=Math.pow(2,o.count-(y+1));x?d(E,Oe.BLACK):(d(E,Oe.BLACK),d(E,Oe.RED))}return h},a=new iT(e.length),r=s(a);return new We(i||t,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;const Ui={};class nn{static get Default(){return A(Ui&&ge,"ChildrenNode.ts has not been loaded"),Tc=Tc||new nn({".priority":Ui},{".priority":ge}),Tc}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=wi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof We?n:null}hasIndex(t){return kt(this.indexSet_,t.toString())}addIndex(t,n){A(t!==fl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let l=!1;const s=n.getIterator(V.Wrap);let a=s.getNext();for(;a;)l=l||t.isDefinedOn(a.node),i.push(a),a=s.getNext();let r;l?r=Or(i,t.getCompare()):r=Ui;const o=t.toString(),c={...this.indexSet_};c[o]=t;const h={...this.indexes_};return h[o]=r,new nn(h,c)}addToIndexes(t,n){const i=Nr(this.indexes_,(l,s)=>{const a=wi(this.indexSet_,s);if(A(a,"Missing index implementation for "+s),l===Ui)if(a.isDefinedOn(t.node)){const r=[],o=n.getIterator(V.Wrap);let c=o.getNext();for(;c;)c.name!==t.name&&r.push(c),c=o.getNext();return r.push(t),Or(r,a.getCompare())}else return Ui;else{const r=n.get(t.name);let o=l;return r&&(o=o.remove(new V(t.name,r))),o.insert(t,t.node)}});return new nn(i,this.indexSet_)}removeFromIndexes(t,n){const i=Nr(this.indexes_,l=>{if(l===Ui)return l;{const s=n.get(t.name);return s?l.remove(new V(t.name,s)):l}});return new nn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl;class z{static get EMPTY_NODE(){return Xl||(Xl=new z(new We(hd),null,nn.Default))}constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&I_(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xl}updatePriority(t){return this.children_.isEmpty()?this:new z(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Xl:n}}getChild(t){const n=q(t);return n===null?this:this.getImmediateChild(n).getChild(ae(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(A(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new V(t,n);let l,s;n.isEmpty()?(l=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(l=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_));const a=l.isEmpty()?Xl:this.priorityNode_;return new z(l,a,s)}}updateChild(t,n){const i=q(t);if(i===null)return n;{A(q(t)!==".priority"||$n(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(i).updateChild(ae(t),n);return this.updateImmediateChild(i,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,l=0,s=!0;if(this.forEachChild(ge,(a,r)=>{n[a]=r.val(t),i++,s&&z.INTEGER_REGEXP_.test(a)?l=Math.max(l,Number(a)):s=!1}),!t&&s&&l<2*i){const a=[];for(const r in n)a[r]=n[r];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+L_(this.getPriority().val())+":"),this.forEachChild(ge,(n,i)=>{const l=i.hash();l!==""&&(t+=":"+n+":"+l)}),this.lazyHash_=t===""?"":u_(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const l=this.resolveIndex_(i);if(l){const s=l.getPredecessorKey(new V(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new V(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new V(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,V.Wrap);let s=l.peek();for(;s!=null&&n.compare(s,t)<0;)l.getNext(),s=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,V.Wrap);let s=l.peek();for(;s!=null&&n.compare(s,t)>0;)l.getNext(),s=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===oa?-1:0}withIndex(t){if(t===fl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===fl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ge),l=n.getIterator(ge);let s=i.getNext(),a=l.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=l.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===fl?null:this.indexMap_.get(t.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class lT extends z{constructor(){super(new We(hd),z.EMPTY_NODE,nn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return z.EMPTY_NODE}isEmpty(){return!1}}const oa=new lT;Object.defineProperties(V,{MIN:{value:new V(wl,z.EMPTY_NODE)},MAX:{value:new V(Ei,oa)}});z_.__EMPTY_NODE=z.EMPTY_NODE;Re.__childrenNodeConstructor=z;WE(oa);eT(oa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=!0;function Te(e,t=null){if(e===null)return z.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),A(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Re(n,Te(t))}if(!(e instanceof Array)&&sT){const n=[];let i=!1;if(it(e,(a,r)=>{if(a.substring(0,1)!=="."){const o=Te(r);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new V(a,o)))}}),n.length===0)return z.EMPTY_NODE;const s=Or(n,$E,a=>a.name,hd);if(i){const a=Or(n,ge.getCompare());return new z(s,Te(t),new nn({".priority":a},{".priority":ge}))}else return new z(s,Te(t),nn.Default)}else{let n=z.EMPTY_NODE;return it(e,(i,l)=>{if(kt(e,i)&&i.substring(0,1)!=="."){const s=Te(l);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Te(t))}}JE(Te);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends go{constructor(t){super(),this.indexPath_=t,A(!F(t)&&q(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),l=this.extractChild(n.node),s=i.compareTo(l);return s===0?Il(t.name,n.name):s}makePost(t,n){const i=Te(t),l=z.EMPTY_NODE.updateChild(this.indexPath_,i);return new V(n,l)}maxPost(){const t=z.EMPTY_NODE.updateChild(this.indexPath_,oa);return new V(Ei,t)}toString(){return O_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends go{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Il(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return V.MIN}maxPost(){return V.MAX}makePost(t,n){const i=Te(t);return new V(n,i)}toString(){return".value"}}const oT=new rT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(e){return{type:"value",snapshotNode:e}}function El(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Bs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Hs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function cT(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t){this.index_=t}updateChild(t,n,i,l,s,a){A(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const r=t.getImmediateChild(n);return r.getChild(l).equals(i.getChild(l))&&r.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?t.hasChild(n)?a.trackChildChange(Bs(n,r)):A(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):r.isEmpty()?a.trackChildChange(El(n,i)):a.trackChildChange(Hs(n,i,r))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(ge,(l,s)=>{n.hasChild(l)||i.trackChildChange(Bs(l,s))}),n.isLeafNode()||n.forEachChild(ge,(l,s)=>{if(t.hasChild(l)){const a=t.getImmediateChild(l);a.equals(s)||i.trackChildChange(Hs(l,s,a))}else i.trackChildChange(El(l,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?z.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t){this.indexedFilter_=new md(t.getIndex()),this.index_=t.getIndex(),this.startPost_=qs.getStartPost_(t),this.endPost_=qs.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,l,s,a){return this.matches(new V(n,i))||(i=z.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,l,s,a)}updateFullNode(t,n,i){n.isLeafNode()&&(n=z.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(z.EMPTY_NODE);const s=this;return n.forEachChild(ge,(a,r)=>{s.matches(new V(a,r))||(l=l.updateImmediateChild(a,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new qs(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,l,s,a){return this.rangedFilter_.matches(new V(n,i))||(i=z.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,l,s,a):this.fullLimitUpdateChild_(t,n,i,s,a)}updateFullNode(t,n,i){let l;if(n.isLeafNode()||n.isEmpty())l=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const r=s.getNext();if(this.withinDirectionalStart(r))if(this.withinDirectionalEnd(r))l=l.updateImmediateChild(r.name,r.node),a++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(z.EMPTY_NODE);let s;this.reverse_?s=l.getReverseIterator(this.index_):s=l.getIterator(this.index_);let a=0;for(;s.hasNext();){const r=s.getNext();a<this.limit_&&this.withinDirectionalStart(r)&&this.withinDirectionalEnd(r)?a++:l=l.updateImmediateChild(r.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,l,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(d,m)=>f(m,d)}else a=this.index_.getCompare();const r=t;A(r.numChildren()===this.limit_,"");const o=new V(n,i),c=this.reverse_?r.getFirstChild(this.index_):r.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(r.hasChild(n)){const f=r.getImmediateChild(n);let d=l.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||r.hasChild(d.name));)d=l.getChildAfterChild(this.index_,d,this.reverse_);const m=d==null?1:a(d,o);if(h&&!i.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(Hs(n,i,f)),r.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(Bs(n,f));const x=r.updateImmediateChild(n,z.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(El(d.name,d.node)),x.updateImmediateChild(d.name,d.node)):x}}else return i.isEmpty()?t:h&&a(c,o)>=0?(s!=null&&(s.trackChildChange(Bs(c.name,c.node)),s.trackChildChange(El(n,i))),r.updateImmediateChild(n,i).updateImmediateChild(c.name,z.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wl}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ei}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ge}copy(){const t=new pd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function fT(e){return e.loadsAllData()?new md(e.getIndex()):e.hasLimit()?new uT(e):new qs(e)}function ep(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ge?n="$priority":e.index_===oT?n="$value":e.index_===fl?n="$key":(A(e.index_ instanceof aT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ne(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=Ne(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+Ne(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=Ne(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+Ne(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function tp(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ge&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends M_{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(A(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,l){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=l,this.log_=ra("p:rest:"),this.listens_={}}listen(t,n,i,l){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=jr.getListenId_(t,i),r={};this.listens_[a]=r;const o=ep(t._queryParams);this.restRequest_(s+".json",o,(c,h)=>{let f=h;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,i),wi(this.listens_,a)===r){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",l(d,null)}})}unlisten(t,n){const i=jr.getListenId_(t,n);delete this.listens_[i]}get(t){const n=ep(t._queryParams),i=t._path.toString(),l=new sa;return this.restRequest_(i+".json",n,(s,a)=>{let r=a;s===404&&(r=null,s=null),s===null?(this.onDataUpdate_(i,r,!1,null),l.resolve(r)):l.reject(new Error(r))}),l.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,s])=>{l&&l.accessToken&&(n.auth=l.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+HS(n);this.log_("Sending REST request for "+a);const r=new XMLHttpRequest;r.onreadystatechange=()=>{if(i&&r.readyState===4){this.log_("REST Response for "+a+" received. status:",r.status,"response:",r.responseText);let o=null;if(r.status>=200&&r.status<300){try{o=Ls(r.responseText)}catch{et("Failed to parse JSON response for "+a+": "+r.responseText)}i(null,o)}else r.status!==401&&r.status!==404&&et("Got unsuccessful REST response for "+a+" Status: "+r.status),i(r.status);i=null}},r.open("GET",a,!0),r.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return{value:null,children:new Map}}function q_(e,t,n){if(F(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=q(t);e.children.has(i)||e.children.set(i,kr());const l=e.children.get(i);t=ae(t),q_(l,t,n)}}function Vu(e,t,n){e.value!==null?n(t,e.value):hT(e,(i,l)=>{const s=new le(t.toString()+"/"+i);Vu(l,s,n)})}function hT(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&it(this.last_,(i,l)=>{n[i]=n[i]-l}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=10*1e3,pT=30*1e3,gT=5*60*1e3;class yT{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new mT(t);const i=np+(pT-np)*Math.random();_s(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;it(t,(l,s)=>{s>0&&kt(this.statsToReport_,l)&&(n[l]=s,i=!0)}),i&&this.server_.reportStats(n),_s(this.reportStats_.bind(this),Math.floor(Math.random()*2*gT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rt||(Rt={}));function V_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function yd(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Rt.ACK_USER_WRITE,this.source=V_()}operationForChild(t){if(F(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new le(t));return new zr(Z(),n,this.revert)}}else return A(q(this.path)===t,"operationForChild called for unrelated child."),new zr(ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,n){this.source=t,this.path=n,this.type=Rt.LISTEN_COMPLETE}operationForChild(t){return F(this.path)?new Vs(this.source,Z()):new Vs(this.source,ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Rt.OVERWRITE}operationForChild(t){return F(this.path)?new Ti(this.source,Z(),this.snap.getImmediateChild(t)):new Ti(this.source,ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Rt.MERGE}operationForChild(t){if(F(this.path)){const n=this.children.subtree(new le(t));return n.isEmpty()?null:n.value?new Ti(this.source,Z(),n.value):new Gs(this.source,Z(),n)}else return A(q(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Gs(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(F(t))return this.isFullyInitialized()&&!this.filtered_;const n=q(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function vT(e,t,n,i){const l=[],s=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(cT(a.childName,a.snapshotNode))}),Zl(e,l,"child_removed",t,i,n),Zl(e,l,"child_added",t,i,n),Zl(e,l,"child_moved",s,i,n),Zl(e,l,"child_changed",t,i,n),Zl(e,l,"value",t,i,n),l}function Zl(e,t,n,i,l,s){const a=i.filter(r=>r.type===n);a.sort((r,o)=>xT(e,r,o)),a.forEach(r=>{const o=bT(e,r,s);l.forEach(c=>{c.respondsTo(r.type)&&t.push(c.createEvent(o,e.query_))})})}function bT(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function xT(e,t,n){if(t.childName==null||n.childName==null)throw zl("Should only compare child_ events.");const i=new V(t.childName,t.snapshotNode),l=new V(n.childName,n.snapshotNode);return e.index_.compare(i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(e,t){return{eventCache:e,serverCache:t}}function vs(e,t,n,i){return yo(new Wn(t,n,i),e.serverCache)}function G_(e,t,n,i){return yo(e.eventCache,new Wn(t,n,i))}function Lr(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ci(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc;const ST=()=>(Cc||(Cc=new We(rE)),Cc);class ue{static fromObject(t){let n=new ue(null);return it(t,(i,l)=>{n=n.set(new le(i),l)}),n}constructor(t,n=ST()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(F(t))return null;{const i=q(t),l=this.children.get(i);if(l!==null){const s=l.findRootMostMatchingPathAndValue(ae(t),n);return s!=null?{path:Ae(new le(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(F(t))return this;{const n=q(t),i=this.children.get(n);return i!==null?i.subtree(ae(t)):new ue(null)}}set(t,n){if(F(t))return new ue(n,this.children);{const i=q(t),s=(this.children.get(i)||new ue(null)).set(ae(t),n),a=this.children.insert(i,s);return new ue(this.value,a)}}remove(t){if(F(t))return this.children.isEmpty()?new ue(null):new ue(null,this.children);{const n=q(t),i=this.children.get(n);if(i){const l=i.remove(ae(t));let s;return l.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,l),this.value===null&&s.isEmpty()?new ue(null):new ue(this.value,s)}else return this}}get(t){if(F(t))return this.value;{const n=q(t),i=this.children.get(n);return i?i.get(ae(t)):null}}setTree(t,n){if(F(t))return n;{const i=q(t),s=(this.children.get(i)||new ue(null)).setTree(ae(t),n);let a;return s.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,s),new ue(this.value,a)}}fold(t){return this.fold_(Z(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((l,s)=>{i[l]=s.fold_(Ae(t,l),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Z(),n)}findOnPath_(t,n,i){const l=this.value?i(n,this.value):!1;if(l)return l;if(F(t))return null;{const s=q(t),a=this.children.get(s);return a?a.findOnPath_(ae(t),Ae(n,s),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Z(),n)}foreachOnPath_(t,n,i){if(F(t))return this;{this.value&&i(n,this.value);const l=q(t),s=this.children.get(l);return s?s.foreachOnPath_(ae(t),Ae(n,l),i):new ue(null)}}foreach(t){this.foreach_(Z(),t)}foreach_(t,n){this.children.inorderTraversal((i,l)=>{l.foreach_(Ae(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.writeTree_=t}static empty(){return new Dt(new ue(null))}}function bs(e,t,n){if(F(t))return new Dt(new ue(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const l=i.path;let s=i.value;const a=Ye(l,t);return s=s.updateChild(a,n),new Dt(e.writeTree_.set(l,s))}else{const l=new ue(n),s=e.writeTree_.setTree(t,l);return new Dt(s)}}}function ip(e,t,n){let i=e;return it(n,(l,s)=>{i=bs(i,Ae(t,l),s)}),i}function lp(e,t){if(F(t))return Dt.empty();{const n=e.writeTree_.setTree(t,new ue(null));return new Dt(n)}}function Gu(e,t){return ki(e,t)!=null}function ki(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ye(n.path,t)):null}function sp(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ge,(i,l)=>{t.push(new V(i,l))}):e.writeTree_.children.inorderTraversal((i,l)=>{l.value!=null&&t.push(new V(i,l.value))}),t}function Gn(e,t){if(F(t))return e;{const n=ki(e,t);return n!=null?new Dt(new ue(n)):new Dt(e.writeTree_.subtree(t))}}function Yu(e){return e.writeTree_.isEmpty()}function Tl(e,t){return Y_(Z(),e.writeTree_,t)}function Y_(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((l,s)=>{l===".priority"?(A(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=Y_(Ae(e,l),s,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(Ae(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(e,t){return X_(t,e)}function wT(e,t,n,i,l){A(i>e.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:l}),l&&(e.visibleWrites=bs(e.visibleWrites,t,n)),e.lastWriteId=i}function ET(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function TT(e,t){const n=e.allWrites.findIndex(r=>r.writeId===t);A(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let l=i.visible,s=!1,a=e.allWrites.length-1;for(;l&&a>=0;){const r=e.allWrites[a];r.visible&&(a>=n&&CT(r,i.path)?l=!1:Mt(i.path,r.path)&&(s=!0)),a--}if(l){if(s)return NT(e),!0;if(i.snap)e.visibleWrites=lp(e.visibleWrites,i.path);else{const r=i.children;it(r,o=>{e.visibleWrites=lp(e.visibleWrites,Ae(i.path,o))})}return!0}else return!1}function CT(e,t){if(e.snap)return Mt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Mt(Ae(e.path,n),t))return!0;return!1}function NT(e){e.visibleWrites=F_(e.allWrites,AT,Z()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function AT(e){return e.visible}function F_(e,t,n){let i=Dt.empty();for(let l=0;l<e.length;++l){const s=e[l];if(t(s)){const a=s.path;let r;if(s.snap)Mt(n,a)?(r=Ye(n,a),i=bs(i,r,s.snap)):Mt(a,n)&&(r=Ye(a,n),i=bs(i,Z(),s.snap.getChild(r)));else if(s.children){if(Mt(n,a))r=Ye(n,a),i=ip(i,r,s.children);else if(Mt(a,n))if(r=Ye(a,n),F(r))i=ip(i,Z(),s.children);else{const o=wi(s.children,q(r));if(o){const c=o.getChild(ae(r));i=bs(i,Z(),c)}}}else throw zl("WriteRecord should have .snap or .children")}}return i}function Q_(e,t,n,i,l){if(!i&&!l){const s=ki(e.visibleWrites,t);if(s!=null)return s;{const a=Gn(e.visibleWrites,t);if(Yu(a))return n;if(n==null&&!Gu(a,Z()))return null;{const r=n||z.EMPTY_NODE;return Tl(a,r)}}}else{const s=Gn(e.visibleWrites,t);if(!l&&Yu(s))return n;if(!l&&n==null&&!Gu(s,Z()))return null;{const a=function(c){return(c.visible||l)&&(!i||!~i.indexOf(c.writeId))&&(Mt(c.path,t)||Mt(t,c.path))},r=F_(e.allWrites,a,t),o=n||z.EMPTY_NODE;return Tl(r,o)}}}function MT(e,t,n){let i=z.EMPTY_NODE;const l=ki(e.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(ge,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(n){const s=Gn(e.visibleWrites,t);return n.forEachChild(ge,(a,r)=>{const o=Tl(Gn(s,new le(a)),r);i=i.updateImmediateChild(a,o)}),sp(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const s=Gn(e.visibleWrites,t);return sp(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function RT(e,t,n,i,l){A(i||l,"Either existingEventSnap or existingServerSnap must exist");const s=Ae(t,n);if(Gu(e.visibleWrites,s))return null;{const a=Gn(e.visibleWrites,s);return Yu(a)?l.getChild(n):Tl(a,l.getChild(n))}}function DT(e,t,n,i){const l=Ae(t,n),s=ki(e.visibleWrites,l);if(s!=null)return s;if(i.isCompleteForChild(n)){const a=Gn(e.visibleWrites,l);return Tl(a,i.getNode().getImmediateChild(n))}else return null}function OT(e,t){return ki(e.visibleWrites,t)}function jT(e,t,n,i,l,s,a){let r;const o=Gn(e.visibleWrites,t),c=ki(o,Z());if(c!=null)r=c;else if(n!=null)r=Tl(o,n);else return[];if(r=r.withIndex(a),!r.isEmpty()&&!r.isLeafNode()){const h=[],f=a.getCompare(),d=s?r.getReverseIteratorFrom(i,a):r.getIteratorFrom(i,a);let m=d.getNext();for(;m&&h.length<l;)f(m,i)!==0&&h.push(m),m=d.getNext();return h}else return[]}function kT(){return{visibleWrites:Dt.empty(),allWrites:[],lastWriteId:-1}}function Ir(e,t,n,i){return Q_(e.writeTree,e.treePath,t,n,i)}function _d(e,t){return MT(e.writeTree,e.treePath,t)}function ap(e,t,n,i){return RT(e.writeTree,e.treePath,t,n,i)}function Ur(e,t){return OT(e.writeTree,Ae(e.treePath,t))}function zT(e,t,n,i,l,s){return jT(e.writeTree,e.treePath,t,n,i,l,s)}function vd(e,t,n){return DT(e.writeTree,e.treePath,t,n)}function K_(e,t){return X_(Ae(e.treePath,t),e.writeTree)}function X_(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;A(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),A(i!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(i);if(l){const s=l.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Hs(i,t.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Bs(i,l.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,El(i,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Hs(i,t.snapshotNode,l.oldSnap));else throw zl("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const Z_=new IT;class bd{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new Wn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vd(this.writes_,t,i)}}getChildAfterChild(t,n,i){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ci(this.viewCache_),s=zT(this.writes_,l,n,1,i,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(e){return{filter:e}}function BT(e,t){A(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),A(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function HT(e,t,n,i,l){const s=new LT;let a,r;if(n.type===Rt.OVERWRITE){const c=n;c.source.fromUser?a=Fu(e,t,c.path,c.snap,i,l,s):(A(c.source.fromServer,"Unknown source."),r=c.source.tagged||t.serverCache.isFiltered()&&!F(c.path),a=Br(e,t,c.path,c.snap,i,l,r,s))}else if(n.type===Rt.MERGE){const c=n;c.source.fromUser?a=VT(e,t,c.path,c.children,i,l,s):(A(c.source.fromServer,"Unknown source."),r=c.source.tagged||t.serverCache.isFiltered(),a=Qu(e,t,c.path,c.children,i,l,r,s))}else if(n.type===Rt.ACK_USER_WRITE){const c=n;c.revert?a=FT(e,t,c.path,i,l,s):a=GT(e,t,c.path,c.affectedTree,i,l,s)}else if(n.type===Rt.LISTEN_COMPLETE)a=YT(e,t,n.path,i,s);else throw zl("Unknown operation type: "+n.type);const o=s.getChanges();return qT(t,a,o),{viewCache:a,changes:o}}function qT(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const l=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Lr(e);(n.length>0||!e.eventCache.isFullyInitialized()||l&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(H_(Lr(t)))}}function P_(e,t,n,i,l,s){const a=t.eventCache;if(Ur(i,n)!=null)return t;{let r,o;if(F(n))if(A(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Ci(t),h=c instanceof z?c:z.EMPTY_NODE,f=_d(i,h);r=e.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const c=Ir(i,Ci(t));r=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const c=q(n);if(c===".priority"){A($n(n)===1,"Can't have a priority with additional path components");const h=a.getNode();o=t.serverCache.getNode();const f=ap(i,n,h,o);f!=null?r=e.filter.updatePriority(h,f):r=a.getNode()}else{const h=ae(n);let f;if(a.isCompleteForChild(c)){o=t.serverCache.getNode();const d=ap(i,n,a.getNode(),o);d!=null?f=a.getNode().getImmediateChild(c).updateChild(h,d):f=a.getNode().getImmediateChild(c)}else f=vd(i,c,t.serverCache);f!=null?r=e.filter.updateChild(a.getNode(),c,f,h,l,s):r=a.getNode()}}return vs(t,r,a.isFullyInitialized()||F(n),e.filter.filtersNodes())}}function Br(e,t,n,i,l,s,a,r){const o=t.serverCache;let c;const h=a?e.filter:e.filter.getIndexedFilter();if(F(n))c=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const m=o.getNode().updateChild(n,i);c=h.updateFullNode(o.getNode(),m,null)}else{const m=q(n);if(!o.isCompleteForPath(n)&&$n(n)>1)return t;const y=ae(n),E=o.getNode().getImmediateChild(m).updateChild(y,i);m===".priority"?c=h.updatePriority(o.getNode(),E):c=h.updateChild(o.getNode(),m,E,y,Z_,null)}const f=G_(t,c,o.isFullyInitialized()||F(n),h.filtersNodes()),d=new bd(l,f,s);return P_(e,f,n,l,d,r)}function Fu(e,t,n,i,l,s,a){const r=t.eventCache;let o,c;const h=new bd(l,t,s);if(F(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,a),o=vs(t,c,!0,e.filter.filtersNodes());else{const f=q(n);if(f===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),o=vs(t,c,r.isFullyInitialized(),r.isFiltered());else{const d=ae(n),m=r.getNode().getImmediateChild(f);let y;if(F(d))y=i;else{const x=h.getCompleteChild(f);x!=null?D_(d)===".priority"&&x.getChild(j_(d)).isEmpty()?y=x:y=x.updateChild(d,i):y=z.EMPTY_NODE}if(m.equals(y))o=t;else{const x=e.filter.updateChild(r.getNode(),f,y,d,h,a);o=vs(t,x,r.isFullyInitialized(),e.filter.filtersNodes())}}}return o}function rp(e,t){return e.eventCache.isCompleteForChild(t)}function VT(e,t,n,i,l,s,a){let r=t;return i.foreach((o,c)=>{const h=Ae(n,o);rp(t,q(h))&&(r=Fu(e,r,h,c,l,s,a))}),i.foreach((o,c)=>{const h=Ae(n,o);rp(t,q(h))||(r=Fu(e,r,h,c,l,s,a))}),r}function op(e,t,n){return n.foreach((i,l)=>{t=t.updateChild(i,l)}),t}function Qu(e,t,n,i,l,s,a,r){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let o=t,c;F(n)?c=i:c=new ue(null).setTree(n,i);const h=t.serverCache.getNode();return c.children.inorderTraversal((f,d)=>{if(h.hasChild(f)){const m=t.serverCache.getNode().getImmediateChild(f),y=op(e,m,d);o=Br(e,o,new le(f),y,l,s,a,r)}}),c.children.inorderTraversal((f,d)=>{const m=!t.serverCache.isCompleteForChild(f)&&d.value===null;if(!h.hasChild(f)&&!m){const y=t.serverCache.getNode().getImmediateChild(f),x=op(e,y,d);o=Br(e,o,new le(f),x,l,s,a,r)}}),o}function GT(e,t,n,i,l,s,a){if(Ur(l,n)!=null)return t;const r=t.serverCache.isFiltered(),o=t.serverCache;if(i.value!=null){if(F(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return Br(e,t,n,o.getNode().getChild(n),l,s,r,a);if(F(n)){let c=new ue(null);return o.getNode().forEachChild(fl,(h,f)=>{c=c.set(new le(h),f)}),Qu(e,t,n,c,l,s,r,a)}else return t}else{let c=new ue(null);return i.foreach((h,f)=>{const d=Ae(n,h);o.isCompleteForPath(d)&&(c=c.set(h,o.getNode().getChild(d)))}),Qu(e,t,n,c,l,s,r,a)}}function YT(e,t,n,i,l){const s=t.serverCache,a=G_(t,s.getNode(),s.isFullyInitialized()||F(n),s.isFiltered());return P_(e,a,n,i,Z_,l)}function FT(e,t,n,i,l,s){let a;if(Ur(i,n)!=null)return t;{const r=new bd(i,t,l),o=t.eventCache.getNode();let c;if(F(n)||q(n)===".priority"){let h;if(t.serverCache.isFullyInitialized())h=Ir(i,Ci(t));else{const f=t.serverCache.getNode();A(f instanceof z,"serverChildren would be complete if leaf node"),h=_d(i,f)}h=h,c=e.filter.updateFullNode(o,h,s)}else{const h=q(n);let f=vd(i,h,t.serverCache);f==null&&t.serverCache.isCompleteForChild(h)&&(f=o.getImmediateChild(h)),f!=null?c=e.filter.updateChild(o,h,f,ae(n),r,s):t.eventCache.getNode().hasChild(h)?c=e.filter.updateChild(o,h,z.EMPTY_NODE,ae(n),r,s):c=o,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Ir(i,Ci(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,s)))}return a=t.serverCache.isFullyInitialized()||Ur(i,Z())!=null,vs(t,c,a,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,l=new md(i.getIndex()),s=fT(i);this.processor_=UT(s);const a=n.serverCache,r=n.eventCache,o=l.updateFullNode(z.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(z.EMPTY_NODE,r.getNode(),null),h=new Wn(o,a.isFullyInitialized(),l.filtersNodes()),f=new Wn(c,r.isFullyInitialized(),s.filtersNodes());this.viewCache_=yo(f,h),this.eventGenerator_=new _T(this.query_)}get query(){return this.query_}}function KT(e){return e.viewCache_.serverCache.getNode()}function XT(e){return Lr(e.viewCache_)}function ZT(e,t){const n=Ci(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!F(t)&&!n.getImmediateChild(q(t)).isEmpty())?n.getChild(t):null}function cp(e){return e.eventRegistrations_.length===0}function PT(e,t){e.eventRegistrations_.push(t)}function up(e,t,n){const i=[];if(n){A(t==null,"A cancel should cancel all event registrations.");const l=e.query._path;e.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,l);a&&i.push(a)})}if(t){let l=[];for(let s=0;s<e.eventRegistrations_.length;++s){const a=e.eventRegistrations_[s];if(!a.matches(t))l.push(a);else if(t.hasAnyCallback()){l=l.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=l}else e.eventRegistrations_=[];return i}function fp(e,t,n,i){t.type===Rt.MERGE&&t.source.queryId!==null&&(A(Ci(e.viewCache_),"We should always have a full cache before handling merges"),A(Lr(e.viewCache_),"Missing event cache, even though we have a server cache"));const l=e.viewCache_,s=HT(e.processor_,l,t,n,i);return BT(e.processor_,s.viewCache),A(s.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,$_(e,s.changes,s.viewCache.eventCache.getNode(),null)}function $T(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ge,(s,a)=>{i.push(El(s,a))}),n.isFullyInitialized()&&i.push(H_(n.getNode())),$_(e,i,n.getNode(),t)}function $_(e,t,n,i){const l=i?[i]:e.eventRegistrations_;return vT(e.eventGenerator_,t,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr;class W_{constructor(){this.views=new Map}}function WT(e){A(!Hr,"__referenceConstructor has already been defined"),Hr=e}function JT(){return A(Hr,"Reference.ts has not been loaded"),Hr}function e2(e){return e.views.size===0}function xd(e,t,n,i){const l=t.source.queryId;if(l!==null){const s=e.views.get(l);return A(s!=null,"SyncTree gave us an op for an invalid query."),fp(s,t,n,i)}else{let s=[];for(const a of e.views.values())s=s.concat(fp(a,t,n,i));return s}}function J_(e,t,n,i,l){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let r=Ir(n,l?i:null),o=!1;r?o=!0:i instanceof z?(r=_d(n,i),o=!1):(r=z.EMPTY_NODE,o=!1);const c=yo(new Wn(r,o,!1),new Wn(i,l,!1));return new QT(t,c)}return a}function t2(e,t,n,i,l,s){const a=J_(e,t,i,l,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),PT(a,n),$T(a,n)}function n2(e,t,n,i){const l=t._queryIdentifier,s=[];let a=[];const r=Jn(e);if(l==="default")for(const[o,c]of e.views.entries())a=a.concat(up(c,n,i)),cp(c)&&(e.views.delete(o),c.query._queryParams.loadsAllData()||s.push(c.query));else{const o=e.views.get(l);o&&(a=a.concat(up(o,n,i)),cp(o)&&(e.views.delete(l),o.query._queryParams.loadsAllData()||s.push(o.query)))}return r&&!Jn(e)&&s.push(new(JT())(t._repo,t._path)),{removed:s,events:a}}function ev(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Yn(e,t){let n=null;for(const i of e.views.values())n=n||ZT(i,t);return n}function tv(e,t){if(t._queryParams.loadsAllData())return vo(e);{const i=t._queryIdentifier;return e.views.get(i)}}function nv(e,t){return tv(e,t)!=null}function Jn(e){return vo(e)!=null}function vo(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qr;function i2(e){A(!qr,"__referenceConstructor has already been defined"),qr=e}function l2(){return A(qr,"Reference.ts has not been loaded"),qr}let s2=1;class dp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ue(null),this.pendingWriteTree_=kT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Sd(e,t,n,i,l){return wT(e.pendingWriteTree_,t,n,i,l),l?ua(e,new Ti(V_(),t,n)):[]}function fi(e,t,n=!1){const i=ET(e.pendingWriteTree_,t);if(TT(e.pendingWriteTree_,t)){let s=new ue(null);return i.snap!=null?s=s.set(Z(),!0):it(i.children,a=>{s=s.set(new le(a),!0)}),ua(e,new zr(i.path,s,n))}else return[]}function ca(e,t,n){return ua(e,new Ti(gd(),t,n))}function a2(e,t,n){const i=ue.fromObject(n);return ua(e,new Gs(gd(),t,i))}function r2(e,t){return ua(e,new Vs(gd(),t))}function o2(e,t,n){const i=wd(e,n);if(i){const l=Ed(i),s=l.path,a=l.queryId,r=Ye(s,t),o=new Vs(yd(a),r);return Td(e,s,o)}else return[]}function Vr(e,t,n,i,l=!1){const s=t._path,a=e.syncPointTree_.get(s);let r=[];if(a&&(t._queryIdentifier==="default"||nv(a,t))){const o=n2(a,t,n,i);e2(a)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=o.removed;if(r=o.events,!l){const h=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=e.syncPointTree_.findOnPath(s,(d,m)=>Jn(m));if(h&&!f){const d=e.syncPointTree_.subtree(s);if(!d.isEmpty()){const m=f2(d);for(let y=0;y<m.length;++y){const x=m[y],E=x.query,g=av(e,x);e.listenProvider_.startListening(xs(E),Ys(e,E),g.hashFn,g.onComplete)}}}!f&&c.length>0&&!i&&(h?e.listenProvider_.stopListening(xs(t),null):c.forEach(d=>{const m=e.queryToTagMap.get(xo(d));e.listenProvider_.stopListening(xs(d),m)}))}d2(e,c)}return r}function iv(e,t,n,i){const l=wd(e,i);if(l!=null){const s=Ed(l),a=s.path,r=s.queryId,o=Ye(a,t),c=new Ti(yd(r),o,n);return Td(e,a,c)}else return[]}function c2(e,t,n,i){const l=wd(e,i);if(l){const s=Ed(l),a=s.path,r=s.queryId,o=Ye(a,t),c=ue.fromObject(n),h=new Gs(yd(r),o,c);return Td(e,a,h)}else return[]}function Ku(e,t,n,i=!1){const l=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(l,(d,m)=>{const y=Ye(d,l);s=s||Yn(m,y),a=a||Jn(m)});let r=e.syncPointTree_.get(l);r?(a=a||Jn(r),s=s||Yn(r,Z())):(r=new W_,e.syncPointTree_=e.syncPointTree_.set(l,r));let o;s!=null?o=!0:(o=!1,s=z.EMPTY_NODE,e.syncPointTree_.subtree(l).foreachChild((m,y)=>{const x=Yn(y,Z());x&&(s=s.updateImmediateChild(m,x))}));const c=nv(r,t);if(!c&&!t._queryParams.loadsAllData()){const d=xo(t);A(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");const m=h2();e.queryToTagMap.set(d,m),e.tagToQueryMap.set(m,d)}const h=_o(e.pendingWriteTree_,l);let f=t2(r,t,n,h,s,o);if(!c&&!a&&!i){const d=tv(r,t);f=f.concat(m2(e,t,d))}return f}function bo(e,t,n){const l=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(a,r)=>{const o=Ye(a,t),c=Yn(r,o);if(c)return c});return Q_(l,t,s,n,!0)}function u2(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(c,h)=>{const f=Ye(c,n);i=i||Yn(h,f)});let l=e.syncPointTree_.get(n);l?i=i||Yn(l,Z()):(l=new W_,e.syncPointTree_=e.syncPointTree_.set(n,l));const s=i!=null,a=s?new Wn(i,!0,!1):null,r=_o(e.pendingWriteTree_,t._path),o=J_(l,t,r,s?a.getNode():z.EMPTY_NODE,s);return XT(o)}function ua(e,t){return lv(t,e.syncPointTree_,null,_o(e.pendingWriteTree_,Z()))}function lv(e,t,n,i){if(F(e.path))return sv(e,t,n,i);{const l=t.get(Z());n==null&&l!=null&&(n=Yn(l,Z()));let s=[];const a=q(e.path),r=e.operationForChild(a),o=t.children.get(a);if(o&&r){const c=n?n.getImmediateChild(a):null,h=K_(i,a);s=s.concat(lv(r,o,c,h))}return l&&(s=s.concat(xd(l,e,i,n))),s}}function sv(e,t,n,i){const l=t.get(Z());n==null&&l!=null&&(n=Yn(l,Z()));let s=[];return t.children.inorderTraversal((a,r)=>{const o=n?n.getImmediateChild(a):null,c=K_(i,a),h=e.operationForChild(a);h&&(s=s.concat(sv(h,r,o,c)))}),l&&(s=s.concat(xd(l,e,i,n))),s}function av(e,t){const n=t.query,i=Ys(e,n);return{hashFn:()=>(KT(t)||z.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return i?o2(e,n._path,i):r2(e,n._path);{const s=uE(l,n);return Vr(e,n,null,s)}}}}function Ys(e,t){const n=xo(t);return e.queryToTagMap.get(n)}function xo(e){return e._path.toString()+"$"+e._queryIdentifier}function wd(e,t){return e.tagToQueryMap.get(t)}function Ed(e){const t=e.indexOf("$");return A(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new le(e.substr(0,t))}}function Td(e,t,n){const i=e.syncPointTree_.get(t);A(i,"Missing sync point for query tag that we're tracking");const l=_o(e.pendingWriteTree_,t);return xd(i,n,l,null)}function f2(e){return e.fold((t,n,i)=>{if(n&&Jn(n))return[vo(n)];{let l=[];return n&&(l=ev(n)),it(i,(s,a)=>{l=l.concat(a)}),l}})}function xs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(l2())(e._repo,e._path):e}function d2(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const l=xo(i),s=e.queryToTagMap.get(l);e.queryToTagMap.delete(l),e.tagToQueryMap.delete(s)}}}function h2(){return s2++}function m2(e,t,n){const i=t._path,l=Ys(e,t),s=av(e,n),a=e.listenProvider_.startListening(xs(t),l,s.hashFn,s.onComplete),r=e.syncPointTree_.subtree(i);if(l)A(!Jn(r.value),"If we're adding a query, it shouldn't be shadowed");else{const o=r.fold((c,h,f)=>{if(!F(c)&&h&&Jn(h))return[vo(h).query];{let d=[];return h&&(d=d.concat(ev(h).map(m=>m.query))),it(f,(m,y)=>{d=d.concat(y)}),d}});for(let c=0;c<o.length;++c){const h=o[c];e.listenProvider_.stopListening(xs(h),Ys(e,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Cd(n)}node(){return this.node_}}class Nd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ae(this.path_,t);return new Nd(this.syncTree_,n)}node(){return bo(this.syncTree_,this.path_)}}const p2=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},hp=function(e,t,n){if(!e||typeof e!="object")return e;if(A(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return g2(e[".sv"],t,n);if(typeof e[".sv"]=="object")return y2(e[".sv"],t);A(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},g2=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:A(!1,"Unexpected server value: "+e)}},y2=function(e,t,n){e.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&A(!1,"Unexpected increment value: "+i);const l=t.node();if(A(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return i;const a=l.getValue();return typeof a!="number"?i:a+i},_2=function(e,t,n,i){return Md(t,new Nd(n,e),i)},Ad=function(e,t,n){return Md(e,new Cd(t),n)};function Md(e,t,n){const i=e.getPriority().val(),l=hp(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const a=e,r=hp(a.getValue(),t,n);return r!==a.getValue()||l!==a.getPriority().val()?new Re(r,Te(l)):e}else{const a=e;return s=a,l!==a.getPriority().val()&&(s=s.updatePriority(new Re(l))),a.forEachChild(ge,(r,o)=>{const c=Md(o,t.getImmediateChild(r),n);c!==o&&(s=s.updateImmediateChild(r,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function So(e,t){let n=t instanceof le?t:new le(t),i=e,l=q(n);for(;l!==null;){const s=wi(i.node.children,l)||{children:{},childCount:0};i=new Rd(l,i,s),n=ae(n),l=q(n)}return i}function zi(e){return e.node.value}function Dd(e,t){e.node.value=t,Xu(e)}function rv(e){return e.node.childCount>0}function v2(e){return zi(e)===void 0&&!rv(e)}function wo(e,t){it(e.node.children,(n,i)=>{t(new Rd(n,e,i))})}function ov(e,t,n,i){n&&t(e),wo(e,l=>{ov(l,t,!0)})}function b2(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function fa(e){return new le(e.parent===null?e.name:fa(e.parent)+"/"+e.name)}function Xu(e){e.parent!==null&&x2(e.parent,e.name,e)}function x2(e,t,n){const i=v2(n),l=kt(e.node.children,t);i&&l?(delete e.node.children[t],e.node.childCount--,Xu(e)):!i&&!l&&(e.node.children[t]=n.node,e.node.childCount++,Xu(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/[\[\].#$\/\u0000-\u001F\u007F]/,w2=/[\[\].#$\u0000-\u001F\u007F]/,Nc=10*1024*1024,cv=function(e){return typeof e=="string"&&e.length!==0&&!S2.test(e)},uv=function(e){return typeof e=="string"&&e.length!==0&&!w2.test(e)},E2=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),uv(e)},T2=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!ad(e)||e&&typeof e=="object"&&kt(e,".sv")},C2=function(e,t,n,i){Eo(ld(e,"value"),t,n)},Eo=function(e,t,n){const i=n instanceof le?new GE(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ci(i));if(typeof t=="function")throw new Error(e+"contains a function "+ci(i)+" with contents = "+t.toString());if(ad(t))throw new Error(e+"contains "+t.toString()+" "+ci(i));if(typeof t=="string"&&t.length>Nc/3&&ho(t)>Nc)throw new Error(e+"contains a string greater than "+Nc+" utf8 bytes "+ci(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,s=!1;if(it(t,(a,r)=>{if(a===".value")l=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!cv(a)))throw new Error(e+" contains an invalid key ("+a+") "+ci(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);YE(i,a),Eo(e,r,i),FE(i)}),l&&s)throw new Error(e+' contains ".value" child '+ci(i)+" in addition to actual children.")}},fv=function(e,t,n,i){if(!uv(n))throw new Error(ld(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},N2=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fv(e,t,n)},dv=function(e,t){if(q(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},A2=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!cv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!E2(n))throw new Error(ld(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Od(e,t){let n=null;for(let i=0;i<t.length;i++){const l=t[i],s=l.getPath();n!==null&&!fd(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(l)}n&&e.eventLists_.push(n)}function hv(e,t,n){Od(e,n),mv(e,i=>fd(i,t))}function Ot(e,t,n){Od(e,n),mv(e,i=>Mt(i,t)||Mt(t,i))}function mv(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const l=e.eventLists_[i];if(l){const s=l.path;t(s)?(R2(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function R2(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();ys&&qe("event: "+n.toString()),Ul(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="repo_interrupt",O2=25;class j2{constructor(t,n,i,l){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new M2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kr(),this.transactionQueueTree_=new Rd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function k2(e,t,n){if(e.stats_=cd(e.repoInfo_),e.forceRestClient_||mE())e.server_=new jr(e.repoInfo_,(i,l,s,a)=>{mp(e,i,l,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>pp(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ne(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new on(e.repoInfo_,t,(i,l,s,a)=>{mp(e,i,l,s,a)},i=>{pp(e,i)},i=>{L2(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=vE(e.repoInfo_,()=>new yT(e.stats_,e.server_)),e.infoData_=new dT,e.infoSyncTree_=new dp({startListening:(i,l,s,a)=>{let r=[];const o=e.infoData_.getNode(i._path);return o.isEmpty()||(r=ca(e.infoSyncTree_,i._path,o),setTimeout(()=>{a("ok")},0)),r},stopListening:()=>{}}),jd(e,"connected",!1),e.serverSyncTree_=new dp({startListening:(i,l,s,a)=>(e.server_.listen(i,s,l,(r,o)=>{const c=a(r,o);Ot(e.eventQueue_,i._path,c)}),[]),stopListening:(i,l)=>{e.server_.unlisten(i,l)}})}function z2(e){const n=e.infoData_.getNode(new le(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function To(e){return p2({timestamp:z2(e)})}function mp(e,t,n,i,l){e.dataUpdateCount++;const s=new le(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(l)if(i){const o=Nr(n,c=>Te(c));a=c2(e.serverSyncTree_,s,o,l)}else{const o=Te(n);a=iv(e.serverSyncTree_,s,o,l)}else if(i){const o=Nr(n,c=>Te(c));a=a2(e.serverSyncTree_,s,o)}else{const o=Te(n);a=ca(e.serverSyncTree_,s,o)}let r=s;a.length>0&&(r=No(e,s)),Ot(e.eventQueue_,r,a)}function pp(e,t){jd(e,"connected",t),t===!1&&B2(e)}function L2(e,t){it(t,(n,i)=>{jd(e,n,i)})}function jd(e,t,n){const i=new le("/.info/"+t),l=Te(n);e.infoData_.updateSnapshot(i,l);const s=ca(e.infoSyncTree_,i,l);Ot(e.eventQueue_,i,s)}function kd(e){return e.nextWriteId_++}function I2(e,t,n){const i=u2(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(l=>{const s=Te(l).withIndex(t._queryParams.getIndex());Ku(e.serverSyncTree_,t,n,!0);let a;if(t._queryParams.loadsAllData())a=ca(e.serverSyncTree_,t._path,s);else{const r=Ys(e.serverSyncTree_,t);a=iv(e.serverSyncTree_,t._path,s,r)}return Ot(e.eventQueue_,t._path,a),Vr(e.serverSyncTree_,t,n,null,!0),s},l=>(da(e,"get for query "+Ne(t)+" failed: "+l),Promise.reject(new Error(l))))}function U2(e,t,n,i,l){da(e,"set",{path:t.toString(),value:n,priority:i});const s=To(e),a=Te(n,i),r=bo(e.serverSyncTree_,t),o=Ad(a,r,s),c=kd(e),h=Sd(e.serverSyncTree_,t,o,c,!0);Od(e.eventQueue_,h),e.server_.put(t.toString(),a.val(!0),(d,m)=>{const y=d==="ok";y||et("set at "+t+" failed: "+d);const x=fi(e.serverSyncTree_,c,!y);Ot(e.eventQueue_,t,x),V2(e,l,d,m)});const f=_v(e,t);No(e,f),Ot(e.eventQueue_,f,[])}function B2(e){da(e,"onDisconnectEvents");const t=To(e),n=kr();Vu(e.onDisconnect_,Z(),(l,s)=>{const a=_2(l,s,e.serverSyncTree_,t);q_(n,l,a)});let i=[];Vu(n,Z(),(l,s)=>{i=i.concat(ca(e.serverSyncTree_,l,s));const a=_v(e,l);No(e,a)}),e.onDisconnect_=kr(),Ot(e.eventQueue_,Z(),i)}function H2(e,t,n){let i;q(t._path)===".info"?i=Ku(e.infoSyncTree_,t,n):i=Ku(e.serverSyncTree_,t,n),hv(e.eventQueue_,t._path,i)}function gp(e,t,n){let i;q(t._path)===".info"?i=Vr(e.infoSyncTree_,t,n):i=Vr(e.serverSyncTree_,t,n),hv(e.eventQueue_,t._path,i)}function q2(e){e.persistentConnection_&&e.persistentConnection_.interrupt(D2)}function da(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),qe(n,...t)}function V2(e,t,n,i){t&&Ul(()=>{if(n==="ok")t(null);else{const l=(n||"error").toUpperCase();let s=l;i&&(s+=": "+i);const a=new Error(s);a.code=l,t(a)}})}function G2(e,t,n,i,l,s){da(e,"transaction on "+t);const a={path:t,update:n,onComplete:i,status:null,order:c_(),applyLocally:s,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},r=zd(e,t,void 0);a.currentInputSnapshot=r;const o=a.update(r.val());if(o===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Eo("transaction failed: Data returned ",o,a.path),a.status=0;const c=So(e.transactionQueueTree_,t),h=zi(c)||[];h.push(a),Dd(c,h);let f;typeof o=="object"&&o!==null&&kt(o,".priority")?(f=wi(o,".priority"),A(T2(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(bo(e.serverSyncTree_,t)||z.EMPTY_NODE).getPriority().val();const d=To(e),m=Te(o,f),y=Ad(m,r,d);a.currentOutputSnapshotRaw=m,a.currentOutputSnapshotResolved=y,a.currentWriteId=kd(e);const x=Sd(e.serverSyncTree_,t,y,a.currentWriteId,a.applyLocally);Ot(e.eventQueue_,t,x),Co(e,e.transactionQueueTree_)}}function zd(e,t,n){return bo(e.serverSyncTree_,t,n)||z.EMPTY_NODE}function Co(e,t=e.transactionQueueTree_){if(t||Ao(e,t),zi(t)){const n=gv(e,t);A(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&Y2(e,fa(t),n)}else rv(t)&&wo(t,n=>{Co(e,n)})}function Y2(e,t,n){const i=n.map(c=>c.currentWriteId),l=zd(e,t,i);let s=l;const a=l.hash();for(let c=0;c<n.length;c++){const h=n[c];A(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Ye(t,h.path);s=s.updateChild(f,h.currentOutputSnapshotRaw)}const r=s.val(!0),o=t;e.server_.put(o.toString(),r,c=>{da(e,"transaction put response",{path:o.toString(),status:c});let h=[];if(c==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(fi(e.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Ao(e,So(e.transactionQueueTree_,t)),Co(e,e.transactionQueueTree_),Ot(e.eventQueue_,t,h);for(let d=0;d<f.length;d++)Ul(f[d])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{et("transaction at "+o.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}No(e,t)}},a)}function No(e,t){const n=pv(e,t),i=fa(n),l=gv(e,n);return F2(e,l,i),i}function F2(e,t,n){if(t.length===0)return;const i=[];let l=[];const a=t.filter(r=>r.status===0).map(r=>r.currentWriteId);for(let r=0;r<t.length;r++){const o=t[r],c=Ye(n,o.path);let h=!1,f;if(A(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,f=o.abortReason,l=l.concat(fi(e.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=O2)h=!0,f="maxretry",l=l.concat(fi(e.serverSyncTree_,o.currentWriteId,!0));else{const d=zd(e,o.path,a);o.currentInputSnapshot=d;const m=t[r].update(d.val());if(m!==void 0){Eo("transaction failed: Data returned ",m,o.path);let y=Te(m);typeof m=="object"&&m!=null&&kt(m,".priority")||(y=y.updatePriority(d.getPriority()));const E=o.currentWriteId,g=To(e),p=Ad(y,d,g);o.currentOutputSnapshotRaw=y,o.currentOutputSnapshotResolved=p,o.currentWriteId=kd(e),a.splice(a.indexOf(E),1),l=l.concat(Sd(e.serverSyncTree_,o.path,p,o.currentWriteId,o.applyLocally)),l=l.concat(fi(e.serverSyncTree_,E,!0))}else h=!0,f="nodata",l=l.concat(fi(e.serverSyncTree_,o.currentWriteId,!0))}Ot(e.eventQueue_,n,l),l=[],h&&(t[r].status=2,function(d){setTimeout(d,Math.floor(0))}(t[r].unwatcher),t[r].onComplete&&(f==="nodata"?i.push(()=>t[r].onComplete(null,!1,t[r].currentInputSnapshot)):i.push(()=>t[r].onComplete(new Error(f),!1,null))))}Ao(e,e.transactionQueueTree_);for(let r=0;r<i.length;r++)Ul(i[r]);Co(e,e.transactionQueueTree_)}function pv(e,t){let n,i=e.transactionQueueTree_;for(n=q(t);n!==null&&zi(i)===void 0;)i=So(i,n),t=ae(t),n=q(t);return i}function gv(e,t){const n=[];return yv(e,t,n),n.sort((i,l)=>i.order-l.order),n}function yv(e,t,n){const i=zi(t);if(i)for(let l=0;l<i.length;l++)n.push(i[l]);wo(t,l=>{yv(e,l,n)})}function Ao(e,t){const n=zi(t);if(n){let i=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[i]=n[l],i++);n.length=i,Dd(t,n.length>0?n:void 0)}wo(t,i=>{Ao(e,i)})}function _v(e,t){const n=fa(pv(e,t)),i=So(e.transactionQueueTree_,t);return b2(i,l=>{Ac(e,l)}),Ac(e,i),ov(i,l=>{Ac(e,l)}),n}function Ac(e,t){const n=zi(t);if(n){const i=[];let l=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(A(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(A(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),l=l.concat(fi(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Dd(t,void 0):n.length=s+1,Ot(e.eventQueue_,fa(t),l);for(let a=0;a<i.length;a++)Ul(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let l=n[i];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function K2(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):et(`Invalid query segment '${n}' in query '${e}'`)}return t}const yp=function(e,t){const n=X2(e),i=n.namespace;n.domain==="firebase.com"&&gn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sE();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new S_(n.host,n.secure,i,l,t,"",i!==n.subdomain),path:new le(n.pathString)}},X2=function(e){let t="",n="",i="",l="",s="",a=!0,r="https",o=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(r=e.substring(0,c-1),e=e.substring(c+2));let h=e.indexOf("/");h===-1&&(h=e.length);let f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(l=Q2(e.substring(h,f)));const d=K2(e.substring(Math.min(e.length,f)));c=t.indexOf(":"),c>=0?(a=r==="https"||r==="wss",o=parseInt(t.substring(c+1),10)):c=t.length;const m=t.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const y=t.indexOf(".");i=t.substring(0,y).toLowerCase(),n=t.substring(y+1),s=i}"ns"in d&&(s=d.ns)}return{host:t,port:o,domain:n,subdomain:i,secure:a,scheme:r,pathString:l,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,n,i,l){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ne(this.snapshot.exportVal())}}class P2{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t,n,i,l){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=l}get key(){return F(this._path)?null:D_(this._path)}get ref(){return new Vt(this._repo,this._path)}get _queryIdentifier(){const t=tp(this._queryParams),n=rd(t);return n==="{}"?"default":n}get _queryObject(){return tp(this._queryParams)}isEqual(t){if(t=vn(t),!(t instanceof Ld))return!1;const n=this._repo===t._repo,i=fd(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return n&&i&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+VE(this._path)}}class Vt extends Ld{constructor(t,n){super(t,n,new pd,!1)}get parent(){const t=j_(this._path);return t===null?null:new Vt(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Cl{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new le(t),i=Zu(this.ref,t);return new Cl(this._node.getChild(n),i,ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,l)=>t(new Cl(l,Zu(this.ref,i),ge)))}hasChild(t){const n=new le(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ja(e,t){return e=vn(e),e._checkNotDeleted("ref"),t!==void 0?Zu(e._root,t):e._root}function Zu(e,t){return e=vn(e),q(e._path)===null?N2("child","path",t):fv("child","path",t),new Vt(e._repo,Ae(e._path,t))}function $2(e,t){e=vn(e),dv("set",e._path),C2("set",t,e._path);const n=new sa;return U2(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function _p(e){e=vn(e);const t=new vv(()=>{}),n=new Mo(t);return I2(e._repo,e,n).then(i=>new Cl(i,new Vt(e._repo,e._path),e._queryParams.getIndex()))}class Mo{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new Z2("value",this,new Cl(t.snapshotNode,new Vt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new P2(this,t,n):null}matches(t){return t instanceof Mo?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function W2(e,t,n,i,l){let s;if(typeof i=="object"&&(s=void 0,l=i),typeof i=="function"&&(s=i),l&&l.onlyOnce){const o=n,c=(h,f)=>{gp(e._repo,e,r),o(h,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new vv(n,s||void 0),r=new Mo(a);return H2(e._repo,e,r),()=>gp(e._repo,e,r)}function bv(e,t,n,i){return W2(e,"value",t,n,i)}WT(Vt);i2(Vt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="FIREBASE_DATABASE_EMULATOR_HOST",Pu={};let eC=!1;function tC(e,t,n,i){const l=t.lastIndexOf(":"),s=t.substring(0,l),a=id(s);e.repoInfo_=new S_(t,a,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function nC(e,t,n,i,l){let s=i||e.options.databaseURL;s===void 0&&(e.options.projectId||gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qe("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=yp(s,l),r=a.repoInfo,o;typeof process<"u"&&Im&&(o=Im[J2]),o?(s=`http://${o}?ns=${r.namespace}`,a=yp(s,l),r=a.repoInfo):a.repoInfo.secure;const c=new gE(e.name,e.options,t);A2("Invalid Firebase Database URL",a),F(a.path)||gn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=lC(r,e,c,new pE(e,n));return new sC(h,e)}function iC(e,t){const n=Pu[t];(!n||n[e.key]!==e)&&gn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),q2(e),delete n[e.key]}function lC(e,t,n,i){let l=Pu[t.name];l||(l={},Pu[t.name]=l);let s=l[e.toURLString()];return s&&gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new j2(e,eC,n,i),l[e.toURLString()]=s,s}class sC{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(k2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vt(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&gn("Cannot call "+t+" on a deleted database.")}}function aC(e=l_(),t){const n=po(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const i=TS("database");i&&rC(n,...i)}return n}function rC(e,t,n,i={}){e=vn(e),e._checkNotDeleted("useEmulator");const l=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(l===e._repoInternal.repoInfo_.host&&Ar(i,s.repoInfo_.emulatorOptions))return;gn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Pa(Pa.OWNER);else if(i.mockUserToken){const r=typeof i.mockUserToken=="string"?i.mockUserToken:NS(i.mockUserToken,e.app.options.projectId);a=new Pa(r)}id(t)&&(CS(t),RS("Database",!0)),tC(s,l,i,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(e){eE(qw),Pn(new mn("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return nC(i,l,s,n)},"PUBLIC").setMultipleInstances(!0)),Bt(Um,Bm,e),Bt(Um,Bm,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function uC(e,t,n){if(e=vn(e),dv("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=!0,l=new sa,s=(r,o,c)=>{let h=null;r?l.reject(r):(h=new Cl(c,new Vt(e._repo,e._path),ge),l.resolve(new cC(o,h)))},a=bv(e,()=>{});return G2(e._repo,e._path,t,s,a,i),l.promise}on.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};on.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};oC();const xv="@firebase/installations",Id="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=1e4,wv=`w:${Id}`,Ev="FIS_v2",fC="https://firebaseinstallations.googleapis.com/v1",dC=60*60*1e3,hC="installations",mC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ni=new fo(hC,mC,pC);function Tv(e){return e instanceof Ll&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv({projectId:e}){return`${fC}/projects/${e}/installations`}function Nv(e){return{token:e.token,requestStatus:2,expiresIn:yC(e.expiresIn),creationTime:Date.now()}}async function Av(e,t){const i=(await t.json()).error;return Ni.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Mv({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function gC(e,{refreshToken:t}){const n=Mv(e);return n.append("Authorization",_C(t)),n}async function Rv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function yC(e){return Number(e.replace("s","000"))}function _C(e){return`${Ev} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=Cv(e),l=Mv(e),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&l.append("x-firebase-client",c)}const a={fid:n,authVersion:Ev,appId:e.appId,sdkVersion:wv},r={method:"POST",headers:l,body:JSON.stringify(a)},o=await Rv(()=>fetch(i,r));if(o.ok){const c=await o.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Nv(c.authToken)}}else throw await Av("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=/^[cdef][\w-]{21}$/,$u="";function SC(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=wC(e);return xC.test(n)?n:$u}catch{return $u}}function wC(e){return bC(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;function jv(e,t){const n=Ro(e);kv(n,t),EC(n,t)}function kv(e,t){const n=Ov.get(e);if(n)for(const i of n)i(t)}function EC(e,t){const n=TC();n&&n.postMessage({key:e,fid:t}),CC()}let di=null;function TC(){return!di&&"BroadcastChannel"in self&&(di=new BroadcastChannel("[Firebase] FID Change"),di.onmessage=e=>{kv(e.data.key,e.data.fid)}),di}function CC(){Ov.size===0&&di&&(di.close(),di=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="firebase-installations-database",AC=1,Ai="firebase-installations-store";let Mc=null;function Ud(){return Mc||(Mc=mo(NC,AC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ai)}}})),Mc}async function Gr(e,t){const n=Ro(e),l=(await Ud()).transaction(Ai,"readwrite"),s=l.objectStore(Ai),a=await s.get(n);return await s.put(t,n),await l.done,(!a||a.fid!==t.fid)&&jv(e,t.fid),t}async function zv(e){const t=Ro(e),i=(await Ud()).transaction(Ai,"readwrite");await i.objectStore(Ai).delete(t),await i.done}async function Do(e,t){const n=Ro(e),l=(await Ud()).transaction(Ai,"readwrite"),s=l.objectStore(Ai),a=await s.get(n),r=t(a);return r===void 0?await s.delete(n):await s.put(r,n),await l.done,r&&(!a||a.fid!==r.fid)&&jv(e,r.fid),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(e){let t;const n=await Do(e.appConfig,i=>{const l=MC(i),s=RC(e,l);return t=s.registrationPromise,s.installationEntry});return n.fid===$u?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function MC(e){const t=e||{fid:SC(),registrationStatus:0};return Lv(t)}function RC(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ni.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=DC(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:OC(e)}:{installationEntry:t}}async function DC(e,t){try{const n=await vC(e,t);return Gr(e.appConfig,n)}catch(n){throw Tv(n)&&n.customData.serverCode===409?await zv(e.appConfig):await Gr(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function OC(e){let t=await vp(e.appConfig);for(;t.registrationStatus===1;)await Dv(100),t=await vp(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Bd(e);return i||n}return t}function vp(e){return Do(e,t=>{if(!t)throw Ni.create("installation-not-found");return Lv(t)})}function Lv(e){return jC(e)?{fid:e.fid,registrationStatus:0}:e}function jC(e){return e.registrationStatus===1&&e.registrationTime+Sv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC({appConfig:e,heartbeatServiceProvider:t},n){const i=zC(e,n),l=gC(e,n),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&l.append("x-firebase-client",c)}const a={installation:{sdkVersion:wv,appId:e.appId}},r={method:"POST",headers:l,body:JSON.stringify(a)},o=await Rv(()=>fetch(i,r));if(o.ok){const c=await o.json();return Nv(c)}else throw await Av("Generate Auth Token",o)}function zC(e,{fid:t}){return`${Cv(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(e,t=!1){let n;const i=await Do(e.appConfig,s=>{if(!Iv(s))throw Ni.create("not-registered");const a=s.authToken;if(!t&&UC(a))return s;if(a.requestStatus===1)return n=LC(e,t),s;{if(!navigator.onLine)throw Ni.create("app-offline");const r=HC(s);return n=IC(e,r),r}});return n?await n:i.authToken}async function LC(e,t){let n=await bp(e.appConfig);for(;n.authToken.requestStatus===1;)await Dv(100),n=await bp(e.appConfig);const i=n.authToken;return i.requestStatus===0?Hd(e,t):i}function bp(e){return Do(e,t=>{if(!Iv(t))throw Ni.create("not-registered");const n=t.authToken;return qC(n)?{...t,authToken:{requestStatus:0}}:t})}async function IC(e,t){try{const n=await kC(e,t),i={...t,authToken:n};return await Gr(e.appConfig,i),n}catch(n){if(Tv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await zv(e.appConfig);else{const i={...t,authToken:{requestStatus:0}};await Gr(e.appConfig,i)}throw n}}function Iv(e){return e!==void 0&&e.registrationStatus===2}function UC(e){return e.requestStatus===2&&!BC(e)}function BC(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+dC}function HC(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function qC(e){return e.requestStatus===1&&e.requestTime+Sv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(e){const t=e,{installationEntry:n,registrationPromise:i}=await Bd(t);return i?i.catch(console.error):Hd(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(e,t=!1){const n=e;return await YC(n),(await Hd(n,t)).token}async function YC(e){const{registrationPromise:t}=await Bd(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(e){if(!e||!e.options)throw Rc("App Configuration");if(!e.name)throw Rc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Rc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Rc(e){return Ni.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="installations",QC="installations-internal",KC=e=>{const t=e.getProvider("app").getImmediate(),n=FC(t),i=po(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},XC=e=>{const t=e.getProvider("app").getImmediate(),n=po(t,Uv).getImmediate();return{getId:()=>VC(n),getToken:l=>GC(n,l)}};function ZC(){Pn(new mn(Uv,KC,"PUBLIC")),Pn(new mn(QC,XC,"PRIVATE"))}ZC();Bt(xv,Id);Bt(xv,Id,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="/firebase-messaging-sw.js",$C="/firebase-cloud-messaging-push-scope",Bv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",WC="https://fcmregistrations.googleapis.com/v1",Hv="google.c.a.c_id",JC="google.c.a.c_l",eN="google.c.a.ts",tN="google.c.a.e",xp=1e4;var Sp;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Sp||(Sp={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Fs;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Fs||(Fs={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nN(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),l=new Uint8Array(i.length);for(let s=0;s<i.length;++s)l[s]=i.charCodeAt(s);return l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="fcm_token_details_db",iN=5,wp="fcm_token_object_Store";async function lN(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Dc))return null;let t=null;return(await mo(Dc,iN,{upgrade:async(i,l,s,a)=>{if(l<2||!i.objectStoreNames.contains(wp))return;const r=a.objectStore(wp),o=await r.index("fcmSenderId").get(e);if(await r.clear(),!!o){if(l===2){const c=o;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Zt(c.vapidKey)}}}else if(l===3){const c=o;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Zt(c.auth),p256dh:Zt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Zt(c.vapidKey)}}}else if(l===4){const c=o;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Zt(c.auth),p256dh:Zt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Zt(c.vapidKey)}}}}}})).close(),await vc(Dc),await vc("fcm_vapid_details_db"),await vc("undefined"),sN(t)?t:null}function sN(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="firebase-messaging-database",rN=1,Qs="firebase-messaging-store";let Oc=null;function qv(){return Oc||(Oc=mo(aN,rN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Qs)}}})),Oc}async function oN(e){const t=Vv(e),i=await(await qv()).transaction(Qs).objectStore(Qs).get(t);if(i)return i;{const l=await lN(e.appConfig.senderId);if(l)return await qd(e,l),l}}async function qd(e,t){const n=Vv(e),l=(await qv()).transaction(Qs,"readwrite");return await l.objectStore(Qs).put(t,n),await l.done,t}function Vv({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Fe=new fo("messaging","Messaging",cN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(e,t){const n=await Gd(e),i=Gv(t),l={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(Vd(e.appConfig),l)).json()}catch(a){throw Fe.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Fe.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw Fe.create("token-subscribe-no-token");return s.token}async function fN(e,t){const n=await Gd(e),i=Gv(t.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${Vd(e.appConfig)}/${t.token}`,l)).json()}catch(a){throw Fe.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Fe.create("token-update-failed",{errorInfo:a})}if(!s.token)throw Fe.create("token-update-no-token");return s.token}async function dN(e,t){const i={method:"DELETE",headers:await Gd(e)};try{const s=await(await fetch(`${Vd(e.appConfig)}/${t}`,i)).json();if(s.error){const a=s.error.message;throw Fe.create("token-unsubscribe-failed",{errorInfo:a})}}catch(l){throw Fe.create("token-unsubscribe-failed",{errorInfo:l==null?void 0:l.toString()})}}function Vd({projectId:e}){return`${WC}/projects/${e}/registrations`}async function Gd({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Gv({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const l={web:{endpoint:n,auth:t,p256dh:e}};return i!==Bv&&(l.web.applicationPubKey=i),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=7*24*60*60*1e3;async function mN(e){const t=await gN(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Zt(t.getKey("auth")),p256dh:Zt(t.getKey("p256dh"))},i=await oN(e.firebaseDependencies);if(i){if(yN(i.subscriptionOptions,n))return Date.now()>=i.createTime+hN?pN(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await dN(e.firebaseDependencies,i.token)}catch(l){console.warn(l)}return Ep(e.firebaseDependencies,n)}else return Ep(e.firebaseDependencies,n)}async function pN(e,t){try{const n=await fN(e.firebaseDependencies,t),i={...t,token:n,createTime:Date.now()};return await qd(e.firebaseDependencies,i),n}catch(n){throw n}}async function Ep(e,t){const i={token:await uN(e,t),createTime:Date.now(),subscriptionOptions:t};return await qd(e,i),i.token}async function gN(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nN(t)})}function yN(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,l=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&i&&l&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return _N(t,e),vN(t,e),bN(t,e),t}function _N(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const l=t.notification.image;l&&(e.notification.image=l);const s=t.notification.icon;s&&(e.notification.icon=s)}function vN(e,t){t.data&&(e.data=t.data)}function bN(e,t){var l,s,a,r;if(!t.fcmOptions&&!((l=t.notification)!=null&&l.click_action))return;e.fcmOptions={};const n=((s=t.fcmOptions)==null?void 0:s.link)??((a=t.notification)==null?void 0:a.click_action);n&&(e.fcmOptions.link=n);const i=(r=t.fcmOptions)==null?void 0:r.analytics_label;i&&(e.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(e){return typeof e=="object"&&!!e&&Hv in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(e){if(!e||!e.options)throw jc("App Configuration Object");if(!e.name)throw jc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw jc(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function jc(e){return Fe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=SN(t);this.firebaseDependencies={app:t,appConfig:l,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(e){try{e.swRegistration=await navigator.serviceWorker.register(PC,{scope:$C}),e.swRegistration.update().catch(()=>{}),await TN(e.swRegistration)}catch(t){throw Fe.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function TN(e){return new Promise((t,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${xp} ms`)),xp),l=e.installing||e.waiting;e.active?(clearTimeout(i),t()):l?l.onstatechange=s=>{var a;((a=s.target)==null?void 0:a.state)==="activated"&&(l.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(e,t){if(!t&&!e.swRegistration&&await EN(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Fe.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Bv)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(e,t){if(!navigator)throw Fe.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Fe.create("permission-blocked");return await NN(e,t==null?void 0:t.vapidKey),await CN(e,t==null?void 0:t.serviceWorkerRegistration),mN(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(e,t,n){const i=MN(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[Hv],message_name:n[JC],message_time:n[eN],message_device_time:Math.floor(Date.now()/1e3)})}function MN(e){switch(e){case Fs.NOTIFICATION_CLICKED:return"notification_open";case Fs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Fs.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Tp(n)):e.onMessageHandler.next(Tp(n)));const i=n.data;xN(i)&&i[tN]==="1"&&await AN(e,n.messageType,i)}const Cp="@firebase/messaging",Np="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=e=>{const t=new wN(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>RN(t,n)),t},ON=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:i=>Yv(t,i)}};function jN(){Pn(new mn("messaging",DN,"PUBLIC")),Pn(new mn("messaging-internal",ON,"PRIVATE")),Bt(Cp,Np),Bt(Cp,Np,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fv(){try{await Wy()}catch{return!1}return typeof window<"u"&&$y()&&kS()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(e=l_()){return Fv().then(t=>{if(!t)throw Fe.create("unsupported-browser")},t=>{throw Fe.create("indexed-db-unsupported")}),po(vn(e),"messaging").getImmediate()}async function kN(e,t){return e=vn(e),Yv(e,t)}jN();const zN=Object.freeze(Object.defineProperty({__proto__:null,getMessaging:Qv,getToken:kN,isSupported:Fv},Symbol.toStringTag,{value:"Module"})),LN={apiKey:"AIzaSyA0GXc2SsjtbsDYzf1agK4zbTJ5IvxPFxs",authDomain:"fb-hub-ed9de.firebaseapp.com",databaseURL:"https://fb-hub-ed9de-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"fb-hub-ed9de",storageBucket:"fb-hub-ed9de.firebasestorage.app",messagingSenderId:"426764789152",appId:"1:426764789152:web:9e989667bda7568059f0c5",measurementId:"G-HCN8XBJNN9"},Kv=i_(LN),ts=aC(Kv);let Xv=null;try{Xv=Qv(Kv),console.log(" Firebase Messaging initialized")}catch(e){console.error(" Firebase Messaging initialization failed:",e)}const IN=Object.freeze(Object.defineProperty({__proto__:null,database:ts,get messaging(){return Xv}},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),Ap=e=>{const t=BN(e);return t.charAt(0).toUpperCase()+t.slice(1)},Zv=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),HN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:s,iconNode:a,...r},o)=>C.createElement("svg",{ref:o,...qN,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:Zv("lucide",l),...!s&&!HN(r)&&{"aria-hidden":"true"},...r},[...a.map(([c,h])=>C.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=(e,t)=>{const n=C.forwardRef(({className:i,...l},s)=>C.createElement(VN,{ref:s,iconNode:t,className:Zv(`lucide-${UN(Ap(e))}`,`lucide-${e}`,i),...l}));return n.displayName=Ap(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],FN=GN("chart-column",YN),QN=()=>{let e=localStorage.getItem("fenerbahce_user_id");return e||(e=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("fenerbahce_user_id",e)),e},KN=({opponentName:e="Rakip Takm",matchId:t})=>{const[n,i]=C.useState({home:0,away:0,draw:0}),[l,s]=C.useState(!1),[a,r]=C.useState(null),[o,c]=C.useState(!0),[h,f]=C.useState(null),d={home:"Fenerbahe",away:e},m=QN();C.useEffect(()=>{if(!t){c(!1),f("Match ID eksik");return}const _=ja(ts,`match_polls/${t}/votes`),v=bv(_,R=>{const T=R.val();i(T?{home:T.home||0,away:T.away||0,draw:T.draw||0}:{home:0,away:0,draw:0}),c(!1)},R=>{console.error("Firebase read error:",R),f("Anket verileri yklenemedi."),c(!1)}),N=ja(ts,`match_polls/${t}/users/${m}`);return _p(N).then(R=>{R.exists()?(s(!0),r(R.val())):(s(!1),r(null))}).catch(R=>{console.error("Error checking user vote:",R)}),()=>{v()}},[t,m]);const y=async _=>{if(!(l||!t))try{const v=ja(ts,`match_polls/${t}/users/${m}`),N=await _p(v);if(N.exists()){s(!0),r(N.val());return}const R=ja(ts,`match_polls/${t}/votes/${_}`);await uC(R,T=>(T||0)+1),await $2(v,_),s(!0),r(_)}catch(v){console.error("Vote failed:",v),alert("Oy verilemedi. Ltfen tekrar deneyin.")}},x=(n.home||0)+(n.away||0)+(n.draw||0),E=_=>!x||x===0?0:Math.round((_||0)/x*100),[g,p]=C.useState(!1);return o||h||!t?null:u.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-xl overflow-hidden transition-all duration-500",children:[u.jsxs("button",{onClick:()=>p(!g),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-full bg-yellow-400/10 text-yellow-400",children:u.jsx(FN,{className:"w-5 h-5"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h3",{className:"text-base font-bold text-white",children:"Ma Kim Kazanr?"}),u.jsxs("p",{className:"text-xs text-slate-400",children:[l?"Oyunuzu kullandnz":"Tahminini yap","  ",x," oy"]})]})]}),u.jsx("div",{className:`transform transition-transform duration-300 ${g?"rotate-180":""}`,children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsx("div",{className:`transition-all duration-500 ease-in-out ${g?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:u.jsxs("div",{className:"p-4 pt-0 space-y-3 border-t border-white/5 mt-2",children:[u.jsx(kc,{label:d.home,count:n.home,percentage:E(n.home),onClick:()=>y("home"),disabled:l,isWinner:l&&n.home>=n.away&&n.home>=n.draw,isUserChoice:a==="home"}),u.jsx(kc,{label:"Beraberlik",count:n.draw,percentage:E(n.draw),onClick:()=>y("draw"),disabled:l,isWinner:l&&n.draw>=n.home&&n.draw>=n.away,isUserChoice:a==="draw"}),u.jsx(kc,{label:d.away,count:n.away,percentage:E(n.away),onClick:()=>y("away"),disabled:l,isWinner:l&&n.away>=n.home&&n.away>=n.draw,isUserChoice:a==="away"})]})})]})},kc=({label:e,count:t,percentage:n,onClick:i,disabled:l,isWinner:s,isUserChoice:a})=>u.jsxs("button",{onClick:i,disabled:l,className:`relative w-full h-12 rounded-xl overflow-hidden transition-all duration-300 group ${l?"cursor-default":"hover:scale-[1.02] active:scale-[0.98] cursor-pointer"}`,children:[u.jsx("div",{className:"absolute inset-0 bg-white/5"}),u.jsx("div",{className:`absolute inset-y-0 left-0 transition-all duration-1000 ease-out ${a?"bg-green-500/30":s?"bg-yellow-400/20":"bg-blue-600/30"}`,style:{width:`${n}%`}}),u.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[u.jsxs("span",{className:`font-medium transition-colors ${a?"text-green-400":s?"text-yellow-400":"text-white"}`,children:[e," ",a&&""]}),u.jsxs("div",{className:"flex items-center gap-2",children:[l&&u.jsxs("span",{className:"text-sm font-bold text-white/90",children:[n,"%"]}),!l&&u.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white/20 group-hover:border-yellow-400 transition-colors"})]})]})]}),XN=({league:e})=>{const[t,n]=C.useState([]),[i,l]=C.useState(!0),[s,a]=C.useState(null);C.useEffect(()=>{r()},[e]);const r=async()=>{l(!0),a(null);try{const o=await fetch(`${_n}/standings`);if(!o.ok)throw new Error("Failed to fetch standings");const c=await o.json(),h=e==="superlig"?c.find(f=>f.id==="super-lig"):c.find(f=>f.id==="europa-league");if(h&&h.rows)n(h.rows);else throw new Error("League data not found")}catch(o){console.error("Error fetching standings:",o),a("Puan durumu yklenemedi")}finally{l(!1)}};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})}):s?u.jsx("div",{className:"text-center text-red-400 py-8",children:u.jsx("p",{children:s})}):u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto custom-scrollbar",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"sticky top-0 bg-[#0f172a] z-10",children:u.jsxs("tr",{className:"text-[11px] text-slate-400 border-b border-yellow-400/20",children:[u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"#"}),u.jsx("th",{className:"p-3 font-medium",children:"Takm"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"O"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"G"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"B"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"M"}),u.jsx("th",{className:"p-3 font-medium w-16 text-center",children:"AV"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center text-yellow-400",children:"P"})]})}),u.jsx("tbody",{className:"text-sm",children:t.map((o,c)=>{const h=o.team.name.toLowerCase().includes("fenerbahce")||o.team.name.toLowerCase().includes("fener"),f=o.rank<=3,d=o.rank>=t.length-2;return u.jsxs("tr",{className:`border-b border-white/5 last:border-0 transition-all duration-200 ${h?"bg-yellow-400/10 text-yellow-100 font-semibold shadow-[0_0_10px_rgba(234,179,8,0.3)]":"hover:bg-white/5 text-slate-300"}`,children:[u.jsx("td",{className:"p-3 text-center",children:u.jsx("span",{className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-[11px] font-bold ${f?"bg-green-500/20 text-green-400":d?"bg-red-500/20 text-red-400":"text-slate-500"}`,children:o.rank})}),u.jsx("td",{className:"p-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:o.team.logo?u.jsx("img",{src:o.team.logo,alt:o.team.name,className:"w-full h-full object-contain",onError:m=>{m.target.style.display="none"}}):null}),u.jsx("span",{className:"truncate max-w-[200px]",children:o.team.name})]})}),u.jsx("td",{className:"p-3 text-center font-medium",children:o.matches||0}),u.jsx("td",{className:"p-3 text-center text-green-400",children:o.wins||0}),u.jsx("td",{className:"p-3 text-center text-slate-400",children:o.draws||0}),u.jsx("td",{className:"p-3 text-center text-red-400",children:o.losses||0}),u.jsxs("td",{className:"p-3 text-center text-slate-400",children:[o.goalDiff>0?"+":"",o.goalDiff||0]}),u.jsx("td",{className:`p-3 text-center font-bold ${h?"text-yellow-400":"text-white"}`,children:o.points||0})]},o.team.id)})})]})}),u.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    width: 6px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: rgba(250, 204, 21, 0.3);
                    border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: rgba(250, 204, 21, 0.5);
                }
            `})]})},ZN=()=>{var o,c,h,f,d,m;const[e,t]=C.useState(null),[n,i]=C.useState(!0),[l,s]=C.useState(null);C.useEffect(()=>{a();const y=setInterval(a,3e4);return()=>clearInterval(y)},[]);const a=async()=>{try{const y=await fetch(`${_n}/live-match`);if(!y.ok)throw new Error("Canl ma verisi alnamad");const x=await y.json();x.matchState==="no-match"?(s("u anda canl ma yok"),t(null)):(t(x),s(null))}catch(y){console.error("Error fetching live score:",y),s(y.message||"Canl ma bilgisi yklenemedi")}finally{i(!1)}};if(n)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})});if(l||!e)return u.jsx("div",{className:"text-center text-red-400 py-8",children:u.jsx("p",{children:l||"Veri bulunamad"})});const r={possessionPct:"Topla Oynama %",totalShots:"Toplam ut",shotsOnTarget:"sabetli ut",wonCorners:"Korner",foulsCommitted:"Faul",totalGoals:"Gol",goalAssists:"Asist"};return u.jsxs("div",{className:"w-full space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[u.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("span",{className:"text-xs font-bold text-yellow-400 uppercase",children:e.statusDetail||(e.matchState==="in"?"Canl":"Ma Bitti")}),e.matchState==="in"&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("span",{className:"text-sm font-bold text-red-400",children:"CANLI"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 p-3 border border-white/10",children:((o=e.homeTeam)==null?void 0:o.logo)&&u.jsx("img",{src:e.homeTeam.logo,alt:e.homeTeam.name,className:"w-full h-full object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center",children:(c=e.homeTeam)==null?void 0:c.name})]}),u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-5xl font-black text-white",children:((h=e.homeTeam)==null?void 0:h.score)||"0"}),u.jsx("span",{className:"text-3xl font-bold text-slate-600",children:"-"}),u.jsx("span",{className:"text-5xl font-black text-white",children:((f=e.awayTeam)==null?void 0:f.score)||"0"})]}),u.jsx("span",{className:"text-xs text-slate-400",children:e.displayClock||""})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 p-3 border border-white/10",children:((d=e.awayTeam)==null?void 0:d.logo)&&u.jsx("img",{src:e.awayTeam.logo,alt:e.awayTeam.name,className:"w-full h-full object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center",children:(m=e.awayTeam)==null?void 0:m.name})]})]})]}),e.events&&e.events.length>0&&u.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-3",children:"Ma Olaylar"}),u.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:e.events.map((y,x)=>u.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg transition-colors ${y.isGoal?"bg-yellow-400/10":y.isRedCard?"bg-red-500/10":"bg-white/5"}`,children:[u.jsx("span",{className:"text-xs text-yellow-400 font-mono w-12",children:y.clock}),u.jsxs("span",{className:"w-5 h-5 flex-shrink-0 flex items-center justify-center",children:[y.isGoal&&u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-4 h-4",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),y.isYellowCard&&!y.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3.5 h-5",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#eab308"})}),y.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3.5 h-5",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#ef4444"})})]}),u.jsxs("span",{className:`text-sm flex-1 ${y.isGoal?"text-yellow-400 font-bold":y.isRedCard?"text-red-400 font-semibold":"text-slate-300"}`,children:[y.player,y.type&&!y.isGoal&&!y.isYellowCard&&!y.isRedCard&&u.jsxs("span",{className:"text-slate-500 ml-1",children:["(",y.type,")"]})]})]},x))})]}),e.stats&&e.stats.length>0&&u.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-3",children:"statistikler"}),u.jsx("div",{className:"space-y-3",children:e.stats.filter(y=>r[y.name]).map((y,x)=>{const E=parseFloat(y.homeValue)||0,g=parseFloat(y.awayValue)||0,p=E+g||1;return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[u.jsx("span",{className:"font-medium text-white",children:y.homeValue}),u.jsx("span",{children:r[y.name]}),u.jsx("span",{className:"font-medium text-white",children:y.awayValue})]}),u.jsxs("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden flex",children:[u.jsx("div",{className:"bg-yellow-400 h-full transition-all duration-500",style:{width:`${E/p*100}%`}}),u.jsx("div",{className:"bg-slate-600 h-full flex-1"})]})]},x)})})]})]})},PN=({matchData:e,next3Matches:t=[],loading:n,onRetry:i,errorMessage:l,lastUpdated:s,isRefreshing:a,liveMatchState:r="countdown",liveMatchData:o=null,onCountdownEnd:c})=>{var D,k,Q,me;const[h,f]=C.useState({days:0,hours:0,minutes:0,seconds:0}),[d,m]=C.useState(!1),[y,x]=C.useState(!1),[E,g]=C.useState(""),[p,_]=C.useState(30),v=C.useRef(!1);if(C.useEffect(()=>{v.current=!1},[e==null?void 0:e.id]),C.useEffect(()=>{if(!e||r!=="countdown")return;const H=setInterval(()=>{const b=new Date(e.startTimestamp*1e3)-new Date;if(b>0){const S=Math.floor(b/864e5),M=Math.floor(b/(1e3*60*60)%24),j=Math.floor(b/1e3/60%60),B=Math.floor(b/1e3%60);f({days:S,hours:M,minutes:j,seconds:B})}else!v.current&&c&&(v.current=!0,c()),f({days:0,hours:0,minutes:0,seconds:0})},1e3);return()=>clearInterval(H)},[e,r,c]),C.useEffect(()=>{if(r!=="post"){_(30);return}const H=setInterval(()=>{_(W=>W<=1?0:W-1)},1e3);return()=>clearInterval(H)},[r]),C.useEffect(()=>(d||y?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[d,y]),n)return u.jsx("div",{className:"flex items-center justify-center h-64 text-yellow-400 animate-pulse",children:"Ykleniyor..."});if(!e)return u.jsxs("div",{className:"text-center text-slate-400 mt-10 space-y-4",children:[u.jsx("p",{children:"Ma bilgisi bulunamad."}),l&&u.jsx("p",{className:"text-sm text-slate-300",children:l}),i&&u.jsx("button",{onClick:i,className:"px-4 py-2 rounded-full bg-yellow-400/20 text-yellow-300 border border-yellow-400/30 hover:bg-yellow-400 hover:text-black transition-colors",children:"Tekrar Dene"})]});const N=new Date(e.startTimestamp*1e3),R=3052,T=e.homeTeam.id===3052,O=T?e.awayTeam:e.homeTeam;return u.jsxs("div",{className:"min-h-screen pb-20",children:[u.jsxs("div",{className:"glass-card rounded-3xl p-6 relative overflow-hidden group mb-6",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-yellow-400 to-transparent opacity-50"}),u.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[u.jsx("span",{className:"text-xs font-bold tracking-wider text-yellow-400 uppercase bg-yellow-400/10 px-3 py-1 rounded-full border border-yellow-400/20",children:e.tournament.name}),u.jsx("span",{className:"text-xs text-slate-400 font-medium",children:N.toLocaleDateString("tr-TR",{day:"numeric",month:"long"})})]}),u.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:u.jsx(Ra,{teamId:T?R:O.id,name:T?"Fenerbahe":O.name,wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:T?"Fenerbahe":O.name})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center w-1/3 -mt-4",children:[u.jsx("span",{className:"text-2xl font-black text-slate-700/50",children:"VS"}),u.jsx("div",{className:"mt-2 text-center",children:u.jsx("span",{className:"text-3xl font-bold text-white tracking-tighter text-glow",children:N.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:u.jsx(Ra,{teamId:T?O.id:R,name:T?O.name:"Fenerbahe",wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:T?O.name:"Fenerbahe"})]})]}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5",children:[r==="countdown"&&u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.days}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Gn"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.hours}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Saat"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.minutes}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Dk"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.seconds}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Sn"})]})]}),r==="pre"&&u.jsxs("div",{className:"text-center py-4",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-yellow-400"})]}),u.jsx("span",{className:"text-sm font-bold text-yellow-400 uppercase",children:"Ma Birazdan Balyor!"})]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Takmlar sahaya kyor..."})]}),r==="in"&&o&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("span",{className:"text-sm font-bold text-red-400 uppercase",children:"Canl"}),u.jsx("span",{className:"text-xs text-slate-400 ml-1",children:o.displayClock})]}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[u.jsx("span",{className:"text-4xl font-black text-white",children:((D=o.homeTeam)==null?void 0:D.score)||"0"}),u.jsx("span",{className:"text-lg text-slate-500",children:""}),u.jsx("span",{className:"text-4xl font-black text-white",children:((k=o.awayTeam)==null?void 0:k.score)||"0"})]}),o.events&&o.events.length>0&&u.jsx("div",{className:"space-y-1 mb-4 max-h-32 overflow-y-auto",children:o.events.map((H,W)=>u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("span",{className:"text-slate-500 w-10 text-right",children:H.clock}),u.jsxs("span",{className:"w-4 h-4 flex-shrink-0 flex items-center justify-center",children:[H.isGoal&&u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-4 h-4",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),H.isYellowCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3 h-4",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#eab308"})}),H.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3 h-4",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#ef4444"})})]}),u.jsx("span",{className:`${H.isGoal?"text-yellow-400 font-bold":H.isRedCard?"text-red-400":"text-slate-300"}`,children:H.player})]},W))}),u.jsx("button",{onClick:()=>m(!0),className:"w-full px-4 py-2 bg-yellow-400/10 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 rounded-lg text-xs font-bold transition-all duration-300",children:"Detayl statistikler"})]}),r==="post"&&o&&u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:u.jsx("span",{className:"text-sm font-bold text-green-400 uppercase",children:"Ma Bitti"})}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[u.jsx("span",{className:"text-4xl font-black text-white",children:((Q=o.homeTeam)==null?void 0:Q.score)||"0"}),u.jsx("span",{className:"text-lg text-slate-500",children:""}),u.jsx("span",{className:"text-4xl font-black text-white",children:((me=o.awayTeam)==null?void 0:me.score)||"0"})]}),o.events&&o.events.filter(H=>H.isGoal).length>0&&u.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:o.events.filter(H=>H.isGoal).map((H,W)=>u.jsxs("span",{className:"text-xs text-slate-300 bg-white/5 px-2 py-1 rounded-full flex items-center gap-1",children:[u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-3 h-3 inline",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),H.clock," ",H.player]},W))}),u.jsxs("div",{className:"glass-panel rounded-lg p-3 text-center",children:[u.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["Sonraki maa geiliyor... ",p,"sn"]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-1",children:u.jsx("div",{className:"bg-yellow-400/50 h-1 rounded-full transition-all duration-1000",style:{width:`${(30-p)/30*100}%`}})})]})]})]})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6",children:[u.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.jsx("span",{className:"text-sm font-bold",children:"Sonraki Malar"})}),u.jsx("div",{className:"space-y-3",children:t.length>0?t.map((H,W)=>{const oe=new Date(H.startTimestamp*1e3),b=H.homeTeam,S=H.awayTeam,M=b.id===R;return u.jsxs("div",{className:"glass-panel rounded-xl p-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(Ra,{teamId:M?R:b.id,name:b.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"}),u.jsx("span",{className:"text-xs font-medium truncate",children:b.name})]}),u.jsxs("div",{className:"flex flex-col items-center px-3",children:[u.jsx("span",{className:"text-[10px] text-slate-400",children:oe.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),u.jsx("span",{className:"text-xs font-bold",children:oe.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[u.jsx("span",{className:"text-xs font-medium truncate text-right",children:S.name}),u.jsx(Ra,{teamId:M?S.id:R,name:S.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"})]})]},W)}):u.jsx("div",{className:"text-center text-slate-500 text-xs py-4",children:"Ma bilgisi ykleniyor..."})})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Puan Durumu"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:()=>{g("superlig"),x(!0)},className:"px-4 py-3 bg-yellow-400/5 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 hover:border-yellow-400 rounded-xl text-sm font-bold transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",children:"Sper Lig"}),u.jsx("button",{onClick:()=>{g("europa"),x(!0)},className:"px-4 py-3 bg-yellow-400/5 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 hover:border-yellow-400 rounded-xl text-sm font-bold transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",children:"Avrupa Ligi"})]})]}),u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"mb-6",children:u.jsx(KN,{opponentName:O.name,matchId:e.id})})}),d&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:()=>m(!1),children:u.jsxs("div",{className:"bg-[#0f172a] border-2 border-yellow-400/30 rounded-2xl p-6 max-w-4xl w-full max-h-[85vh] overflow-hidden animate-slideUp shadow-[0_0_40px_rgba(234,179,8,0.2)]",onClick:H=>H.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-yellow-400/20",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:"Canl Ma Detaylar"})]}),u.jsx("button",{onClick:()=>m(!1),className:"text-yellow-400 hover:text-white transition-all duration-300 hover:rotate-90",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"w-full",children:u.jsx(ZN,{})})]})}),y&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:()=>x(!1),children:u.jsxs("div",{className:"bg-[#0f172a] border-2 border-yellow-400/30 rounded-2xl p-6 max-w-4xl w-full max-h-[85vh] overflow-hidden animate-slideUp shadow-[0_0_40px_rgba(234,179,8,0.2)]",onClick:H=>H.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-yellow-400/20",children:[u.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:E==="superlig"?"Sper Lig Puan Durumu":"UEFA Avrupa Ligi Puan Durumu"}),u.jsx("button",{onClick:()=>x(!1),className:"text-yellow-400 hover:text-white hover:rotate-90 transition-all duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"w-full",children:u.jsx(XN,{league:E})})]})})]})};function $N(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),l=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(l),t&&(i.href=t),l.href=e,l.href}const WN=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Fn(e){const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}let Bi=null;function Pv(e={}){return Bi||(e.includeStyleProperties?(Bi=e.includeStyleProperties,Bi):(Bi=Fn(window.getComputedStyle(document.documentElement)),Bi))}function Yr(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function JN(e){const t=Yr(e,"border-left-width"),n=Yr(e,"border-right-width");return e.clientWidth+t+n}function e4(e){const t=Yr(e,"border-top-width"),n=Yr(e,"border-bottom-width");return e.clientHeight+t+n}function $v(e,t={}){const n=t.width||JN(e),i=t.height||e4(e);return{width:n,height:i}}function t4(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const st=16384;function n4(e){(e.width>st||e.height>st)&&(e.width>st&&e.height>st?e.width>e.height?(e.height*=st/e.width,e.width=st):(e.width*=st/e.height,e.height=st):e.width>st?(e.height*=st/e.width,e.width=st):(e.width*=st/e.height,e.height=st))}function Fr(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>t(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function i4(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function l4(e,t,n){const i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return l.setAttribute("width",`${t}`),l.setAttribute("height",`${n}`),l.setAttribute("viewBox",`0 0 ${t} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),l.appendChild(s),s.appendChild(e),i4(l)}const tt=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||tt(n,t)};function s4(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function a4(e,t){return Pv(t).map(n=>{const i=e.getPropertyValue(n),l=e.getPropertyPriority(n);return`${n}: ${i}${l?" !important":""};`}).join(" ")}function r4(e,t,n,i){const l=`.${e}:${t}`,s=n.cssText?s4(n):a4(n,i);return document.createTextNode(`${l}{${s}}`)}function Mp(e,t,n,i){const l=window.getComputedStyle(e,n),s=l.getPropertyValue("content");if(s===""||s==="none")return;const a=WN();try{t.className=`${t.className} ${a}`}catch{return}const r=document.createElement("style");r.appendChild(r4(a,n,l,i)),t.appendChild(r)}function o4(e,t,n){Mp(e,t,":before",n),Mp(e,t,":after",n)}const Rp="application/font-woff",Dp="image/jpeg",c4={woff:Rp,woff2:Rp,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Dp,jpeg:Dp,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function u4(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Yd(e){const t=u4(e).toLowerCase();return c4[t]||""}function f4(e){return e.split(/,/)[1]}function Wu(e){return e.search(/^(data:)/)!==-1}function d4(e,t){return`data:${t};base64,${e}`}async function Wv(e,t,n){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const l=await i.blob();return new Promise((s,a)=>{const r=new FileReader;r.onerror=a,r.onloadend=()=>{try{s(n({res:i,result:r.result}))}catch(o){a(o)}},r.readAsDataURL(l)})}const zc={};function h4(e,t,n){let i=e.replace(/\?.*/,"");return n&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function Fd(e,t,n){const i=h4(e,t,n.includeQueryParams);if(zc[i]!=null)return zc[i];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let l;try{const s=await Wv(e,n.fetchRequestInit,({res:a,result:r})=>(t||(t=a.headers.get("Content-Type")||""),f4(r)));l=d4(s,t)}catch(s){l=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;s&&(a=typeof s=="string"?s:s.message),a&&console.warn(a)}return zc[i]=l,l}async function m4(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Fr(t)}async function p4(e,t){if(e.currentSrc){const s=document.createElement("canvas"),a=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,a==null||a.drawImage(e,0,0,s.width,s.height);const r=s.toDataURL();return Fr(r)}const n=e.poster,i=Yd(n),l=await Fd(n,i,t);return Fr(l)}async function g4(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await Oo(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function y4(e,t){return tt(e,HTMLCanvasElement)?m4(e):tt(e,HTMLVideoElement)?p4(e,t):tt(e,HTMLIFrameElement)?g4(e,t):e.cloneNode(Jv(e))}const _4=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Jv=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function v4(e,t,n){var i,l;if(Jv(t))return t;let s=[];return _4(e)&&e.assignedNodes?s=Fn(e.assignedNodes()):tt(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?s=Fn(e.contentDocument.body.childNodes):s=Fn(((l=e.shadowRoot)!==null&&l!==void 0?l:e).childNodes),s.length===0||tt(e,HTMLVideoElement)||await s.reduce((a,r)=>a.then(()=>Oo(r,n)).then(o=>{o&&t.appendChild(o)}),Promise.resolve()),t}function b4(e,t,n){const i=t.style;if(!i)return;const l=window.getComputedStyle(e);l.cssText?(i.cssText=l.cssText,i.transformOrigin=l.transformOrigin):Pv(n).forEach(s=>{let a=l.getPropertyValue(s);s==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),tt(e,HTMLIFrameElement)&&s==="display"&&a==="inline"&&(a="block"),s==="d"&&t.getAttribute("d")&&(a=`path(${t.getAttribute("d")})`),i.setProperty(s,a,l.getPropertyPriority(s))})}function x4(e,t){tt(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),tt(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function S4(e,t){if(tt(e,HTMLSelectElement)){const n=t,i=Array.from(n.children).find(l=>e.value===l.getAttribute("value"));i&&i.setAttribute("selected","")}}function w4(e,t,n){return tt(t,Element)&&(b4(e,t,n),o4(e,t,n),x4(e,t),S4(e,t)),t}async function E4(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const i={};for(let s=0;s<n.length;s++){const r=n[s].getAttribute("xlink:href");if(r){const o=e.querySelector(r),c=document.querySelector(r);!o&&c&&!i[r]&&(i[r]=await Oo(c,t,!0))}}const l=Object.values(i);if(l.length){const s="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg");a.setAttribute("xmlns",s),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const r=document.createElementNS(s,"defs");a.appendChild(r);for(let o=0;o<l.length;o++)r.appendChild(l[o]);e.appendChild(a)}return e}async function Oo(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>y4(i,t)).then(i=>v4(e,i,t)).then(i=>w4(e,i,t)).then(i=>E4(i,t))}const eb=/url\((['"]?)([^'"]+?)\1\)/g,T4=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,C4=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function N4(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function A4(e){const t=[];return e.replace(eb,(n,i,l)=>(t.push(l),n)),t.filter(n=>!Wu(n))}async function M4(e,t,n,i,l){try{const s=n?$N(t,n):t,a=Yd(t);let r;return l||(r=await Fd(s,a,i)),e.replace(N4(t),`$1${r}$3`)}catch{}return e}function R4(e,{preferredFontFormat:t}){return t?e.replace(C4,n=>{for(;;){const[i,,l]=T4.exec(n)||[];if(!l)return"";if(l===t)return`src: ${i};`}}):e}function tb(e){return e.search(eb)!==-1}async function nb(e,t,n){if(!tb(e))return e;const i=R4(e,n);return A4(i).reduce((s,a)=>s.then(r=>M4(r,a,t,n)),Promise.resolve(i))}async function Hi(e,t,n){var i;const l=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(l){const s=await nb(l,null,n);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function D4(e,t){await Hi("background",e,t)||await Hi("background-image",e,t),await Hi("mask",e,t)||await Hi("-webkit-mask",e,t)||await Hi("mask-image",e,t)||await Hi("-webkit-mask-image",e,t)}async function O4(e,t){const n=tt(e,HTMLImageElement);if(!(n&&!Wu(e.src))&&!(tt(e,SVGImageElement)&&!Wu(e.href.baseVal)))return;const i=n?e.src:e.href.baseVal,l=await Fd(i,Yd(i),t);await new Promise((s,a)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...o)=>{try{s(t.onImageErrorHandler(...o))}catch(c){a(c)}}:a;const r=e;r.decode&&(r.decode=s),r.loading==="lazy"&&(r.loading="eager"),n?(e.srcset="",e.src=l):e.href.baseVal=l})}async function j4(e,t){const i=Fn(e.childNodes).map(l=>ib(l,t));await Promise.all(i).then(()=>e)}async function ib(e,t){tt(e,Element)&&(await D4(e,t),await O4(e,t),await j4(e,t))}function k4(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(l=>{n[l]=i[l]}),e}const Op={};async function jp(e){let t=Op[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},Op[e]=t,t}async function kp(e,t){let n=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let r=a.replace(i,"$1");return r.startsWith("https://")||(r=new URL(r,e.url).href),Wv(r,t.fetchRequestInit,({result:o})=>(n=n.replace(a,`url(${o})`),[a,o]))});return Promise.all(s).then(()=>n)}function zp(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(n,"");const l=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const o=l.exec(i);if(o===null)break;t.push(o[0])}i=i.replace(l,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",r=new RegExp(a,"gi");for(;;){let o=s.exec(i);if(o===null){if(o=r.exec(i),o===null)break;s.lastIndex=r.lastIndex}else r.lastIndex=s.lastIndex;t.push(o[0])}return t}async function z4(e,t){const n=[],i=[];return e.forEach(l=>{if("cssRules"in l)try{Fn(l.cssRules||[]).forEach((s,a)=>{if(s.type===CSSRule.IMPORT_RULE){let r=a+1;const o=s.href,c=jp(o).then(h=>kp(h,t)).then(h=>zp(h).forEach(f=>{try{l.insertRule(f,f.startsWith("@import")?r+=1:l.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(h=>{console.error("Error loading remote css",h.toString())});i.push(c)}})}catch(s){const a=e.find(r=>r.href==null)||document.styleSheets[0];l.href!=null&&i.push(jp(l.href).then(r=>kp(r,t)).then(r=>zp(r).forEach(o=>{a.insertRule(o,a.cssRules.length)})).catch(r=>{console.error("Error loading remote stylesheet",r)})),console.error("Error inlining remote css file",s)}}),Promise.all(i).then(()=>(e.forEach(l=>{if("cssRules"in l)try{Fn(l.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${l.href}`,s)}}),n))}function L4(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>tb(t.style.getPropertyValue("src")))}async function I4(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Fn(e.ownerDocument.styleSheets),i=await z4(n,t);return L4(i)}function lb(e){return e.trim().replace(/["']/g,"")}function U4(e){const t=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(s=>{t.add(lb(s))}),Array.from(i.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(e),t}async function B4(e,t){const n=await I4(e,t),i=U4(e);return(await Promise.all(n.filter(s=>i.has(lb(s.style.fontFamily))).map(s=>{const a=s.parentStyleSheet?s.parentStyleSheet.href:null;return nb(s.cssText,a,t)}))).join(`
`)}async function H4(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await B4(e,t);if(n){const i=document.createElement("style"),l=document.createTextNode(n);i.appendChild(l),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function q4(e,t={}){const{width:n,height:i}=$v(e,t),l=await Oo(e,t,!0);return await H4(l,t),await ib(l,t),k4(l,t),await l4(l,n,i)}async function V4(e,t={}){const{width:n,height:i}=$v(e,t),l=await q4(e,t),s=await Fr(l),a=document.createElement("canvas"),r=a.getContext("2d"),o=t.pixelRatio||t4(),c=t.canvasWidth||n,h=t.canvasHeight||i;return a.width=c*o,a.height=h*o,t.skipAutoScale||n4(a),a.style.width=`${c}`,a.style.height=`${h}`,t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(0,0,a.width,a.height)),r.drawImage(s,0,0,a.width,a.height),a}async function G4(e,t={}){return(await V4(e,t)).toDataURL()}const Y4=`data:image/svg+xml,${encodeURIComponent('<svg viewBox="0 0 68 105" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="grass" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#1a472a"/><stop offset="50%" style="stop-color:#166534"/><stop offset="100%" style="stop-color:#1a472a"/></linearGradient></defs><rect width="68" height="105" fill="url(#grass)"/><g stroke="rgba(255,255,255,0.5)" stroke-width="0.4" fill="none"><rect x="4" y="4" width="60" height="97"/><line x1="4" y1="52.5" x2="64" y2="52.5"/><circle cx="34" cy="52.5" r="9.15"/><circle cx="34" cy="52.5" r="0.5" fill="rgba(255,255,255,0.5)"/><rect x="13.84" y="4" width="40.32" height="16.5"/><rect x="24.84" y="4" width="18.32" height="5.5"/><circle cx="34" cy="15" r="0.5" fill="rgba(255,255,255,0.5)"/><path d="M 25.5 20.5 A 9.15 9.15 0 0 0 42.5 20.5"/><rect x="13.84" y="84.5" width="40.32" height="16.5"/><rect x="24.84" y="95.5" width="18.32" height="5.5"/><circle cx="34" cy="90" r="0.5" fill="rgba(255,255,255,0.5)"/><path d="M 25.5 84.5 A 9.15 9.15 0 0 1 42.5 84.5"/><path d="M 4 6 A 2 2 0 0 0 6 4"/><path d="M 62 4 A 2 2 0 0 0 64 6"/><path d="M 4 99 A 2 2 0 0 1 6 101"/><path d="M 62 101 A 2 2 0 0 1 64 99"/></g></svg>')}`,F4=()=>{const[e,t]=C.useState([]),[n,i]=C.useState({}),[l,s]=C.useState("4-2-3-1"),[a,r]=C.useState(!0),[o,c]=C.useState(!1),[h,f]=C.useState(null),[d,m]=C.useState(""),[y,x]=C.useState(!1),[E,g]=C.useState(!1),p=C.useRef(null);C.useEffect(()=>{(async()=>{const M=await cS();t(M),r(!1)})()},[]),C.useEffect(()=>{if(typeof window<"u"){const S="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;g(S)}},[]);const _=(S,M)=>{S.dataTransfer.setData("player",JSON.stringify(M))},v=(S,M)=>{S.preventDefault();const j=JSON.parse(S.dataTransfer.getData("player")),B=S.dataTransfer.getData("sourcePosition");if(B){const ze=n[M];i(Ke=>{const Gt={...Ke};return ze?(Gt[B]=ze,Gt[M]=j):(delete Gt[B],Gt[M]=j),Gt})}else{if(Object.values(n).some(Ke=>Ke.id===j.id))return;i(Ke=>({...Ke,[M]:j}))}},N=S=>{S.preventDefault()},R=S=>{i(M=>{const j={...M};return delete j[S],j})},T=S=>{n[S]||(f(S),c(!0))},O=S=>{h&&(Object.values(n).some(j=>j.id===S.id)||i(j=>({...j,[h]:S}))),c(!1),f(null),m("")},D={"4-3-3":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CM1:{top:"50%",left:"28%"},CM2:{top:"50%",left:"50%"},CM3:{top:"50%",left:"72%"},LW:{top:"25%",left:"12%"},ST:{top:"15%",left:"50%"},RW:{top:"25%",left:"88%"}},"4-4-2":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},LM:{top:"50%",left:"12%"},CM1:{top:"50%",left:"35%"},CM2:{top:"50%",left:"65%"},RM:{top:"50%",left:"88%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}},"4-2-3-1":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM1:{top:"60%",left:"35%"},CDM2:{top:"60%",left:"65%"},LAM:{top:"35%",left:"15%"},CAM:{top:"32%",left:"50%"},RAM:{top:"35%",left:"85%"},ST:{top:"15%",left:"50%"}},"4-1-4-1":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM:{top:"62%",left:"50%"},LM:{top:"45%",left:"12%"},CM1:{top:"45%",left:"35%"},CM2:{top:"45%",left:"65%"},RM:{top:"45%",left:"88%"},ST:{top:"15%",left:"50%"}},"3-5-2":{GK:{top:"93%",left:"50%"},CB1:{top:"78%",left:"25%"},CB2:{top:"78%",left:"50%"},CB3:{top:"78%",left:"75%"},LWB:{top:"55%",left:"8%"},CM1:{top:"50%",left:"28%"},CM2:{top:"50%",left:"50%"},CM3:{top:"50%",left:"72%"},RWB:{top:"55%",left:"92%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}},"4-1-2-1-2 Diamond":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM:{top:"62%",left:"50%"},CM1:{top:"48%",left:"25%"},CM2:{top:"48%",left:"75%"},CAM:{top:"32%",left:"50%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}}},k=D[l],Q=Object.keys(n).length,me=Object.keys(k).length,H=async()=>{const S=new Date().toISOString().split("T")[0],M=await G4(p.current,{quality:1,pixelRatio:2,backgroundColor:"#030712",style:{transform:"scale(1)"}}),B=await(await fetch(M)).blob(),ze=`fenerbahce-${l.replace(/[^0-9a-z-]/gi,"")}-lineup-${S}.png`;return{blob:B,fileName:ze,dataUrl:M}},W=async()=>{if(!(!Q||y||!p.current)){x(!0);try{const{dataUrl:S,fileName:M}=await H(),j=document.createElement("a");j.download=M,j.href=S,j.click()}catch(S){console.error("Kadro kart indirilirken hata olutu:",S),window.alert(`Kart indirilirken bir hata olutu: ${S.message}`)}finally{x(!1)}}},oe=async()=>{if(!(!Q||y||!p.current)){x(!0);try{const{blob:S,fileName:M}=await H(),j=new File([S],M,{type:"image/png"});navigator.share&&navigator.canShare({files:[j]})?await navigator.share({title:"Fenerbahe Kadrom",text:`Benim ${l} kadrom! `,files:[j]}):W()}catch(S){S.name!=="AbortError"&&console.error("Paylam hatas:",S)}finally{x(!1)}}},b=Object.entries(k).sort(([,S],[,M])=>parseFloat(S.top)-parseFloat(M.top));return u.jsxs("div",{className:"h-full flex flex-col pb-20",children:[u.jsxs("div",{className:"flex flex-col gap-3 mb-4 px-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("select",{value:l,onChange:S=>s(S.target.value),className:"bg-slate-800 text-white text-sm rounded-lg px-3 py-2 border border-slate-700 focus:outline-none focus:border-yellow-400",children:Object.keys(D).map(S=>u.jsx("option",{value:S,children:S},S))}),u.jsx("button",{onClick:()=>i({}),className:"text-xs text-red-400 hover:text-red-300 font-medium px-3 py-2 bg-red-400/10 rounded-lg border border-red-400/20",children:"Temizle"})]}),u.jsx("div",{className:"glass-panel rounded-xl p-4 flex flex-col gap-3 border border-white/5",children:u.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-white",children:"Kadro Payla"}),u.jsxs("p",{className:"text-[11px] text-slate-400",children:["Tamamlanan kadro: ",u.jsxs("span",{className:"font-semibold text-white",children:[Q,"/",me]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:oe,disabled:!Q||y,className:`px-3 py-2 rounded-lg text-xs font-semibold flex items-center gap-2 transition-colors ${Q&&!y?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/40 hover:bg-yellow-500/30":"bg-white/5 text-slate-500 border border-white/10 cursor-not-allowed"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),y?"Hazrlanyor...":"Payla"]}),u.jsxs("button",{onClick:W,disabled:!Q||y,className:`px-3 py-2 rounded-lg text-xs font-semibold flex items-center gap-2 transition-colors ${Q&&!y?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/40 hover:bg-emerald-500/30":"bg-white/5 text-slate-500 border border-white/10 cursor-not-allowed"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"ndir"]})]})]})})]}),u.jsx("div",{ref:p,className:"relative w-full aspect-[2/3] overflow-hidden mx-auto max-w-sm rounded-xl mb-6",style:{backgroundImage:`url("${Y4}")`,backgroundSize:"cover",backgroundPosition:"center"},children:b.map(([S,M])=>{const j=n[S];return u.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 flex items-center justify-center transition-all duration-200",style:M,onDrop:B=>v(B,S),onDragOver:N,onClick:()=>T(S),children:j?u.jsxs("div",{className:"relative w-full h-full flex flex-col items-center group",draggable:!y&&!E,onDragStart:B=>{B.dataTransfer.setData("player",JSON.stringify(j)),B.dataTransfer.setData("sourcePosition",S)},children:[u.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-yellow-400 overflow-hidden bg-slate-800 shadow-lg relative cursor-move z-10 group-hover:scale-110 transition-transform",children:j.photo?u.jsx("img",{src:j.photo,alt:j.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold",children:j.number})}),!y&&u.jsx("button",{type:"button","aria-label":`${j.name} pozisyonundan kar`,onClick:B=>{B.stopPropagation(),R(S)},className:"absolute top-0 right-0 w-4 h-4 rounded-full bg-slate-900/90 backdrop-blur-sm border border-slate-600/50 flex items-center justify-center shadow-md active:scale-90 transition-all z-20 hover:border-yellow-400/60 hover:bg-slate-800",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-2.5 h-2.5 text-slate-400 group-hover:text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),u.jsx("div",{className:"mt-1 bg-slate-900/90 px-2 py-0.5 rounded text-[9px] text-white font-medium truncate w-20 text-center border border-white/10 backdrop-blur-sm shadow-sm z-20",children:j.name.split(" ").pop()})]}):u.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-dashed border-white/40 bg-white/5 flex items-center justify-center hover:bg-white/10 hover:border-yellow-400/50 transition-all cursor-pointer",children:u.jsx("span",{className:"text-2xl text-white/50 hover:text-yellow-400",children:"+"})})},S)})}),u.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-2 px-2 uppercase tracking-wider",children:"Oyuncular"}),u.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar px-2 pb-20 touch-pan-y",children:u.jsx("div",{className:"grid grid-cols-4 gap-2",children:a?u.jsx("div",{className:"col-span-4 text-center text-slate-500 py-4",children:"Ykleniyor..."}):e.map(S=>u.jsxs("div",{draggable:!E,onDragStart:M=>_(M,S),className:"glass-panel rounded-lg p-2 flex flex-col items-center gap-1 cursor-move active:scale-95 transition-transform hover:bg-white/5",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 overflow-hidden border border-white/10 pointer-events-none",children:S.photo?u.jsx("img",{src:S.photo,alt:S.name,className:"w-full h-full object-cover",crossOrigin:"anonymous",draggable:"false"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:S.number})}),u.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center pointer-events-none",children:S.name.split(" ").slice(-1)[0]}),u.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded pointer-events-none",children:S.position})]},S.id))})})]}),o&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{c(!1),m("")},children:u.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm max-h-[75vh] overflow-hidden flex flex-col",onClick:S=>S.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-white",children:"Oyuncu Se"}),u.jsxs("div",{className:"mt-3 relative",children:[u.jsx("input",{type:"text",value:d,onChange:S=>m(S.target.value),placeholder:"sim ya da forma no ile ara...",className:"w-full bg-slate-900/60 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-yellow-400"}),d&&u.jsx("button",{onClick:()=>m(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white text-xs",children:"Temizle"})]})]}),u.jsx("button",{onClick:()=>{c(!1),m("")},className:"text-slate-400 hover:text-white",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:u.jsx("div",{className:"grid grid-cols-3 gap-2",children:(()=>{const S=d.trim().toLowerCase(),M=S?e.filter(j=>{var Ke;const B=(Ke=j.name)==null?void 0:Ke.toLowerCase().includes(S),ze=String(j.number??"").includes(S);return B||ze}):e;return M.length?M.map(j=>{const B=Object.values(n).some(ze=>ze.id===j.id);return u.jsxs("button",{onClick:()=>O(j),disabled:B,className:`glass-panel rounded-lg p-2 flex flex-col items-center gap-1 transition-all ${B?"opacity-50 cursor-not-allowed":"hover:bg-yellow-400/20 hover:border-yellow-400/30 cursor-pointer"}`,children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 overflow-hidden border border-white/10",children:j.photo?u.jsx("img",{src:j.photo,alt:j.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:j.number})}),u.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center",children:j.name.split(" ").slice(-1)[0]}),u.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded",children:j.position})]},j.id)}):u.jsx("div",{className:"col-span-3 text-center text-slate-500 text-xs py-6",children:"Oyuncu bulunamad"})})()})})]})})]})},Lp="fb_fcm_token",Ju=()=>({threeHours:!1,oneHour:!1,thirtyMinutes:!1,fifteenMinutes:!1,dailyCheck:!1}),Ip=(e={})=>({...Ju(),...e}),Q4=()=>{const[e,t]=C.useState(!1),[n,i]=C.useState(()=>{const E=localStorage.getItem("fb_notification_options");if(E)try{return Ip(JSON.parse(E))}catch{return Ju()}return Ju()}),[l,s]=C.useState(null),[a,r]=C.useState(()=>localStorage.getItem("fb_has_notifications")==="true");C.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const o=E=>{s(g=>{const p=g??n;return{...p,[E]:!(p!=null&&p[E])}})},c=()=>{s({...n}),t(!0)},h=()=>{s(null),t(!1)},f=async()=>{const E=Ip(m),g=Object.entries(E).filter(([v,N])=>N&&v!=="updatedAt").length,p=g===0;let _=localStorage.getItem(Lp);try{if(!p)try{if(!("Notification"in window)){alert(" Bu tarayc bildirimleri desteklemiyor.");return}if(await Notification.requestPermission()==="granted"){const{messaging:N}=await Ou(async()=>{const{messaging:D}=await Promise.resolve().then(()=>IN);return{messaging:D}},void 0),{getToken:R}=await Ou(async()=>{const{getToken:D}=await Promise.resolve().then(()=>zN);return{getToken:D}},void 0),T="/fenerbahce-fan-hub/firebase-messaging-sw.js",O="/fenerbahce-fan-hub/firebase-cloud-messaging-push-scope";console.log("FCM Service Worker registration path:",T,"scope:",O);try{let D=await navigator.serviceWorker.getRegistration(O);D||(D=await navigator.serviceWorker.register(T,{scope:O})),console.log(" FCM Service Worker ready:",D),_=await R(N,{vapidKey:"BL36u1e0V4xvIyP8n_Nh1Uc_EZTquN1vNv58E3wm_q3IsQ916MfhsbF1NATwfeoitmAIyhMTC5TdhB7CSBRAz-4",serviceWorkerRegistration:D}),_&&localStorage.setItem(Lp,_)}catch(D){console.error("FCM Service Worker registration failed:",D),alert(` Service Worker hatas: ${D.message}`);return}}else{alert(" Bildirim izni reddedildi! Tarayc ayarlarndan izin vermelisiniz.");return}}catch(v){console.error("Token alnamad:",v),alert(` Bildirim hatas: ${v.message}`);return}if(_){const v=await fetch(`${_n}/reminder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:_,options:E})});if(!v.ok)throw new Error(`Backend error: ${v.status}`);const N=await v.json();console.log("Backend response:",N)}else if(p)console.warn("No stored token found while disabling notifications; local state cleared only.");else{alert(" Bildirim tokeni alnamad. Ltfen tekrar deneyin.");return}g===0?(r(!1),localStorage.removeItem("fb_has_notifications"),localStorage.removeItem("fb_notification_options"),alert(" Tm bildirimler temizlendi!")):(r(!0),localStorage.setItem("fb_has_notifications","true"),localStorage.setItem("fb_notification_options",JSON.stringify(E)),alert(` ${g} bildirim ayarland! Tm malara uygulanacak.`)),i(E),s(null),t(!1)}catch(v){console.error("Bildirim kaydetme hatas:",v),alert(" Balant hatas! Ltfen tekrar deneyin.")}},d=[{id:"threeHours",label:"Matan 3 saat nce",description:"Hazrlk yapmaya zamann olsun"},{id:"oneHour",label:"Matan 1 saat nce",description:"Heyecan zaman!"},{id:"thirtyMinutes",label:"Matan 30 dakika nce",description:"Son hazrlk"},{id:"fifteenMinutes",label:"Matan 15 dakika nce",description:"Ma balyor!"}],m=l??n,y=JSON.stringify(m)!==JSON.stringify(n),x=Object.entries(m).filter(([E,g])=>g&&E!=="updatedAt").length;return Object.entries(n).filter(([E,g])=>g&&E!=="updatedAt").length,u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:c,className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-300 bg-white/5 text-slate-400 hover:bg-white/10 hover:text-yellow-400 hover:scale-110 ${a?"ring-2 ring-yellow-400/60 text-yellow-400/80":""}`,title:"Bildirim ayarlar",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:a?2:1.5,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:h,children:u.jsxs("div",{className:"bg-[#0f172a] border border-white/10 rounded-2xl p-6 max-w-md w-full max-h-[85vh] overflow-y-auto animate-slideUp shadow-2xl",onClick:E=>E.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-white",children:"Bildirim Ayarlar"}),u.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Tm malar iin geerli"})]}),u.jsx("button",{onClick:h,className:"text-slate-400 hover:text-white hover:rotate-90 transition-all duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"glass-panel rounded-xl p-4 mb-6 border border-yellow-400/20",children:[u.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"text-sm font-semibold",children:"Bu ayarlar tm malara uygulanr"})]}),u.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Bir kez ayarla, her ma iin otomatik bildirim al!"})]}),u.jsxs("div",{className:"space-y-3 mb-6",children:[d.map(E=>u.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${m[E.id]?"bg-yellow-400/20 border-yellow-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[u.jsx("input",{type:"checkbox",checked:m[E.id],onChange:()=>o(E.id),className:"mt-1 w-5 h-5 rounded border-2 border-yellow-400 bg-transparent checked:bg-yellow-400 cursor-pointer accent-yellow-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("span",{className:"font-semibold text-white",children:E.label})}),u.jsx("p",{className:"text-xs text-slate-400",children:E.description})]})]},E.id)),u.jsx("div",{className:"pt-3 border-t border-white/10",children:u.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${m.dailyCheck?"bg-blue-400/20 border-blue-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[u.jsx("input",{type:"checkbox",checked:m.dailyCheck,onChange:()=>o("dailyCheck"),className:"mt-1 w-5 h-5 rounded border-2 border-blue-400 bg-transparent checked:bg-blue-400 cursor-pointer accent-blue-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"font-semibold text-white",children:"Gnlk Ma Kontrol"}),u.jsx("span",{className:"text-[10px] bg-blue-500/20 text-blue-300 px-2 py-0.5 rounded-full font-bold",children:"ZEL"})]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Her sabah 09:00'da kontrol et, o gn ma varsa bildir"})]})]})})]}),Object.entries(m).some(([E,g])=>g&&E!=="updatedAt")&&u.jsx("div",{className:"bg-yellow-400/10 border border-yellow-400/30 rounded-lg p-3 mb-4 animate-fadeIn",children:u.jsxs("p",{className:"text-xs text-yellow-200",children:[u.jsx("strong",{className:"text-yellow-400",children:x})," bildirim setiniz"]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:E=>{E.stopPropagation(),h()},className:"flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 transition-all duration-200 font-medium border border-white/10 hover:border-white/20",children:"ptal"}),u.jsx("button",{onClick:f,disabled:!y,className:`flex-1 py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-all duration-200 ${y?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-300 hover:to-yellow-400 shadow-[0_0_20px_rgba(234,179,8,0.3)] hover:shadow-[0_0_30px_rgba(234,179,8,0.5)] hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed opacity-50"}`,children:"Kaydet"})]})]})})]})},K4=[{id:"all",label:"Tm"},{id:"played",label:"Biten"},{id:"upcoming",label:"Kalan"}],X4=[{id:"all",label:"Tm"},{id:"home",label:" Saha"},{id:"away",label:"Deplasman"}],Z4=[{id:"all",label:"Tm"},{id:"superlig",label:"Sper Lig"},{id:"europe",label:"Avrupa"}],Wt=(e="")=>e&&e.replace(/\bFenerbahce\b/gi,"Fenerbahe").replace(/\bBesiktas\b/gi,"Beikta").replace(/\bIstanbul Basaksehir\b/gi,"stanbul Baakehir"),xn=e=>{const t=new Date(e==null?void 0:e.date).getTime();return Number.isFinite(t)?t:0},P4=e=>{const t=new Date(e);return{full:t.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}),time:t.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})}},$4=e=>{const t=e==null?void 0:e.venueName;return t?e!=null&&e.isFbHome&&/ulker|lker|sukru|kr|saracolu|saracoglu/i.test(t)?"Chobani Stadyumu kr Saracolu Spor Kompleksi":t:null},W4=e=>e.status.completed||e.status.state==="in",Up=({team:e,isFenerbahce:t=!1,align:n="left"})=>u.jsxs("div",{className:`flex items-center gap-2 min-w-0 ${n==="right"?"justify-end text-right":""}`,children:[n==="right"&&u.jsx("span",{className:`text-sm font-semibold truncate max-w-[120px] ${t?"text-yellow-300":"text-white"}`,children:Wt(e.shortName||e.name)}),u.jsx("div",{className:`w-9 h-9 rounded-full overflow-hidden border flex items-center justify-center shrink-0 ${t?"border-yellow-400/40 bg-yellow-400/10":"border-white/10 bg-white/5"}`,children:e.logo?u.jsx("img",{src:e.logo,alt:Wt(e.name),className:"w-full h-full object-contain p-1",loading:"lazy"}):u.jsx("span",{className:"text-[10px] font-bold text-slate-200",children:(e.abbreviation||Wt(e.name).slice(0,2)).toUpperCase()})}),n!=="right"&&u.jsx("span",{className:`text-sm font-semibold truncate max-w-[120px] ${t?"text-yellow-300":"text-white"}`,children:Wt(e.shortName||e.name)})]}),ka=({match:e,featured:t=!1,cardRef:n=null})=>{const i=P4(e.date),l=W4(e),s=$4(e);return u.jsxs("article",{ref:n,className:`glass-panel rounded-2xl p-4 border transition-colors ${t?"border-yellow-400/20 shadow-[0_0_24px_rgba(234,179,8,0.08)]":"border-white/5 hover:border-yellow-400/10"}`,children:[u.jsxs("p",{className:`text-[12px] mb-3 ${t?"text-slate-300":"text-slate-400"}`,children:[i.full,"  ",i.time]}),u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-2",children:[u.jsx(Up,{team:e.homeTeam,isFenerbahce:e.homeTeam.id===e.fbTeam.id,align:"left"}),u.jsx("div",{className:"px-2 text-center shrink-0",children:l?u.jsxs("span",{className:"font-black text-white text-lg tracking-tight",children:[e.homeTeam.score??"-"," ",u.jsx("span",{className:"text-slate-500",children:":"})," ",e.awayTeam.score??"-"]}):u.jsx("span",{className:`font-bold text-sm ${t?"text-yellow-300":"text-slate-400"}`,children:"VS"})}),u.jsx(Up,{team:e.awayTeam,isFenerbahce:e.awayTeam.id===e.fbTeam.id,align:"right"})]}),s&&u.jsx("div",{className:"mt-3 pt-3 border-t border-white/5",children:u.jsx("p",{className:"text-[11px] text-slate-500 truncate",children:s})})]})};function J4(){const[e,t]=C.useState(null),[n,i]=C.useState(!0),[l,s]=C.useState(null),[a,r]=C.useState(!1),[o,c]=C.useState("all"),[h,f]=C.useState(!1),[d,m]=C.useState(""),[y,x]=C.useState("all"),[E,g]=C.useState("all"),p=C.useRef(null);C.useEffect(()=>{let b=!0;return(async()=>{i(!0),s(null);const M=await Em();b&&(M!=null&&M.error&&s("Fikstr verisi alnamad. Ltfen tekrar dene."),t(M),i(!1))})(),()=>{b=!1}},[]);const _=async()=>{s(null),r(!0);const b=await Em();b!=null&&b.error&&s("Fikstr verisi alnamad. Ltfen tekrar dene."),t(b),r(!1)},v=C.useMemo(()=>(e==null?void 0:e.matches)??[],[e]),N=C.useMemo(()=>v.filter(b=>b.status.completed||b.status.state==="post").sort((b,S)=>xn(S)-xn(b)),[v]),R=C.useMemo(()=>v.filter(b=>!b.status.completed&&b.status.state!=="post").sort((b,S)=>xn(b)-xn(S)),[v]),T=C.useMemo(()=>o==="played"?N:o==="upcoming"?R:[...R,...N],[o,N,R]),O=d.trim().toLocaleLowerCase("tr-TR"),D=C.useMemo(()=>T.filter(b=>{var S,M,j,B,ze;return!(y==="home"&&!b.isFbHome||y==="away"&&b.isFbHome||E!=="all"&&b.competitionGroup!==E||O&&![Wt(((S=b.homeTeam)==null?void 0:S.name)||""),Wt(((M=b.homeTeam)==null?void 0:M.shortName)||""),Wt(((j=b.awayTeam)==null?void 0:j.name)||""),Wt(((B=b.awayTeam)==null?void 0:B.shortName)||""),Wt(((ze=b.opponentTeam)==null?void 0:ze.name)||"")].join(" ").toLocaleLowerCase("tr-TR").includes(O))}),[T,y,E,O]),k=C.useMemo(()=>o!=="all"?[]:D.filter(b=>b.status.completed||b.status.state==="post").sort((b,S)=>xn(S)-xn(b)),[o,D]),Q=C.useMemo(()=>o!=="all"?[]:D.filter(b=>!b.status.completed&&b.status.state!=="post").sort((b,S)=>xn(b)-xn(S)),[o,D]),me=Q[0]??null,H=Q.slice(1),W=[y!=="all",E!=="all",O.length>0].filter(Boolean).length,oe=()=>{m(""),x("all"),g("all")};return u.jsxs("div",{className:"min-h-screen pb-24",children:[u.jsxs("section",{className:"sticky top-0 z-30 mb-4 space-y-3 pt-1 pb-2 bg-gradient-to-b from-slate-950/95 via-slate-950/90 to-transparent backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"grid grid-cols-3 gap-2 flex-1",children:K4.map(b=>u.jsx("button",{onClick:()=>c(b.id),className:`px-2 py-2 rounded-xl text-xs font-semibold transition-all duration-200 ${o===b.id?"bg-yellow-400 text-black shadow-[0_0_18px_rgba(234,179,8,0.25)]":"glass-panel text-slate-300 hover:bg-white/10"}`,children:b.label},b.id))}),u.jsxs("div",{className:"shrink-0 flex items-center gap-1.5",children:[u.jsxs("button",{onClick:()=>f(b=>!b),className:`h-[38px] px-[11px] rounded-xl text-xs font-semibold border transition-colors inline-flex items-center gap-1.5 ${h?"border-yellow-400/30 text-yellow-300 bg-yellow-400/5":"border-white/10 text-slate-300 bg-white/5 hover:bg-white/10"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h18M6 12h12m-9 8h6"})}),u.jsx("span",{children:"Filtre"}),W>0&&u.jsx("span",{className:"min-w-[18px] h-[18px] px-1 rounded-full bg-yellow-400 text-black text-[9px] inline-flex items-center justify-center font-bold",children:W})]}),u.jsxs("button",{onClick:_,disabled:n||a,className:"h-[38px] px-[11px] rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors inline-flex items-center gap-1.5",title:"Fikstr yenile",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`w-4 h-4 text-yellow-300 ${a?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v6h6M20 20v-6h-6M20 9a8 8 0 00-13.66-3.66L4 7m16 10l-2.34 2.34A8 8 0 014 15"})}),u.jsx("span",{children:a?"Yenileniyor":"Yenile"})]})]})]}),h&&u.jsxs("div",{className:"glass-panel rounded-2xl p-3 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 pb-1 border-b border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-yellow-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h18M6 12h12m-9 8h6"})}),u.jsx("p",{className:"text-xs font-semibold text-white",children:"Ma Filtreleri"})]}),u.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-white hover:rotate-90 transition-all duration-300 shrink-0","aria-label":"Filtre panelini kapat",title:"Kapat",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Takm Ara"}),u.jsx("input",{type:"text",value:d,onChange:b=>m(b.target.value),placeholder:"Rakip ad yaz...",className:"w-full rounded-xl border border-white/10 bg-slate-950/40 px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-yellow-400/30"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Saha"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:X4.map(b=>u.jsx("button",{onClick:()=>x(b.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${y===b.id?"bg-yellow-400/10 text-yellow-200 border border-yellow-400/25":"bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10"}`,children:b.label},b.id))})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Kulvar"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Z4.map(b=>u.jsx("button",{onClick:()=>g(b.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${E===b.id?"bg-blue-400/10 text-blue-200 border border-blue-400/25":"bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10"}`,children:b.label},b.id))})]}),u.jsxs("div",{className:"flex items-center justify-between gap-3 pt-1",children:[u.jsxs("p",{className:"text-xs text-slate-400",children:[D.length," ma gsteriliyor"]}),u.jsx("button",{onClick:oe,className:"text-sm font-semibold text-slate-200 hover:text-white transition-colors",children:"Temizle"})]})]})]}),n?u.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((b,S)=>u.jsxs("div",{className:"glass-panel rounded-2xl p-4 animate-pulse",children:[u.jsx("div",{className:"h-4 w-36 bg-white/10 rounded mb-3"}),u.jsx("div",{className:"h-10 w-full bg-white/5 rounded-xl"})]},S))}):u.jsxs("section",{className:"space-y-3",children:[l&&u.jsx("div",{className:"glass-panel rounded-2xl p-4 border border-rose-400/20",children:u.jsx("p",{className:"text-sm text-rose-200",children:l})}),!l&&D.length===0&&u.jsx("div",{className:"glass-panel rounded-2xl p-5 text-center",children:u.jsx("p",{className:"text-sm text-slate-300",children:"Bu filtre iin ma bulunamad."})}),!l&&D.length>0&&o!=="all"&&u.jsx("div",{className:"space-y-2.5",children:D.map(b=>u.jsx(ka,{match:b},b.id))}),!l&&D.length>0&&o==="all"&&u.jsxs("div",{className:"relative space-y-4",children:[k.length>0&&u.jsxs("section",{className:"space-y-2.5",children:[u.jsxs("div",{className:"flex items-center gap-2 px-1",children:[u.jsx("div",{className:"h-px bg-white/10 flex-1"}),u.jsx("p",{className:"text-[11px] uppercase tracking-[0.14em] text-slate-400",children:"Gemi"}),u.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),k.map(b=>u.jsx(ka,{match:b},b.id))]}),me&&u.jsxs("section",{className:"space-y-2.5",children:[k.length>0&&u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-white/10 bg-white/5 px-2.5 py-1 text-[10px] text-white/65 backdrop-blur-sm",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),u.jsx("span",{children:"Gemi"}),u.jsx("span",{className:"text-white/30",children:""}),u.jsx("span",{children:"Kaydr"})]})}),u.jsxs("div",{className:"flex items-center gap-2 px-1",children:[u.jsx("div",{className:"h-px bg-yellow-400/20 flex-1"}),u.jsx("p",{className:"text-[11px] uppercase tracking-[0.14em] text-yellow-300",children:"Sradaki Ma"}),u.jsx("div",{className:"h-px bg-yellow-400/20 flex-1"})]}),u.jsx(ka,{match:me,featured:!0,cardRef:p}),H.length>0&&u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-white/10 bg-white/5 px-2.5 py-1 text-[10px] text-white/65 backdrop-blur-sm",children:[u.jsx("span",{children:"Kaydr"}),u.jsx("span",{className:"text-white/30",children:""}),u.jsx("span",{children:"Gelecek"}),u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),H.length>0&&u.jsxs("section",{className:"space-y-2.5",children:[u.jsxs("div",{className:"flex items-center gap-2 px-1",children:[u.jsx("div",{className:"h-px bg-white/10 flex-1"}),u.jsx("p",{className:"text-[11px] uppercase tracking-[0.14em] text-slate-400",children:"Gelecek"}),u.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),H.map(b=>u.jsx(ka,{match:b},b.id))]})]})]})]})}const e3=()=>{if(typeof window>"u")return null;const e=localStorage.getItem("fb_last_match");if(!e)return null;try{return JSON.parse(e)}catch(t){return console.warn("fb_last_match parse error:",t),null}};function t3(){const[e,t]=C.useState("dashboard"),n=C.useMemo(()=>typeof window>"u"?null:e3(),[]),[i,l]=C.useState((n==null?void 0:n.nextMatch)??null),[s,a]=C.useState((n==null?void 0:n.next3Matches)??[]),[r,o]=C.useState((n==null?void 0:n.timestamp)??null),[c,h]=C.useState(!n),[f,d]=C.useState(!1),[m,y]=C.useState(null),x=C.useRef(!!(n!=null&&n.nextMatch)),[E,g]=C.useState("countdown"),[p,_]=C.useState(null),[v,N]=C.useState(0),R=C.useRef(null),T=C.useRef(null);C.useEffect(()=>{x.current=!!i},[i]);const O=C.useCallback(async()=>{const W=x.current;y(null),W?d(!0):h(!0);try{const[oe,b]=await Promise.all([oS(),uS()]),S=Array.isArray(b)?b:[];if(a(S),oe){l(oe),N(0);const M={nextMatch:oe,next3Matches:S,timestamp:Date.now()};typeof window<"u"&&localStorage.setItem("fb_last_match",JSON.stringify(M)),o(M.timestamp)}else l(null),y("Ma verisi alnamad. Ltfen balantn kontrol edip tekrar dene.")}catch(oe){console.error("loadMatchData error:",oe),l(null),a([]),y("Beklenmeyen bir hata olutu. Tekrar dene veya biraz sonra gel.")}finally{h(!1),d(!1)}},[]);C.useEffect(()=>{O()},[O]);const D=C.useMemo(()=>v===0?i:s.length>v?s[v]:i,[i,s,v]),k=C.useCallback(async()=>{try{const W=await fetch(`${_n}/live-match`);if(!W.ok)return _(null),null;const oe=await W.json();return oe.matchState==="no-match"?(_(null),"no-match"):(_(oe),oe.matchState)}catch(W){return console.error("Live match fetch error:",W),null}},[]),Q=C.useCallback(()=>{if(R.current)return;const W=async()=>{const oe=await k();oe&&g(oe==="no-match"?"pre":oe)};W(),R.current=setInterval(W,3e4)},[k]),me=C.useCallback(()=>{R.current&&(clearInterval(R.current),R.current=null)},[]),H=C.useCallback(()=>{g("pre"),Q()},[Q]);return C.useEffect(()=>(E==="post"&&(T.current=setTimeout(()=>{me(),_(null),g("countdown"),s.length>v+1&&N(W=>W+1)},3e4)),()=>{T.current&&clearTimeout(T.current)}),[E,v,s.length,me]),C.useEffect(()=>()=>{me(),T.current&&clearTimeout(T.current)},[me]),u.jsxs("div",{className:"min-h-screen bg-slate-950 text-white pb-24 relative overflow-hidden",children:[u.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",children:[u.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-yellow-500/10 rounded-full blur-[100px]"}),u.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/20 rounded-full blur-[100px]"})]}),u.jsxs("div",{className:"relative z-10 max-w-md mx-auto h-full min-h-screen flex flex-col",children:[u.jsxs("header",{className:"p-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-yellow-200",children:"Fenerbahe Hub"}),u.jsx("p",{className:"text-slate-400 text-xs",children:"Taraftarn Sesi"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Q4,{}),u.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 p-0.5 shadow-lg shadow-yellow-500/20",children:u.jsx("div",{className:"w-full h-full rounded-full bg-slate-900 flex items-center justify-center overflow-hidden",children:u.jsx("img",{src:"https://media.api-sports.io/football/teams/611.png",alt:"FB Logo",className:"w-8 h-8 object-contain"})})})]})]}),u.jsxs("main",{className:"flex-1 px-4 overflow-y-auto no-scrollbar",children:[e==="dashboard"&&u.jsx(PN,{matchData:D,next3Matches:s,loading:c&&!i,onRetry:O,errorMessage:m,lastUpdated:r,isRefreshing:f,liveMatchState:E,liveMatchData:p,onCountdownEnd:H}),e==="fixtures"&&u.jsx(J4,{}),e==="builder"&&u.jsx(F4,{})]}),u.jsxs("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[88%] max-w-sm glass-panel rounded-2xl p-2 flex justify-around items-center z-50",children:[u.jsxs("button",{onClick:()=>t("dashboard"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="dashboard"?"bg-white/10 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.3)]":"text-slate-400 hover:text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),u.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Pano"})]}),u.jsxs("button",{onClick:()=>t("fixtures"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="fixtures"?"bg-white/10 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.3)]":"text-slate-400 hover:text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10m-11 9h12a2 2 0 002-2V7a2 2 0 00-2-2H6a2 2 0 00-2 2v11a2 2 0 002 2z"})}),u.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Fikstr"})]}),u.jsxs("button",{onClick:()=>t("builder"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="builder"?"bg-yellow-500 text-white shadow-[0_0_20px_rgba(234,179,8,0.5)] scale-110":"bg-slate-800 text-slate-400 hover:text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),u.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Kadro Kur"})]})]})]})]})}"serviceWorker"in navigator&&aS({immediate:!0});iS.createRoot(document.getElementById("root")).render(u.jsx(wb.StrictMode,{children:u.jsx(t3,{})}));
