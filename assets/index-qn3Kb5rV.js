(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Vp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gp={exports:{}},Qr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob=Symbol.for("react.transitional.element"),cb=Symbol.for("react.fragment");function Yp(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var l in t)l!=="key"&&(n[l]=t[l])}else n=t;return t=n.ref,{$$typeof:ob,type:e,key:i,ref:t!==void 0?t:null,props:n}}Qr.Fragment=cb;Qr.jsx=Yp;Qr.jsxs=Yp;Gp.exports=Qr;var u=Gp.exports,Fp={exports:{}},H={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=Symbol.for("react.transitional.element"),ub=Symbol.for("react.portal"),fb=Symbol.for("react.fragment"),db=Symbol.for("react.strict_mode"),hb=Symbol.for("react.profiler"),mb=Symbol.for("react.consumer"),pb=Symbol.for("react.context"),gb=Symbol.for("react.forward_ref"),yb=Symbol.for("react.suspense"),_b=Symbol.for("react.memo"),Qp=Symbol.for("react.lazy"),vb=Symbol.for("react.activity"),Xd=Symbol.iterator;function bb(e){return e===null||typeof e!="object"?null:(e=Xd&&e[Xd]||e["@@iterator"],typeof e=="function"?e:null)}var Kp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xp=Object.assign,Pp={};function Al(e,t,n){this.props=e,this.context=t,this.refs=Pp,this.updater=n||Kp}Al.prototype.isReactComponent={};Al.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Al.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zp(){}Zp.prototype=Al.prototype;function tf(e,t,n){this.props=e,this.context=t,this.refs=Pp,this.updater=n||Kp}var nf=tf.prototype=new Zp;nf.constructor=tf;Xp(nf,Al.prototype);nf.isPureReactComponent=!0;var Pd=Array.isArray;function Lc(){}var pe={H:null,A:null,T:null,S:null},$p=Object.prototype.hasOwnProperty;function lf(e,t,n){var i=n.ref;return{$$typeof:ef,type:e,key:t,ref:i!==void 0?i:null,props:n}}function xb(e,t){return lf(e.type,t,e.props)}function sf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ef}function Sb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zd=/\/+/g;function jo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sb(""+e.key):t.toString(36)}function wb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Lc,Lc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Vi(e,t,n,i,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ef:case ub:a=!0;break;case Qp:return a=e._init,Vi(a(e._payload),t,n,i,l)}}if(a)return l=l(e),a=i===""?"."+jo(e,0):i,Pd(l)?(n="",a!=null&&(n=a.replace(Zd,"$&/")+"/"),Vi(l,t,n,"",function(c){return c})):l!=null&&(sf(l)&&(l=xb(l,n+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(Zd,"$&/")+"/")+a)),t.push(l)),1;a=0;var r=i===""?".":i+":";if(Pd(e))for(var o=0;o<e.length;o++)i=e[o],s=r+jo(i,o),a+=Vi(i,t,n,s,l);else if(o=bb(e),typeof o=="function")for(e=o.call(e),o=0;!(i=e.next()).done;)i=i.value,s=r+jo(i,o++),a+=Vi(i,t,n,s,l);else if(s==="object"){if(typeof e.then=="function")return Vi(wb(e),t,n,i,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function ma(e,t,n){if(e==null)return e;var i=[],l=0;return Vi(e,i,"","",function(s){return t.call(n,s,l++)}),i}function Eb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $d=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tb={map:ma,forEach:function(e,t,n){ma(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ma(e,function(){t++}),t},toArray:function(e){return ma(e,function(t){return t})||[]},only:function(e){if(!sf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Activity=vb;H.Children=Tb;H.Component=Al;H.Fragment=fb;H.Profiler=hb;H.PureComponent=tf;H.StrictMode=db;H.Suspense=yb;H.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe;H.__COMPILER_RUNTIME={__proto__:null,c:function(e){return pe.H.useMemoCache(e)}};H.cache=function(e){return function(){return e.apply(null,arguments)}};H.cacheSignal=function(){return null};H.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Xp({},e.props),l=e.key;if(t!=null)for(s in t.key!==void 0&&(l=""+t.key),t)!$p.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),r=0;r<s;r++)a[r]=arguments[r+2];i.children=a}return lf(e.type,l,i)};H.createContext=function(e){return e={$$typeof:pb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:mb,_context:e},e};H.createElement=function(e,t,n){var i,l={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)$p.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=t[i]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var r=Array(a),o=0;o<a;o++)r[o]=arguments[o+2];l.children=r}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)l[i]===void 0&&(l[i]=a[i]);return lf(e,s,l)};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:gb,render:e}};H.isValidElement=sf;H.lazy=function(e){return{$$typeof:Qp,_payload:{_status:-1,_result:e},_init:Eb}};H.memo=function(e,t){return{$$typeof:_b,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=pe.T,n={};pe.T=n;try{var i=e(),l=pe.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Lc,$d)}catch(s){$d(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),pe.T=t}};H.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()};H.use=function(e){return pe.H.use(e)};H.useActionState=function(e,t,n){return pe.H.useActionState(e,t,n)};H.useCallback=function(e,t){return pe.H.useCallback(e,t)};H.useContext=function(e){return pe.H.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e,t){return pe.H.useDeferredValue(e,t)};H.useEffect=function(e,t){return pe.H.useEffect(e,t)};H.useEffectEvent=function(e){return pe.H.useEffectEvent(e)};H.useId=function(){return pe.H.useId()};H.useImperativeHandle=function(e,t,n){return pe.H.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return pe.H.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return pe.H.useLayoutEffect(e,t)};H.useMemo=function(e,t){return pe.H.useMemo(e,t)};H.useOptimistic=function(e,t){return pe.H.useOptimistic(e,t)};H.useReducer=function(e,t,n){return pe.H.useReducer(e,t,n)};H.useRef=function(e){return pe.H.useRef(e)};H.useState=function(e){return pe.H.useState(e)};H.useSyncExternalStore=function(e,t,n){return pe.H.useSyncExternalStore(e,t,n)};H.useTransition=function(){return pe.H.useTransition()};H.version="19.2.0";Fp.exports=H;var T=Fp.exports;const Cb=Vp(T);var Wp={exports:{}},Kr={},Jp={exports:{}},eg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,O){var k=b.length;b.push(O);e:for(;0<k;){var C=k-1>>>1,j=b[C];if(0<l(j,O))b[C]=O,b[k]=j,k=C;else break e}}function n(b){return b.length===0?null:b[0]}function i(b){if(b.length===0)return null;var O=b[0],k=b.pop();if(k!==O){b[0]=k;e:for(var C=0,j=b.length,z=j>>>1;C<z;){var se=2*(C+1)-1,Ae=b[se],ye=se+1,_t=b[ye];if(0>l(Ae,k))ye<j&&0>l(_t,Ae)?(b[C]=_t,b[ye]=k,C=ye):(b[C]=Ae,b[se]=k,C=se);else if(ye<j&&0>l(_t,k))b[C]=_t,b[ye]=k,C=ye;else break e}}return O}function l(b,O){var k=b.sortIndex-O.sortIndex;return k!==0?k:b.id-O.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,r=a.now();e.unstable_now=function(){return a.now()-r}}var o=[],c=[],h=1,f=null,d=3,m=!1,y=!1,x=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function v(b){for(var O=n(c);O!==null;){if(O.callback===null)i(c);else if(O.startTime<=b)i(c),O.sortIndex=O.expirationTime,t(o,O);else break;O=n(c)}}function N(b){if(x=!1,v(b),!y)if(n(o)!==null)y=!0,M||(M=!0,le());else{var O=n(c);O!==null&&oe(N,O.startTime-b)}}var M=!1,E=-1,D=5,R=-1;function L(){return w?!0:!(e.unstable_now()-R<D)}function W(){if(w=!1,M){var b=e.unstable_now();R=b;var O=!0;try{e:{y=!1,x&&(x=!1,p(E),E=-1),m=!0;var k=d;try{t:{for(v(b),f=n(o);f!==null&&!(f.expirationTime>b&&L());){var C=f.callback;if(typeof C=="function"){f.callback=null,d=f.priorityLevel;var j=C(f.expirationTime<=b);if(b=e.unstable_now(),typeof j=="function"){f.callback=j,v(b),O=!0;break t}f===n(o)&&i(o),v(b)}else i(o);f=n(o)}if(f!==null)O=!0;else{var z=n(c);z!==null&&oe(N,z.startTime-b),O=!1}}break e}finally{f=null,d=k,m=!1}O=void 0}}finally{O?le():M=!1}}}var le;if(typeof _=="function")le=function(){_(W)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,te=B.port2;B.port1.onmessage=W,le=function(){te.postMessage(null)}}else le=function(){g(W,0)};function oe(b,O){E=g(function(){b(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(b){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var k=d;d=O;try{return b()}finally{d=k}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(b,O){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var k=d;d=b;try{return O()}finally{d=k}},e.unstable_scheduleCallback=function(b,O,k){var C=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?C+k:C):k=C,b){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=k+j,b={id:h++,callback:O,priorityLevel:b,startTime:k,expirationTime:j,sortIndex:-1},k>C?(b.sortIndex=k,t(c,b),n(o)===null&&b===n(c)&&(x?(p(E),E=-1):x=!0,oe(N,k-C))):(b.sortIndex=j,t(o,b),y||m||(y=!0,M||(M=!0,le()))),b},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(b){var O=d;return function(){var k=d;d=O;try{return b.apply(this,arguments)}finally{d=k}}}})(eg);Jp.exports=eg;var Nb=Jp.exports,tg={exports:{}},Pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab=T;function ng(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sn(){}var Qe={d:{f:Sn,r:function(){throw Error(ng(522))},D:Sn,C:Sn,L:Sn,m:Sn,X:Sn,S:Sn,M:Sn},p:0,findDOMNode:null},Mb=Symbol.for("react.portal");function Rb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var is=Ab.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Xr(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qe;Pe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(ng(299));return Rb(e,t,null,n)};Pe.flushSync=function(e){var t=is.T,n=Qe.p;try{if(is.T=null,Qe.p=2,e)return e()}finally{is.T=t,Qe.p=n,Qe.d.f()}};Pe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Qe.d.C(e,t))};Pe.prefetchDNS=function(e){typeof e=="string"&&Qe.d.D(e)};Pe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Xr(n,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Qe.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:s}):n==="script"&&Qe.d.X(e,{crossOrigin:i,integrity:l,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Pe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Xr(t.as,t.crossOrigin);Qe.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Qe.d.M(e)};Pe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Xr(n,t.crossOrigin);Qe.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Pe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Xr(t.as,t.crossOrigin);Qe.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Qe.d.m(e)};Pe.requestFormReset=function(e){Qe.d.r(e)};Pe.unstable_batchedUpdates=function(e,t){return e(t)};Pe.useFormState=function(e,t,n){return is.H.useFormState(e,t,n)};Pe.useFormStatus=function(){return is.H.useHostTransitionStatus()};Pe.version="19.2.0";function ig(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ig)}catch(e){console.error(e)}}ig(),tg.exports=Pe;var Db=tg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var je=Nb,lg=T,Ob=Db;function S(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function sg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ag(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rg(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wd(e){if(Xs(e)!==e)throw Error(S(188))}function jb(e){var t=e.alternate;if(!t){if(t=Xs(e),t===null)throw Error(S(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Wd(l),e;if(s===i)return Wd(l),t;s=s.sibling}throw Error(S(188))}if(n.return!==i.return)n=l,i=s;else{for(var a=!1,r=l.child;r;){if(r===n){a=!0,n=l,i=s;break}if(r===i){a=!0,i=l,n=s;break}r=r.sibling}if(!a){for(r=s.child;r;){if(r===n){a=!0,n=s,i=l;break}if(r===i){a=!0,i=s,n=l;break}r=r.sibling}if(!a)throw Error(S(189))}}if(n.alternate!==i)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?e:t}function og(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=og(e),t!==null)return t;e=e.sibling}return null}var ge=Object.assign,kb=Symbol.for("react.element"),pa=Symbol.for("react.transitional.element"),$l=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),cg=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),ug=Symbol.for("react.consumer"),tn=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),Uc=Symbol.for("react.suspense"),Bc=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),Hc=Symbol.for("react.activity"),zb=Symbol.for("react.memo_cache_sentinel"),Jd=Symbol.iterator;function Hl(e){return e===null||typeof e!="object"?null:(e=Jd&&e[Jd]||e["@@iterator"],typeof e=="function"?e:null)}var Lb=Symbol.for("react.client.reference");function qc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Lb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fi:return"Fragment";case Ic:return"Profiler";case cg:return"StrictMode";case Uc:return"Suspense";case Bc:return"SuspenseList";case Hc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $l:return"Portal";case tn:return e.displayName||"Context";case ug:return(e._context.displayName||"Context")+".Consumer";case af:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rf:return t=e.displayName||null,t!==null?t:qc(e.type)||"Memo";case En:t=e._payload,e=e._init;try{return qc(e(t))}catch{}}return null}var Wl=Array.isArray,U=lg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=Ob.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mi={pending:!1,data:null,method:null,action:null},Vc=[],Qi=-1;function Gt(e){return{current:e}}function Ue(e){0>Qi||(e.current=Vc[Qi],Vc[Qi]=null,Qi--)}function fe(e,t){Qi++,Vc[Qi]=e.current,e.current=t}var qt=Gt(null),ws=Gt(null),zn=Gt(null),$a=Gt(null);function Wa(e,t){switch(fe(zn,t),fe(ws,e),fe(qt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sm(t),e=Ry(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ue(qt),fe(qt,e)}function hl(){Ue(qt),Ue(ws),Ue(zn)}function Gc(e){e.memoizedState!==null&&fe($a,e);var t=qt.current,n=Ry(t,e.type);t!==n&&(fe(ws,e),fe(qt,n))}function Ja(e){ws.current===e&&(Ue(qt),Ue(ws)),$a.current===e&&(Ue($a),ks._currentValue=mi)}var ko,eh;function si(e){if(ko===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ko=t&&t[1]||"",eh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+e+eh}var zo=!1;function Lo(e,t){if(!e||zo)return"";zo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var d=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){d=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){d=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&d&&typeof m.stack=="string")return[m.stack,d.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],r=s[1];if(a&&r){var o=a.split(`
`),c=r.split(`
`);for(l=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;l<c.length&&!c[l].includes("DetermineComponentFrameRoot");)l++;if(i===o.length||l===c.length)for(i=o.length-1,l=c.length-1;1<=i&&0<=l&&o[i]!==c[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==c[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==c[l]){var h=`
`+o[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=l);break}}}finally{zo=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?si(n):""}function Ib(e,t){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==t&&t!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return Lo(e.type,!1);case 11:return Lo(e.type.render,!1);case 1:return Lo(e.type,!0);case 31:return si("Activity");default:return""}}function th(e){try{var t="",n=null;do t+=Ib(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Yc=Object.prototype.hasOwnProperty,of=je.unstable_scheduleCallback,Io=je.unstable_cancelCallback,Ub=je.unstable_shouldYield,Bb=je.unstable_requestPaint,dt=je.unstable_now,Hb=je.unstable_getCurrentPriorityLevel,fg=je.unstable_ImmediatePriority,dg=je.unstable_UserBlockingPriority,er=je.unstable_NormalPriority,qb=je.unstable_LowPriority,hg=je.unstable_IdlePriority,Vb=je.log,Gb=je.unstable_setDisableYieldValue,Ps=null,ht=null;function Rn(e){if(typeof Vb=="function"&&Gb(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Ps,e)}catch{}}var mt=Math.clz32?Math.clz32:Qb,Yb=Math.log,Fb=Math.LN2;function Qb(e){return e>>>=0,e===0?32:31-(Yb(e)/Fb|0)|0}var ga=256,ya=262144,_a=4194304;function ai(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pr(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var r=i&134217727;return r!==0?(i=r&~s,i!==0?l=ai(i):(a&=r,a!==0?l=ai(a):n||(n=r&~e,n!==0&&(l=ai(n))))):(r=i&~s,r!==0?l=ai(r):a!==0?l=ai(a):n||(n=i&~e,n!==0&&(l=ai(n)))),l===0?0:t!==0&&t!==l&&!(t&s)&&(s=l&-l,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:l}function Zs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Kb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mg(){var e=_a;return _a<<=1,!(_a&62914560)&&(_a=4194304),e}function Uo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $s(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xb(e,t,n,i,l,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-mt(n),f=1<<h;r[h]=0,o[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var m=d[h];m!==null&&(m.lane&=-536870913)}n&=~f}i!==0&&pg(e,i,0),s!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function pg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-mt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function gg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-mt(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}function yg(e,t){var n=t&-t;return n=n&42?1:cf(n),n&(e.suspendedLanes|t)?0:n}function cf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function _g(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:qy(e.type))}function nh(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var ni=Math.random().toString(36).slice(2),He="__reactFiber$"+ni,lt="__reactProps$"+ni,Ml="__reactContainer$"+ni,Fc="__reactEvents$"+ni,Pb="__reactListeners$"+ni,Zb="__reactHandles$"+ni,ih="__reactResources$"+ni,Ws="__reactMarker$"+ni;function ff(e){delete e[He],delete e[lt],delete e[Fc],delete e[Pb],delete e[Zb]}function Ki(e){var t=e[He];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ml]||n[He]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=um(e);e!==null;){if(n=e[He])return n;e=um(e)}return t}e=n,n=e.parentNode}return null}function Rl(e){if(e=e[He]||e[Ml]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Jl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(S(33))}function ll(e){var t=e[ih];return t||(t=e[ih]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ie(e){e[Ws]=!0}var vg=new Set,bg={};function Ri(e,t){ml(e,t),ml(e+"Capture",t)}function ml(e,t){for(bg[e]=t,e=0;e<t.length;e++)vg.add(t[e])}var $b=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lh={},sh={};function Wb(e){return Yc.call(sh,e)?!0:Yc.call(lh,e)?!1:$b.test(e)?sh[e]=!0:(lh[e]=!0,!1)}function za(e,t,n){if(Wb(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function va(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Qt(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jb(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qc(e){if(!e._valueTracker){var t=xg(e)?"checked":"value";e._valueTracker=Jb(e,t,""+e[t])}}function Sg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=xg(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function tr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var e1=/[\n"\\]/g;function wt(e){return e.replace(e1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Kc(e,t,n,i,l,s,a,r){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bt(t)):e.value!==""+bt(t)&&(e.value=""+bt(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Xc(e,a,bt(t)):n!=null?Xc(e,a,bt(n)):i!=null&&e.removeAttribute("value"),l==null&&s!=null&&(e.defaultChecked=!!s),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+bt(r):e.removeAttribute("name")}function wg(e,t,n,i,l,s,a,r){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Qc(e);return}n=n!=null?""+bt(n):"",t=t!=null?""+bt(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=r?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Qc(e)}function Xc(e,t,n){t==="number"&&tr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function sl(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+bt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Eg(e,t,n){if(t!=null&&(t=""+bt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+bt(n):""}function Tg(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(S(92));if(Wl(i)){if(1<i.length)throw Error(S(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=bt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Qc(e)}function pl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var t1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ah(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||t1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Cg(e,t,n){if(t!=null&&typeof t!="object")throw Error(S(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var l in t)i=t[l],t.hasOwnProperty(l)&&n[l]!==i&&ah(e,l,i)}else for(var s in t)t.hasOwnProperty(s)&&ah(e,s,t[s])}function df(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(e){return i1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nn(){}var Pc=null;function hf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,al=null;function rh(e){var t=Rl(e);if(t&&(e=t.stateNode)){var n=e[lt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Kc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=i[lt]||null;if(!l)throw Error(S(90));Kc(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Sg(i)}break e;case"textarea":Eg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&sl(e,!!n.multiple,t,!1)}}}var Bo=!1;function Ng(e,t,n){if(Bo)return e(t,n);Bo=!0;try{var i=e(t);return i}finally{if(Bo=!1,(Xi!==null||al!==null)&&(ro(),Xi&&(t=Xi,e=al,al=Xi=null,rh(t),e)))for(t=0;t<e.length;t++)rh(e[t])}}function Es(e,t){var n=e.stateNode;if(n===null)return null;var i=n[lt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(S(231,t,typeof n));return n}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zc=!1;if(fn)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){Zc=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{Zc=!1}var Dn=null,mf=null,Ia=null;function Ag(){if(Ia)return Ia;var e,t=mf,n=t.length,i,l="value"in Dn?Dn.value:Dn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===l[s-i];i++);return Ia=l.slice(e,1<i?1-i:void 0)}function Ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ba(){return!0}function oh(){return!1}function at(e){function t(n,i,l,s,a){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(s):s[r]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ba:oh,this.isPropagationStopped=oh,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),t}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zr=at(Di),Js=ge({},Di,{view:0,detail:0}),l1=at(Js),Ho,qo,Vl,$r=ge({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vl&&(Vl&&e.type==="mousemove"?(Ho=e.screenX-Vl.screenX,qo=e.screenY-Vl.screenY):qo=Ho=0,Vl=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:qo}}),ch=at($r),s1=ge({},$r,{dataTransfer:0}),a1=at(s1),r1=ge({},Js,{relatedTarget:0}),Vo=at(r1),o1=ge({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),c1=at(o1),u1=ge({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f1=at(u1),d1=ge({},Di,{data:0}),uh=at(d1),h1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=p1[e])?!!t[e]:!1}function pf(){return g1}var y1=ge({},Js,{key:function(e){if(e.key){var t=h1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pf,charCode:function(e){return e.type==="keypress"?Ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_1=at(y1),v1=ge({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fh=at(v1),b1=ge({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pf}),x1=at(b1),S1=ge({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),w1=at(S1),E1=ge({},$r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T1=at(E1),C1=ge({},Di,{newState:0,oldState:0}),N1=at(C1),A1=[9,13,27,32],gf=fn&&"CompositionEvent"in window,ls=null;fn&&"documentMode"in document&&(ls=document.documentMode);var M1=fn&&"TextEvent"in window&&!ls,Mg=fn&&(!gf||ls&&8<ls&&11>=ls),dh=" ",hh=!1;function Rg(e,t){switch(e){case"keyup":return A1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function R1(e,t){switch(e){case"compositionend":return Dg(t);case"keypress":return t.which!==32?null:(hh=!0,dh);case"textInput":return e=t.data,e===dh&&hh?null:e;default:return null}}function D1(e,t){if(Pi)return e==="compositionend"||!gf&&Rg(e,t)?(e=Ag(),Ia=mf=Dn=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mg&&t.locale!=="ko"?null:t.data;default:return null}}var O1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O1[e.type]:t==="textarea"}function Og(e,t,n,i){Xi?al?al.push(i):al=[i]:Xi=i,t=vr(t,"onChange"),0<t.length&&(n=new Zr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ss=null,Ts=null;function j1(e){Ny(e,0)}function Wr(e){var t=Jl(e);if(Sg(t))return e}function ph(e,t){if(e==="change")return t}var jg=!1;if(fn){var Go;if(fn){var Yo="oninput"in document;if(!Yo){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),Yo=typeof gh.oninput=="function"}Go=Yo}else Go=!1;jg=Go&&(!document.documentMode||9<document.documentMode)}function yh(){ss&&(ss.detachEvent("onpropertychange",kg),Ts=ss=null)}function kg(e){if(e.propertyName==="value"&&Wr(Ts)){var t=[];Og(t,Ts,e,hf(e)),Ng(j1,t)}}function k1(e,t,n){e==="focusin"?(yh(),ss=t,Ts=n,ss.attachEvent("onpropertychange",kg)):e==="focusout"&&yh()}function z1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wr(Ts)}function L1(e,t){if(e==="click")return Wr(t)}function I1(e,t){if(e==="input"||e==="change")return Wr(t)}function U1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:U1;function Cs(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!Yc.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function _h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vh(e,t){var n=_h(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_h(n)}}function zg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=tr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tr(e.document)}return t}function yf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var B1=fn&&"documentMode"in document&&11>=document.documentMode,Zi=null,$c=null,as=null,Wc=!1;function bh(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wc||Zi==null||Zi!==tr(i)||(i=Zi,"selectionStart"in i&&yf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),as&&Cs(as,i)||(as=i,i=vr($c,"onSelect"),0<i.length&&(t=new Zr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Zi)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $i={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},Fo={},Ig={};fn&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Oi(e){if(Fo[e])return Fo[e];if(!$i[e])return e;var t=$i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ig)return Fo[e]=t[n];return e}var Ug=Oi("animationend"),Bg=Oi("animationiteration"),Hg=Oi("animationstart"),H1=Oi("transitionrun"),q1=Oi("transitionstart"),V1=Oi("transitioncancel"),qg=Oi("transitionend"),Vg=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function Lt(e,t){Vg.set(e,t),Ri(t,[e])}var nr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vt=[],Wi=0,_f=0;function Jr(){for(var e=Wi,t=_f=Wi=0;t<e;){var n=vt[t];vt[t++]=null;var i=vt[t];vt[t++]=null;var l=vt[t];vt[t++]=null;var s=vt[t];if(vt[t++]=null,i!==null&&l!==null){var a=i.pending;a===null?l.next=l:(l.next=a.next,a.next=l),i.pending=l}s!==0&&Gg(n,l,s)}}function eo(e,t,n,i){vt[Wi++]=e,vt[Wi++]=t,vt[Wi++]=n,vt[Wi++]=i,_f|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function vf(e,t,n,i){return eo(e,t,n,i),ir(e)}function ji(e,t){return eo(e,null,null,t),ir(e)}function Gg(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var l=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(l=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,l&&t!==null&&(l=31-mt(n),e=s.hiddenUpdates,i=e[l],i===null?e[l]=[t]:i.push(t),t.lane=n|536870912),s):null}function ir(e){if(50<ps)throw ps=0,bu=null,Error(S(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ji={};function G1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,i){return new G1(e,t,n,i)}function bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function an(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Yg(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ba(e,t,n,i,l,s){var a=0;if(i=e,typeof e=="function")bf(e)&&(a=1);else if(typeof e=="string")a=Xx(e,n,qt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Hc:return e=ut(31,n,t,l),e.elementType=Hc,e.lanes=s,e;case Fi:return pi(n.children,l,s,t);case cg:a=8,l|=24;break;case Ic:return e=ut(12,n,t,l|2),e.elementType=Ic,e.lanes=s,e;case Uc:return e=ut(13,n,t,l),e.elementType=Uc,e.lanes=s,e;case Bc:return e=ut(19,n,t,l),e.elementType=Bc,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tn:a=10;break e;case ug:a=9;break e;case af:a=11;break e;case rf:a=14;break e;case En:a=16,i=null;break e}a=29,n=Error(S(130,e===null?"null":typeof e,"")),i=null}return t=ut(a,n,t,l),t.elementType=e,t.type=i,t.lanes=s,t}function pi(e,t,n,i){return e=ut(7,e,i,t),e.lanes=n,e}function Qo(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function Fg(e){var t=ut(18,null,null,0);return t.stateNode=e,t}function Ko(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xh=new WeakMap;function Et(e,t){if(typeof e=="object"&&e!==null){var n=xh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:th(t)},xh.set(e,t),t)}return{value:e,source:t,stack:th(t)}}var el=[],tl=0,lr=null,Ns=0,xt=[],St=0,Xn=null,Ut=1,Bt="";function Wt(e,t){el[tl++]=Ns,el[tl++]=lr,lr=e,Ns=t}function Qg(e,t,n){xt[St++]=Ut,xt[St++]=Bt,xt[St++]=Xn,Xn=e;var i=Ut;e=Bt;var l=32-mt(i)-1;i&=~(1<<l),n+=1;var s=32-mt(t)+l;if(30<s){var a=l-l%5;s=(i&(1<<a)-1).toString(32),i>>=a,l-=a,Ut=1<<32-mt(t)+l|n<<l|i,Bt=s+e}else Ut=1<<s|n<<l|i,Bt=e}function xf(e){e.return!==null&&(Wt(e,1),Qg(e,1,0))}function Sf(e){for(;e===lr;)lr=el[--tl],el[tl]=null,Ns=el[--tl],el[tl]=null;for(;e===Xn;)Xn=xt[--St],xt[St]=null,Bt=xt[--St],xt[St]=null,Ut=xt[--St],xt[St]=null}function Kg(e,t){xt[St++]=Ut,xt[St++]=Bt,xt[St++]=Xn,Ut=t.id,Bt=t.overflow,Xn=e}var qe=null,me=null,X=!1,Ln=null,Tt=!1,eu=Error(S(519));function Pn(e){var t=Error(S(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw As(Et(t,e)),eu}function Sh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[He]=e,t[lt]=i,n){case"dialog":Y("cancel",t),Y("close",t);break;case"iframe":case"object":case"embed":Y("load",t);break;case"video":case"audio":for(n=0;n<Os.length;n++)Y(Os[n],t);break;case"source":Y("error",t);break;case"img":case"image":case"link":Y("error",t),Y("load",t);break;case"details":Y("toggle",t);break;case"input":Y("invalid",t),wg(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Y("invalid",t);break;case"textarea":Y("invalid",t),Tg(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||My(t.textContent,n)?(i.popover!=null&&(Y("beforetoggle",t),Y("toggle",t)),i.onScroll!=null&&Y("scroll",t),i.onScrollEnd!=null&&Y("scrollend",t),i.onClick!=null&&(t.onclick=nn),t=!0):t=!1,t||Pn(e,!0)}function wh(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Tt=!1;return;case 27:case 3:Tt=!0;return;default:qe=qe.return}}function Ii(e){if(e!==qe)return!1;if(!X)return wh(e),X=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Tu(e.type,e.memoizedProps)),n=!n),n&&me&&Pn(e),wh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));me=cm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));me=cm(e)}else t===27?(t=me,ii(e.type)?(e=Mu,Mu=null,me=e):me=t):me=qe?Nt(e.stateNode.nextSibling):null;return!0}function vi(){me=qe=null,X=!1}function Xo(){var e=Ln;return e!==null&&(Je===null?Je=e:Je.push.apply(Je,e),Ln=null),e}function As(e){Ln===null?Ln=[e]:Ln.push(e)}var tu=Gt(null),ki=null,ln=null;function Cn(e,t,n){fe(tu,t._currentValue),t._currentValue=n}function rn(e){e._currentValue=tu.current,Ue(tu)}function nu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function iu(e,t,n,i){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var s=l.dependencies;if(s!==null){var a=l.child;s=s.firstContext;e:for(;s!==null;){var r=s;s=l;for(var o=0;o<t.length;o++)if(r.context===t[o]){s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),nu(s.return,n,e),i||(a=null);break e}s=r.next}}else if(l.tag===18){if(a=l.return,a===null)throw Error(S(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),nu(a,n,e),a=null}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}}function Dl(e,t,n,i){e=null;for(var l=t,s=!1;l!==null;){if(!s){if(l.flags&524288)s=!0;else if(l.flags&262144)break}if(l.tag===10){var a=l.alternate;if(a===null)throw Error(S(387));if(a=a.memoizedProps,a!==null){var r=l.type;gt(l.pendingProps.value,a.value)||(e!==null?e.push(r):e=[r])}}else if(l===$a.current){if(a=l.alternate,a===null)throw Error(S(387));a.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(ks):e=[ks])}l=l.return}e!==null&&iu(t,e,n,i),t.flags|=262144}function sr(e){for(e=e.firstContext;e!==null;){if(!gt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bi(e){ki=e,ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ve(e){return Xg(ki,e)}function xa(e,t){return ki===null&&bi(e),Xg(e,t)}function Xg(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ln===null){if(e===null)throw Error(S(308));ln=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ln=ln.next=t;return n}var Y1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},F1=je.unstable_scheduleCallback,Q1=je.unstable_NormalPriority,Ce={$$typeof:tn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new Y1,data:new Map,refCount:0}}function ea(e){e.refCount--,e.refCount===0&&F1(Q1,function(){e.controller.abort()})}var rs=null,lu=0,gl=0,rl=null;function K1(e,t){if(rs===null){var n=rs=[];lu=0,gl=Xf(),rl={status:"pending",value:void 0,then:function(i){n.push(i)}}}return lu++,t.then(Eh,Eh),t}function Eh(){if(--lu===0&&rs!==null){rl!==null&&(rl.status="fulfilled");var e=rs;rs=null,gl=0,rl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function X1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var Th=U.S;U.S=function(e,t){oy=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&K1(e,t),Th!==null&&Th(e,t)};var gi=Gt(null);function Ef(){var e=gi.current;return e!==null?e:ae.pooledCache}function Ha(e,t){t===null?fe(gi,gi.current):fe(gi,t.pool)}function Pg(){var e=Ef();return e===null?null:{parent:Ce._currentValue,pool:e}}var Ol=Error(S(460)),Tf=Error(S(474)),to=Error(S(542)),ar={then:function(){}};function Ch(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zg(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(nn,nn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ah(e),e;default:if(typeof t.status=="string")t.then(nn,nn);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(S(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=i}},function(i){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ah(e),e}throw yi=t,Ol}}function ri(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(yi=n,Ol):n}}var yi=null;function Nh(){if(yi===null)throw Error(S(459));var e=yi;return yi=null,e}function Ah(e){if(e===Ol||e===to)throw Error(S(483))}var ol=null,Ms=0;function Sa(e){var t=Ms;return Ms+=1,ol===null&&(ol=[]),Zg(ol,e,t)}function Gl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function wa(e,t){throw t.$$typeof===kb?Error(S(525)):(e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $g(e){function t(g,p){if(e){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function i(g){for(var p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function l(g,p){return g=an(g,p),g.index=0,g.sibling=null,g}function s(g,p,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=67108866,p):_):(g.flags|=67108866,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function r(g,p,_,v){return p===null||p.tag!==6?(p=Qo(_,g.mode,v),p.return=g,p):(p=l(p,_),p.return=g,p)}function o(g,p,_,v){var N=_.type;return N===Fi?h(g,p,_.props.children,v,_.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===En&&ri(N)===p.type)?(p=l(p,_.props),Gl(p,_),p.return=g,p):(p=Ba(_.type,_.key,_.props,null,g.mode,v),Gl(p,_),p.return=g,p)}function c(g,p,_,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=Ko(_,g.mode,v),p.return=g,p):(p=l(p,_.children||[]),p.return=g,p)}function h(g,p,_,v,N){return p===null||p.tag!==7?(p=pi(_,g.mode,v,N),p.return=g,p):(p=l(p,_),p.return=g,p)}function f(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Qo(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case pa:return _=Ba(p.type,p.key,p.props,null,g.mode,_),Gl(_,p),_.return=g,_;case $l:return p=Ko(p,g.mode,_),p.return=g,p;case En:return p=ri(p),f(g,p,_)}if(Wl(p)||Hl(p))return p=pi(p,g.mode,_,null),p.return=g,p;if(typeof p.then=="function")return f(g,Sa(p),_);if(p.$$typeof===tn)return f(g,xa(g,p),_);wa(g,p)}return null}function d(g,p,_,v){var N=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return N!==null?null:r(g,p,""+_,v);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pa:return _.key===N?o(g,p,_,v):null;case $l:return _.key===N?c(g,p,_,v):null;case En:return _=ri(_),d(g,p,_,v)}if(Wl(_)||Hl(_))return N!==null?null:h(g,p,_,v,null);if(typeof _.then=="function")return d(g,p,Sa(_),v);if(_.$$typeof===tn)return d(g,p,xa(g,_),v);wa(g,_)}return null}function m(g,p,_,v,N){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return g=g.get(_)||null,r(p,g,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pa:return g=g.get(v.key===null?_:v.key)||null,o(p,g,v,N);case $l:return g=g.get(v.key===null?_:v.key)||null,c(p,g,v,N);case En:return v=ri(v),m(g,p,_,v,N)}if(Wl(v)||Hl(v))return g=g.get(_)||null,h(p,g,v,N,null);if(typeof v.then=="function")return m(g,p,_,Sa(v),N);if(v.$$typeof===tn)return m(g,p,_,xa(p,v),N);wa(p,v)}return null}function y(g,p,_,v){for(var N=null,M=null,E=p,D=p=0,R=null;E!==null&&D<_.length;D++){E.index>D?(R=E,E=null):R=E.sibling;var L=d(g,E,_[D],v);if(L===null){E===null&&(E=R);break}e&&E&&L.alternate===null&&t(g,E),p=s(L,p,D),M===null?N=L:M.sibling=L,M=L,E=R}if(D===_.length)return n(g,E),X&&Wt(g,D),N;if(E===null){for(;D<_.length;D++)E=f(g,_[D],v),E!==null&&(p=s(E,p,D),M===null?N=E:M.sibling=E,M=E);return X&&Wt(g,D),N}for(E=i(E);D<_.length;D++)R=m(E,g,D,_[D],v),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?D:R.key),p=s(R,p,D),M===null?N=R:M.sibling=R,M=R);return e&&E.forEach(function(W){return t(g,W)}),X&&Wt(g,D),N}function x(g,p,_,v){if(_==null)throw Error(S(151));for(var N=null,M=null,E=p,D=p=0,R=null,L=_.next();E!==null&&!L.done;D++,L=_.next()){E.index>D?(R=E,E=null):R=E.sibling;var W=d(g,E,L.value,v);if(W===null){E===null&&(E=R);break}e&&E&&W.alternate===null&&t(g,E),p=s(W,p,D),M===null?N=W:M.sibling=W,M=W,E=R}if(L.done)return n(g,E),X&&Wt(g,D),N;if(E===null){for(;!L.done;D++,L=_.next())L=f(g,L.value,v),L!==null&&(p=s(L,p,D),M===null?N=L:M.sibling=L,M=L);return X&&Wt(g,D),N}for(E=i(E);!L.done;D++,L=_.next())L=m(E,g,D,L.value,v),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?D:L.key),p=s(L,p,D),M===null?N=L:M.sibling=L,M=L);return e&&E.forEach(function(le){return t(g,le)}),X&&Wt(g,D),N}function w(g,p,_,v){if(typeof _=="object"&&_!==null&&_.type===Fi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case pa:e:{for(var N=_.key;p!==null;){if(p.key===N){if(N=_.type,N===Fi){if(p.tag===7){n(g,p.sibling),v=l(p,_.props.children),v.return=g,g=v;break e}}else if(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===En&&ri(N)===p.type){n(g,p.sibling),v=l(p,_.props),Gl(v,_),v.return=g,g=v;break e}n(g,p);break}else t(g,p);p=p.sibling}_.type===Fi?(v=pi(_.props.children,g.mode,v,_.key),v.return=g,g=v):(v=Ba(_.type,_.key,_.props,null,g.mode,v),Gl(v,_),v.return=g,g=v)}return a(g);case $l:e:{for(N=_.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),v=l(p,_.children||[]),v.return=g,g=v;break e}else{n(g,p);break}else t(g,p);p=p.sibling}v=Ko(_,g.mode,v),v.return=g,g=v}return a(g);case En:return _=ri(_),w(g,p,_,v)}if(Wl(_))return y(g,p,_,v);if(Hl(_)){if(N=Hl(_),typeof N!="function")throw Error(S(150));return _=N.call(_),x(g,p,_,v)}if(typeof _.then=="function")return w(g,p,Sa(_),v);if(_.$$typeof===tn)return w(g,p,xa(g,_),v);wa(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),v=l(p,_),v.return=g,g=v):(n(g,p),v=Qo(_,g.mode,v),v.return=g,g=v),a(g)):n(g,p)}return function(g,p,_,v){try{Ms=0;var N=w(g,p,_,v);return ol=null,N}catch(E){if(E===Ol||E===to)throw E;var M=ut(29,E,null,g.mode);return M.lanes=v,M.return=g,M}finally{}}}var xi=$g(!0),Wg=$g(!1),Tn=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function su(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function In(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Z&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,t=ir(e),Gg(e,null,n),t}return eo(e,i,t,n),ir(e)}function os(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,gg(e,n)}}function Po(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var au=!1;function cs(){if(au){var e=rl;if(e!==null)throw e}}function us(e,t,n,i){au=!1;var l=e.updateQueue;Tn=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var o=r,c=o.next;o.next=null,a===null?s=c:a.next=c,a=o;var h=e.alternate;h!==null&&(h=h.updateQueue,r=h.lastBaseUpdate,r!==a&&(r===null?h.firstBaseUpdate=c:r.next=c,h.lastBaseUpdate=o))}if(s!==null){var f=l.baseState;a=0,h=c=o=null,r=s;do{var d=r.lane&-536870913,m=d!==r.lane;if(m?(K&d)===d:(i&d)===d){d!==0&&d===gl&&(au=!0),h!==null&&(h=h.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var y=e,x=r;d=t;var w=n;switch(x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(w,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,d=typeof y=="function"?y.call(w,f,d):y,d==null)break e;f=ge({},f,d);break e;case 2:Tn=!0}}d=r.callback,d!==null&&(e.flags|=64,m&&(e.flags|=8192),m=l.callbacks,m===null?l.callbacks=[d]:m.push(d))}else m={lane:d,tag:r.tag,payload:r.payload,callback:r.callback,next:null},h===null?(c=h=m,o=f):h=h.next=m,a|=d;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;m=r,r=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);h===null&&(o=f),l.baseState=o,l.firstBaseUpdate=c,l.lastBaseUpdate=h,s===null&&(l.shared.lanes=0),$n|=a,e.lanes=a,e.memoizedState=f}}function Jg(e,t){if(typeof e!="function")throw Error(S(191,e));e.call(t)}function e0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Jg(n[e],t)}var yl=Gt(null),rr=Gt(0);function Mh(e,t){e=pn,fe(rr,e),fe(yl,t),pn=e|t.baseLanes}function ru(){fe(rr,pn),fe(yl,yl.current)}function Nf(){pn=rr.current,Ue(yl),Ue(rr)}var yt=Gt(null),Ct=null;function Nn(e){var t=e.alternate;fe(Se,Se.current&1),fe(yt,e),Ct===null&&(t===null||yl.current!==null||t.memoizedState!==null)&&(Ct=e)}function ou(e){fe(Se,Se.current),fe(yt,e),Ct===null&&(Ct=e)}function t0(e){e.tag===22?(fe(Se,Se.current),fe(yt,e),Ct===null&&(Ct=e)):An()}function An(){fe(Se,Se.current),fe(yt,yt.current)}function ct(e){Ue(yt),Ct===e&&(Ct=null),Ue(Se)}var Se=Gt(0);function or(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Nu(n)||Au(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dn=0,q=null,ie=null,Ee=null,cr=!1,cl=!1,Si=!1,ur=0,Rs=0,ul=null,P1=0;function be(){throw Error(S(321))}function Af(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function Mf(e,t,n,i,l,s){return dn=s,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?O0:Hf,Si=!1,s=n(i,l),Si=!1,cl&&(s=i0(t,n,i,l)),n0(e),s}function n0(e){U.H=Ds;var t=ie!==null&&ie.next!==null;if(dn=0,Ee=ie=q=null,cr=!1,Rs=0,ul=null,t)throw Error(S(300));e===null||Ne||(e=e.dependencies,e!==null&&sr(e)&&(Ne=!0))}function i0(e,t,n,i){q=e;var l=0;do{if(cl&&(ul=null),Rs=0,cl=!1,25<=l)throw Error(S(301));if(l+=1,Ee=ie=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}U.H=j0,s=t(n,i)}while(cl);return s}function Z1(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?ta(t):t,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(q.flags|=1024),t}function Rf(){var e=ur!==0;return ur=0,e}function Df(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Of(e){if(cr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cr=!1}dn=0,Ee=ie=q=null,cl=!1,Rs=ur=0,ul=null}function Fe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?q.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function we(){if(ie===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=Ee===null?q.memoizedState:Ee.next;if(t!==null)Ee=t,ie=e;else{if(e===null)throw q.alternate===null?Error(S(467)):Error(S(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ee===null?q.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function no(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ta(e){var t=Rs;return Rs+=1,ul===null&&(ul=[]),e=Zg(ul,e,t),t=q,(Ee===null?t.memoizedState:Ee.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?O0:Hf),e}function io(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ta(e);if(e.$$typeof===tn)return Ve(e)}throw Error(S(438,String(e)))}function jf(e){var t=null,n=q.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=q.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=no(),q.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=zb;return t.index++,n}function hn(e,t){return typeof t=="function"?t(e):t}function qa(e){var t=we();return kf(t,ie,e)}function kf(e,t,n){var i=e.queue;if(i===null)throw Error(S(311));i.lastRenderedReducer=n;var l=e.baseQueue,s=i.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}t.baseQueue=l=s,i.pending=null}if(s=e.baseState,l===null)e.memoizedState=s;else{t=l.next;var r=a=null,o=null,c=t,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(K&f)===f:(dn&f)===f){var d=c.revertLane;if(d===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===gl&&(h=!0);else if((dn&d)===d){c=c.next,d===gl&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(r=o=f,a=s):o=o.next=f,q.lanes|=d,$n|=d;f=c.action,Si&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else d={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(r=o=d,a=s):o=o.next=d,q.lanes|=f,$n|=f;c=c.next}while(c!==null&&c!==t);if(o===null?a=s:o.next=r,!gt(s,e.memoizedState)&&(Ne=!0,h&&(n=rl,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=o,i.lastRenderedState=s}return l===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Zo(e){var t=we(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);gt(s,t.memoizedState)||(Ne=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function l0(e,t,n){var i=q,l=we(),s=X;if(s){if(n===void 0)throw Error(S(407));n=n()}else n=t();var a=!gt((ie||l).memoizedState,n);if(a&&(l.memoizedState=n,Ne=!0),l=l.queue,zf(r0.bind(null,i,l,e),[e]),l.getSnapshot!==t||a||Ee!==null&&Ee.memoizedState.tag&1){if(i.flags|=2048,_l(9,{destroy:void 0},a0.bind(null,i,l,n,t),null),ae===null)throw Error(S(349));s||dn&127||s0(i,t,n)}return n}function s0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t=no(),q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function a0(e,t,n,i){t.value=n,t.getSnapshot=i,o0(t)&&c0(e)}function r0(e,t,n){return n(function(){o0(t)&&c0(e)})}function o0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function c0(e){var t=ji(e,2);t!==null&&tt(t,e,2)}function cu(e){var t=Fe();if(typeof e=="function"){var n=e;if(e=n(),Si){Rn(!0);try{n()}finally{Rn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},t}function u0(e,t,n,i){return e.baseState=n,kf(e,ie,typeof i=="function"?i:hn)}function $1(e,t,n,i,l){if(so(e))throw Error(S(485));if(e=t.action,e!==null){var s={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};U.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,f0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function f0(e,t){var n=t.action,i=t.payload,l=e.state;if(t.isTransition){var s=U.T,a={};U.T=a;try{var r=n(l,i),o=U.S;o!==null&&o(a,r),Rh(e,t,r)}catch(c){uu(e,t,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),U.T=s}}else try{s=n(l,i),Rh(e,t,s)}catch(c){uu(e,t,c)}}function Rh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Dh(e,t,i)},function(i){return uu(e,t,i)}):Dh(e,t,n)}function Dh(e,t,n){t.status="fulfilled",t.value=n,d0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,f0(e,n)))}function uu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,d0(t),t=t.next;while(t!==i)}e.action=null}function d0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function h0(e,t){return t}function Oh(e,t){if(X){var n=ae.formState;if(n!==null){e:{var i=q;if(X){if(me){t:{for(var l=me,s=Tt;l.nodeType!==8;){if(!s){l=null;break t}if(l=Nt(l.nextSibling),l===null){l=null;break t}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){me=Nt(l.nextSibling),i=l.data==="F!";break e}}Pn(i)}i=!1}i&&(t=n[0])}}return n=Fe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h0,lastRenderedState:t},n.queue=i,n=M0.bind(null,q,i),i.dispatch=n,i=cu(!1),s=Bf.bind(null,q,!1,i.queue),i=Fe(),l={state:t,dispatch:null,action:e,pending:null},i.queue=l,n=$1.bind(null,q,l,s,n),l.dispatch=n,i.memoizedState=e,[t,n,!1]}function jh(e){var t=we();return m0(t,ie,e)}function m0(e,t,n){if(t=kf(e,t,h0)[0],e=qa(hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ta(t)}catch(a){throw a===Ol?to:a}else i=t;t=we();var l=t.queue,s=l.dispatch;return n!==t.memoizedState&&(q.flags|=2048,_l(9,{destroy:void 0},W1.bind(null,l,n),null)),[i,s,e]}function W1(e,t){e.action=t}function kh(e){var t=we(),n=ie;if(n!==null)return m0(t,n,e);we(),t=t.memoizedState,n=we();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function _l(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=q.updateQueue,t===null&&(t=no(),q.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function p0(){return we().memoizedState}function Va(e,t,n,i){var l=Fe();q.flags|=e,l.memoizedState=_l(1|t,{destroy:void 0},n,i===void 0?null:i)}function lo(e,t,n,i){var l=we();i=i===void 0?null:i;var s=l.memoizedState.inst;ie!==null&&i!==null&&Af(i,ie.memoizedState.deps)?l.memoizedState=_l(t,s,n,i):(q.flags|=e,l.memoizedState=_l(1|t,s,n,i))}function zh(e,t){Va(8390656,8,e,t)}function zf(e,t){lo(2048,8,e,t)}function J1(e){q.flags|=4;var t=q.updateQueue;if(t===null)t=no(),q.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function g0(e){var t=we().memoizedState;return J1({ref:t,nextImpl:e}),function(){if(Z&2)throw Error(S(440));return t.impl.apply(void 0,arguments)}}function y0(e,t){return lo(4,2,e,t)}function _0(e,t){return lo(4,4,e,t)}function v0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function b0(e,t,n){n=n!=null?n.concat([e]):null,lo(4,4,v0.bind(null,t,e),n)}function Lf(){}function x0(e,t){var n=we();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Af(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function S0(e,t){var n=we();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Af(t,i[1]))return i[0];if(i=e(),Si){Rn(!0);try{e()}finally{Rn(!1)}}return n.memoizedState=[i,t],i}function If(e,t,n){return n===void 0||dn&1073741824&&!(K&261930)?e.memoizedState=t:(e.memoizedState=n,e=uy(),q.lanes|=e,$n|=e,n)}function w0(e,t,n,i){return gt(n,t)?n:yl.current!==null?(e=If(e,n,i),gt(e,t)||(Ne=!0),e):!(dn&42)||dn&1073741824&&!(K&261930)?(Ne=!0,e.memoizedState=n):(e=uy(),q.lanes|=e,$n|=e,t)}function E0(e,t,n,i,l){var s=$.p;$.p=s!==0&&8>s?s:8;var a=U.T,r={};U.T=r,Bf(e,!1,t,n);try{var o=l(),c=U.S;if(c!==null&&c(r,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=X1(o,i);fs(e,t,h,pt(e))}else fs(e,t,i,pt(e))}catch(f){fs(e,t,{then:function(){},status:"rejected",reason:f},pt())}finally{$.p=s,a!==null&&r.types!==null&&(a.types=r.types),U.T=a}}function ex(){}function fu(e,t,n,i){if(e.tag!==5)throw Error(S(476));var l=T0(e).queue;E0(e,l,t,mi,n===null?ex:function(){return C0(e),n(i)})}function T0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:mi,baseState:mi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:mi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function C0(e){var t=T0(e);t.next===null&&(t=e.alternate.memoizedState),fs(e,t.next.queue,{},pt())}function Uf(){return Ve(ks)}function N0(){return we().memoizedState}function A0(){return we().memoizedState}function tx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=pt();e=In(n);var i=Un(t,e,n);i!==null&&(tt(i,t,n),os(i,t,n)),t={cache:wf()},e.payload=t;return}t=t.return}}function nx(e,t,n){var i=pt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},so(e)?R0(t,n):(n=vf(e,t,n,i),n!==null&&(tt(n,e,i),D0(n,t,i)))}function M0(e,t,n){var i=pt();fs(e,t,n,i)}function fs(e,t,n,i){var l={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(so(e))R0(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,r=s(a,n);if(l.hasEagerState=!0,l.eagerState=r,gt(r,a))return eo(e,t,l,0),ae===null&&Jr(),!1}catch{}finally{}if(n=vf(e,t,l,i),n!==null)return tt(n,e,i),D0(n,t,i),!0}return!1}function Bf(e,t,n,i){if(i={lane:2,revertLane:Xf(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},so(e)){if(t)throw Error(S(479))}else t=vf(e,n,i,2),t!==null&&tt(t,e,2)}function so(e){var t=e.alternate;return e===q||t!==null&&t===q}function R0(e,t){cl=cr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function D0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,gg(e,n)}}var Ds={readContext:Ve,use:io,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};Ds.useEffectEvent=be;var O0={readContext:Ve,use:io,useCallback:function(e,t){return Fe().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:zh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Va(4194308,4,v0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){Va(4,2,e,t)},useMemo:function(e,t){var n=Fe();t=t===void 0?null:t;var i=e();if(Si){Rn(!0);try{e()}finally{Rn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Fe();if(n!==void 0){var l=n(t);if(Si){Rn(!0);try{n(t)}finally{Rn(!1)}}}else l=t;return i.memoizedState=i.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},i.queue=e,e=e.dispatch=nx.bind(null,q,e),[i.memoizedState,e]},useRef:function(e){var t=Fe();return e={current:e},t.memoizedState=e},useState:function(e){e=cu(e);var t=e.queue,n=M0.bind(null,q,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Lf,useDeferredValue:function(e,t){var n=Fe();return If(n,e,t)},useTransition:function(){var e=cu(!1);return e=E0.bind(null,q,e.queue,!0,!1),Fe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=q,l=Fe();if(X){if(n===void 0)throw Error(S(407));n=n()}else{if(n=t(),ae===null)throw Error(S(349));K&127||s0(i,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,zh(r0.bind(null,i,s,e),[e]),i.flags|=2048,_l(9,{destroy:void 0},a0.bind(null,i,s,n,t),null),n},useId:function(){var e=Fe(),t=ae.identifierPrefix;if(X){var n=Bt,i=Ut;n=(i&~(1<<32-mt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ur++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=P1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uf,useFormState:Oh,useActionState:Oh,useOptimistic:function(e){var t=Fe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bf.bind(null,q,!0,n),n.dispatch=t,[e,t]},useMemoCache:jf,useCacheRefresh:function(){return Fe().memoizedState=tx.bind(null,q)},useEffectEvent:function(e){var t=Fe(),n={impl:e};return t.memoizedState=n,function(){if(Z&2)throw Error(S(440));return n.impl.apply(void 0,arguments)}}},Hf={readContext:Ve,use:io,useCallback:x0,useContext:Ve,useEffect:zf,useImperativeHandle:b0,useInsertionEffect:y0,useLayoutEffect:_0,useMemo:S0,useReducer:qa,useRef:p0,useState:function(){return qa(hn)},useDebugValue:Lf,useDeferredValue:function(e,t){var n=we();return w0(n,ie.memoizedState,e,t)},useTransition:function(){var e=qa(hn)[0],t=we().memoizedState;return[typeof e=="boolean"?e:ta(e),t]},useSyncExternalStore:l0,useId:N0,useHostTransitionStatus:Uf,useFormState:jh,useActionState:jh,useOptimistic:function(e,t){var n=we();return u0(n,ie,e,t)},useMemoCache:jf,useCacheRefresh:A0};Hf.useEffectEvent=g0;var j0={readContext:Ve,use:io,useCallback:x0,useContext:Ve,useEffect:zf,useImperativeHandle:b0,useInsertionEffect:y0,useLayoutEffect:_0,useMemo:S0,useReducer:Zo,useRef:p0,useState:function(){return Zo(hn)},useDebugValue:Lf,useDeferredValue:function(e,t){var n=we();return ie===null?If(n,e,t):w0(n,ie.memoizedState,e,t)},useTransition:function(){var e=Zo(hn)[0],t=we().memoizedState;return[typeof e=="boolean"?e:ta(e),t]},useSyncExternalStore:l0,useId:N0,useHostTransitionStatus:Uf,useFormState:kh,useActionState:kh,useOptimistic:function(e,t){var n=we();return ie!==null?u0(n,ie,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:jf,useCacheRefresh:A0};j0.useEffectEvent=g0;function $o(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var du={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=pt(),l=In(i);l.payload=t,n!=null&&(l.callback=n),t=Un(e,l,i),t!==null&&(tt(t,e,i),os(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=pt(),l=In(i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Un(e,l,i),t!==null&&(tt(t,e,i),os(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pt(),i=In(n);i.tag=2,t!=null&&(i.callback=t),t=Un(e,i,n),t!==null&&(tt(t,e,n),os(t,e,n))}};function Lh(e,t,n,i,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Cs(n,i)||!Cs(l,s):!0}function Ih(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&du.enqueueReplaceState(t,t.state,null)}function wi(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ge({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function k0(e){nr(e)}function z0(e){console.error(e)}function L0(e){nr(e)}function fr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Uh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function hu(e,t,n){return n=In(n),n.tag=3,n.payload={element:null},n.callback=function(){fr(e,t)},n}function I0(e){return e=In(e),e.tag=3,e}function U0(e,t,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=i.value;e.payload=function(){return l(s)},e.callback=function(){Uh(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Uh(t,n,i),typeof l!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function ix(e,t,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Dl(t,n,l,!0),n=yt.current,n!==null){switch(n.tag){case 31:case 13:return Ct===null?gr():n.alternate===null&&xe===0&&(xe=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===ar?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),oc(e,i,l)),!1;case 22:return n.flags|=65536,i===ar?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),oc(e,i,l)),!1}throw Error(S(435,n.tag))}return oc(e,i,l),gr(),!1}if(X)return t=yt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,i!==eu&&(e=Error(S(422),{cause:i}),As(Et(e,n)))):(i!==eu&&(t=Error(S(423),{cause:i}),As(Et(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,i=Et(i,n),l=hu(e.stateNode,i,l),Po(e,l),xe!==4&&(xe=2)),!1;var s=Error(S(520),{cause:i});if(s=Et(s,n),ms===null?ms=[s]:ms.push(s),xe!==4&&(xe=2),t===null)return!0;i=Et(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=hu(n.stateNode,i,e),Po(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Bn===null||!Bn.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=I0(l),U0(l,e,n,i),Po(n,l),!1}n=n.return}while(n!==null);return!1}var qf=Error(S(461)),Ne=!1;function Be(e,t,n,i){t.child=e===null?Wg(t,null,n,i):xi(t,e.child,n,i)}function Bh(e,t,n,i,l){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}else a=i;return bi(t),i=Mf(e,t,n,a,s,l),r=Rf(),e!==null&&!Ne?(Df(e,t,l),mn(e,t,l)):(X&&r&&xf(t),t.flags|=1,Be(e,t,i,l),t.child)}function Hh(e,t,n,i,l){if(e===null){var s=n.type;return typeof s=="function"&&!bf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,B0(e,t,s,i,l)):(e=Ba(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Vf(e,l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cs,n(a,i)&&e.ref===t.ref)return mn(e,t,l)}return t.flags|=1,e=an(s,i),e.ref=t.ref,e.return=t,t.child=e}function B0(e,t,n,i,l){if(e!==null){var s=e.memoizedProps;if(Cs(s,i)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=i=s,Vf(e,l))e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,mn(e,t,l)}return mu(e,t,n,i,l)}function H0(e,t,n,i){var l=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;i=l&~s}else i=0,t.child=null;return qh(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ha(t,s!==null?s.cachePool:null),s!==null?Mh(t,s):ru(),t0(t);else return i=t.lanes=536870912,qh(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Ha(t,s.cachePool),Mh(t,s),An(),t.memoizedState=null):(e!==null&&Ha(t,null),ru(),An());return Be(e,t,l,n),t.child}function es(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qh(e,t,n,i,l){var s=Ef();return s=s===null?null:{parent:Ce._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Ha(t,null),ru(),t0(t),e!==null&&Dl(e,t,i,!0),t.childLanes=l,null}function Ga(e,t){return t=dr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vh(e,t,n){return xi(t,e.child,null,n),e=Ga(t,t.pendingProps),e.flags|=2,ct(t),t.memoizedState=null,e}function lx(e,t,n){var i=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(X){if(i.mode==="hidden")return e=Ga(t,i),t.lanes=536870912,es(null,e);if(ou(t),(e=me)?(e=Oy(e,Tt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:Ut,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},n=Fg(e),n.return=t,t.child=n,qe=t,me=null)):e=null,e===null)throw Pn(t);return t.lanes=536870912,null}return Ga(t,i)}var s=e.memoizedState;if(s!==null){var a=s.dehydrated;if(ou(t),l)if(t.flags&256)t.flags&=-257,t=Vh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(S(558));else if(Ne||Dl(e,t,n,!1),l=(n&e.childLanes)!==0,Ne||l){if(i=ae,i!==null&&(a=yg(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,ji(e,a),tt(i,e,a),qf;gr(),t=Vh(e,t,n)}else e=s.treeContext,me=Nt(a.nextSibling),qe=t,X=!0,Ln=null,Tt=!1,e!==null&&Kg(t,e),t=Ga(t,i),t.flags|=4096;return t}return e=an(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ya(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(S(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function mu(e,t,n,i,l){return bi(t),n=Mf(e,t,n,i,void 0,l),i=Rf(),e!==null&&!Ne?(Df(e,t,l),mn(e,t,l)):(X&&i&&xf(t),t.flags|=1,Be(e,t,n,l),t.child)}function Gh(e,t,n,i,l,s){return bi(t),t.updateQueue=null,n=i0(t,i,n,l),n0(e),i=Rf(),e!==null&&!Ne?(Df(e,t,s),mn(e,t,s)):(X&&i&&xf(t),t.flags|=1,Be(e,t,n,s),t.child)}function Yh(e,t,n,i,l){if(bi(t),t.stateNode===null){var s=Ji,a=n.contextType;typeof a=="object"&&a!==null&&(s=Ve(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=du,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Cf(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Ve(a):Ji,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&($o(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&du.enqueueReplaceState(s,s.state,null),us(t,i,s,l),cs(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var r=t.memoizedProps,o=wi(n,r);s.props=o;var c=s.context,h=n.contextType;a=Ji,typeof h=="object"&&h!==null&&(a=Ve(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r||c!==a)&&Ih(t,s,i,a),Tn=!1;var d=t.memoizedState;s.state=d,us(t,i,s,l),cs(),c=t.memoizedState,r||d!==c||Tn?(typeof f=="function"&&($o(t,n,f,i),c=t.memoizedState),(o=Tn||Lh(t,n,o,i,d,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=a,i=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,su(e,t),a=t.memoizedProps,h=wi(n,a),s.props=h,f=t.pendingProps,d=s.context,c=n.contextType,o=Ji,typeof c=="object"&&c!==null&&(o=Ve(c)),r=n.getDerivedStateFromProps,(c=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==o)&&Ih(t,s,i,o),Tn=!1,d=t.memoizedState,s.state=d,us(t,i,s,l),cs();var m=t.memoizedState;a!==f||d!==m||Tn||e!==null&&e.dependencies!==null&&sr(e.dependencies)?(typeof r=="function"&&($o(t,n,r,i),m=t.memoizedState),(h=Tn||Lh(t,n,h,i,d,m,o)||e!==null&&e.dependencies!==null&&sr(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),s.props=i,s.state=m,s.context=o,i=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Ya(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=xi(t,e.child,null,l),t.child=xi(t,null,n,l)):Be(e,t,n,l),t.memoizedState=s.state,e=t.child):e=mn(e,t,l),e}function Fh(e,t,n,i){return vi(),t.flags|=256,Be(e,t,n,i),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jo(e){return{baseLanes:e,cachePool:Pg()}}function ec(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ft),e}function q0(e,t,n){var i=t.pendingProps,l=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),a&&(l=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(X){if(l?Nn(t):An(),(e=me)?(e=Oy(e,Tt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:Ut,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},n=Fg(e),n.return=t,t.child=n,qe=t,me=null)):e=null,e===null)throw Pn(t);return Au(e)?t.lanes=32:t.lanes=536870912,null}var r=i.children;return i=i.fallback,l?(An(),l=t.mode,r=dr({mode:"hidden",children:r},l),i=pi(i,l,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i=t.child,i.memoizedState=Jo(n),i.childLanes=ec(e,a,n),t.memoizedState=Wo,es(null,i)):(Nn(t),pu(t,r))}var o=e.memoizedState;if(o!==null&&(r=o.dehydrated,r!==null)){if(s)t.flags&256?(Nn(t),t.flags&=-257,t=tc(e,t,n)):t.memoizedState!==null?(An(),t.child=e.child,t.flags|=128,t=null):(An(),r=i.fallback,l=t.mode,i=dr({mode:"visible",children:i.children},l),r=pi(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,xi(t,e.child,null,n),i=t.child,i.memoizedState=Jo(n),i.childLanes=ec(e,a,n),t.memoizedState=Wo,t=es(null,i));else if(Nn(t),Au(r)){if(a=r.nextSibling&&r.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(S(419)),i.stack="",i.digest=a,As({value:i,source:null,stack:null}),t=tc(e,t,n)}else if(Ne||Dl(e,t,n,!1),a=(n&e.childLanes)!==0,Ne||a){if(a=ae,a!==null&&(i=yg(a,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,ji(e,i),tt(a,e,i),qf;Nu(r)||gr(),t=tc(e,t,n)}else Nu(r)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,me=Nt(r.nextSibling),qe=t,X=!0,Ln=null,Tt=!1,e!==null&&Kg(t,e),t=pu(t,i.children),t.flags|=4096);return t}return l?(An(),r=i.fallback,l=t.mode,o=e.child,c=o.sibling,i=an(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,c!==null?r=an(c,r):(r=pi(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,es(null,i),i=t.child,r=e.child.memoizedState,r===null?r=Jo(n):(l=r.cachePool,l!==null?(o=Ce._currentValue,l=l.parent!==o?{parent:o,pool:o}:l):l=Pg(),r={baseLanes:r.baseLanes|n,cachePool:l}),i.memoizedState=r,i.childLanes=ec(e,a,n),t.memoizedState=Wo,es(e.child,i)):(Nn(t),n=e.child,e=n.sibling,n=an(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function pu(e,t){return t=dr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function dr(e,t){return e=ut(22,e,null,t),e.lanes=0,e}function tc(e,t,n){return xi(t,e.child,null,n),e=pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),nu(e.return,t,n)}function nc(e,t,n,i,l,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=l,a.treeForkCount=s)}function V0(e,t,n){var i=t.pendingProps,l=i.revealOrder,s=i.tail;i=i.children;var a=Se.current,r=(a&2)!==0;if(r?(a=a&1|2,t.flags|=128):a&=1,fe(Se,a),Be(e,t,i,n),i=X?Ns:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qh(e,n,t);else if(e.tag===19)Qh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&or(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),nc(t,!1,l,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&or(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}nc(t,!0,n,null,s,i);break;case"together":nc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,!(n&t.childLanes))if(e!==null){if(Dl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&sr(e)))}function sx(e,t,n){switch(t.tag){case 3:Wa(t,t.stateNode.containerInfo),Cn(t,Ce,e.memoizedState.cache),vi();break;case 27:case 5:Gc(t);break;case 4:Wa(t,t.stateNode.containerInfo);break;case 10:Cn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ou(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Nn(t),t.flags|=128,null):n&t.child.childLanes?q0(e,t,n):(Nn(t),e=mn(e,t,n),e!==null?e.sibling:null);Nn(t);break;case 19:var l=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Dl(e,t,n,!1),i=(n&t.childLanes)!==0),l){if(i)return V0(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),fe(Se,Se.current),i)break;return null;case 22:return t.lanes=0,H0(e,t,n,t.pendingProps);case 24:Cn(t,Ce,e.memoizedState.cache)}return mn(e,t,n)}function G0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ne=!0;else{if(!Vf(e,n)&&!(t.flags&128))return Ne=!1,sx(e,t,n);Ne=!!(e.flags&131072)}else Ne=!1,X&&t.flags&1048576&&Qg(t,Ns,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ri(t.elementType),t.type=e,typeof e=="function")bf(e)?(i=wi(e,i),t.tag=1,t=Yh(null,t,e,i,n)):(t.tag=0,t=mu(null,t,e,i,n));else{if(e!=null){var l=e.$$typeof;if(l===af){t.tag=11,t=Bh(null,t,e,i,n);break e}else if(l===rf){t.tag=14,t=Hh(null,t,e,i,n);break e}}throw t=qc(e)||e,Error(S(306,t,""))}}return t;case 0:return mu(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,l=wi(i,t.pendingProps),Yh(e,t,i,l,n);case 3:e:{if(Wa(t,t.stateNode.containerInfo),e===null)throw Error(S(387));i=t.pendingProps;var s=t.memoizedState;l=s.element,su(e,t),us(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Cn(t,Ce,i),i!==s.cache&&iu(t,[Ce],n,!0),cs(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Fh(e,t,i,n);break e}else if(i!==l){l=Et(Error(S(424)),t),As(l),t=Fh(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=Nt(e.firstChild),qe=t,X=!0,Ln=null,Tt=!0,n=Wg(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(vi(),i===l){t=mn(e,t,n);break e}Be(e,t,i,n)}t=t.child}return t;case 26:return Ya(e,t),e===null?(n=dm(t.type,null,t.pendingProps,null))?t.memoizedState=n:X||(n=t.type,e=t.pendingProps,i=br(zn.current).createElement(n),i[He]=t,i[lt]=e,Ge(i,n,e),Ie(i),t.stateNode=i):t.memoizedState=dm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Gc(t),e===null&&X&&(i=t.stateNode=jy(t.type,t.pendingProps,zn.current),qe=t,Tt=!0,l=me,ii(t.type)?(Mu=l,me=Nt(i.firstChild)):me=l),Be(e,t,t.pendingProps.children,n),Ya(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&X&&((l=i=me)&&(i=zx(i,t.type,t.pendingProps,Tt),i!==null?(t.stateNode=i,qe=t,me=Nt(i.firstChild),Tt=!1,l=!0):l=!1),l||Pn(t)),Gc(t),l=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Tu(l,s)?i=null:a!==null&&Tu(l,a)&&(t.flags|=32),t.memoizedState!==null&&(l=Mf(e,t,Z1,null,null,n),ks._currentValue=l),Ya(e,t),Be(e,t,i,n),t.child;case 6:return e===null&&X&&((e=n=me)&&(n=Lx(n,t.pendingProps,Tt),n!==null?(t.stateNode=n,qe=t,me=null,e=!0):e=!1),e||Pn(t)),null;case 13:return q0(e,t,n);case 4:return Wa(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=xi(t,null,i,n):Be(e,t,i,n),t.child;case 11:return Bh(e,t,t.type,t.pendingProps,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Cn(t,t.type,i.value),Be(e,t,i.children,n),t.child;case 9:return l=t.type._context,i=t.pendingProps.children,bi(t),l=Ve(l),i=i(l),t.flags|=1,Be(e,t,i,n),t.child;case 14:return Hh(e,t,t.type,t.pendingProps,n);case 15:return B0(e,t,t.type,t.pendingProps,n);case 19:return V0(e,t,n);case 31:return lx(e,t,n);case 22:return H0(e,t,n,t.pendingProps);case 24:return bi(t),i=Ve(Ce),e===null?(l=Ef(),l===null&&(l=ae,s=wf(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),t.memoizedState={parent:i,cache:l},Cf(t),Cn(t,Ce,l)):(e.lanes&n&&(su(e,t),us(t,null,null,n),cs()),l=e.memoizedState,s=t.memoizedState,l.parent!==i?(l={parent:i,cache:i},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Cn(t,Ce,i)):(i=s.cache,Cn(t,Ce,i),i!==l.cache&&iu(t,[Ce],n,!0))),Be(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(S(156,t.tag))}function Kt(e){e.flags|=4}function ic(e,t,n,i,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(hy())e.flags|=8192;else throw yi=ar,Tf}else e.flags&=-16777217}function Kh(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Ly(t))if(hy())e.flags|=8192;else throw yi=ar,Tf}function Ea(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?mg():536870912,e.lanes|=t,vl|=t)}function Yl(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function de(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ax(e,t,n){var i=t.pendingProps;switch(Sf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(t),null;case 1:return de(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),rn(Ce),hl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ii(t)?Kt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xo())),de(t),null;case 26:var l=t.type,s=t.memoizedState;return e===null?(Kt(t),s!==null?(de(t),Kh(t,s)):(de(t),ic(t,l,null,i,n))):s?s!==e.memoizedState?(Kt(t),de(t),Kh(t,s)):(de(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Kt(t),de(t),ic(t,l,e,i,n)),null;case 27:if(Ja(t),n=zn.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Kt(t);else{if(!i){if(t.stateNode===null)throw Error(S(166));return de(t),null}e=qt.current,Ii(t)?Sh(t):(e=jy(l,i,n),t.stateNode=e,Kt(t))}return de(t),null;case 5:if(Ja(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Kt(t);else{if(!i){if(t.stateNode===null)throw Error(S(166));return de(t),null}if(s=qt.current,Ii(t))Sh(t);else{var a=br(zn.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(l,{is:i.is}):a.createElement(l)}}s[He]=t,s[lt]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(Ge(s,l,i),l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Kt(t)}}return de(t),ic(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Kt(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(S(166));if(e=zn.current,Ii(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,l=qe,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}e[He]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||My(e.nodeValue,n)),e||Pn(t,!0)}else e=br(e).createTextNode(i),e[He]=t,t.stateNode=e}return de(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ii(t),n!==null){if(e===null){if(!i)throw Error(S(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(557));e[He]=t}else vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;de(t),e=!1}else n=Xo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ct(t),t):(ct(t),null);if(t.flags&128)throw Error(S(558))}return de(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Ii(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(S(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(S(317));l[He]=t}else vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;de(t),l=!1}else l=Xo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(ct(t),t):(ct(t),null)}return ct(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ea(t,t.updateQueue),de(t),null);case 4:return hl(),e===null&&Pf(t.stateNode.containerInfo),de(t),null;case 10:return rn(t.type),de(t),null;case 19:if(Ue(Se),i=t.memoizedState,i===null)return de(t),null;if(l=(t.flags&128)!==0,s=i.rendering,s===null)if(l)Yl(i,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=or(e),s!==null){for(t.flags|=128,Yl(i,!1),e=s.updateQueue,t.updateQueue=e,Ea(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Yg(n,e),n=n.sibling;return fe(Se,Se.current&1|2),X&&Wt(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&dt()>mr&&(t.flags|=128,l=!0,Yl(i,!1),t.lanes=4194304)}else{if(!l)if(e=or(s),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Ea(t,e),Yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!X)return de(t),null}else 2*dt()-i.renderingStartTime>mr&&n!==536870912&&(t.flags|=128,l=!0,Yl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=dt(),e.sibling=null,n=Se.current,fe(Se,l?n&1|2:n&1),X&&Wt(t,i.treeForkCount),e):(de(t),null);case 22:case 23:return ct(t),Nf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(de(t),t.subtreeFlags&6&&(t.flags|=8192)):de(t),n=t.updateQueue,n!==null&&Ea(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Ue(gi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),rn(Ce),de(t),null;case 25:return null;case 30:return null}throw Error(S(156,t.tag))}function rx(e,t){switch(Sf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rn(Ce),hl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ja(t),null;case 31:if(t.memoizedState!==null){if(ct(t),t.alternate===null)throw Error(S(340));vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ct(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Se),null;case 4:return hl(),null;case 10:return rn(t.type),null;case 22:case 23:return ct(t),Nf(),e!==null&&Ue(gi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return rn(Ce),null;case 25:return null;default:return null}}function Y0(e,t){switch(Sf(t),t.tag){case 3:rn(Ce),hl();break;case 26:case 27:case 5:Ja(t);break;case 4:hl();break;case 31:t.memoizedState!==null&&ct(t);break;case 13:ct(t);break;case 19:Ue(Se);break;case 10:rn(t.type);break;case 22:case 23:ct(t),Nf(),e!==null&&Ue(gi);break;case 24:rn(Ce)}}function na(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==l)}}catch(r){ee(t,t.return,r)}}function Zn(e,t,n){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var s=l.next;i=s;do{if((i.tag&e)===e){var a=i.inst,r=a.destroy;if(r!==void 0){a.destroy=void 0,l=t;var o=n,c=r;try{c()}catch(h){ee(l,o,h)}}}i=i.next}while(i!==s)}}catch(h){ee(t,t.return,h)}}function F0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{e0(t,n)}catch(i){ee(e,e.return,i)}}}function Q0(e,t,n){n.props=wi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ee(e,t,i)}}function ds(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(l){ee(e,t,l)}}function Ht(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){ee(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){ee(e,t,l)}else n.current=null}function K0(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){ee(e,e.return,l)}}function lc(e,t,n){try{var i=e.stateNode;Mx(i,e.type,n,t),i[lt]=t}catch(l){ee(e,e.return,l)}}function X0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ii(e.type)||e.tag===4}function sc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ii(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nn));else if(i!==4&&(i===27&&ii(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(gu(e,t,n),e=e.sibling;e!==null;)gu(e,t,n),e=e.sibling}function hr(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&ii(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(hr(e,t,n),e=e.sibling;e!==null;)hr(e,t,n),e=e.sibling}function P0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Ge(t,i,n),t[He]=e,t[lt]=n}catch(s){ee(e,e.return,s)}}var Jt=!1,Te=!1,ac=!1,Xh=typeof WeakSet=="function"?WeakSet:Set,ze=null;function ox(e,t){if(e=e.containerInfo,wu=Er,e=Lg(e),yf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,r=-1,o=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var m;f!==n||l!==0&&f.nodeType!==3||(r=a+l),f!==s||i!==0&&f.nodeType!==3||(o=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++c===l&&(r=a),d===s&&++h===i&&(o=a),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=r===-1||o===-1?null:{start:r,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eu={focusedElem:e,selectionRange:n},Er=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){switch(t=ze,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,l=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var y=wi(n.type,l);e=i.getSnapshotBeforeUpdate(y,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(x){ee(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Cu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(S(163))}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}}function Z0(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Pt(e,n),i&4&&na(5,n);break;case 1:if(Pt(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){ee(n,n.return,a)}else{var l=wi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){ee(n,n.return,a)}}i&64&&F0(n),i&512&&ds(n,n.return);break;case 3:if(Pt(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{e0(e,t)}catch(a){ee(n,n.return,a)}}break;case 27:t===null&&i&4&&P0(n);case 26:case 5:Pt(e,n),t===null&&i&4&&K0(n),i&512&&ds(n,n.return);break;case 12:Pt(e,n);break;case 31:Pt(e,n),i&4&&J0(e,n);break;case 13:Pt(e,n),i&4&&ey(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=yx.bind(null,n),Ix(e,n))));break;case 22:if(i=n.memoizedState!==null||Jt,!i){t=t!==null&&t.memoizedState!==null||Te,l=Jt;var s=Te;Jt=i,(Te=t)&&!s?Zt(e,n,(n.subtreeFlags&8772)!==0):Pt(e,n),Jt=l,Te=s}break;case 30:break;default:Pt(e,n)}}function $0(e){var t=e.alternate;t!==null&&(e.alternate=null,$0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ff(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _e=null,We=!1;function Xt(e,t,n){for(n=n.child;n!==null;)W0(e,t,n),n=n.sibling}function W0(e,t,n){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Ps,n)}catch{}switch(n.tag){case 26:Te||Ht(n,t),Xt(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Te||Ht(n,t);var i=_e,l=We;ii(n.type)&&(_e=n.stateNode,We=!1),Xt(e,t,n),gs(n.stateNode),_e=i,We=l;break;case 5:Te||Ht(n,t);case 6:if(i=_e,l=We,_e=null,Xt(e,t,n),_e=i,We=l,_e!==null)if(We)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(n.stateNode)}catch(s){ee(n,t,s)}else try{_e.removeChild(n.stateNode)}catch(s){ee(n,t,s)}break;case 18:_e!==null&&(We?(e=_e,rm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),wl(e)):rm(_e,n.stateNode));break;case 4:i=_e,l=We,_e=n.stateNode.containerInfo,We=!0,Xt(e,t,n),_e=i,We=l;break;case 0:case 11:case 14:case 15:Zn(2,n,t),Te||Zn(4,n,t),Xt(e,t,n);break;case 1:Te||(Ht(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Q0(n,t,i)),Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:Te=(i=Te)||n.memoizedState!==null,Xt(e,t,n),Te=i;break;default:Xt(e,t,n)}}function J0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wl(e)}catch(n){ee(t,t.return,n)}}}function ey(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wl(e)}catch(n){ee(t,t.return,n)}}function cx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xh),t;default:throw Error(S(435,e.tag))}}function Ta(e,t){var n=cx(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var l=_x.bind(null,e,i);i.then(l,l)}})}function Ze(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],s=e,a=t,r=a;e:for(;r!==null;){switch(r.tag){case 27:if(ii(r.type)){_e=r.stateNode,We=!1;break e}break;case 5:_e=r.stateNode,We=!1;break e;case 3:case 4:_e=r.stateNode.containerInfo,We=!0;break e}r=r.return}if(_e===null)throw Error(S(160));W0(s,a,l),_e=null,We=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ty(t,e),t=t.sibling}var Rt=null;function ty(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ze(t,e),$e(e),i&4&&(Zn(3,e,e.return),na(3,e),Zn(5,e,e.return));break;case 1:Ze(t,e),$e(e),i&512&&(Te||n===null||Ht(n,n.return)),i&64&&Jt&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=Rt;if(Ze(t,e),$e(e),i&512&&(Te||n===null||Ht(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":s=l.getElementsByTagName("title")[0],(!s||s[Ws]||s[He]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(i),l.head.insertBefore(s,l.querySelector("head > title"))),Ge(s,i,n),s[He]=e,Ie(s),i=s;break e;case"link":var a=mm("link","href",l).get(i+(n.href||""));if(a){for(var r=0;r<a.length;r++)if(s=a[r],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(r,1);break t}}s=l.createElement(i),Ge(s,i,n),l.head.appendChild(s);break;case"meta":if(a=mm("meta","content",l).get(i+(n.content||""))){for(r=0;r<a.length;r++)if(s=a[r],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(r,1);break t}}s=l.createElement(i),Ge(s,i,n),l.head.appendChild(s);break;default:throw Error(S(468,i))}s[He]=e,Ie(s),i=s}e.stateNode=i}else pm(l,e.type,e.stateNode);else e.stateNode=hm(l,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?pm(l,e.type,e.stateNode):hm(l,i,e.memoizedProps)):i===null&&e.stateNode!==null&&lc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ze(t,e),$e(e),i&512&&(Te||n===null||Ht(n,n.return)),n!==null&&i&4&&lc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ze(t,e),$e(e),i&512&&(Te||n===null||Ht(n,n.return)),e.flags&32){l=e.stateNode;try{pl(l,"")}catch(y){ee(e,e.return,y)}}i&4&&e.stateNode!=null&&(l=e.memoizedProps,lc(e,l,n!==null?n.memoizedProps:l)),i&1024&&(ac=!0);break;case 6:if(Ze(t,e),$e(e),i&4){if(e.stateNode===null)throw Error(S(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(y){ee(e,e.return,y)}}break;case 3:if(Ka=null,l=Rt,Rt=xr(t.containerInfo),Ze(t,e),Rt=l,$e(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{wl(t.containerInfo)}catch(y){ee(e,e.return,y)}ac&&(ac=!1,ny(e));break;case 4:i=Rt,Rt=xr(e.stateNode.containerInfo),Ze(t,e),$e(e),Rt=i;break;case 12:Ze(t,e),$e(e);break;case 31:Ze(t,e),$e(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ta(e,i)));break;case 13:Ze(t,e),$e(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ao=dt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ta(e,i)));break;case 22:l=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=Jt,h=Te;if(Jt=c||l,Te=h||o,Ze(t,e),Te=h,Jt=c,$e(e),i&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||o||Jt||Te||oi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,l)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{r=o.stateNode;var f=o.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;r.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(y){ee(o,o.return,y)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=l?"":o.memoizedProps}catch(y){ee(o,o.return,y)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;l?om(m,!0):om(o.stateNode,!1)}catch(y){ee(o,o.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ta(e,n))));break;case 19:Ze(t,e),$e(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ta(e,i)));break;case 30:break;case 21:break;default:Ze(t,e),$e(e)}}function $e(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(X0(i)){n=i;break}i=i.return}if(n==null)throw Error(S(160));switch(n.tag){case 27:var l=n.stateNode,s=sc(e);hr(e,s,l);break;case 5:var a=n.stateNode;n.flags&32&&(pl(a,""),n.flags&=-33);var r=sc(e);hr(e,r,a);break;case 3:case 4:var o=n.stateNode.containerInfo,c=sc(e);gu(e,c,o);break;default:throw Error(S(161))}}catch(h){ee(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ny(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Pt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Z0(e,t.alternate,t),t=t.sibling}function oi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zn(4,t,t.return),oi(t);break;case 1:Ht(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Q0(t,t.return,n),oi(t);break;case 27:gs(t.stateNode);case 26:case 5:Ht(t,t.return),oi(t);break;case 22:t.memoizedState===null&&oi(t);break;case 30:oi(t);break;default:oi(t)}e=e.sibling}}function Zt(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,l=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Zt(l,s,n),na(4,s);break;case 1:if(Zt(l,s,n),i=s,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(c){ee(i,i.return,c)}if(i=s,l=i.updateQueue,l!==null){var r=i.stateNode;try{var o=l.shared.hiddenCallbacks;if(o!==null)for(l.shared.hiddenCallbacks=null,l=0;l<o.length;l++)Jg(o[l],r)}catch(c){ee(i,i.return,c)}}n&&a&64&&F0(s),ds(s,s.return);break;case 27:P0(s);case 26:case 5:Zt(l,s,n),n&&i===null&&a&4&&K0(s),ds(s,s.return);break;case 12:Zt(l,s,n);break;case 31:Zt(l,s,n),n&&a&4&&J0(l,s);break;case 13:Zt(l,s,n),n&&a&4&&ey(l,s);break;case 22:s.memoizedState===null&&Zt(l,s,n),ds(s,s.return);break;case 30:break;default:Zt(l,s,n)}t=t.sibling}}function Gf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ea(n))}function Yf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ea(e))}function Mt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iy(e,t,n,i),t=t.sibling}function iy(e,t,n,i){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Mt(e,t,n,i),l&2048&&na(9,t);break;case 1:Mt(e,t,n,i);break;case 3:Mt(e,t,n,i),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ea(e)));break;case 12:if(l&2048){Mt(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,r=s.onPostCommit;typeof r=="function"&&r(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ee(t,t.return,o)}}else Mt(e,t,n,i);break;case 31:Mt(e,t,n,i);break;case 13:Mt(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?Mt(e,t,n,i):hs(e,t):s._visibility&2?Mt(e,t,n,i):(s._visibility|=2,Gi(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Gf(a,t);break;case 24:Mt(e,t,n,i),l&2048&&Yf(t.alternate,t);break;default:Mt(e,t,n,i)}}function Gi(e,t,n,i,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,a=t,r=n,o=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(s,a,r,o,l),na(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Gi(s,a,r,o,l):hs(s,a):(h._visibility|=2,Gi(s,a,r,o,l)),l&&c&2048&&Gf(a.alternate,a);break;case 24:Gi(s,a,r,o,l),l&&c&2048&&Yf(a.alternate,a);break;default:Gi(s,a,r,o,l)}t=t.sibling}}function hs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,l=i.flags;switch(i.tag){case 22:hs(n,i),l&2048&&Gf(i.alternate,i);break;case 24:hs(n,i),l&2048&&Yf(i.alternate,i);break;default:hs(n,i)}t=t.sibling}}var ts=8192;function Ui(e,t,n){if(e.subtreeFlags&ts)for(e=e.child;e!==null;)ly(e,t,n),e=e.sibling}function ly(e,t,n){switch(e.tag){case 26:Ui(e,t,n),e.flags&ts&&e.memoizedState!==null&&Px(n,Rt,e.memoizedState,e.memoizedProps);break;case 5:Ui(e,t,n);break;case 3:case 4:var i=Rt;Rt=xr(e.stateNode.containerInfo),Ui(e,t,n),Rt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ts,ts=16777216,Ui(e,t,n),ts=i):Ui(e,t,n));break;default:Ui(e,t,n)}}function sy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ze=i,ry(i,e)}sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&Zn(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Fa(e)):Fl(e);break;default:Fl(e)}}function Fa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ze=i,ry(i,e)}sy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zn(8,t,t.return),Fa(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Fa(t));break;default:Fa(t)}e=e.sibling}}function ry(e,t){for(;ze!==null;){var n=ze;switch(n.tag){case 0:case 11:case 15:Zn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ea(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ze=i;else e:for(n=e;ze!==null;){i=ze;var l=i.sibling,s=i.return;if($0(i),i===n){ze=null;break e}if(l!==null){l.return=s,ze=l;break e}ze=s}}}var ux={getCacheForType:function(e){var t=Ve(Ce),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ve(Ce).controller.signal}},fx=typeof WeakMap=="function"?WeakMap:Map,Z=0,ae=null,F=null,K=0,J=0,ot=null,On=!1,jl=!1,Ff=!1,pn=0,xe=0,$n=0,_i=0,Qf=0,ft=0,vl=0,ms=null,Je=null,yu=!1,ao=0,oy=0,mr=1/0,pr=null,Bn=null,Re=0,Hn=null,bl=null,on=0,_u=0,vu=null,cy=null,ps=0,bu=null;function pt(){return Z&2&&K!==0?K&-K:U.T!==null?Xf():_g()}function uy(){if(ft===0)if(!(K&536870912)||X){var e=ya;ya<<=1,!(ya&3932160)&&(ya=262144),ft=e}else ft=536870912;return e=yt.current,e!==null&&(e.flags|=32),ft}function tt(e,t,n){(e===ae&&(J===2||J===9)||e.cancelPendingCommit!==null)&&(xl(e,0),jn(e,K,ft,!1)),$s(e,n),(!(Z&2)||e!==ae)&&(e===ae&&(!(Z&2)&&(_i|=n),xe===4&&jn(e,K,ft,!1)),Yt(e))}function fy(e,t,n){if(Z&6)throw Error(S(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Zs(e,t),l=i?mx(e,t):rc(e,t,!0),s=i;do{if(l===0){jl&&!i&&jn(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!dx(n)){l=rc(e,t,!1),s=!1;continue}if(l===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var r=e;l=ms;var o=r.current.memoizedState.isDehydrated;if(o&&(xl(r,a).flags|=256),a=rc(r,a,!1),a!==2){if(Ff&&!o){r.errorRecoveryDisabledLanes|=s,_i|=s,l=4;break e}s=Je,Je=l,s!==null&&(Je===null?Je=s:Je.push.apply(Je,s))}l=a}if(s=!1,l!==2)continue}}if(l===1){xl(e,0),jn(e,t,0,!0);break}e:{switch(i=e,s=l,s){case 0:case 1:throw Error(S(345));case 4:if((t&4194048)!==t)break;case 6:jn(i,t,ft,!On);break e;case 2:Je=null;break;case 3:case 5:break;default:throw Error(S(329))}if((t&62914560)===t&&(l=ao+300-dt(),10<l)){if(jn(i,t,ft,!On),Pr(i,0,!0)!==0)break e;on=t,i.timeoutHandle=Dy(Ph.bind(null,i,n,Je,pr,yu,t,ft,_i,vl,On,s,"Throttled",-0,0),l);break e}Ph(i,n,Je,pr,yu,t,ft,_i,vl,On,s,null,-0,0)}}break}while(!0);Yt(e)}function Ph(e,t,n,i,l,s,a,r,o,c,h,f,d,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},ly(t,s,f);var y=(s&62914560)===s?ao-dt():(s&4194048)===s?oy-dt():0;if(y=Zx(f,y),y!==null){on=s,e.cancelPendingCommit=y($h.bind(null,e,t,s,n,i,l,a,r,o,h,f,null,d,m)),jn(e,s,a,!c);return}}$h(e,t,s,n,i,l,a,r,o)}function dx(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],s=l.getSnapshot;l=l.value;try{if(!gt(s(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t,n,i){t&=~Qf,t&=~_i,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var l=t;0<l;){var s=31-mt(l),a=1<<s;i[s]=-1,l&=~a}n!==0&&pg(e,n,t)}function ro(){return Z&6?!0:(ia(0),!1)}function Kf(){if(F!==null){if(J===0)var e=F.return;else e=F,ln=ki=null,Of(e),ol=null,Ms=0,e=F;for(;e!==null;)Y0(e.alternate,e),e=e.return;F=null}}function xl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Ox(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),on=0,Kf(),ae=e,F=n=an(e.current,null),K=t,J=0,ot=null,On=!1,jl=Zs(e,t),Ff=!1,vl=ft=Qf=_i=$n=xe=0,Je=ms=null,yu=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var l=31-mt(i),s=1<<l;t|=e[l],i&=~s}return pn=t,Jr(),n}function dy(e,t){q=null,U.H=Ds,t===Ol||t===to?(t=Nh(),J=3):t===Tf?(t=Nh(),J=4):J=t===qf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ot=t,F===null&&(xe=1,fr(e,Et(t,e.current)))}function hy(){var e=yt.current;return e===null?!0:(K&4194048)===K?Ct===null:(K&62914560)===K||K&536870912?e===Ct:!1}function my(){var e=U.H;return U.H=Ds,e===null?Ds:e}function py(){var e=U.A;return U.A=ux,e}function gr(){xe=4,On||(K&4194048)!==K&&yt.current!==null||(jl=!0),!($n&134217727)&&!(_i&134217727)||ae===null||jn(ae,K,ft,!1)}function rc(e,t,n){var i=Z;Z|=2;var l=my(),s=py();(ae!==e||K!==t)&&(pr=null,xl(e,t)),t=!1;var a=xe;e:do try{if(J!==0&&F!==null){var r=F,o=ot;switch(J){case 8:Kf(),a=6;break e;case 3:case 2:case 9:case 6:yt.current===null&&(t=!0);var c=J;if(J=0,ot=null,nl(e,r,o,c),n&&jl){a=0;break e}break;default:c=J,J=0,ot=null,nl(e,r,o,c)}}hx(),a=xe;break}catch(h){dy(e,h)}while(!0);return t&&e.shellSuspendCounter++,ln=ki=null,Z=i,U.H=l,U.A=s,F===null&&(ae=null,K=0,Jr()),a}function hx(){for(;F!==null;)gy(F)}function mx(e,t){var n=Z;Z|=2;var i=my(),l=py();ae!==e||K!==t?(pr=null,mr=dt()+500,xl(e,t)):jl=Zs(e,t);e:do try{if(J!==0&&F!==null){t=F;var s=ot;t:switch(J){case 1:J=0,ot=null,nl(e,t,s,1);break;case 2:case 9:if(Ch(s)){J=0,ot=null,Zh(t);break}t=function(){J!==2&&J!==9||ae!==e||(J=7),Yt(e)},s.then(t,t);break e;case 3:J=7;break e;case 4:J=5;break e;case 7:Ch(s)?(J=0,ot=null,Zh(t)):(J=0,ot=null,nl(e,t,s,7));break;case 5:var a=null;switch(F.tag){case 26:a=F.memoizedState;case 5:case 27:var r=F;if(a?Ly(a):r.stateNode.complete){J=0,ot=null;var o=r.sibling;if(o!==null)F=o;else{var c=r.return;c!==null?(F=c,oo(c)):F=null}break t}}J=0,ot=null,nl(e,t,s,5);break;case 6:J=0,ot=null,nl(e,t,s,6);break;case 8:Kf(),xe=6;break e;default:throw Error(S(462))}}px();break}catch(h){dy(e,h)}while(!0);return ln=ki=null,U.H=i,U.A=l,Z=n,F!==null?0:(ae=null,K=0,Jr(),xe)}function px(){for(;F!==null&&!Ub();)gy(F)}function gy(e){var t=G0(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?oo(e):F=t}function Zh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Gh(n,t,t.pendingProps,t.type,void 0,K);break;case 11:t=Gh(n,t,t.pendingProps,t.type.render,t.ref,K);break;case 5:Of(t);default:Y0(n,t),t=F=Yg(t,pn),t=G0(n,t,pn)}e.memoizedProps=e.pendingProps,t===null?oo(e):F=t}function nl(e,t,n,i){ln=ki=null,Of(t),ol=null,Ms=0;var l=t.return;try{if(ix(e,l,t,n,K)){xe=1,fr(e,Et(n,e.current)),F=null;return}}catch(s){if(l!==null)throw F=l,s;xe=1,fr(e,Et(n,e.current)),F=null;return}t.flags&32768?(X||i===1?e=!0:jl||K&536870912?e=!1:(On=e=!0,(i===2||i===9||i===3||i===6)&&(i=yt.current,i!==null&&i.tag===13&&(i.flags|=16384))),yy(t,e)):oo(t)}function oo(e){var t=e;do{if(t.flags&32768){yy(t,On);return}e=t.return;var n=ax(t.alternate,t,pn);if(n!==null){F=n;return}if(t=t.sibling,t!==null){F=t;return}F=t=e}while(t!==null);xe===0&&(xe=5)}function yy(e,t){do{var n=rx(e.alternate,e);if(n!==null){n.flags&=32767,F=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){F=e;return}F=e=n}while(e!==null);xe=6,F=null}function $h(e,t,n,i,l,s,a,r,o){e.cancelPendingCommit=null;do co();while(Re!==0);if(Z&6)throw Error(S(327));if(t!==null){if(t===e.current)throw Error(S(177));if(s=t.lanes|t.childLanes,s|=_f,Xb(e,n,s,a,r,o),e===ae&&(F=ae=null,K=0),bl=t,Hn=e,on=n,_u=s,vu=l,cy=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,vx(er,function(){return Sy(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=U.T,U.T=null,l=$.p,$.p=2,a=Z,Z|=4;try{ox(e,t,n)}finally{Z=a,$.p=l,U.T=i}}Re=1,_y(),vy(),by()}}function _y(){if(Re===1){Re=0;var e=Hn,t=bl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=U.T,U.T=null;var i=$.p;$.p=2;var l=Z;Z|=4;try{ty(t,e);var s=Eu,a=Lg(e.containerInfo),r=s.focusedElem,o=s.selectionRange;if(a!==r&&r&&r.ownerDocument&&zg(r.ownerDocument.documentElement,r)){if(o!==null&&yf(r)){var c=o.start,h=o.end;if(h===void 0&&(h=c),"selectionStart"in r)r.selectionStart=c,r.selectionEnd=Math.min(h,r.value.length);else{var f=r.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var m=d.getSelection(),y=r.textContent.length,x=Math.min(o.start,y),w=o.end===void 0?x:Math.min(o.end,y);!m.extend&&x>w&&(a=w,w=x,x=a);var g=vh(r,x),p=vh(r,w);if(g&&p&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==p.node||m.focusOffset!==p.offset)){var _=f.createRange();_.setStart(g.node,g.offset),m.removeAllRanges(),x>w?(m.addRange(_),m.extend(p.node,p.offset)):(_.setEnd(p.node,p.offset),m.addRange(_))}}}}for(f=[],m=r;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<f.length;r++){var v=f[r];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Er=!!wu,Eu=wu=null}finally{Z=l,$.p=i,U.T=n}}e.current=t,Re=2}}function vy(){if(Re===2){Re=0;var e=Hn,t=bl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=U.T,U.T=null;var i=$.p;$.p=2;var l=Z;Z|=4;try{Z0(e,t.alternate,t)}finally{Z=l,$.p=i,U.T=n}}Re=3}}function by(){if(Re===4||Re===3){Re=0,Bb();var e=Hn,t=bl,n=on,i=cy;t.subtreeFlags&10256||t.flags&10256?Re=5:(Re=0,bl=Hn=null,xy(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Bn=null),uf(n),t=t.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Ps,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=U.T,l=$.p,$.p=2,U.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var r=i[a];s(r.value,{componentStack:r.stack})}}finally{U.T=t,$.p=l}}on&3&&co(),Yt(e),l=e.pendingLanes,n&261930&&l&42?e===bu?ps++:(ps=0,bu=e):ps=0,ia(0)}}function xy(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ea(t)))}function co(){return _y(),vy(),by(),Sy()}function Sy(){if(Re!==5)return!1;var e=Hn,t=_u;_u=0;var n=uf(on),i=U.T,l=$.p;try{$.p=32>n?32:n,U.T=null,n=vu,vu=null;var s=Hn,a=on;if(Re=0,bl=Hn=null,on=0,Z&6)throw Error(S(331));var r=Z;if(Z|=4,ay(s.current),iy(s,s.current,a,n),Z=r,ia(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Ps,s)}catch{}return!0}finally{$.p=l,U.T=i,xy(e,t)}}function Wh(e,t,n){t=Et(n,t),t=hu(e.stateNode,t,2),e=Un(e,t,2),e!==null&&($s(e,2),Yt(e))}function ee(e,t,n){if(e.tag===3)Wh(e,e,n);else for(;t!==null;){if(t.tag===3){Wh(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bn===null||!Bn.has(i))){e=Et(n,e),n=I0(2),i=Un(t,n,2),i!==null&&(U0(n,i,t,e),$s(i,2),Yt(i));break}}t=t.return}}function oc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new fx;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(Ff=!0,l.add(n),e=gx.bind(null,e,t,n),t.then(e,e))}function gx(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ae===e&&(K&n)===n&&(xe===4||xe===3&&(K&62914560)===K&&300>dt()-ao?!(Z&2)&&xl(e,0):Qf|=n,vl===K&&(vl=0)),Yt(e)}function wy(e,t){t===0&&(t=mg()),e=ji(e,t),e!==null&&($s(e,t),Yt(e))}function yx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wy(e,n)}function _x(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(S(314))}i!==null&&i.delete(t),wy(e,n)}function vx(e,t){return of(e,t)}var yr=null,Yi=null,xu=!1,_r=!1,cc=!1,kn=0;function Yt(e){e!==Yi&&e.next===null&&(Yi===null?yr=Yi=e:Yi=Yi.next=e),_r=!0,xu||(xu=!0,xx())}function ia(e,t){if(!cc&&_r){cc=!0;do for(var n=!1,i=yr;i!==null;){if(e!==0){var l=i.pendingLanes;if(l===0)var s=0;else{var a=i.suspendedLanes,r=i.pingedLanes;s=(1<<31-mt(42|e)+1)-1,s&=l&~(a&~r),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Jh(i,s))}else s=K,s=Pr(i,i===ae?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Zs(i,s)||(n=!0,Jh(i,s));i=i.next}while(n);cc=!1}}function bx(){Ey()}function Ey(){_r=xu=!1;var e=0;kn!==0&&Dx()&&(e=kn);for(var t=dt(),n=null,i=yr;i!==null;){var l=i.next,s=Ty(i,t);s===0?(i.next=null,n===null?yr=l:n.next=l,l===null&&(Yi=n)):(n=i,(e!==0||s&3)&&(_r=!0)),i=l}Re!==0&&Re!==5||ia(e),kn!==0&&(kn=0)}function Ty(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-mt(s),r=1<<a,o=l[a];o===-1?(!(r&n)||r&i)&&(l[a]=Kb(r,t)):o<=t&&(e.expiredLanes|=r),s&=~r}if(t=ae,n=K,n=Pr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(J===2||J===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Io(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Zs(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Io(i),uf(n)){case 2:case 8:n=dg;break;case 32:n=er;break;case 268435456:n=hg;break;default:n=er}return i=Cy.bind(null,e),n=of(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Io(i),e.callbackPriority=2,e.callbackNode=null,2}function Cy(e,t){if(Re!==0&&Re!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(co()&&e.callbackNode!==n)return null;var i=K;return i=Pr(e,e===ae?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(fy(e,i,t),Ty(e,dt()),e.callbackNode!=null&&e.callbackNode===n?Cy.bind(null,e):null)}function Jh(e,t){if(co())return null;fy(e,t,!0)}function xx(){jx(function(){Z&6?of(fg,bx):Ey()})}function Xf(){if(kn===0){var e=gl;e===0&&(e=ga,ga<<=1,!(ga&261888)&&(ga=256)),kn=e}return kn}function em(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:La(""+e)}function tm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Sx(e,t,n,i,l){if(t==="submit"&&n&&n.stateNode===l){var s=em((l[lt]||null).action),a=i.submitter;a&&(t=(t=a[lt]||null)?em(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var r=new Zr("action","action",null,i,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(kn!==0){var o=a?tm(l,a):new FormData(l);fu(n,{pending:!0,data:o,method:l.method,action:s},null,o)}}else typeof s=="function"&&(r.preventDefault(),o=a?tm(l,a):new FormData(l),fu(n,{pending:!0,data:o,method:l.method,action:s},s,o))},currentTarget:l}]})}}for(var uc=0;uc<Jc.length;uc++){var fc=Jc[uc],wx=fc.toLowerCase(),Ex=fc[0].toUpperCase()+fc.slice(1);Lt(wx,"on"+Ex)}Lt(Ug,"onAnimationEnd");Lt(Bg,"onAnimationIteration");Lt(Hg,"onAnimationStart");Lt("dblclick","onDoubleClick");Lt("focusin","onFocus");Lt("focusout","onBlur");Lt(H1,"onTransitionRun");Lt(q1,"onTransitionStart");Lt(V1,"onTransitionCancel");Lt(qg,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Os));function Ny(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var r=i[a],o=r.instance,c=r.currentTarget;if(r=r.listener,o!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=c;try{s(l)}catch(h){nr(h)}l.currentTarget=null,s=o}else for(a=0;a<i.length;a++){if(r=i[a],o=r.instance,c=r.currentTarget,r=r.listener,o!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=c;try{s(l)}catch(h){nr(h)}l.currentTarget=null,s=o}}}}function Y(e,t){var n=t[Fc];n===void 0&&(n=t[Fc]=new Set);var i=e+"__bubble";n.has(i)||(Ay(t,e,2,!1),n.add(i))}function dc(e,t,n){var i=0;t&&(i|=4),Ay(n,e,i,t)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function Pf(e){if(!e[Ca]){e[Ca]=!0,vg.forEach(function(n){n!=="selectionchange"&&(Tx.has(n)||dc(n,!1,e),dc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ca]||(t[Ca]=!0,dc("selectionchange",!1,t))}}function Ay(e,t,n,i){switch(qy(t)){case 2:var l=Jx;break;case 8:l=eS;break;default:l=Jf}n=l.bind(null,t,n,e),l=void 0,!Zc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function hc(e,t,n,i,l){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var r=i.stateNode.containerInfo;if(r===l)break;if(a===4)for(a=i.return;a!==null;){var o=a.tag;if((o===3||o===4)&&a.stateNode.containerInfo===l)return;a=a.return}for(;r!==null;){if(a=Ki(r),a===null)return;if(o=a.tag,o===5||o===6||o===26||o===27){i=s=a;continue e}r=r.parentNode}}i=i.return}Ng(function(){var c=s,h=hf(n),f=[];e:{var d=Vg.get(e);if(d!==void 0){var m=Zr,y=e;switch(e){case"keypress":if(Ua(n)===0)break e;case"keydown":case"keyup":m=_1;break;case"focusin":y="focus",m=Vo;break;case"focusout":y="blur",m=Vo;break;case"beforeblur":case"afterblur":m=Vo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=a1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=x1;break;case Ug:case Bg:case Hg:m=c1;break;case qg:m=w1;break;case"scroll":case"scrollend":m=l1;break;case"wheel":m=T1;break;case"copy":case"cut":case"paste":m=f1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=fh;break;case"toggle":case"beforetoggle":m=N1}var x=(t&4)!==0,w=!x&&(e==="scroll"||e==="scrollend"),g=x?d!==null?d+"Capture":null:d;x=[];for(var p=c,_;p!==null;){var v=p;if(_=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||_===null||g===null||(v=Es(p,g),v!=null&&x.push(js(p,v,_))),w)break;p=p.return}0<x.length&&(d=new m(d,y,null,n,h),f.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==Pc&&(y=n.relatedTarget||n.fromElement)&&(Ki(y)||y[Ml]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?Ki(y):null,y!==null&&(w=Xs(y),x=y.tag,y!==w||x!==5&&x!==27&&x!==6)&&(y=null)):(m=null,y=c),m!==y)){if(x=ch,v="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=fh,v="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?d:Jl(m),_=y==null?d:Jl(y),d=new x(v,p+"leave",m,n,h),d.target=w,d.relatedTarget=_,v=null,Ki(h)===c&&(x=new x(g,p+"enter",y,n,h),x.target=_,x.relatedTarget=w,v=x),w=v,m&&y)t:{for(x=Cx,g=m,p=y,_=0,v=g;v;v=x(v))_++;v=0;for(var N=p;N;N=x(N))v++;for(;0<_-v;)g=x(g),_--;for(;0<v-_;)p=x(p),v--;for(;_--;){if(g===p||p!==null&&g===p.alternate){x=g;break t}g=x(g),p=x(p)}x=null}else x=null;m!==null&&nm(f,d,m,x,!1),y!==null&&w!==null&&nm(f,w,y,x,!0)}}e:{if(d=c?Jl(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var M=ph;else if(mh(d))if(jg)M=I1;else{M=z1;var E=k1}else m=d.nodeName,!m||m.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&df(c.elementType)&&(M=ph):M=L1;if(M&&(M=M(e,c))){Og(f,M,n,h);break e}E&&E(e,d,c),e==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Xc(d,"number",d.value)}switch(E=c?Jl(c):window,e){case"focusin":(mh(E)||E.contentEditable==="true")&&(Zi=E,$c=c,as=null);break;case"focusout":as=$c=Zi=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,bh(f,n,h);break;case"selectionchange":if(B1)break;case"keydown":case"keyup":bh(f,n,h)}var D;if(gf)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Pi?Rg(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Mg&&n.locale!=="ko"&&(Pi||R!=="onCompositionStart"?R==="onCompositionEnd"&&Pi&&(D=Ag()):(Dn=h,mf="value"in Dn?Dn.value:Dn.textContent,Pi=!0)),E=vr(c,R),0<E.length&&(R=new uh(R,e,null,n,h),f.push({event:R,listeners:E}),D?R.data=D:(D=Dg(n),D!==null&&(R.data=D)))),(D=M1?R1(e,n):D1(e,n))&&(R=vr(c,"onBeforeInput"),0<R.length&&(E=new uh("onBeforeInput","beforeinput",null,n,h),f.push({event:E,listeners:R}),E.data=D)),Sx(f,e,c,n,h)}Ny(f,t)})}function js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vr(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=Es(e,n),l!=null&&i.unshift(js(e,l,s)),l=Es(e,t),l!=null&&i.push(js(e,l,s))),e.tag===3)return i;e=e.return}return[]}function Cx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nm(e,t,n,i,l){for(var s=t._reactName,a=[];n!==null&&n!==i;){var r=n,o=r.alternate,c=r.stateNode;if(r=r.tag,o!==null&&o===i)break;r!==5&&r!==26&&r!==27||c===null||(o=c,l?(c=Es(n,s),c!=null&&a.unshift(js(n,c,o))):l||(c=Es(n,s),c!=null&&a.push(js(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Nx=/\r\n?/g,Ax=/\u0000|\uFFFD/g;function im(e){return(typeof e=="string"?e:""+e).replace(Nx,`
`).replace(Ax,"")}function My(e,t){return t=im(t),im(e)===t}function ne(e,t,n,i,l,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||pl(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&pl(e,""+i);break;case"className":va(e,"class",i);break;case"tabIndex":va(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":va(e,n,i);break;case"style":Cg(e,i,s);break;case"data":if(t!=="object"){va(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=La(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ne(e,t,"name",l.name,l,null),ne(e,t,"formEncType",l.formEncType,l,null),ne(e,t,"formMethod",l.formMethod,l,null),ne(e,t,"formTarget",l.formTarget,l,null)):(ne(e,t,"encType",l.encType,l,null),ne(e,t,"method",l.method,l,null),ne(e,t,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=La(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=nn);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(S(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(S(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=La(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Y("beforetoggle",e),Y("toggle",e),za(e,"popover",i);break;case"xlinkActuate":Qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Qt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Qt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Qt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Qt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":za(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=n1.get(n)||n,za(e,n,i))}}function Su(e,t,n,i,l,s){switch(n){case"style":Cg(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(S(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(S(60));e.innerHTML=n}}break;case"children":typeof i=="string"?pl(e,i):(typeof i=="number"||typeof i=="bigint")&&pl(e,""+i);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"onClick":i!=null&&(e.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bg.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),s=e[lt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,l),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,l);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):za(e,n,i)}}}function Ge(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y("error",e),Y("load",e);var i=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:ne(e,t,s,a,n,null)}}l&&ne(e,t,"srcSet",n.srcSet,n,null),i&&ne(e,t,"src",n.src,n,null);return;case"input":Y("invalid",e);var r=s=a=l=null,o=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":l=h;break;case"type":a=h;break;case"checked":o=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(S(137,t));break;default:ne(e,t,i,h,n,null)}}wg(e,s,r,o,c,a,l,!1);return;case"select":Y("invalid",e),i=a=s=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":s=r;break;case"defaultValue":a=r;break;case"multiple":i=r;default:ne(e,t,l,r,n,null)}t=s,n=a,e.multiple=!!i,t!=null?sl(e,!!i,t,!1):n!=null&&sl(e,!!i,n,!0);return;case"textarea":Y("invalid",e),s=l=i=null;for(a in n)if(n.hasOwnProperty(a)&&(r=n[a],r!=null))switch(a){case"value":i=r;break;case"defaultValue":l=r;break;case"children":s=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(S(91));break;default:ne(e,t,a,r,n,null)}Tg(e,i,l,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ne(e,t,o,i,n,null)}return;case"dialog":Y("beforetoggle",e),Y("toggle",e),Y("cancel",e),Y("close",e);break;case"iframe":case"object":Y("load",e);break;case"video":case"audio":for(i=0;i<Os.length;i++)Y(Os[i],e);break;case"image":Y("error",e),Y("load",e);break;case"details":Y("toggle",e);break;case"embed":case"source":case"link":Y("error",e),Y("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:ne(e,t,c,i,n,null)}return;default:if(df(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Su(e,t,h,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&ne(e,t,r,i,n,null))}function Mx(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,a=null,r=null,o=null,c=null,h=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=f;default:i.hasOwnProperty(m)||ne(e,t,m,null,i,f)}}for(var d in i){var m=i[d];if(f=n[d],i.hasOwnProperty(d)&&(m!=null||f!=null))switch(d){case"type":s=m;break;case"name":l=m;break;case"checked":c=m;break;case"defaultChecked":h=m;break;case"value":a=m;break;case"defaultValue":r=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(S(137,t));break;default:m!==f&&ne(e,t,d,m,i,f)}}Kc(e,a,r,o,c,h,s,l);return;case"select":m=a=r=d=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:i.hasOwnProperty(s)||ne(e,t,s,null,i,o)}for(l in i)if(s=i[l],o=n[l],i.hasOwnProperty(l)&&(s!=null||o!=null))switch(l){case"value":d=s;break;case"defaultValue":r=s;break;case"multiple":a=s;default:s!==o&&ne(e,t,l,s,i,o)}t=r,n=a,i=m,d!=null?sl(e,!!n,d,!1):!!i!=!!n&&(t!=null?sl(e,!!n,t,!0):sl(e,!!n,n?[]:"",!1));return;case"textarea":m=d=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:ne(e,t,r,null,i,l)}for(a in i)if(l=i[a],s=n[a],i.hasOwnProperty(a)&&(l!=null||s!=null))switch(a){case"value":d=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(S(91));break;default:l!==s&&ne(e,t,a,l,i,s)}Eg(e,d,m);return;case"option":for(var y in n)if(d=n[y],n.hasOwnProperty(y)&&d!=null&&!i.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:ne(e,t,y,null,i,d)}for(o in i)if(d=i[o],m=n[o],i.hasOwnProperty(o)&&d!==m&&(d!=null||m!=null))switch(o){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ne(e,t,o,d,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)d=n[x],n.hasOwnProperty(x)&&d!=null&&!i.hasOwnProperty(x)&&ne(e,t,x,null,i,d);for(c in i)if(d=i[c],m=n[c],i.hasOwnProperty(c)&&d!==m&&(d!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(S(137,t));break;default:ne(e,t,c,d,i,m)}return;default:if(df(t)){for(var w in n)d=n[w],n.hasOwnProperty(w)&&d!==void 0&&!i.hasOwnProperty(w)&&Su(e,t,w,void 0,i,d);for(h in i)d=i[h],m=n[h],!i.hasOwnProperty(h)||d===m||d===void 0&&m===void 0||Su(e,t,h,d,i,m);return}}for(var g in n)d=n[g],n.hasOwnProperty(g)&&d!=null&&!i.hasOwnProperty(g)&&ne(e,t,g,null,i,d);for(f in i)d=i[f],m=n[f],!i.hasOwnProperty(f)||d===m||d==null&&m==null||ne(e,t,f,d,i,m)}function lm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var l=n[i],s=l.transferSize,a=l.initiatorType,r=l.duration;if(s&&r&&lm(a)){for(a=0,r=l.responseEnd,i+=1;i<n.length;i++){var o=n[i],c=o.startTime;if(c>r)break;var h=o.transferSize,f=o.initiatorType;h&&lm(f)&&(o=o.responseEnd,a+=h*(o<r?1:(r-c)/(o-c)))}if(--i,t+=8*(s+a)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wu=null,Eu=null;function br(e){return e.nodeType===9?e:e.ownerDocument}function sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mc=null;function Dx(){var e=window.event;return e&&e.type==="popstate"?e===mc?!1:(mc=e,!0):(mc=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,Ox=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,jx=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(e){return am.resolve(null).then(e).catch(kx)}:Dy;function kx(e){setTimeout(function(){throw e})}function ii(e){return e==="head"}function rm(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(l),wl(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")gs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,gs(n);for(var s=n.firstChild;s;){var a=s.nextSibling,r=s.nodeName;s[Ws]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&gs(e.ownerDocument.body);n=l}while(n);wl(t)}function om(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Cu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Cu(n),ff(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function zx(e,t,n,i){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ws])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Nt(e.nextSibling),e===null)break}return null}function Lx(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nt(e.nextSibling),e===null))return null;return e}function Oy(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nt(e.nextSibling),e===null))return null;return e}function Nu(e){return e.data==="$?"||e.data==="$~"}function Au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ix(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Nt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Mu=null;function cm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Nt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function um(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function jy(e,t,n){switch(t=br(n),e){case"html":if(e=t.documentElement,!e)throw Error(S(452));return e;case"head":if(e=t.head,!e)throw Error(S(453));return e;case"body":if(e=t.body,!e)throw Error(S(454));return e;default:throw Error(S(451))}}function gs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ff(e)}var At=new Map,fm=new Set;function xr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vn=$.d;$.d={f:Ux,r:Bx,D:Hx,C:qx,L:Vx,m:Gx,X:Fx,S:Yx,M:Qx};function Ux(){var e=vn.f(),t=ro();return e||t}function Bx(e){var t=Rl(e);t!==null&&t.tag===5&&t.type==="form"?C0(t):vn.r(e)}var kl=typeof document>"u"?null:document;function ky(e,t,n){var i=kl;if(i&&typeof t=="string"&&t){var l=wt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),fm.has(l)||(fm.add(l),e={rel:e,crossOrigin:n,href:t},i.querySelector(l)===null&&(t=i.createElement("link"),Ge(t,"link",e),Ie(t),i.head.appendChild(t)))}}function Hx(e){vn.D(e),ky("dns-prefetch",e,null)}function qx(e,t){vn.C(e,t),ky("preconnect",e,t)}function Vx(e,t,n){vn.L(e,t,n);var i=kl;if(i&&e&&t){var l='link[rel="preload"][as="'+wt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+wt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+wt(n.imageSizes)+'"]')):l+='[href="'+wt(e)+'"]';var s=l;switch(t){case"style":s=Sl(e);break;case"script":s=zl(e)}At.has(s)||(e=ge({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),At.set(s,e),i.querySelector(l)!==null||t==="style"&&i.querySelector(la(s))||t==="script"&&i.querySelector(sa(s))||(t=i.createElement("link"),Ge(t,"link",e),Ie(t),i.head.appendChild(t)))}}function Gx(e,t){vn.m(e,t);var n=kl;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+wt(i)+'"][href="'+wt(e)+'"]',s=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=zl(e)}if(!At.has(s)&&(e=ge({rel:"modulepreload",href:e},t),At.set(s,e),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(sa(s)))return}i=n.createElement("link"),Ge(i,"link",e),Ie(i),n.head.appendChild(i)}}}function Yx(e,t,n){vn.S(e,t,n);var i=kl;if(i&&e){var l=ll(i).hoistableStyles,s=Sl(e);t=t||"default";var a=l.get(s);if(!a){var r={loading:0,preload:null};if(a=i.querySelector(la(s)))r.loading=5;else{e=ge({rel:"stylesheet",href:e,"data-precedence":t},n),(n=At.get(s))&&Zf(e,n);var o=a=i.createElement("link");Ie(o),Ge(o,"link",e),o._p=new Promise(function(c,h){o.onload=c,o.onerror=h}),o.addEventListener("load",function(){r.loading|=1}),o.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Qa(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:r},l.set(s,a)}}}function Fx(e,t){vn.X(e,t);var n=kl;if(n&&e){var i=ll(n).hoistableScripts,l=zl(e),s=i.get(l);s||(s=n.querySelector(sa(l)),s||(e=ge({src:e,async:!0},t),(t=At.get(l))&&$f(e,t),s=n.createElement("script"),Ie(s),Ge(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(l,s))}}function Qx(e,t){vn.M(e,t);var n=kl;if(n&&e){var i=ll(n).hoistableScripts,l=zl(e),s=i.get(l);s||(s=n.querySelector(sa(l)),s||(e=ge({src:e,async:!0,type:"module"},t),(t=At.get(l))&&$f(e,t),s=n.createElement("script"),Ie(s),Ge(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(l,s))}}function dm(e,t,n,i){var l=(l=zn.current)?xr(l):null;if(!l)throw Error(S(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Sl(n.href),n=ll(l).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Sl(n.href);var s=ll(l).hoistableStyles,a=s.get(e);if(a||(l=l.ownerDocument||l,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=l.querySelector(la(e)))&&!s._p&&(a.instance=s,a.state.loading=5),At.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},At.set(e,n),s||Kx(l,e,n,a.state))),t&&i===null)throw Error(S(528,""));return a}if(t&&i!==null)throw Error(S(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zl(n),n=ll(l).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(S(444,e))}}function Sl(e){return'href="'+wt(e)+'"'}function la(e){return'link[rel="stylesheet"]['+e+"]"}function zy(e){return ge({},e,{"data-precedence":e.precedence,precedence:null})}function Kx(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Ge(t,"link",n),Ie(t),e.head.appendChild(t))}function zl(e){return'[src="'+wt(e)+'"]'}function sa(e){return"script[async]"+e}function hm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+wt(n.href)+'"]');if(i)return t.instance=i,Ie(i),i;var l=ge({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ie(i),Ge(i,"style",l),Qa(i,n.precedence,e),t.instance=i;case"stylesheet":l=Sl(n.href);var s=e.querySelector(la(l));if(s)return t.state.loading|=4,t.instance=s,Ie(s),s;i=zy(n),(l=At.get(l))&&Zf(i,l),s=(e.ownerDocument||e).createElement("link"),Ie(s);var a=s;return a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),Ge(s,"link",i),t.state.loading|=4,Qa(s,n.precedence,e),t.instance=s;case"script":return s=zl(n.src),(l=e.querySelector(sa(s)))?(t.instance=l,Ie(l),l):(i=n,(l=At.get(s))&&(i=ge({},n),$f(i,l)),e=e.ownerDocument||e,l=e.createElement("script"),Ie(l),Ge(l,"link",i),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(S(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Qa(i,n.precedence,e));return t.instance}function Qa(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,s=l,a=0;a<i.length;a++){var r=i[a];if(r.dataset.precedence===t)s=r;else if(s!==l)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Zf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $f(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ka=null;function mm(e,t,n){if(Ka===null){var i=new Map,l=Ka=new Map;l.set(n,i)}else l=Ka,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var s=n[l];if(!(s[Ws]||s[He]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var r=i.get(a);r?r.push(s):i.set(a,[s])}}return i}function pm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Xx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ly(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Px(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var l=Sl(i.href),s=t.querySelector(la(l));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Sr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Ie(s);return}s=t.ownerDocument||t,i=zy(i),(l=At.get(l))&&Zf(i,l),s=s.createElement("link"),Ie(s);var a=s;a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),Ge(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Sr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var pc=0;function Zx(e,t){return e.stylesheets&&e.count===0&&Xa(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Xa(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&pc===0&&(pc=62500*Rx());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xa(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>pc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(l)}}:null}function Sr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wr=null;function Xa(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wr=new Map,t.forEach($x,e),wr=null,Sr.call(e))}function $x(e,t){if(!(t.state.loading&4)){var n=wr.get(e);if(n)var i=n.get(null);else{n=new Map,wr.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var a=l[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}l=t.instance,a=l.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,l),n.set(a,l),this.count++,i=Sr.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),s?s.parentNode.insertBefore(l,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var ks={$$typeof:tn,Provider:null,Consumer:null,_currentValue:mi,_currentValue2:mi,_threadCount:0};function Wx(e,t,n,i,l,s,a,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.hiddenUpdates=Uo(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Iy(e,t,n,i,l,s,a,r,o,c,h,f){return e=new Wx(e,t,n,a,o,c,h,f,r),t=1,s===!0&&(t|=24),s=ut(3,null,null,t),e.current=s,s.stateNode=e,t=wf(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Cf(s),e}function Uy(e){return e?(e=Ji,e):Ji}function By(e,t,n,i,l,s){l=Uy(l),i.context===null?i.context=l:i.pendingContext=l,i=In(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Un(e,i,t),n!==null&&(tt(n,e,t),os(n,e,t))}function gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wf(e,t){gm(e,t),(e=e.alternate)&&gm(e,t)}function Hy(e){if(e.tag===13||e.tag===31){var t=ji(e,67108864);t!==null&&tt(t,e,67108864),Wf(e,67108864)}}function ym(e){if(e.tag===13||e.tag===31){var t=pt();t=cf(t);var n=ji(e,t);n!==null&&tt(n,e,t),Wf(e,t)}}var Er=!0;function Jx(e,t,n,i){var l=U.T;U.T=null;var s=$.p;try{$.p=2,Jf(e,t,n,i)}finally{$.p=s,U.T=l}}function eS(e,t,n,i){var l=U.T;U.T=null;var s=$.p;try{$.p=8,Jf(e,t,n,i)}finally{$.p=s,U.T=l}}function Jf(e,t,n,i){if(Er){var l=Ru(i);if(l===null)hc(e,t,i,Tr,n),_m(e,i);else if(nS(l,e,t,n,i))i.stopPropagation();else if(_m(e,i),t&4&&-1<tS.indexOf(e)){for(;l!==null;){var s=Rl(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=ai(s.pendingLanes);if(a!==0){var r=s;for(r.pendingLanes|=2,r.entangledLanes|=2;a;){var o=1<<31-mt(a);r.entanglements[1]|=o,a&=~o}Yt(s),!(Z&6)&&(mr=dt()+500,ia(0))}}break;case 31:case 13:r=ji(s,2),r!==null&&tt(r,s,2),ro(),Wf(s,2)}if(s=Ru(i),s===null&&hc(e,t,i,Tr,n),s===l)break;l=s}l!==null&&i.stopPropagation()}else hc(e,t,i,null,n)}}function Ru(e){return e=hf(e),ed(e)}var Tr=null;function ed(e){if(Tr=null,e=Ki(e),e!==null){var t=Xs(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ag(t),e!==null)return e;e=null}else if(n===31){if(e=rg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Tr=e,null}function qy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hb()){case fg:return 2;case dg:return 8;case er:case qb:return 32;case hg:return 268435456;default:return 32}default:return 32}}var Du=!1,qn=null,Vn=null,Gn=null,zs=new Map,Ls=new Map,Mn=[],tS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _m(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ls.delete(t.pointerId)}}function Ql(e,t,n,i,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Rl(t),t!==null&&Hy(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function nS(e,t,n,i,l){switch(t){case"focusin":return qn=Ql(qn,e,t,n,i,l),!0;case"dragenter":return Vn=Ql(Vn,e,t,n,i,l),!0;case"mouseover":return Gn=Ql(Gn,e,t,n,i,l),!0;case"pointerover":var s=l.pointerId;return zs.set(s,Ql(zs.get(s)||null,e,t,n,i,l)),!0;case"gotpointercapture":return s=l.pointerId,Ls.set(s,Ql(Ls.get(s)||null,e,t,n,i,l)),!0}return!1}function Vy(e){var t=Ki(e.target);if(t!==null){var n=Xs(t);if(n!==null){if(t=n.tag,t===13){if(t=ag(n),t!==null){e.blockedOn=t,nh(e.priority,function(){ym(n)});return}}else if(t===31){if(t=rg(n),t!==null){e.blockedOn=t,nh(e.priority,function(){ym(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ru(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Pc=i,n.target.dispatchEvent(i),Pc=null}else return t=Rl(n),t!==null&&Hy(t),e.blockedOn=n,!1;t.shift()}return!0}function vm(e,t,n){Pa(e)&&n.delete(t)}function iS(){Du=!1,qn!==null&&Pa(qn)&&(qn=null),Vn!==null&&Pa(Vn)&&(Vn=null),Gn!==null&&Pa(Gn)&&(Gn=null),zs.forEach(vm),Ls.forEach(vm)}function Na(e,t){e.blockedOn===t&&(e.blockedOn=null,Du||(Du=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,iS)))}var Aa=null;function bm(e){Aa!==e&&(Aa=e,je.unstable_scheduleCallback(je.unstable_NormalPriority,function(){Aa===e&&(Aa=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],l=e[t+2];if(typeof i!="function"){if(ed(i||n)===null)continue;break}var s=Rl(n);s!==null&&(e.splice(t,3),t-=3,fu(s,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function wl(e){function t(o){return Na(o,e)}qn!==null&&Na(qn,e),Vn!==null&&Na(Vn,e),Gn!==null&&Na(Gn,e),zs.forEach(t),Ls.forEach(t);for(var n=0;n<Mn.length;n++){var i=Mn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)Vy(n),n.blockedOn===null&&Mn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],s=n[i+1],a=l[lt]||null;if(typeof s=="function")a||bm(n);else if(a){var r=null;if(s&&s.hasAttribute("formAction")){if(l=s,a=s[lt]||null)r=a.formAction;else if(ed(l)!==null)continue}else r=a.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),bm(n)}}}function Gy(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return l=a})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function td(e){this._internalRoot=e}uo.prototype.render=td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));var n=t.current,i=pt();By(n,i,e,t,null,null)};uo.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;By(e.current,2,null,e,null,null),ro(),t[Ml]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=_g();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&Vy(e)}};var xm=lg.version;if(xm!=="19.2.0")throw Error(S(527,xm,"19.2.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=jb(t),e=e!==null?og(e):null,e=e===null?null:e.stateNode,e};var lS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{Ps=Ma.inject(lS),ht=Ma}catch{}}Kr.createRoot=function(e,t){if(!sg(e))throw Error(S(299));var n=!1,i="",l=k0,s=z0,a=L0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Iy(e,1,!1,null,null,n,i,null,l,s,a,Gy),e[Ml]=t.current,Pf(e),new td(t)};Kr.hydrateRoot=function(e,t,n){if(!sg(e))throw Error(S(299));var i=!1,l="",s=k0,a=z0,r=L0,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Iy(e,1,!0,t,n??null,i,l,o,s,a,r,Gy),t.context=Uy(null),n=t.current,i=pt(),i=cf(i),l=In(i),l.callback=null,Un(n,l,i),n=i,t.current.lanes=n,$s(t,n),Yt(t),e[Ml]=t.current,Pf(e),new uo(t)};Kr.version="19.2.0";function Yy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yy)}catch(e){console.error(e)}}Yy(),Wp.exports=Kr;var sS=Wp.exports;const aS=Vp(sS),rS="modulepreload",oS=function(e){return"/fenerbahce-fan-hub/"+e},Sm={},Ou=function(t,n,i){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));l=Promise.allSettled(n.map(o=>{if(o=oS(o),o in Sm)return;Sm[o]=!0;const c=o.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":rS,c||(f.as="script"),f.crossOrigin="",f.href=o,r&&f.setAttribute("nonce",r),document.head.appendChild(f),c)return new Promise((d,m)=>{f.addEventListener("load",d),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(a){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=a,window.dispatchEvent(r),!r.defaultPrevented)throw a}return l.then(a=>{for(const r of a||[])r.status==="rejected"&&s(r.reason);return t().catch(s)})};function cS(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:l,onRegisteredSW:s,onRegisterError:a}=e;let r,o;const c=async(f=!0)=>{await o};async function h(){if("serviceWorker"in navigator){if(r=await Ou(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/fenerbahce-fan-hub/sw.js",{scope:"/fenerbahce-fan-hub/",type:"classic"})).catch(f=>{a==null||a(f)}),!r)return;r.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),r.addEventListener("installed",f=>{f.isUpdate||i==null||i()}),r.register({immediate:t}).then(f=>{s?s("/fenerbahce-fan-hub/sw.js",f):l==null||l(f)}).catch(f=>{a==null||a(f)})}}return o=h(),c}function Fy(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=Fy(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function wm(){for(var e,t,n=0,i="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=Fy(e))&&(i&&(i+=" "),i+=t);return i}const bn="https://us-central1-fb-hub-ed9de.cloudfunctions.net/api",uS=(e={})=>{const t=`/player-image/${e.id??""}`,n=e.photo||t;if(n.startsWith("http://")&&!n.includes("localhost"))return n.replace(/^http:\/\//i,"https://");if(n.startsWith("http://")||n.startsWith("https://"))return n;const i=n.startsWith("/")?n:`/${n}`;return`${bn}${i}`},fS=async()=>{try{const e=await fetch(`${bn}/next-match`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next match from backend:",e),null}},dS=async()=>{try{const e=await fetch(`${bn}/squad`);if(!e.ok)throw new Error("Backend fetch failed");return(await e.json()).map(n=>({...n,photo:uS(n)}))}catch(e){return console.error("Error fetching squad from backend:",e),[]}},hS=async()=>{try{const e=await fetch(`${bn}/next-3-matches`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next 3 matches from backend:",e),[]}},Qy="436",mS="https://site.api.espn.com/apis/site/v2/sports/soccer",pS=[{slug:"tur.1",group:"superlig",label:"Sper Lig"},{slug:"uefa.europa",group:"europe",label:"Avrupa"}],gS=(e=new Date)=>{const t=e.getMonth(),n=e.getFullYear();return t>=6?n:n-1},Em=(e,t={})=>{const n=new URLSearchParams(t);return`${mS}/${e}/teams/${Qy}/schedule?${n.toString()}`},Tm=e=>{var t,n,i,l,s,a,r,o,c,h,f;return{id:((t=e==null?void 0:e.team)==null?void 0:t.id)??(e==null?void 0:e.id)??null,name:((n=e==null?void 0:e.team)==null?void 0:n.displayName)??((i=e==null?void 0:e.team)==null?void 0:i.name)??"Takm",shortName:((l=e==null?void 0:e.team)==null?void 0:l.shortDisplayName)??((s=e==null?void 0:e.team)==null?void 0:s.displayName)??((a=e==null?void 0:e.team)==null?void 0:a.name)??"Takm",abbreviation:((r=e==null?void 0:e.team)==null?void 0:r.abbreviation)??null,logo:((h=(c=(o=e==null?void 0:e.team)==null?void 0:o.logos)==null?void 0:c[0])==null?void 0:h.href)??null,score:((f=e==null?void 0:e.score)==null?void 0:f.displayValue)??null,winner:!!(e!=null&&e.winner)}},yS=(e,t=null)=>{var g,p,_,v,N,M,E,D,R,L;const n=(g=e==null?void 0:e.competitions)==null?void 0:g[0],i=(n==null?void 0:n.competitors)??[],l=i.find(W=>W.homeAway==="home"),s=i.find(W=>W.homeAway==="away");if(!n||!l||!s)return null;const a=Tm(l),r=Tm(s),o=a.id===Qy,c=o?a:r,h=o?r:a,f=((p=n==null?void 0:n.status)==null?void 0:p.type)??{},d=Number((_=l==null?void 0:l.score)==null?void 0:_.value),m=Number((v=s==null?void 0:s.score)==null?void 0:v.value),y=Number.isFinite(d)&&Number.isFinite(m);let x=null,w=null;if(f.completed&&y){const W=o?d:m,le=o?m:d;W>le?(x="G",w="Galibiyet"):W<le?(x="M",w="Malubiyet"):(x="B",w="Beraberlik")}return{id:String(e.id??n.id??`${e.date}-${a.id}-${r.id}`),date:e.date??n.date,competitionName:((N=e==null?void 0:e.season)==null?void 0:N.displayName)??((M=e==null?void 0:e.seasonType)==null?void 0:M.name)??"Sper Lig",competitionKey:(t==null?void 0:t.slug)??null,competitionGroup:(t==null?void 0:t.group)??null,competitionLabel:(t==null?void 0:t.label)??null,roundLabel:((E=n==null?void 0:n.type)==null?void 0:E.text)??null,venueName:((D=n==null?void 0:n.venue)==null?void 0:D.fullName)??null,venueCity:((L=(R=n==null?void 0:n.venue)==null?void 0:R.address)==null?void 0:L.city)??null,status:{state:f.state??"pre",completed:!!f.completed,description:f.description??null,detail:f.detail??null,shortDetail:f.shortDetail??null},homeTeam:a,awayTeam:r,isFbHome:o,fbTeam:c,opponentTeam:h,resultCode:x,resultLabel:w}},Cm=async(e=gS())=>{var t,n,i,l;try{const s=await Promise.all(pS.map(async h=>{const[f,d]=await Promise.all([fetch(Em(h.slug,{season:String(e)})),fetch(Em(h.slug,{season:String(e),fixture:"true"}))]);if(!f.ok&&!d.ok)return{competition:h,resultsJson:{},fixturesJson:{}};const[m,y]=await Promise.all([f.ok?f.json():Promise.resolve({}),d.ok?d.json():Promise.resolve({})]);return{competition:h,resultsJson:m,fixturesJson:y}})),a=s.flatMap(({competition:h,resultsJson:f,fixturesJson:d})=>{const m=Array.isArray(f==null?void 0:f.events)?f.events:[],y=Array.isArray(d==null?void 0:d.events)?d.events:[];return[...m,...y].map(x=>({event:x,sourceCompetition:h}))});if(a.length===0)throw new Error("ESPN fixture fetch failed");const o=Array.from(new Map(a.map(({event:h,sourceCompetition:f})=>[String((h==null?void 0:h.id)??`${f==null?void 0:f.slug}-${h==null?void 0:h.date}`),{event:h,sourceCompetition:f}])).values()).map(({event:h,sourceCompetition:f})=>yS(h,f)).filter(Boolean).sort((h,f)=>new Date(h.date)-new Date(f.date)),c=s.find(({resultsJson:h,fixturesJson:f})=>Array.isArray(h==null?void 0:h.events)&&h.events.length>0||Array.isArray(f==null?void 0:f.events)&&f.events.length>0);return{source:"ESPN",seasonStartYear:e,season:((t=c==null?void 0:c.fixturesJson)==null?void 0:t.season)??((n=c==null?void 0:c.resultsJson)==null?void 0:n.season)??null,team:((i=c==null?void 0:c.fixturesJson)==null?void 0:i.team)??((l=c==null?void 0:c.resultsJson)==null?void 0:l.team)??null,matches:o}}catch(s){return console.error("Error fetching ESPN Fenerbahce fixtures:",s),{source:"ESPN",seasonStartYear:e,season:null,team:null,matches:[],error:!0}}},gc=e=>`${bn}/team-image/${e}`,Ra=({teamId:e,name:t="Takm",wrapperClassName:n="",imageClassName:i=""})=>{const[l,s]=T.useState(()=>e?gc(e):null),[a,r]=T.useState(e?"loading":"idle"),[o,c]=T.useState(0);T.useEffect(()=>{if(!e){s(null),r("idle");return}s(gc(e)),c(0),r("loading")},[e]);const h=()=>{if(e)if(o<2){const d=`${Date.now()}-${o+1}`;c(m=>m+1),s(`${gc(e)}?retry=${d}`)}else r("error")},f=(t==null?void 0:t.split(" ").filter(Boolean).map(d=>d[0]).join("").slice(0,2).toUpperCase())||"??";return u.jsxs("div",{className:wm("relative overflow-hidden",n),children:[l&&a!=="error"?u.jsx("img",{src:l,alt:`${t} logosu`,crossOrigin:"anonymous",className:wm("w-full h-full object-contain transition-opacity duration-300",i),onLoad:()=>r("ready"),onError:h}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400 uppercase font-bold bg-white/5 rounded-full",children:f}),a==="loading"&&u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer rounded-full",style:{backgroundSize:"200% 100%"}})]})},_S=()=>{};var Nm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(e,t){if(!e)throw Ll(t)},Ll=function(e){return new Error("Firebase Database ("+Ky.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},vS=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const l=e[n++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const s=e[n++];t[i++]=String.fromCharCode((l&31)<<6|s&63)}else if(l>239&&l<365){const s=e[n++],a=e[n++],r=e[n++],o=((l&7)<<18|(s&63)<<12|(a&63)<<6|r&63)-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(o&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((l&15)<<12|(s&63)<<6|a&63)}}return t.join("")},nd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<e.length;l+=3){const s=e[l],a=l+1<e.length,r=a?e[l+1]:0,o=l+2<e.length,c=o?e[l+2]:0,h=s>>2,f=(s&3)<<4|r>>4;let d=(r&15)<<2|c>>6,m=c&63;o||(m=64,a||(d=64)),i.push(n[h],n[f],n[d],n[m])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):vS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<e.length;){const s=n[e.charAt(l++)],r=l<e.length?n[e.charAt(l)]:0;++l;const c=l<e.length?n[e.charAt(l)]:64;++l;const f=l<e.length?n[e.charAt(l)]:64;if(++l,s==null||r==null||c==null||f==null)throw new bS;const d=s<<2|r>>4;if(i.push(d),c!==64){const m=r<<4&240|c>>2;if(i.push(m),f!==64){const y=c<<6&192|f;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Py=function(e){const t=Xy(e);return nd.encodeByteArray(t,!0)},Cr=function(e){return Py(e).replace(/\./g,"")},ju=function(e){try{return nd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(e){return Zy(void 0,e)}function Zy(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!SS(n)||(e[n]=Zy(e[n],t[n]));return e}function SS(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=()=>wS().__FIREBASE_DEFAULTS__,TS=()=>{if(typeof process>"u"||typeof Nm>"u")return;const e=Nm.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},CS=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ju(e[1]);return t&&JSON.parse(t)},$y=()=>{try{return _S()||ES()||TS()||CS()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},NS=e=>{var t,n;return(n=(t=$y())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},AS=e=>{const t=NS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Wy=()=>{var e;return(e=$y())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MS(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",l=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Cr(JSON.stringify(n)),Cr(JSON.stringify(a)),""].join(".")}const ys={};function DS(){const e={prod:[],emulator:[]};for(const t of Object.keys(ys))ys[t]?e.emulator.push(t):e.prod.push(t);return e}function OS(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Am=!1;function jS(e,t){if(typeof window>"u"||typeof document>"u"||!id(window.location.host)||ys[e]===t||ys[e]||Am)return;ys[e]=t;function n(d){return`__firebase__banner__${d}`}const i="__firebase__banner",s=DS().prod.length>0;function a(){const d=document.getElementById(i);d&&d.remove()}function r(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function o(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{Am=!0,a()},d}function h(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=OS(i),m=n("text"),y=document.getElementById(m)||document.createElement("span"),x=n("learnmore"),w=document.getElementById(x)||document.createElement("a"),g=n("preprendIcon"),p=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const _=d.element;r(_),h(w,x);const v=c();o(p,g),_.append(p,y,w,v),document.body.appendChild(_)}s?(y.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kS())}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LS(){return Ky.NODE_ADMIN===!0}function e_(){try{return typeof indexedDB=="object"}catch{return!1}}function t_(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var s;t(((s=l.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}function IS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="FirebaseError";class Il extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=US,Object.setPrototypeOf(this,Il.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fo.prototype.create)}}class fo{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},l=`${this.service}/${t}`,s=this.errors[t],a=s?BS(s,i):"Error",r=`${this.serviceName}: ${a} (${l}).`;return new Il(l,r,i)}}function BS(e,t){return e.replace(HS,(n,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const HS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(e){return JSON.parse(e)}function De(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=function(e){let t={},n={},i={},l="";try{const s=e.split(".");t=Is(ju(s[0])||""),n=Is(ju(s[1])||""),l=s[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:l}},qS=function(e){const t=n_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},VS=function(e){const t=n_(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ei(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Mm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Nr(e,t,n){const i={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=t.call(n,e[l],l,e));return i}function Ar(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const l of n){if(!i.includes(l))return!1;const s=e[l],a=t[l];if(Rm(s)&&Rm(a)){if(!Ar(s,a))return!1}else if(s!==a)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function Rm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)i[f]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let f=16;f<80;f++){const d=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(d<<1|d>>>31)&4294967295}let l=this.chain_[0],s=this.chain_[1],a=this.chain_[2],r=this.chain_[3],o=this.chain_[4],c,h;for(let f=0;f<80;f++){f<40?f<20?(c=r^s&(a^r),h=1518500249):(c=s^a^r,h=1859775393):f<60?(c=s&a|r&(s|a),h=2400959708):(c=s^a^r,h=3395469782);const d=(l<<5|l>>>27)+c+o+h+i[f]&4294967295;o=r,r=a,a=(s<<30|s>>>2)&4294967295,s=l,l=d}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+r&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let l=0;const s=this.buf_;let a=this.inbuf_;for(;l<n;){if(a===0)for(;l<=i;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<n;)if(s[a]=t.charCodeAt(l),++a,++l,a===this.blockSize){this.compress_(s),a=0;break}}else for(;l<n;)if(s[a]=t[l],++a,++l,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let l=0;l<5;l++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[l]>>s&255,++i;return t}}function ld(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);if(l>=55296&&l<=56319){const s=l-55296;i++,A(i<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(i)-56320;l=65536+(s<<10)+a}l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):l<65536?(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},ho=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(e){return e&&e._delegate?e._delegate:e}class gn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new aa;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(XS(t))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:l});i.resolve(s)}catch{}}}}clearInstance(t=ci){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ci){return this.instances.has(t)}getOptions(t=ci){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(s);i===r&&a.resolve(l)}return l}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(t),this.onInitCallbacks.set(i,l);const s=this.instances.get(i);return s&&t(s,i),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:KS(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ci){return this.component?this.component.multipleInstances?t:ci:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KS(e){return e===ci?void 0:e}function XS(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new QS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ce||(ce={}));const ZS={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},$S=ce.INFO,WS={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},JS=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),l=WS[t];if(l)console[l](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class i_{constructor(t){this.name=t,this._logLevel=$S,this._logHandler=JS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ZS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...t),this._logHandler(this,ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...t),this._logHandler(this,ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...t),this._logHandler(this,ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...t),this._logHandler(this,ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...t),this._logHandler(this,ce.ERROR,...t)}}const ew=(e,t)=>t.some(n=>e instanceof n);let Dm,Om;function tw(){return Dm||(Dm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nw(){return Om||(Om=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l_=new WeakMap,ku=new WeakMap,s_=new WeakMap,yc=new WeakMap,sd=new WeakMap;function iw(e){const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(cn(e.result)),l()},a=()=>{i(e.error),l()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&l_.set(n,e)}).catch(()=>{}),sd.set(t,e),t}function lw(e){if(ku.has(e))return;const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),l()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});ku.set(e,t)}let zu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ku.get(e);if(t==="objectStoreNames")return e.objectStoreNames||s_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sw(e){zu=e(zu)}function aw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(_c(this),t,...n);return s_.set(i,t.sort?t.sort():[t]),cn(i)}:nw().includes(e)?function(...t){return e.apply(_c(this),t),cn(l_.get(this))}:function(...t){return cn(e.apply(_c(this),t))}}function rw(e){return typeof e=="function"?aw(e):(e instanceof IDBTransaction&&lw(e),ew(e,tw())?new Proxy(e,zu):e)}function cn(e){if(e instanceof IDBRequest)return iw(e);if(yc.has(e))return yc.get(e);const t=rw(e);return t!==e&&(yc.set(e,t),sd.set(t,e)),t}const _c=e=>sd.get(e);function mo(e,t,{blocked:n,upgrade:i,blocking:l,terminated:s}={}){const a=indexedDB.open(e,t),r=cn(a);return i&&a.addEventListener("upgradeneeded",o=>{i(cn(a.result),o.oldVersion,o.newVersion,cn(a.transaction),o)}),n&&a.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),r.then(o=>{s&&o.addEventListener("close",()=>s()),l&&o.addEventListener("versionchange",c=>l(c.oldVersion,c.newVersion,c))}).catch(()=>{}),r}function vc(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",i=>t(i.oldVersion,i)),cn(n).then(()=>{})}const ow=["get","getKey","getAll","getAllKeys","count"],cw=["put","add","delete","clear"],bc=new Map;function jm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(bc.get(t))return bc.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,l=cw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||ow.includes(n)))return;const s=async function(a,...r){const o=this.transaction(a,l?"readwrite":"readonly");let c=o.store;return i&&(c=c.index(r.shift())),(await Promise.all([c[n](...r),l&&o.done]))[0]};return bc.set(t,s),s}sw(e=>({...e,get:(t,n,i)=>jm(t,n)||e.get(t,n,i),has:(t,n)=>!!jm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fw(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function fw(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Lu="@firebase/app",km="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new i_("@firebase/app"),dw="@firebase/app-compat",hw="@firebase/analytics-compat",mw="@firebase/analytics",pw="@firebase/app-check-compat",gw="@firebase/app-check",yw="@firebase/auth",_w="@firebase/auth-compat",vw="@firebase/database",bw="@firebase/data-connect",xw="@firebase/database-compat",Sw="@firebase/functions",ww="@firebase/functions-compat",Ew="@firebase/installations",Tw="@firebase/installations-compat",Cw="@firebase/messaging",Nw="@firebase/messaging-compat",Aw="@firebase/performance",Mw="@firebase/performance-compat",Rw="@firebase/remote-config",Dw="@firebase/remote-config-compat",Ow="@firebase/storage",jw="@firebase/storage-compat",kw="@firebase/firestore",zw="@firebase/ai",Lw="@firebase/firestore-compat",Iw="firebase",Uw="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="[DEFAULT]",Bw={[Lu]:"fire-core",[dw]:"fire-core-compat",[mw]:"fire-analytics",[hw]:"fire-analytics-compat",[gw]:"fire-app-check",[pw]:"fire-app-check-compat",[yw]:"fire-auth",[_w]:"fire-auth-compat",[vw]:"fire-rtdb",[bw]:"fire-data-connect",[xw]:"fire-rtdb-compat",[Sw]:"fire-fn",[ww]:"fire-fn-compat",[Ew]:"fire-iid",[Tw]:"fire-iid-compat",[Cw]:"fire-fcm",[Nw]:"fire-fcm-compat",[Aw]:"fire-perf",[Mw]:"fire-perf-compat",[Rw]:"fire-rc",[Dw]:"fire-rc-compat",[Ow]:"fire-gcs",[jw]:"fire-gcs-compat",[kw]:"fire-fst",[Lw]:"fire-fst-compat",[zw]:"fire-vertex","fire-js":"fire-js",[Iw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Map,Hw=new Map,Uu=new Map;function zm(e,t){try{e.container.addComponent(t)}catch(n){yn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wn(e){const t=e.name;if(Uu.has(t))return yn.debug(`There were multiple attempts to register component ${t}.`),!1;Uu.set(t,e);for(const n of Mr.values())zm(n,e);for(const n of Hw.values())zm(n,e);return!0}function po(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qw(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new fo("app","Firebase",Vw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=Uw;function a_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Iu,automaticDataCollectionEnabled:!0,...t},l=i.name;if(typeof l!="string"||!l)throw Yn.create("bad-app-name",{appName:String(l)});if(n||(n=Wy()),!n)throw Yn.create("no-options");const s=Mr.get(l);if(s){if(Ar(n,s.options)&&Ar(i,s.config))return s;throw Yn.create("duplicate-app",{appName:l})}const a=new PS(l);for(const o of Uu.values())a.addComponent(o);const r=new Gw(n,i,a);return Mr.set(l,r),r}function r_(e=Iu){const t=Mr.get(e);if(!t&&e===Iu&&Wy())return a_();if(!t)throw Yn.create("no-app",{appName:e});return t}function Vt(e,t,n){let i=Bw[e]??e;n&&(i+=`-${n}`);const l=i.match(/\s|\//),s=t.match(/\s|\//);if(l||s){const a=[`Unable to register library "${i}" with version "${t}":`];l&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yn.warn(a.join(" "));return}Wn(new gn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="firebase-heartbeat-database",Qw=1,Us="firebase-heartbeat-store";let xc=null;function o_(){return xc||(xc=mo(Fw,Qw,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Us)}catch(n){console.warn(n)}}}}).catch(e=>{throw Yn.create("idb-open",{originalErrorMessage:e.message})})),xc}async function Kw(e){try{const n=(await o_()).transaction(Us),i=await n.objectStore(Us).get(c_(e));return await n.done,i}catch(t){if(t instanceof Il)yn.warn(t.message);else{const n=Yn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yn.warn(n.message)}}}async function Lm(e,t){try{const i=(await o_()).transaction(Us,"readwrite");await i.objectStore(Us).put(t,c_(e)),await i.done}catch(n){if(n instanceof Il)yn.warn(n.message);else{const i=Yn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yn.warn(i.message)}}}function c_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=1024,Pw=30;class Zw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ww(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Im();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:l}),this._heartbeatsCache.heartbeats.length>Pw){const a=Jw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){yn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Im(),{heartbeatsToSend:i,unsentEntries:l}=$w(this._heartbeatsCache.heartbeats),s=Cr(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return yn.warn(n),""}}}function Im(){return new Date().toISOString().substring(0,10)}function $w(e,t=Xw){const n=[];let i=e.slice();for(const l of e){const s=n.find(a=>a.agent===l.agent);if(s){if(s.dates.push(l.date),Um(n)>t){s.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Um(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Ww{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e_()?t_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Lm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Lm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Um(e){return Cr(JSON.stringify({version:2,heartbeats:e})).length}function Jw(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(e){Wn(new gn("platform-logger",t=>new uw(t),"PRIVATE")),Wn(new gn("heartbeat",t=>new Zw(t),"PRIVATE")),Vt(Lu,km,e),Vt(Lu,km,"esm2020"),Vt("fire-js","")}eE("");var tE="firebase",nE="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vt(tE,nE,"app");var Bm={};const Hm="@firebase/database",qm="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_="";function iE(e){u_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),De(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Is(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return It(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lE(t)}}catch{}return new sE},fi=f_("localStorage"),aE=f_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new i_("@firebase/database"),d_=function(){let e=1;return function(){return e++}}(),h_=function(e){const t=FS(e),n=new YS;n.update(t);const i=n.digest();return nd.encodeByteArray(i)},ra=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=ra.apply(null,i):typeof i=="object"?t+=De(i):t+=i,t+=" "}return t};let _s=null,Vm=!0;const rE=function(e,t){A(!0,"Can't turn on custom loggers persistently."),fl.logLevel=ce.VERBOSE,_s=fl.log.bind(fl)},Ye=function(...e){if(Vm===!0&&(Vm=!1,_s===null&&aE.get("logging_enabled")===!0&&rE()),_s){const t=ra.apply(null,e);_s(t)}},oa=function(e){return function(...t){Ye(e,...t)}},Bu=function(...e){const t="FIREBASE INTERNAL ERROR: "+ra(...e);fl.error(t)},_n=function(...e){const t=`FIREBASE FATAL ERROR: ${ra(...e)}`;throw fl.error(t),new Error(t)},nt=function(...e){const t="FIREBASE WARNING: "+ra(...e);fl.warn(t)},oE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ad=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},cE=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},El="[MIN_NAME]",Ti="[MAX_NAME]",Ul=function(e,t){if(e===t)return 0;if(e===El||t===Ti)return-1;if(t===El||e===Ti)return 1;{const n=Gm(e),i=Gm(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},uE=function(e,t){return e===t?0:e<t?-1:1},Kl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+De(t))},rd=function(e){if(typeof e!="object"||e===null)return De(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=De(t[i]),n+=":",n+=rd(e[t[i]]);return n+="}",n},m_=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let l=0;l<n;l+=t)l+t>n?i.push(e.substring(l,n)):i.push(e.substring(l,l+t));return i};function st(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const p_=function(e){A(!ad(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let l,s,a,r,o;e===0?(s=0,a=0,l=1/e===-1/0?1:0):(l=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=r+i,a=Math.round(e*Math.pow(2,n-r)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-i-n))));const c=[];for(o=n;o;o-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(o=t;o;o-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(l?1:0),c.reverse();const h=c.join("");let f="";for(o=0;o<64;o+=8){let d=parseInt(h.substr(o,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},fE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function hE(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const mE=new RegExp("^-?(0*)\\d{1,10}$"),pE=-2147483648,gE=2147483647,Gm=function(e){if(mE.test(e)){const t=Number(e);if(t>=pE&&t<=gE)return t}return null},Bl=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw nt("Exception was thrown by user callback.",n),t},Math.floor(0))}},yE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vs=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,qw(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ye("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(t)}}class Za{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Za.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="5",g_="v",y_="s",__="r",v_="f",b_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,x_="ls",S_="p",Hu="ac",w_="websocket",E_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t,n,i,l,s=!1,a="",r=!1,o=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=l,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=r,this.isUsingEmulator=o,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&fi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function bE(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function C_(e,t,n){A(typeof t=="string","typeof type must == string"),A(typeof n=="object","typeof params must == object");let i;if(t===w_)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===E_)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);bE(e)&&(n.ns=e.namespace);const l=[];return st(n,(s,a)=>{l.push(s+"="+a)}),i+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.counters_={}}incrementCounter(t,n=1){It(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return xS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc={},wc={};function cd(e){const t=e.toString();return Sc[t]||(Sc[t]=new xE),Sc[t]}function SE(e,t){const n=e.toString();return wc[n]||(wc[n]=t()),wc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<i.length;++l)i[l]&&Bl(()=>{this.onMessage_(i[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="start",EE="close",TE="pLPCommand",CE="pRTLPCB",N_="id",A_="pw",M_="ser",NE="cb",AE="seg",ME="ts",RE="d",DE="dframe",R_=1870,D_=30,OE=R_-D_,jE=25e3,kE=3e4;class il{constructor(t,n,i,l,s,a,r){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=l,this.authToken=s,this.transportSessionId=a,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oa(t),this.stats_=cd(n),this.urlFn=o=>(this.appCheckToken&&(o[Hu]=this.appCheckToken),C_(n,E_,o))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new wE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kE)),cE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ud((...s)=>{const[a,r,o,c,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Ym)this.id=r,this.password=o;else if(a===EE)r?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(r,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,r]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,r)},()=>{this.onClosed_()},this.urlFn);const i={};i[Ym]="t",i[M_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[NE]=this.scriptTagHolder.uniqueCallbackIdentifier),i[g_]=od,this.transportSessionId&&(i[y_]=this.transportSessionId),this.lastSessionId&&(i[x_]=this.lastSessionId),this.applicationId&&(i[S_]=this.applicationId),this.appCheckToken&&(i[Hu]=this.appCheckToken),typeof location<"u"&&location.hostname&&b_.test(location.hostname)&&(i[__]=v_);const l=this.urlFn(i);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){il.forceAllow_=!0}static forceDisallow(){il.forceDisallow_=!0}static isAvailable(){return il.forceAllow_?!0:!il.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fE()&&!dE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=De(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Py(n),l=m_(i,OE);for(let s=0;s<l.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[DE]="t",i[N_]=t,i[A_]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=De(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ud{constructor(t,n,i,l){this.onDisconnect=i,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=d_(),window[TE+this.uniqueCallbackIdentifier]=t,window[CE+this.uniqueCallbackIdentifier]=n,this.myIFrame=ud.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(r){Ye("frame writing exception"),r.stack&&Ye(r.stack),Ye(r)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ye("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[N_]=this.myID,t[A_]=this.myPW,t[M_]=this.currentSerial;let n=this.urlFn(t),i="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+D_+i.length<=R_;){const a=this.pendingSegs.shift();i=i+"&"+AE+l+"="+a.seg+"&"+ME+l+"="+a.ts+"&"+RE+l+"="+a.d,l++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(i,Math.floor(jE)),s=()=>{clearTimeout(l),i()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const l=i.readyState;(!l||l==="loaded"||l==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ye("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=16384,LE=45e3;let Rr=null;typeof MozWebSocket<"u"?Rr=MozWebSocket:typeof WebSocket<"u"&&(Rr=WebSocket);class Dt{constructor(t,n,i,l,s,a,r){this.connId=t,this.applicationId=i,this.appCheckToken=l,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oa(this.connId),this.stats_=cd(n),this.connURL=Dt.connectionURL_(n,a,r,l,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,l,s){const a={};return a[g_]=od,typeof location<"u"&&location.hostname&&b_.test(location.hostname)&&(a[__]=v_),n&&(a[y_]=n),i&&(a[x_]=i),l&&(a[Hu]=l),s&&(a[S_]=s),C_(t,w_,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fi.set("previous_websocket_failure",!0);try{let i;LS(),this.mySock=new Rr(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Dt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Rr!==null&&!Dt.forceDisallow_}static previouslyFailed(){return fi.isInMemoryStorage||fi.get("previous_websocket_failure")===!0}markConnectionHealthy(){fi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Is(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(A(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=De(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=m_(n,zE);i.length>1&&this.sendString_(String(i.length));for(let l=0;l<i.length;l++)this.sendString_(i[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(LE))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Dt.responsesRequiredToBeHealthy=2;Dt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{static get ALL_TRANSPORTS(){return[il,Dt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Dt&&Dt.isAvailable();let i=n&&!Dt.previouslyFailed();if(t.webSocketOnly&&(n||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Dt];else{const l=this.transports_=[];for(const s of Bs.ALL_TRANSPORTS)s&&s.isAvailable()&&l.push(s);Bs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=6e4,UE=5e3,BE=10*1024,HE=100*1024,Ec="t",Fm="d",qE="s",Qm="r",VE="e",Km="o",Xm="a",Pm="n",Zm="p",GE="h";class YE{constructor(t,n,i,l,s,a,r,o,c,h){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=l,this.authToken_=s,this.onMessage_=a,this.onReady_=r,this.onDisconnect_=o,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oa("c:"+this.id+":"),this.transportManager_=new Bs(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=vs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ec in t){const n=t[Ec];n===Xm?this.upgradeIfSecondaryHealthy_():n===Qm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Km&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Kl("t",t),i=Kl("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Pm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Kl("t",t),i=Kl("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Kl(Ec,t);if(Fm in t){const i=t[Fm];if(n===GE){const l={...i};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===Pm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qE?this.onConnectionShutdown_(i):n===Qm?this.onReset_(i):n===VE?Bu("Server Error: "+i):n===Km?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bu("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),od!==i&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),vs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(IE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(UE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zm,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{put(t,n,i,l){}merge(t,n,i,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(t){this.allowedEvents_=t,this.listeners_={},A(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let l=0;l<i.length;l++)i[l].callback.apply(i[l].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const l=this.getInitialEvent(t);l&&n.apply(i,l)}off(t,n,i){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let s=0;s<l.length;s++)if(l[s].callback===n&&(!i||i===l[s].context)){l.splice(s,1);return}}validateEventType_(t){A(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends j_{static getInstance(){return new Dr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Jy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return A(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=32,Wm=768;class re{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[i]=this.pieces_[l],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function P(){return new re("")}function V(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Jn(e){return e.pieces_.length-e.pieceNum_}function ue(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new re(e.pieces_,t)}function k_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function FE(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function z_(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function L_(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new re(t,0)}function Oe(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof re)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let l=0;l<i.length;l++)i[l].length>0&&n.push(i[l])}return new re(n,0)}function Q(e){return e.pieceNum_>=e.pieces_.length}function Ke(e,t){const n=V(e),i=V(t);if(n===null)return t;if(n===i)return Ke(ue(e),ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function fd(e,t){if(Jn(e)!==Jn(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Ot(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Jn(e)>Jn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class QE{constructor(t,n){this.errorPrefix_=n,this.parts_=z_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ho(this.parts_[i]);I_(this)}}function KE(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ho(t),I_(e)}function XE(e){const t=e.parts_.pop();e.byteLength_-=ho(t),e.parts_.length>0&&(e.byteLength_-=1)}function I_(e){if(e.byteLength_>Wm)throw new Error(e.errorPrefix_+"has a key path longer than "+Wm+" bytes ("+e.byteLength_+").");if(e.parts_.length>$m)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$m+") or object contains a cycle "+ui(e))}function ui(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends j_{static getInstance(){return new dd}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return A(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=1e3,PE=60*5*1e3,Jm=30*1e3,ZE=1.3,$E=3e4,WE="server_kill",ep=3;class un extends O_{constructor(t,n,i,l,s,a,r,o){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=l,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=r,this.authOverride_=o,this.id=un.nextPersistentConnectionId_++,this.log_=oa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xl,this.maxReconnectDelay_=PE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Dr.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const l=++this.requestNumber_,s={r:l,a:t,b:n};this.log_(De(s)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[l]=i)}get(t){this.initConnection_();const n=new aa,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const r=a.d;a.s==="ok"?n.resolve(r):n.reject(r)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,i,l){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const r={onComplete:l,hashFn:n,query:t,tag:i};this.listens.get(a).set(s,r),this.connected_&&this.sendListen_(r)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+i+" for "+l);const s={p:i},a="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,r=>{const o=r.d,c=r.s;un.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(l))===t&&(this.log_("listen response",r),c!=="ok"&&this.removeListen_(i,l),t.onComplete&&t.onComplete(c,o))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&It(t,"w")){const i=Ei(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||VS(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Jm)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=qS(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,l=>{const s=l.s,a=l.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+l),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,l)&&this.connected_&&this.sendUnlisten_(i,l,t._queryObject,n)}sendUnlisten_(t,n,i,l){this.log_("Unlisten on "+t+" for "+n);const s={p:t},a="n";l&&(s.q=i,s.t=l),this.sendRequest(a,s)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,l){const s={p:n,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{l&&setTimeout(()=>{l(a.s,a.d)},Math.floor(0))})}put(t,n,i,l){this.putInternal("p",t,n,i,l)}merge(t,n,i,l){this.putInternal("m",t,n,i,l)}putInternal(t,n,i,l,s){this.initConnection_();const a={p:n,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:l}),this.outstandingPutCount_++;const r=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(r):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+De(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Bu("Unrecognized action received from server: "+De(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Xl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>$E&&(this.reconnectDelay_=Xl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+un.nextConnectionId_++,s=this.lastSessionId;let a=!1,r=null;const o=function(){r?r.close():(a=!0,i())},c=function(f){A(r,"sendRequest call when we're not connected not allowed."),r.sendRequest(f)};this.realtime_={close:o,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?Ye("getToken() completed but was canceled"):(Ye("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,r=new YE(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,m=>{nt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(WE)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&nt(f),o())}}}interrupt(t){Ye("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ye("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Mm(this.interruptReasons_)&&(this.reconnectDelay_=Xl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(s=>rd(s)).join("$"):i="default";const l=this.removeListen_(t,i);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,n){const i=new re(t).toString();let l;if(this.listens.has(i)){const s=this.listens.get(i);l=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else l=void 0;return l}onAuthRevoked_(t,n){Ye("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ep&&(this.reconnectDelay_=Jm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ye("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ep&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+u_.replace(/\./g,"-")]=1,Jy()?t["framework.cordova"]=1:zS()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Dr.getInstance().currentlyOnline();return Mm(this.interruptReasons_)&&t}}un.nextPersistentConnectionId_=0;un.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new G(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new G(El,t),l=new G(El,n);return this.compare(i,l)!==0}minPost(){return G.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da;class U_ extends go{static get __EMPTY_NODE(){return Da}static set __EMPTY_NODE(t){Da=t}compare(t,n){return Ul(t.name,n.name)}isDefinedOn(t){throw Ll("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return G.MIN}maxPost(){return new G(Ti,Da)}makePost(t,n){return A(typeof t=="string","KeyIndex indexValue must always be a string."),new G(t,Da)}toString(){return".key"}}const dl=new U_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,n,i,l,s=null){this.isReverse_=l,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?i(t.key,n):1,l&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Le{constructor(t,n,i,l,s){this.key=t,this.value=n,this.color=i??Le.RED,this.left=l??et.EMPTY_NODE,this.right=s??et.EMPTY_NODE}copy(t,n,i,l,s){return new Le(t??this.key,n??this.value,i??this.color,l??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let l=this;const s=i(t,l.key);return s<0?l=l.copy(null,null,null,l.left.insert(t,n,i),null):s===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,n,i)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return et.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,l;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return et.EMPTY_NODE;l=i.right.min_(),i=i.copy(l.key,l.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Le.RED=!0;Le.BLACK=!1;class JE{copy(t,n,i,l,s){return this}insert(t,n,i){return new Le(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class et{constructor(t,n=et.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new et(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Le.BLACK,null,null))}remove(t){return new et(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Le.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,l=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return l?l.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(l=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Oa(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Oa(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Oa(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Oa(this.root_,null,this.comparator_,!0,t)}}et.EMPTY_NODE=new JE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e,t){return Ul(e.name,t.name)}function hd(e,t){return Ul(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu;function tT(e){qu=e}const B_=function(e){return typeof e=="number"?"number:"+p_(e):"string:"+e},H_=function(e){if(e.isLeafNode()){const t=e.val();A(typeof t=="string"||typeof t=="number"||typeof t=="object"&&It(t,".sv"),"Priority must be a string or number.")}else A(e===qu||e.isEmpty(),"priority of unexpected type.");A(e===qu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp;class ke{static set __childrenNodeConstructor(t){tp=t}static get __childrenNodeConstructor(){return tp}constructor(t,n=ke.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),H_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ke(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ke.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Q(t)?this:V(t)===".priority"?this.priorityNode_:ke.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:ke.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=V(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(A(i!==".priority"||Jn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,ke.__childrenNodeConstructor.EMPTY_NODE.updateChild(ue(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+B_(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=p_(this.value_):t+=this.value_,this.lazyHash_=h_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ke.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ke.__childrenNodeConstructor?-1:(A(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,l=ke.VALUE_TYPE_ORDER.indexOf(n),s=ke.VALUE_TYPE_ORDER.indexOf(i);return A(l>=0,"Unknown leaf type: "+n),A(s>=0,"Unknown leaf type: "+i),l===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ke.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q_,V_;function nT(e){q_=e}function iT(e){V_=e}class lT extends go{compare(t,n){const i=t.node.getPriority(),l=n.node.getPriority(),s=i.compareTo(l);return s===0?Ul(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return G.MIN}maxPost(){return new G(Ti,new ke("[PRIORITY-POST]",V_))}makePost(t,n){const i=q_(t);return new G(n,new ke("[PRIORITY-POST]",i))}toString(){return".priority"}}const ve=new lT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=Math.log(2);class aT{constructor(t){const n=s=>parseInt(Math.log(s)/sT,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const l=i(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Or=function(e,t,n,i){e.sort(t);const l=function(o,c){const h=c-o;let f,d;if(h===0)return null;if(h===1)return f=e[o],d=n?n(f):f,new Le(d,f.node,Le.BLACK,null,null);{const m=parseInt(h/2,10)+o,y=l(o,m),x=l(m+1,c);return f=e[m],d=n?n(f):f,new Le(d,f.node,Le.BLACK,y,x)}},s=function(o){let c=null,h=null,f=e.length;const d=function(y,x){const w=f-y,g=f;f-=y;const p=l(w+1,g),_=e[w],v=n?n(_):_;m(new Le(v,_.node,x,null,p))},m=function(y){c?(c.left=y,c=y):(h=y,c=y)};for(let y=0;y<o.count;++y){const x=o.nextBitIsOne(),w=Math.pow(2,o.count-(y+1));x?d(w,Le.BLACK):(d(w,Le.BLACK),d(w,Le.RED))}return h},a=new aT(e.length),r=s(a);return new et(i||t,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;const Bi={};class sn{static get Default(){return A(Bi&&ve,"ChildrenNode.ts has not been loaded"),Tc=Tc||new sn({".priority":Bi},{".priority":ve}),Tc}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Ei(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof et?n:null}hasIndex(t){return It(this.indexSet_,t.toString())}addIndex(t,n){A(t!==dl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let l=!1;const s=n.getIterator(G.Wrap);let a=s.getNext();for(;a;)l=l||t.isDefinedOn(a.node),i.push(a),a=s.getNext();let r;l?r=Or(i,t.getCompare()):r=Bi;const o=t.toString(),c={...this.indexSet_};c[o]=t;const h={...this.indexes_};return h[o]=r,new sn(h,c)}addToIndexes(t,n){const i=Nr(this.indexes_,(l,s)=>{const a=Ei(this.indexSet_,s);if(A(a,"Missing index implementation for "+s),l===Bi)if(a.isDefinedOn(t.node)){const r=[],o=n.getIterator(G.Wrap);let c=o.getNext();for(;c;)c.name!==t.name&&r.push(c),c=o.getNext();return r.push(t),Or(r,a.getCompare())}else return Bi;else{const r=n.get(t.name);let o=l;return r&&(o=o.remove(new G(t.name,r))),o.insert(t,t.node)}});return new sn(i,this.indexSet_)}removeFromIndexes(t,n){const i=Nr(this.indexes_,l=>{if(l===Bi)return l;{const s=n.get(t.name);return s?l.remove(new G(t.name,s)):l}});return new sn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl;class I{static get EMPTY_NODE(){return Pl||(Pl=new I(new et(hd),null,sn.Default))}constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&H_(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pl}updatePriority(t){return this.children_.isEmpty()?this:new I(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Pl:n}}getChild(t){const n=V(t);return n===null?this:this.getImmediateChild(n).getChild(ue(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(A(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new G(t,n);let l,s;n.isEmpty()?(l=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(l=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_));const a=l.isEmpty()?Pl:this.priorityNode_;return new I(l,a,s)}}updateChild(t,n){const i=V(t);if(i===null)return n;{A(V(t)!==".priority"||Jn(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(i).updateChild(ue(t),n);return this.updateImmediateChild(i,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,l=0,s=!0;if(this.forEachChild(ve,(a,r)=>{n[a]=r.val(t),i++,s&&I.INTEGER_REGEXP_.test(a)?l=Math.max(l,Number(a)):s=!1}),!t&&s&&l<2*i){const a=[];for(const r in n)a[r]=n[r];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+B_(this.getPriority().val())+":"),this.forEachChild(ve,(n,i)=>{const l=i.hash();l!==""&&(t+=":"+n+":"+l)}),this.lazyHash_=t===""?"":h_(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const l=this.resolveIndex_(i);if(l){const s=l.getPredecessorKey(new G(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new G(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new G(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,G.Wrap);let s=l.peek();for(;s!=null&&n.compare(s,t)<0;)l.getNext(),s=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,G.Wrap);let s=l.peek();for(;s!=null&&n.compare(s,t)>0;)l.getNext(),s=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ca?-1:0}withIndex(t){if(t===dl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new I(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===dl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ve),l=n.getIterator(ve);let s=i.getNext(),a=l.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=l.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===dl?null:this.indexMap_.get(t.toString())}}I.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class rT extends I{constructor(){super(new et(hd),I.EMPTY_NODE,sn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return I.EMPTY_NODE}isEmpty(){return!1}}const ca=new rT;Object.defineProperties(G,{MIN:{value:new G(El,I.EMPTY_NODE)},MAX:{value:new G(Ti,ca)}});U_.__EMPTY_NODE=I.EMPTY_NODE;ke.__childrenNodeConstructor=I;tT(ca);iT(ca);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=!0;function Me(e,t=null){if(e===null)return I.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),A(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new ke(n,Me(t))}if(!(e instanceof Array)&&oT){const n=[];let i=!1;if(st(e,(a,r)=>{if(a.substring(0,1)!=="."){const o=Me(r);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new G(a,o)))}}),n.length===0)return I.EMPTY_NODE;const s=Or(n,eT,a=>a.name,hd);if(i){const a=Or(n,ve.getCompare());return new I(s,Me(t),new sn({".priority":a},{".priority":ve}))}else return new I(s,Me(t),sn.Default)}else{let n=I.EMPTY_NODE;return st(e,(i,l)=>{if(It(e,i)&&i.substring(0,1)!=="."){const s=Me(l);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Me(t))}}nT(Me);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends go{constructor(t){super(),this.indexPath_=t,A(!Q(t)&&V(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),l=this.extractChild(n.node),s=i.compareTo(l);return s===0?Ul(t.name,n.name):s}makePost(t,n){const i=Me(t),l=I.EMPTY_NODE.updateChild(this.indexPath_,i);return new G(n,l)}maxPost(){const t=I.EMPTY_NODE.updateChild(this.indexPath_,ca);return new G(Ti,t)}toString(){return z_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends go{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Ul(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return G.MIN}maxPost(){return G.MAX}makePost(t,n){const i=Me(t);return new G(n,i)}toString(){return".value"}}const fT=new uT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(e){return{type:"value",snapshotNode:e}}function Tl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Hs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function qs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function dT(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t){this.index_=t}updateChild(t,n,i,l,s,a){A(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const r=t.getImmediateChild(n);return r.getChild(l).equals(i.getChild(l))&&r.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?t.hasChild(n)?a.trackChildChange(Hs(n,r)):A(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):r.isEmpty()?a.trackChildChange(Tl(n,i)):a.trackChildChange(qs(n,i,r))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(ve,(l,s)=>{n.hasChild(l)||i.trackChildChange(Hs(l,s))}),n.isLeafNode()||n.forEachChild(ve,(l,s)=>{if(t.hasChild(l)){const a=t.getImmediateChild(l);a.equals(s)||i.trackChildChange(qs(l,s,a))}else i.trackChildChange(Tl(l,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?I.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this.indexedFilter_=new md(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Vs.getStartPost_(t),this.endPost_=Vs.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,l,s,a){return this.matches(new G(n,i))||(i=I.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,l,s,a)}updateFullNode(t,n,i){n.isLeafNode()&&(n=I.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(I.EMPTY_NODE);const s=this;return n.forEachChild(ve,(a,r)=>{s.matches(new G(a,r))||(l=l.updateImmediateChild(a,I.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Vs(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,l,s,a){return this.rangedFilter_.matches(new G(n,i))||(i=I.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,l,s,a):this.fullLimitUpdateChild_(t,n,i,s,a)}updateFullNode(t,n,i){let l;if(n.isLeafNode()||n.isEmpty())l=I.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=I.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const r=s.getNext();if(this.withinDirectionalStart(r))if(this.withinDirectionalEnd(r))l=l.updateImmediateChild(r.name,r.node),a++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(I.EMPTY_NODE);let s;this.reverse_?s=l.getReverseIterator(this.index_):s=l.getIterator(this.index_);let a=0;for(;s.hasNext();){const r=s.getNext();a<this.limit_&&this.withinDirectionalStart(r)&&this.withinDirectionalEnd(r)?a++:l=l.updateImmediateChild(r.name,I.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,l,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(d,m)=>f(m,d)}else a=this.index_.getCompare();const r=t;A(r.numChildren()===this.limit_,"");const o=new G(n,i),c=this.reverse_?r.getFirstChild(this.index_):r.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(r.hasChild(n)){const f=r.getImmediateChild(n);let d=l.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||r.hasChild(d.name));)d=l.getChildAfterChild(this.index_,d,this.reverse_);const m=d==null?1:a(d,o);if(h&&!i.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(qs(n,i,f)),r.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(Hs(n,f));const x=r.updateImmediateChild(n,I.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(Tl(d.name,d.node)),x.updateImmediateChild(d.name,d.node)):x}}else return i.isEmpty()?t:h&&a(c,o)>=0?(s!=null&&(s.trackChildChange(Hs(c.name,c.node)),s.trackChildChange(Tl(n,i))),r.updateImmediateChild(n,i).updateImmediateChild(c.name,I.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:El}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ti}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){const t=new pd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function mT(e){return e.loadsAllData()?new md(e.getIndex()):e.hasLimit()?new hT(e):new Vs(e)}function np(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ve?n="$priority":e.index_===fT?n="$value":e.index_===dl?n="$key":(A(e.index_ instanceof cT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=De(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=De(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+De(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=De(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+De(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ip(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ve&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends O_{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(A(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,l){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=l,this.log_=oa("p:rest:"),this.listens_={}}listen(t,n,i,l){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=jr.getListenId_(t,i),r={};this.listens_[a]=r;const o=np(t._queryParams);this.restRequest_(s+".json",o,(c,h)=>{let f=h;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,i),Ei(this.listens_,a)===r){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",l(d,null)}})}unlisten(t,n){const i=jr.getListenId_(t,n);delete this.listens_[i]}get(t){const n=np(t._queryParams),i=t._path.toString(),l=new aa;return this.restRequest_(i+".json",n,(s,a)=>{let r=a;s===404&&(r=null,s=null),s===null?(this.onDataUpdate_(i,r,!1,null),l.resolve(r)):l.reject(new Error(r))}),l.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,s])=>{l&&l.accessToken&&(n.auth=l.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+GS(n);this.log_("Sending REST request for "+a);const r=new XMLHttpRequest;r.onreadystatechange=()=>{if(i&&r.readyState===4){this.log_("REST Response for "+a+" received. status:",r.status,"response:",r.responseText);let o=null;if(r.status>=200&&r.status<300){try{o=Is(r.responseText)}catch{nt("Failed to parse JSON response for "+a+": "+r.responseText)}i(null,o)}else r.status!==401&&r.status!==404&&nt("Got unsuccessful REST response for "+a+" Status: "+r.status),i(r.status);i=null}},r.open("GET",a,!0),r.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.rootNode_=I.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return{value:null,children:new Map}}function Y_(e,t,n){if(Q(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=V(t);e.children.has(i)||e.children.set(i,kr());const l=e.children.get(i);t=ue(t),Y_(l,t,n)}}function Vu(e,t,n){e.value!==null?n(t,e.value):gT(e,(i,l)=>{const s=new re(t.toString()+"/"+i);Vu(l,s,n)})}function gT(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&st(this.last_,(i,l)=>{n[i]=n[i]-l}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=10*1e3,_T=30*1e3,vT=5*60*1e3;class bT{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new yT(t);const i=lp+(_T-lp)*Math.random();vs(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;st(t,(l,s)=>{s>0&&It(this.statsToReport_,l)&&(n[l]=s,i=!0)}),i&&this.server_.reportStats(n),vs(this.reportStats_.bind(this),Math.floor(Math.random()*2*vT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(jt||(jt={}));function F_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function yd(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=jt.ACK_USER_WRITE,this.source=F_()}operationForChild(t){if(Q(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new re(t));return new zr(P(),n,this.revert)}}else return A(V(this.path)===t,"operationForChild called for unrelated child."),new zr(ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n){this.source=t,this.path=n,this.type=jt.LISTEN_COMPLETE}operationForChild(t){return Q(this.path)?new Gs(this.source,P()):new Gs(this.source,ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=jt.OVERWRITE}operationForChild(t){return Q(this.path)?new Ci(this.source,P(),this.snap.getImmediateChild(t)):new Ci(this.source,ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=jt.MERGE}operationForChild(t){if(Q(this.path)){const n=this.children.subtree(new re(t));return n.isEmpty()?null:n.value?new Ci(this.source,P(),n.value):new Ys(this.source,P(),n)}else return A(V(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ys(this.source,ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Q(t))return this.isFullyInitialized()&&!this.filtered_;const n=V(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ST(e,t,n,i){const l=[],s=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(dT(a.childName,a.snapshotNode))}),Zl(e,l,"child_removed",t,i,n),Zl(e,l,"child_added",t,i,n),Zl(e,l,"child_moved",s,i,n),Zl(e,l,"child_changed",t,i,n),Zl(e,l,"value",t,i,n),l}function Zl(e,t,n,i,l,s){const a=i.filter(r=>r.type===n);a.sort((r,o)=>ET(e,r,o)),a.forEach(r=>{const o=wT(e,r,s);l.forEach(c=>{c.respondsTo(r.type)&&t.push(c.createEvent(o,e.query_))})})}function wT(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function ET(e,t,n){if(t.childName==null||n.childName==null)throw Ll("Should only compare child_ events.");const i=new G(t.childName,t.snapshotNode),l=new G(n.childName,n.snapshotNode);return e.index_.compare(i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(e,t){return{eventCache:e,serverCache:t}}function bs(e,t,n,i){return yo(new ei(t,n,i),e.serverCache)}function Q_(e,t,n,i){return yo(e.eventCache,new ei(t,n,i))}function Lr(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ni(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc;const TT=()=>(Cc||(Cc=new et(uE)),Cc);class he{static fromObject(t){let n=new he(null);return st(t,(i,l)=>{n=n.set(new re(i),l)}),n}constructor(t,n=TT()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:P(),value:this.value};if(Q(t))return null;{const i=V(t),l=this.children.get(i);if(l!==null){const s=l.findRootMostMatchingPathAndValue(ue(t),n);return s!=null?{path:Oe(new re(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Q(t))return this;{const n=V(t),i=this.children.get(n);return i!==null?i.subtree(ue(t)):new he(null)}}set(t,n){if(Q(t))return new he(n,this.children);{const i=V(t),s=(this.children.get(i)||new he(null)).set(ue(t),n),a=this.children.insert(i,s);return new he(this.value,a)}}remove(t){if(Q(t))return this.children.isEmpty()?new he(null):new he(null,this.children);{const n=V(t),i=this.children.get(n);if(i){const l=i.remove(ue(t));let s;return l.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,l),this.value===null&&s.isEmpty()?new he(null):new he(this.value,s)}else return this}}get(t){if(Q(t))return this.value;{const n=V(t),i=this.children.get(n);return i?i.get(ue(t)):null}}setTree(t,n){if(Q(t))return n;{const i=V(t),s=(this.children.get(i)||new he(null)).setTree(ue(t),n);let a;return s.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,s),new he(this.value,a)}}fold(t){return this.fold_(P(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((l,s)=>{i[l]=s.fold_(Oe(t,l),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,P(),n)}findOnPath_(t,n,i){const l=this.value?i(n,this.value):!1;if(l)return l;if(Q(t))return null;{const s=V(t),a=this.children.get(s);return a?a.findOnPath_(ue(t),Oe(n,s),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,P(),n)}foreachOnPath_(t,n,i){if(Q(t))return this;{this.value&&i(n,this.value);const l=V(t),s=this.children.get(l);return s?s.foreachOnPath_(ue(t),Oe(n,l),i):new he(null)}}foreach(t){this.foreach_(P(),t)}foreach_(t,n){this.children.inorderTraversal((i,l)=>{l.foreach_(Oe(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t){this.writeTree_=t}static empty(){return new kt(new he(null))}}function xs(e,t,n){if(Q(t))return new kt(new he(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const l=i.path;let s=i.value;const a=Ke(l,t);return s=s.updateChild(a,n),new kt(e.writeTree_.set(l,s))}else{const l=new he(n),s=e.writeTree_.setTree(t,l);return new kt(s)}}}function sp(e,t,n){let i=e;return st(n,(l,s)=>{i=xs(i,Oe(t,l),s)}),i}function ap(e,t){if(Q(t))return kt.empty();{const n=e.writeTree_.setTree(t,new he(null));return new kt(n)}}function Gu(e,t){return zi(e,t)!=null}function zi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ke(n.path,t)):null}function rp(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ve,(i,l)=>{t.push(new G(i,l))}):e.writeTree_.children.inorderTraversal((i,l)=>{l.value!=null&&t.push(new G(i,l.value))}),t}function Fn(e,t){if(Q(t))return e;{const n=zi(e,t);return n!=null?new kt(new he(n)):new kt(e.writeTree_.subtree(t))}}function Yu(e){return e.writeTree_.isEmpty()}function Cl(e,t){return K_(P(),e.writeTree_,t)}function K_(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((l,s)=>{l===".priority"?(A(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=K_(Oe(e,l),s,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(Oe(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(e,t){return $_(t,e)}function CT(e,t,n,i,l){A(i>e.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:l}),l&&(e.visibleWrites=xs(e.visibleWrites,t,n)),e.lastWriteId=i}function NT(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function AT(e,t){const n=e.allWrites.findIndex(r=>r.writeId===t);A(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let l=i.visible,s=!1,a=e.allWrites.length-1;for(;l&&a>=0;){const r=e.allWrites[a];r.visible&&(a>=n&&MT(r,i.path)?l=!1:Ot(i.path,r.path)&&(s=!0)),a--}if(l){if(s)return RT(e),!0;if(i.snap)e.visibleWrites=ap(e.visibleWrites,i.path);else{const r=i.children;st(r,o=>{e.visibleWrites=ap(e.visibleWrites,Oe(i.path,o))})}return!0}else return!1}function MT(e,t){if(e.snap)return Ot(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ot(Oe(e.path,n),t))return!0;return!1}function RT(e){e.visibleWrites=X_(e.allWrites,DT,P()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function DT(e){return e.visible}function X_(e,t,n){let i=kt.empty();for(let l=0;l<e.length;++l){const s=e[l];if(t(s)){const a=s.path;let r;if(s.snap)Ot(n,a)?(r=Ke(n,a),i=xs(i,r,s.snap)):Ot(a,n)&&(r=Ke(a,n),i=xs(i,P(),s.snap.getChild(r)));else if(s.children){if(Ot(n,a))r=Ke(n,a),i=sp(i,r,s.children);else if(Ot(a,n))if(r=Ke(a,n),Q(r))i=sp(i,P(),s.children);else{const o=Ei(s.children,V(r));if(o){const c=o.getChild(ue(r));i=xs(i,P(),c)}}}else throw Ll("WriteRecord should have .snap or .children")}}return i}function P_(e,t,n,i,l){if(!i&&!l){const s=zi(e.visibleWrites,t);if(s!=null)return s;{const a=Fn(e.visibleWrites,t);if(Yu(a))return n;if(n==null&&!Gu(a,P()))return null;{const r=n||I.EMPTY_NODE;return Cl(a,r)}}}else{const s=Fn(e.visibleWrites,t);if(!l&&Yu(s))return n;if(!l&&n==null&&!Gu(s,P()))return null;{const a=function(c){return(c.visible||l)&&(!i||!~i.indexOf(c.writeId))&&(Ot(c.path,t)||Ot(t,c.path))},r=X_(e.allWrites,a,t),o=n||I.EMPTY_NODE;return Cl(r,o)}}}function OT(e,t,n){let i=I.EMPTY_NODE;const l=zi(e.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(ve,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(n){const s=Fn(e.visibleWrites,t);return n.forEachChild(ve,(a,r)=>{const o=Cl(Fn(s,new re(a)),r);i=i.updateImmediateChild(a,o)}),rp(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const s=Fn(e.visibleWrites,t);return rp(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function jT(e,t,n,i,l){A(i||l,"Either existingEventSnap or existingServerSnap must exist");const s=Oe(t,n);if(Gu(e.visibleWrites,s))return null;{const a=Fn(e.visibleWrites,s);return Yu(a)?l.getChild(n):Cl(a,l.getChild(n))}}function kT(e,t,n,i){const l=Oe(t,n),s=zi(e.visibleWrites,l);if(s!=null)return s;if(i.isCompleteForChild(n)){const a=Fn(e.visibleWrites,l);return Cl(a,i.getNode().getImmediateChild(n))}else return null}function zT(e,t){return zi(e.visibleWrites,t)}function LT(e,t,n,i,l,s,a){let r;const o=Fn(e.visibleWrites,t),c=zi(o,P());if(c!=null)r=c;else if(n!=null)r=Cl(o,n);else return[];if(r=r.withIndex(a),!r.isEmpty()&&!r.isLeafNode()){const h=[],f=a.getCompare(),d=s?r.getReverseIteratorFrom(i,a):r.getIteratorFrom(i,a);let m=d.getNext();for(;m&&h.length<l;)f(m,i)!==0&&h.push(m),m=d.getNext();return h}else return[]}function IT(){return{visibleWrites:kt.empty(),allWrites:[],lastWriteId:-1}}function Ir(e,t,n,i){return P_(e.writeTree,e.treePath,t,n,i)}function _d(e,t){return OT(e.writeTree,e.treePath,t)}function op(e,t,n,i){return jT(e.writeTree,e.treePath,t,n,i)}function Ur(e,t){return zT(e.writeTree,Oe(e.treePath,t))}function UT(e,t,n,i,l,s){return LT(e.writeTree,e.treePath,t,n,i,l,s)}function vd(e,t,n){return kT(e.writeTree,e.treePath,t,n)}function Z_(e,t){return $_(Oe(e.treePath,t),e.writeTree)}function $_(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;A(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),A(i!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(i);if(l){const s=l.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,qs(i,t.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Hs(i,l.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,Tl(i,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,qs(i,t.snapshotNode,l.oldSnap));else throw Ll("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const W_=new HT;class bd{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new ei(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vd(this.writes_,t,i)}}getChildAfterChild(t,n,i){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ni(this.viewCache_),s=UT(this.writes_,l,n,1,i,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(e){return{filter:e}}function VT(e,t){A(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),A(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function GT(e,t,n,i,l){const s=new BT;let a,r;if(n.type===jt.OVERWRITE){const c=n;c.source.fromUser?a=Fu(e,t,c.path,c.snap,i,l,s):(A(c.source.fromServer,"Unknown source."),r=c.source.tagged||t.serverCache.isFiltered()&&!Q(c.path),a=Br(e,t,c.path,c.snap,i,l,r,s))}else if(n.type===jt.MERGE){const c=n;c.source.fromUser?a=FT(e,t,c.path,c.children,i,l,s):(A(c.source.fromServer,"Unknown source."),r=c.source.tagged||t.serverCache.isFiltered(),a=Qu(e,t,c.path,c.children,i,l,r,s))}else if(n.type===jt.ACK_USER_WRITE){const c=n;c.revert?a=XT(e,t,c.path,i,l,s):a=QT(e,t,c.path,c.affectedTree,i,l,s)}else if(n.type===jt.LISTEN_COMPLETE)a=KT(e,t,n.path,i,s);else throw Ll("Unknown operation type: "+n.type);const o=s.getChanges();return YT(t,a,o),{viewCache:a,changes:o}}function YT(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const l=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Lr(e);(n.length>0||!e.eventCache.isFullyInitialized()||l&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(G_(Lr(t)))}}function J_(e,t,n,i,l,s){const a=t.eventCache;if(Ur(i,n)!=null)return t;{let r,o;if(Q(n))if(A(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Ni(t),h=c instanceof I?c:I.EMPTY_NODE,f=_d(i,h);r=e.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const c=Ir(i,Ni(t));r=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const c=V(n);if(c===".priority"){A(Jn(n)===1,"Can't have a priority with additional path components");const h=a.getNode();o=t.serverCache.getNode();const f=op(i,n,h,o);f!=null?r=e.filter.updatePriority(h,f):r=a.getNode()}else{const h=ue(n);let f;if(a.isCompleteForChild(c)){o=t.serverCache.getNode();const d=op(i,n,a.getNode(),o);d!=null?f=a.getNode().getImmediateChild(c).updateChild(h,d):f=a.getNode().getImmediateChild(c)}else f=vd(i,c,t.serverCache);f!=null?r=e.filter.updateChild(a.getNode(),c,f,h,l,s):r=a.getNode()}}return bs(t,r,a.isFullyInitialized()||Q(n),e.filter.filtersNodes())}}function Br(e,t,n,i,l,s,a,r){const o=t.serverCache;let c;const h=a?e.filter:e.filter.getIndexedFilter();if(Q(n))c=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const m=o.getNode().updateChild(n,i);c=h.updateFullNode(o.getNode(),m,null)}else{const m=V(n);if(!o.isCompleteForPath(n)&&Jn(n)>1)return t;const y=ue(n),w=o.getNode().getImmediateChild(m).updateChild(y,i);m===".priority"?c=h.updatePriority(o.getNode(),w):c=h.updateChild(o.getNode(),m,w,y,W_,null)}const f=Q_(t,c,o.isFullyInitialized()||Q(n),h.filtersNodes()),d=new bd(l,f,s);return J_(e,f,n,l,d,r)}function Fu(e,t,n,i,l,s,a){const r=t.eventCache;let o,c;const h=new bd(l,t,s);if(Q(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,a),o=bs(t,c,!0,e.filter.filtersNodes());else{const f=V(n);if(f===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),o=bs(t,c,r.isFullyInitialized(),r.isFiltered());else{const d=ue(n),m=r.getNode().getImmediateChild(f);let y;if(Q(d))y=i;else{const x=h.getCompleteChild(f);x!=null?k_(d)===".priority"&&x.getChild(L_(d)).isEmpty()?y=x:y=x.updateChild(d,i):y=I.EMPTY_NODE}if(m.equals(y))o=t;else{const x=e.filter.updateChild(r.getNode(),f,y,d,h,a);o=bs(t,x,r.isFullyInitialized(),e.filter.filtersNodes())}}}return o}function cp(e,t){return e.eventCache.isCompleteForChild(t)}function FT(e,t,n,i,l,s,a){let r=t;return i.foreach((o,c)=>{const h=Oe(n,o);cp(t,V(h))&&(r=Fu(e,r,h,c,l,s,a))}),i.foreach((o,c)=>{const h=Oe(n,o);cp(t,V(h))||(r=Fu(e,r,h,c,l,s,a))}),r}function up(e,t,n){return n.foreach((i,l)=>{t=t.updateChild(i,l)}),t}function Qu(e,t,n,i,l,s,a,r){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let o=t,c;Q(n)?c=i:c=new he(null).setTree(n,i);const h=t.serverCache.getNode();return c.children.inorderTraversal((f,d)=>{if(h.hasChild(f)){const m=t.serverCache.getNode().getImmediateChild(f),y=up(e,m,d);o=Br(e,o,new re(f),y,l,s,a,r)}}),c.children.inorderTraversal((f,d)=>{const m=!t.serverCache.isCompleteForChild(f)&&d.value===null;if(!h.hasChild(f)&&!m){const y=t.serverCache.getNode().getImmediateChild(f),x=up(e,y,d);o=Br(e,o,new re(f),x,l,s,a,r)}}),o}function QT(e,t,n,i,l,s,a){if(Ur(l,n)!=null)return t;const r=t.serverCache.isFiltered(),o=t.serverCache;if(i.value!=null){if(Q(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return Br(e,t,n,o.getNode().getChild(n),l,s,r,a);if(Q(n)){let c=new he(null);return o.getNode().forEachChild(dl,(h,f)=>{c=c.set(new re(h),f)}),Qu(e,t,n,c,l,s,r,a)}else return t}else{let c=new he(null);return i.foreach((h,f)=>{const d=Oe(n,h);o.isCompleteForPath(d)&&(c=c.set(h,o.getNode().getChild(d)))}),Qu(e,t,n,c,l,s,r,a)}}function KT(e,t,n,i,l){const s=t.serverCache,a=Q_(t,s.getNode(),s.isFullyInitialized()||Q(n),s.isFiltered());return J_(e,a,n,i,W_,l)}function XT(e,t,n,i,l,s){let a;if(Ur(i,n)!=null)return t;{const r=new bd(i,t,l),o=t.eventCache.getNode();let c;if(Q(n)||V(n)===".priority"){let h;if(t.serverCache.isFullyInitialized())h=Ir(i,Ni(t));else{const f=t.serverCache.getNode();A(f instanceof I,"serverChildren would be complete if leaf node"),h=_d(i,f)}h=h,c=e.filter.updateFullNode(o,h,s)}else{const h=V(n);let f=vd(i,h,t.serverCache);f==null&&t.serverCache.isCompleteForChild(h)&&(f=o.getImmediateChild(h)),f!=null?c=e.filter.updateChild(o,h,f,ue(n),r,s):t.eventCache.getNode().hasChild(h)?c=e.filter.updateChild(o,h,I.EMPTY_NODE,ue(n),r,s):c=o,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Ir(i,Ni(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,s)))}return a=t.serverCache.isFullyInitialized()||Ur(i,P())!=null,bs(t,c,a,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,l=new md(i.getIndex()),s=mT(i);this.processor_=qT(s);const a=n.serverCache,r=n.eventCache,o=l.updateFullNode(I.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(I.EMPTY_NODE,r.getNode(),null),h=new ei(o,a.isFullyInitialized(),l.filtersNodes()),f=new ei(c,r.isFullyInitialized(),s.filtersNodes());this.viewCache_=yo(f,h),this.eventGenerator_=new xT(this.query_)}get query(){return this.query_}}function ZT(e){return e.viewCache_.serverCache.getNode()}function $T(e){return Lr(e.viewCache_)}function WT(e,t){const n=Ni(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Q(t)&&!n.getImmediateChild(V(t)).isEmpty())?n.getChild(t):null}function fp(e){return e.eventRegistrations_.length===0}function JT(e,t){e.eventRegistrations_.push(t)}function dp(e,t,n){const i=[];if(n){A(t==null,"A cancel should cancel all event registrations.");const l=e.query._path;e.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,l);a&&i.push(a)})}if(t){let l=[];for(let s=0;s<e.eventRegistrations_.length;++s){const a=e.eventRegistrations_[s];if(!a.matches(t))l.push(a);else if(t.hasAnyCallback()){l=l.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=l}else e.eventRegistrations_=[];return i}function hp(e,t,n,i){t.type===jt.MERGE&&t.source.queryId!==null&&(A(Ni(e.viewCache_),"We should always have a full cache before handling merges"),A(Lr(e.viewCache_),"Missing event cache, even though we have a server cache"));const l=e.viewCache_,s=GT(e.processor_,l,t,n,i);return VT(e.processor_,s.viewCache),A(s.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,ev(e,s.changes,s.viewCache.eventCache.getNode(),null)}function e2(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ve,(s,a)=>{i.push(Tl(s,a))}),n.isFullyInitialized()&&i.push(G_(n.getNode())),ev(e,i,n.getNode(),t)}function ev(e,t,n,i){const l=i?[i]:e.eventRegistrations_;return ST(e.eventGenerator_,t,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr;class tv{constructor(){this.views=new Map}}function t2(e){A(!Hr,"__referenceConstructor has already been defined"),Hr=e}function n2(){return A(Hr,"Reference.ts has not been loaded"),Hr}function i2(e){return e.views.size===0}function xd(e,t,n,i){const l=t.source.queryId;if(l!==null){const s=e.views.get(l);return A(s!=null,"SyncTree gave us an op for an invalid query."),hp(s,t,n,i)}else{let s=[];for(const a of e.views.values())s=s.concat(hp(a,t,n,i));return s}}function nv(e,t,n,i,l){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let r=Ir(n,l?i:null),o=!1;r?o=!0:i instanceof I?(r=_d(n,i),o=!1):(r=I.EMPTY_NODE,o=!1);const c=yo(new ei(r,o,!1),new ei(i,l,!1));return new PT(t,c)}return a}function l2(e,t,n,i,l,s){const a=nv(e,t,i,l,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),JT(a,n),e2(a,n)}function s2(e,t,n,i){const l=t._queryIdentifier,s=[];let a=[];const r=ti(e);if(l==="default")for(const[o,c]of e.views.entries())a=a.concat(dp(c,n,i)),fp(c)&&(e.views.delete(o),c.query._queryParams.loadsAllData()||s.push(c.query));else{const o=e.views.get(l);o&&(a=a.concat(dp(o,n,i)),fp(o)&&(e.views.delete(l),o.query._queryParams.loadsAllData()||s.push(o.query)))}return r&&!ti(e)&&s.push(new(n2())(t._repo,t._path)),{removed:s,events:a}}function iv(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Qn(e,t){let n=null;for(const i of e.views.values())n=n||WT(i,t);return n}function lv(e,t){if(t._queryParams.loadsAllData())return vo(e);{const i=t._queryIdentifier;return e.views.get(i)}}function sv(e,t){return lv(e,t)!=null}function ti(e){return vo(e)!=null}function vo(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qr;function a2(e){A(!qr,"__referenceConstructor has already been defined"),qr=e}function r2(){return A(qr,"Reference.ts has not been loaded"),qr}let o2=1;class mp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new he(null),this.pendingWriteTree_=IT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Sd(e,t,n,i,l){return CT(e.pendingWriteTree_,t,n,i,l),l?fa(e,new Ci(F_(),t,n)):[]}function di(e,t,n=!1){const i=NT(e.pendingWriteTree_,t);if(AT(e.pendingWriteTree_,t)){let s=new he(null);return i.snap!=null?s=s.set(P(),!0):st(i.children,a=>{s=s.set(new re(a),!0)}),fa(e,new zr(i.path,s,n))}else return[]}function ua(e,t,n){return fa(e,new Ci(gd(),t,n))}function c2(e,t,n){const i=he.fromObject(n);return fa(e,new Ys(gd(),t,i))}function u2(e,t){return fa(e,new Gs(gd(),t))}function f2(e,t,n){const i=wd(e,n);if(i){const l=Ed(i),s=l.path,a=l.queryId,r=Ke(s,t),o=new Gs(yd(a),r);return Td(e,s,o)}else return[]}function Vr(e,t,n,i,l=!1){const s=t._path,a=e.syncPointTree_.get(s);let r=[];if(a&&(t._queryIdentifier==="default"||sv(a,t))){const o=s2(a,t,n,i);i2(a)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=o.removed;if(r=o.events,!l){const h=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=e.syncPointTree_.findOnPath(s,(d,m)=>ti(m));if(h&&!f){const d=e.syncPointTree_.subtree(s);if(!d.isEmpty()){const m=m2(d);for(let y=0;y<m.length;++y){const x=m[y],w=x.query,g=cv(e,x);e.listenProvider_.startListening(Ss(w),Fs(e,w),g.hashFn,g.onComplete)}}}!f&&c.length>0&&!i&&(h?e.listenProvider_.stopListening(Ss(t),null):c.forEach(d=>{const m=e.queryToTagMap.get(xo(d));e.listenProvider_.stopListening(Ss(d),m)}))}p2(e,c)}return r}function av(e,t,n,i){const l=wd(e,i);if(l!=null){const s=Ed(l),a=s.path,r=s.queryId,o=Ke(a,t),c=new Ci(yd(r),o,n);return Td(e,a,c)}else return[]}function d2(e,t,n,i){const l=wd(e,i);if(l){const s=Ed(l),a=s.path,r=s.queryId,o=Ke(a,t),c=he.fromObject(n),h=new Ys(yd(r),o,c);return Td(e,a,h)}else return[]}function Ku(e,t,n,i=!1){const l=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(l,(d,m)=>{const y=Ke(d,l);s=s||Qn(m,y),a=a||ti(m)});let r=e.syncPointTree_.get(l);r?(a=a||ti(r),s=s||Qn(r,P())):(r=new tv,e.syncPointTree_=e.syncPointTree_.set(l,r));let o;s!=null?o=!0:(o=!1,s=I.EMPTY_NODE,e.syncPointTree_.subtree(l).foreachChild((m,y)=>{const x=Qn(y,P());x&&(s=s.updateImmediateChild(m,x))}));const c=sv(r,t);if(!c&&!t._queryParams.loadsAllData()){const d=xo(t);A(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");const m=g2();e.queryToTagMap.set(d,m),e.tagToQueryMap.set(m,d)}const h=_o(e.pendingWriteTree_,l);let f=l2(r,t,n,h,s,o);if(!c&&!a&&!i){const d=lv(r,t);f=f.concat(y2(e,t,d))}return f}function bo(e,t,n){const l=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(a,r)=>{const o=Ke(a,t),c=Qn(r,o);if(c)return c});return P_(l,t,s,n,!0)}function h2(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(c,h)=>{const f=Ke(c,n);i=i||Qn(h,f)});let l=e.syncPointTree_.get(n);l?i=i||Qn(l,P()):(l=new tv,e.syncPointTree_=e.syncPointTree_.set(n,l));const s=i!=null,a=s?new ei(i,!0,!1):null,r=_o(e.pendingWriteTree_,t._path),o=nv(l,t,r,s?a.getNode():I.EMPTY_NODE,s);return $T(o)}function fa(e,t){return rv(t,e.syncPointTree_,null,_o(e.pendingWriteTree_,P()))}function rv(e,t,n,i){if(Q(e.path))return ov(e,t,n,i);{const l=t.get(P());n==null&&l!=null&&(n=Qn(l,P()));let s=[];const a=V(e.path),r=e.operationForChild(a),o=t.children.get(a);if(o&&r){const c=n?n.getImmediateChild(a):null,h=Z_(i,a);s=s.concat(rv(r,o,c,h))}return l&&(s=s.concat(xd(l,e,i,n))),s}}function ov(e,t,n,i){const l=t.get(P());n==null&&l!=null&&(n=Qn(l,P()));let s=[];return t.children.inorderTraversal((a,r)=>{const o=n?n.getImmediateChild(a):null,c=Z_(i,a),h=e.operationForChild(a);h&&(s=s.concat(ov(h,r,o,c)))}),l&&(s=s.concat(xd(l,e,i,n))),s}function cv(e,t){const n=t.query,i=Fs(e,n);return{hashFn:()=>(ZT(t)||I.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return i?f2(e,n._path,i):u2(e,n._path);{const s=hE(l,n);return Vr(e,n,null,s)}}}}function Fs(e,t){const n=xo(t);return e.queryToTagMap.get(n)}function xo(e){return e._path.toString()+"$"+e._queryIdentifier}function wd(e,t){return e.tagToQueryMap.get(t)}function Ed(e){const t=e.indexOf("$");return A(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new re(e.substr(0,t))}}function Td(e,t,n){const i=e.syncPointTree_.get(t);A(i,"Missing sync point for query tag that we're tracking");const l=_o(e.pendingWriteTree_,t);return xd(i,n,l,null)}function m2(e){return e.fold((t,n,i)=>{if(n&&ti(n))return[vo(n)];{let l=[];return n&&(l=iv(n)),st(i,(s,a)=>{l=l.concat(a)}),l}})}function Ss(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(r2())(e._repo,e._path):e}function p2(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const l=xo(i),s=e.queryToTagMap.get(l);e.queryToTagMap.delete(l),e.tagToQueryMap.delete(s)}}}function g2(){return o2++}function y2(e,t,n){const i=t._path,l=Fs(e,t),s=cv(e,n),a=e.listenProvider_.startListening(Ss(t),l,s.hashFn,s.onComplete),r=e.syncPointTree_.subtree(i);if(l)A(!ti(r.value),"If we're adding a query, it shouldn't be shadowed");else{const o=r.fold((c,h,f)=>{if(!Q(c)&&h&&ti(h))return[vo(h).query];{let d=[];return h&&(d=d.concat(iv(h).map(m=>m.query))),st(f,(m,y)=>{d=d.concat(y)}),d}});for(let c=0;c<o.length;++c){const h=o[c];e.listenProvider_.stopListening(Ss(h),Fs(e,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Cd(n)}node(){return this.node_}}class Nd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Oe(this.path_,t);return new Nd(this.syncTree_,n)}node(){return bo(this.syncTree_,this.path_)}}const _2=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},pp=function(e,t,n){if(!e||typeof e!="object")return e;if(A(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return v2(e[".sv"],t,n);if(typeof e[".sv"]=="object")return b2(e[".sv"],t);A(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},v2=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:A(!1,"Unexpected server value: "+e)}},b2=function(e,t,n){e.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&A(!1,"Unexpected increment value: "+i);const l=t.node();if(A(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return i;const a=l.getValue();return typeof a!="number"?i:a+i},x2=function(e,t,n,i){return Md(t,new Nd(n,e),i)},Ad=function(e,t,n){return Md(e,new Cd(t),n)};function Md(e,t,n){const i=e.getPriority().val(),l=pp(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const a=e,r=pp(a.getValue(),t,n);return r!==a.getValue()||l!==a.getPriority().val()?new ke(r,Me(l)):e}else{const a=e;return s=a,l!==a.getPriority().val()&&(s=s.updatePriority(new ke(l))),a.forEachChild(ve,(r,o)=>{const c=Md(o,t.getImmediateChild(r),n);c!==o&&(s=s.updateImmediateChild(r,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function So(e,t){let n=t instanceof re?t:new re(t),i=e,l=V(n);for(;l!==null;){const s=Ei(i.node.children,l)||{children:{},childCount:0};i=new Rd(l,i,s),n=ue(n),l=V(n)}return i}function Li(e){return e.node.value}function Dd(e,t){e.node.value=t,Xu(e)}function uv(e){return e.node.childCount>0}function S2(e){return Li(e)===void 0&&!uv(e)}function wo(e,t){st(e.node.children,(n,i)=>{t(new Rd(n,e,i))})}function fv(e,t,n,i){n&&t(e),wo(e,l=>{fv(l,t,!0)})}function w2(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function da(e){return new re(e.parent===null?e.name:da(e.parent)+"/"+e.name)}function Xu(e){e.parent!==null&&E2(e.parent,e.name,e)}function E2(e,t,n){const i=S2(n),l=It(e.node.children,t);i&&l?(delete e.node.children[t],e.node.childCount--,Xu(e)):!i&&!l&&(e.node.children[t]=n.node,e.node.childCount++,Xu(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=/[\[\].#$\/\u0000-\u001F\u007F]/,C2=/[\[\].#$\u0000-\u001F\u007F]/,Nc=10*1024*1024,dv=function(e){return typeof e=="string"&&e.length!==0&&!T2.test(e)},hv=function(e){return typeof e=="string"&&e.length!==0&&!C2.test(e)},N2=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),hv(e)},A2=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!ad(e)||e&&typeof e=="object"&&It(e,".sv")},M2=function(e,t,n,i){Eo(ld(e,"value"),t,n)},Eo=function(e,t,n){const i=n instanceof re?new QE(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ui(i));if(typeof t=="function")throw new Error(e+"contains a function "+ui(i)+" with contents = "+t.toString());if(ad(t))throw new Error(e+"contains "+t.toString()+" "+ui(i));if(typeof t=="string"&&t.length>Nc/3&&ho(t)>Nc)throw new Error(e+"contains a string greater than "+Nc+" utf8 bytes "+ui(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,s=!1;if(st(t,(a,r)=>{if(a===".value")l=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!dv(a)))throw new Error(e+" contains an invalid key ("+a+") "+ui(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);KE(i,a),Eo(e,r,i),XE(i)}),l&&s)throw new Error(e+' contains ".value" child '+ui(i)+" in addition to actual children.")}},mv=function(e,t,n,i){if(!hv(n))throw new Error(ld(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},R2=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),mv(e,t,n)},pv=function(e,t){if(V(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},D2=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!dv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!N2(n))throw new Error(ld(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Od(e,t){let n=null;for(let i=0;i<t.length;i++){const l=t[i],s=l.getPath();n!==null&&!fd(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(l)}n&&e.eventLists_.push(n)}function gv(e,t,n){Od(e,n),yv(e,i=>fd(i,t))}function zt(e,t,n){Od(e,n),yv(e,i=>Ot(i,t)||Ot(t,i))}function yv(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const l=e.eventLists_[i];if(l){const s=l.path;t(s)?(j2(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function j2(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();_s&&Ye("event: "+n.toString()),Bl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="repo_interrupt",z2=25;class L2{constructor(t,n,i,l){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new O2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kr(),this.transactionQueueTree_=new Rd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function I2(e,t,n){if(e.stats_=cd(e.repoInfo_),e.forceRestClient_||yE())e.server_=new jr(e.repoInfo_,(i,l,s,a)=>{gp(e,i,l,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>yp(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{De(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new un(e.repoInfo_,t,(i,l,s,a)=>{gp(e,i,l,s,a)},i=>{yp(e,i)},i=>{B2(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=SE(e.repoInfo_,()=>new bT(e.stats_,e.server_)),e.infoData_=new pT,e.infoSyncTree_=new mp({startListening:(i,l,s,a)=>{let r=[];const o=e.infoData_.getNode(i._path);return o.isEmpty()||(r=ua(e.infoSyncTree_,i._path,o),setTimeout(()=>{a("ok")},0)),r},stopListening:()=>{}}),jd(e,"connected",!1),e.serverSyncTree_=new mp({startListening:(i,l,s,a)=>(e.server_.listen(i,s,l,(r,o)=>{const c=a(r,o);zt(e.eventQueue_,i._path,c)}),[]),stopListening:(i,l)=>{e.server_.unlisten(i,l)}})}function U2(e){const n=e.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function To(e){return _2({timestamp:U2(e)})}function gp(e,t,n,i,l){e.dataUpdateCount++;const s=new re(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(l)if(i){const o=Nr(n,c=>Me(c));a=d2(e.serverSyncTree_,s,o,l)}else{const o=Me(n);a=av(e.serverSyncTree_,s,o,l)}else if(i){const o=Nr(n,c=>Me(c));a=c2(e.serverSyncTree_,s,o)}else{const o=Me(n);a=ua(e.serverSyncTree_,s,o)}let r=s;a.length>0&&(r=No(e,s)),zt(e.eventQueue_,r,a)}function yp(e,t){jd(e,"connected",t),t===!1&&V2(e)}function B2(e,t){st(t,(n,i)=>{jd(e,n,i)})}function jd(e,t,n){const i=new re("/.info/"+t),l=Me(n);e.infoData_.updateSnapshot(i,l);const s=ua(e.infoSyncTree_,i,l);zt(e.eventQueue_,i,s)}function kd(e){return e.nextWriteId_++}function H2(e,t,n){const i=h2(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(l=>{const s=Me(l).withIndex(t._queryParams.getIndex());Ku(e.serverSyncTree_,t,n,!0);let a;if(t._queryParams.loadsAllData())a=ua(e.serverSyncTree_,t._path,s);else{const r=Fs(e.serverSyncTree_,t);a=av(e.serverSyncTree_,t._path,s,r)}return zt(e.eventQueue_,t._path,a),Vr(e.serverSyncTree_,t,n,null,!0),s},l=>(ha(e,"get for query "+De(t)+" failed: "+l),Promise.reject(new Error(l))))}function q2(e,t,n,i,l){ha(e,"set",{path:t.toString(),value:n,priority:i});const s=To(e),a=Me(n,i),r=bo(e.serverSyncTree_,t),o=Ad(a,r,s),c=kd(e),h=Sd(e.serverSyncTree_,t,o,c,!0);Od(e.eventQueue_,h),e.server_.put(t.toString(),a.val(!0),(d,m)=>{const y=d==="ok";y||nt("set at "+t+" failed: "+d);const x=di(e.serverSyncTree_,c,!y);zt(e.eventQueue_,t,x),F2(e,l,d,m)});const f=xv(e,t);No(e,f),zt(e.eventQueue_,f,[])}function V2(e){ha(e,"onDisconnectEvents");const t=To(e),n=kr();Vu(e.onDisconnect_,P(),(l,s)=>{const a=x2(l,s,e.serverSyncTree_,t);Y_(n,l,a)});let i=[];Vu(n,P(),(l,s)=>{i=i.concat(ua(e.serverSyncTree_,l,s));const a=xv(e,l);No(e,a)}),e.onDisconnect_=kr(),zt(e.eventQueue_,P(),i)}function G2(e,t,n){let i;V(t._path)===".info"?i=Ku(e.infoSyncTree_,t,n):i=Ku(e.serverSyncTree_,t,n),gv(e.eventQueue_,t._path,i)}function _p(e,t,n){let i;V(t._path)===".info"?i=Vr(e.infoSyncTree_,t,n):i=Vr(e.serverSyncTree_,t,n),gv(e.eventQueue_,t._path,i)}function Y2(e){e.persistentConnection_&&e.persistentConnection_.interrupt(k2)}function ha(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ye(n,...t)}function F2(e,t,n,i){t&&Bl(()=>{if(n==="ok")t(null);else{const l=(n||"error").toUpperCase();let s=l;i&&(s+=": "+i);const a=new Error(s);a.code=l,t(a)}})}function Q2(e,t,n,i,l,s){ha(e,"transaction on "+t);const a={path:t,update:n,onComplete:i,status:null,order:d_(),applyLocally:s,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},r=zd(e,t,void 0);a.currentInputSnapshot=r;const o=a.update(r.val());if(o===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Eo("transaction failed: Data returned ",o,a.path),a.status=0;const c=So(e.transactionQueueTree_,t),h=Li(c)||[];h.push(a),Dd(c,h);let f;typeof o=="object"&&o!==null&&It(o,".priority")?(f=Ei(o,".priority"),A(A2(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(bo(e.serverSyncTree_,t)||I.EMPTY_NODE).getPriority().val();const d=To(e),m=Me(o,f),y=Ad(m,r,d);a.currentOutputSnapshotRaw=m,a.currentOutputSnapshotResolved=y,a.currentWriteId=kd(e);const x=Sd(e.serverSyncTree_,t,y,a.currentWriteId,a.applyLocally);zt(e.eventQueue_,t,x),Co(e,e.transactionQueueTree_)}}function zd(e,t,n){return bo(e.serverSyncTree_,t,n)||I.EMPTY_NODE}function Co(e,t=e.transactionQueueTree_){if(t||Ao(e,t),Li(t)){const n=vv(e,t);A(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&K2(e,da(t),n)}else uv(t)&&wo(t,n=>{Co(e,n)})}function K2(e,t,n){const i=n.map(c=>c.currentWriteId),l=zd(e,t,i);let s=l;const a=l.hash();for(let c=0;c<n.length;c++){const h=n[c];A(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Ke(t,h.path);s=s.updateChild(f,h.currentOutputSnapshotRaw)}const r=s.val(!0),o=t;e.server_.put(o.toString(),r,c=>{ha(e,"transaction put response",{path:o.toString(),status:c});let h=[];if(c==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(di(e.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Ao(e,So(e.transactionQueueTree_,t)),Co(e,e.transactionQueueTree_),zt(e.eventQueue_,t,h);for(let d=0;d<f.length;d++)Bl(f[d])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{nt("transaction at "+o.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}No(e,t)}},a)}function No(e,t){const n=_v(e,t),i=da(n),l=vv(e,n);return X2(e,l,i),i}function X2(e,t,n){if(t.length===0)return;const i=[];let l=[];const a=t.filter(r=>r.status===0).map(r=>r.currentWriteId);for(let r=0;r<t.length;r++){const o=t[r],c=Ke(n,o.path);let h=!1,f;if(A(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,f=o.abortReason,l=l.concat(di(e.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=z2)h=!0,f="maxretry",l=l.concat(di(e.serverSyncTree_,o.currentWriteId,!0));else{const d=zd(e,o.path,a);o.currentInputSnapshot=d;const m=t[r].update(d.val());if(m!==void 0){Eo("transaction failed: Data returned ",m,o.path);let y=Me(m);typeof m=="object"&&m!=null&&It(m,".priority")||(y=y.updatePriority(d.getPriority()));const w=o.currentWriteId,g=To(e),p=Ad(y,d,g);o.currentOutputSnapshotRaw=y,o.currentOutputSnapshotResolved=p,o.currentWriteId=kd(e),a.splice(a.indexOf(w),1),l=l.concat(Sd(e.serverSyncTree_,o.path,p,o.currentWriteId,o.applyLocally)),l=l.concat(di(e.serverSyncTree_,w,!0))}else h=!0,f="nodata",l=l.concat(di(e.serverSyncTree_,o.currentWriteId,!0))}zt(e.eventQueue_,n,l),l=[],h&&(t[r].status=2,function(d){setTimeout(d,Math.floor(0))}(t[r].unwatcher),t[r].onComplete&&(f==="nodata"?i.push(()=>t[r].onComplete(null,!1,t[r].currentInputSnapshot)):i.push(()=>t[r].onComplete(new Error(f),!1,null))))}Ao(e,e.transactionQueueTree_);for(let r=0;r<i.length;r++)Bl(i[r]);Co(e,e.transactionQueueTree_)}function _v(e,t){let n,i=e.transactionQueueTree_;for(n=V(t);n!==null&&Li(i)===void 0;)i=So(i,n),t=ue(t),n=V(t);return i}function vv(e,t){const n=[];return bv(e,t,n),n.sort((i,l)=>i.order-l.order),n}function bv(e,t,n){const i=Li(t);if(i)for(let l=0;l<i.length;l++)n.push(i[l]);wo(t,l=>{bv(e,l,n)})}function Ao(e,t){const n=Li(t);if(n){let i=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[i]=n[l],i++);n.length=i,Dd(t,n.length>0?n:void 0)}wo(t,i=>{Ao(e,i)})}function xv(e,t){const n=da(_v(e,t)),i=So(e.transactionQueueTree_,t);return w2(i,l=>{Ac(e,l)}),Ac(e,i),fv(i,l=>{Ac(e,l)}),n}function Ac(e,t){const n=Li(t);if(n){const i=[];let l=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(A(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(A(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),l=l.concat(di(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Dd(t,void 0):n.length=s+1,zt(e.eventQueue_,da(t),l);for(let a=0;a<i.length;a++)Bl(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let l=n[i];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function Z2(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):nt(`Invalid query segment '${n}' in query '${e}'`)}return t}const vp=function(e,t){const n=$2(e),i=n.namespace;n.domain==="firebase.com"&&_n(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&_n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||oE();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new T_(n.host,n.secure,i,l,t,"",i!==n.subdomain),path:new re(n.pathString)}},$2=function(e){let t="",n="",i="",l="",s="",a=!0,r="https",o=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(r=e.substring(0,c-1),e=e.substring(c+2));let h=e.indexOf("/");h===-1&&(h=e.length);let f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(l=P2(e.substring(h,f)));const d=Z2(e.substring(Math.min(e.length,f)));c=t.indexOf(":"),c>=0?(a=r==="https"||r==="wss",o=parseInt(t.substring(c+1),10)):c=t.length;const m=t.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const y=t.indexOf(".");i=t.substring(0,y).toLowerCase(),n=t.substring(y+1),s=i}"ns"in d&&(s=d.ns)}return{host:t,port:o,domain:n,subdomain:i,secure:a,scheme:r,pathString:l,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t,n,i,l){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+De(this.snapshot.exportVal())}}class J2{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t,n,i,l){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=l}get key(){return Q(this._path)?null:k_(this._path)}get ref(){return new Ft(this._repo,this._path)}get _queryIdentifier(){const t=ip(this._queryParams),n=rd(t);return n==="{}"?"default":n}get _queryObject(){return ip(this._queryParams)}isEqual(t){if(t=xn(t),!(t instanceof Ld))return!1;const n=this._repo===t._repo,i=fd(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return n&&i&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+FE(this._path)}}class Ft extends Ld{constructor(t,n){super(t,n,new pd,!1)}get parent(){const t=L_(this._path);return t===null?null:new Ft(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Nl{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new re(t),i=Pu(this.ref,t);return new Nl(this._node.getChild(n),i,ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,l)=>t(new Nl(l,Pu(this.ref,i),ve)))}hasChild(t){const n=new re(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ja(e,t){return e=xn(e),e._checkNotDeleted("ref"),t!==void 0?Pu(e._root,t):e._root}function Pu(e,t){return e=xn(e),V(e._path)===null?R2("child","path",t):mv("child","path",t),new Ft(e._repo,Oe(e._path,t))}function eC(e,t){e=xn(e),pv("set",e._path),M2("set",t,e._path);const n=new aa;return q2(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function bp(e){e=xn(e);const t=new Sv(()=>{}),n=new Mo(t);return H2(e._repo,e,n).then(i=>new Nl(i,new Ft(e._repo,e._path),e._queryParams.getIndex()))}class Mo{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new W2("value",this,new Nl(t.snapshotNode,new Ft(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new J2(this,t,n):null}matches(t){return t instanceof Mo?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function tC(e,t,n,i,l){let s;if(typeof i=="object"&&(s=void 0,l=i),typeof i=="function"&&(s=i),l&&l.onlyOnce){const o=n,c=(h,f)=>{_p(e._repo,e,r),o(h,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new Sv(n,s||void 0),r=new Mo(a);return G2(e._repo,e,r),()=>_p(e._repo,e,r)}function wv(e,t,n,i){return tC(e,"value",t,n,i)}t2(Ft);a2(Ft);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="FIREBASE_DATABASE_EMULATOR_HOST",Zu={};let iC=!1;function lC(e,t,n,i){const l=t.lastIndexOf(":"),s=t.substring(0,l),a=id(s);e.repoInfo_=new T_(t,a,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function sC(e,t,n,i,l){let s=i||e.options.databaseURL;s===void 0&&(e.options.projectId||_n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ye("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=vp(s,l),r=a.repoInfo,o;typeof process<"u"&&Bm&&(o=Bm[nC]),o?(s=`http://${o}?ns=${r.namespace}`,a=vp(s,l),r=a.repoInfo):a.repoInfo.secure;const c=new vE(e.name,e.options,t);D2("Invalid Firebase Database URL",a),Q(a.path)||_n("Database URL must point to the root of a Firebase Database (not including a child path).");const h=rC(r,e,c,new _E(e,n));return new oC(h,e)}function aC(e,t){const n=Zu[t];(!n||n[e.key]!==e)&&_n(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Y2(e),delete n[e.key]}function rC(e,t,n,i){let l=Zu[t.name];l||(l={},Zu[t.name]=l);let s=l[e.toURLString()];return s&&_n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new L2(e,iC,n,i),l[e.toURLString()]=s,s}class oC{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(I2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ft(this._repo,P())),this._rootInternal}_delete(){return this._rootInternal!==null&&(aC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&_n("Cannot call "+t+" on a deleted database.")}}function cC(e=r_(),t){const n=po(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const i=AS("database");i&&uC(n,...i)}return n}function uC(e,t,n,i={}){e=xn(e),e._checkNotDeleted("useEmulator");const l=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(l===e._repoInternal.repoInfo_.host&&Ar(i,s.repoInfo_.emulatorOptions))return;_n("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&_n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Za(Za.OWNER);else if(i.mockUserToken){const r=typeof i.mockUserToken=="string"?i.mockUserToken:RS(i.mockUserToken,e.app.options.projectId);a=new Za(r)}id(t)&&(MS(t),jS("Database",!0)),lC(s,l,i,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(e){iE(Yw),Wn(new gn("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return sC(i,l,s,n)},"PUBLIC").setMultipleInstances(!0)),Vt(Hm,qm,e),Vt(Hm,qm,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function hC(e,t,n){if(e=xn(e),pv("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=!0,l=new aa,s=(r,o,c)=>{let h=null;r?l.reject(r):(h=new Nl(c,new Ft(e._repo,e._path),ve),l.resolve(new dC(o,h)))},a=wv(e,()=>{});return Q2(e._repo,e._path,t,s,a,i),l.promise}un.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};un.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};fC();const Ev="@firebase/installations",Id="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=1e4,Cv=`w:${Id}`,Nv="FIS_v2",mC="https://firebaseinstallations.googleapis.com/v1",pC=60*60*1e3,gC="installations",yC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ai=new fo(gC,yC,_C);function Av(e){return e instanceof Il&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv({projectId:e}){return`${mC}/projects/${e}/installations`}function Rv(e){return{token:e.token,requestStatus:2,expiresIn:bC(e.expiresIn),creationTime:Date.now()}}async function Dv(e,t){const i=(await t.json()).error;return Ai.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Ov({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function vC(e,{refreshToken:t}){const n=Ov(e);return n.append("Authorization",xC(t)),n}async function jv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function bC(e){return Number(e.replace("s","000"))}function xC(e){return`${Nv} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=Mv(e),l=Ov(e),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&l.append("x-firebase-client",c)}const a={fid:n,authVersion:Nv,appId:e.appId,sdkVersion:Cv},r={method:"POST",headers:l,body:JSON.stringify(a)},o=await jv(()=>fetch(i,r));if(o.ok){const c=await o.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Rv(c.authToken)}}else throw await Dv("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=/^[cdef][\w-]{21}$/,$u="";function TC(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=CC(e);return EC.test(n)?n:$u}catch{return $u}}function CC(e){return wC(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;function Lv(e,t){const n=Ro(e);Iv(n,t),NC(n,t)}function Iv(e,t){const n=zv.get(e);if(n)for(const i of n)i(t)}function NC(e,t){const n=AC();n&&n.postMessage({key:e,fid:t}),MC()}let hi=null;function AC(){return!hi&&"BroadcastChannel"in self&&(hi=new BroadcastChannel("[Firebase] FID Change"),hi.onmessage=e=>{Iv(e.data.key,e.data.fid)}),hi}function MC(){zv.size===0&&hi&&(hi.close(),hi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebase-installations-database",DC=1,Mi="firebase-installations-store";let Mc=null;function Ud(){return Mc||(Mc=mo(RC,DC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Mi)}}})),Mc}async function Gr(e,t){const n=Ro(e),l=(await Ud()).transaction(Mi,"readwrite"),s=l.objectStore(Mi),a=await s.get(n);return await s.put(t,n),await l.done,(!a||a.fid!==t.fid)&&Lv(e,t.fid),t}async function Uv(e){const t=Ro(e),i=(await Ud()).transaction(Mi,"readwrite");await i.objectStore(Mi).delete(t),await i.done}async function Do(e,t){const n=Ro(e),l=(await Ud()).transaction(Mi,"readwrite"),s=l.objectStore(Mi),a=await s.get(n),r=t(a);return r===void 0?await s.delete(n):await s.put(r,n),await l.done,r&&(!a||a.fid!==r.fid)&&Lv(e,r.fid),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(e){let t;const n=await Do(e.appConfig,i=>{const l=OC(i),s=jC(e,l);return t=s.registrationPromise,s.installationEntry});return n.fid===$u?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function OC(e){const t=e||{fid:TC(),registrationStatus:0};return Bv(t)}function jC(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ai.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=kC(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:zC(e)}:{installationEntry:t}}async function kC(e,t){try{const n=await SC(e,t);return Gr(e.appConfig,n)}catch(n){throw Av(n)&&n.customData.serverCode===409?await Uv(e.appConfig):await Gr(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function zC(e){let t=await xp(e.appConfig);for(;t.registrationStatus===1;)await kv(100),t=await xp(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Bd(e);return i||n}return t}function xp(e){return Do(e,t=>{if(!t)throw Ai.create("installation-not-found");return Bv(t)})}function Bv(e){return LC(e)?{fid:e.fid,registrationStatus:0}:e}function LC(e){return e.registrationStatus===1&&e.registrationTime+Tv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC({appConfig:e,heartbeatServiceProvider:t},n){const i=UC(e,n),l=vC(e,n),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&l.append("x-firebase-client",c)}const a={installation:{sdkVersion:Cv,appId:e.appId}},r={method:"POST",headers:l,body:JSON.stringify(a)},o=await jv(()=>fetch(i,r));if(o.ok){const c=await o.json();return Rv(c)}else throw await Dv("Generate Auth Token",o)}function UC(e,{fid:t}){return`${Mv(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(e,t=!1){let n;const i=await Do(e.appConfig,s=>{if(!Hv(s))throw Ai.create("not-registered");const a=s.authToken;if(!t&&qC(a))return s;if(a.requestStatus===1)return n=BC(e,t),s;{if(!navigator.onLine)throw Ai.create("app-offline");const r=GC(s);return n=HC(e,r),r}});return n?await n:i.authToken}async function BC(e,t){let n=await Sp(e.appConfig);for(;n.authToken.requestStatus===1;)await kv(100),n=await Sp(e.appConfig);const i=n.authToken;return i.requestStatus===0?Hd(e,t):i}function Sp(e){return Do(e,t=>{if(!Hv(t))throw Ai.create("not-registered");const n=t.authToken;return YC(n)?{...t,authToken:{requestStatus:0}}:t})}async function HC(e,t){try{const n=await IC(e,t),i={...t,authToken:n};return await Gr(e.appConfig,i),n}catch(n){if(Av(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Uv(e.appConfig);else{const i={...t,authToken:{requestStatus:0}};await Gr(e.appConfig,i)}throw n}}function Hv(e){return e!==void 0&&e.registrationStatus===2}function qC(e){return e.requestStatus===2&&!VC(e)}function VC(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+pC}function GC(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function YC(e){return e.requestStatus===1&&e.requestTime+Tv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(e){const t=e,{installationEntry:n,registrationPromise:i}=await Bd(t);return i?i.catch(console.error):Hd(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(e,t=!1){const n=e;return await KC(n),(await Hd(n,t)).token}async function KC(e){const{registrationPromise:t}=await Bd(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(e){if(!e||!e.options)throw Rc("App Configuration");if(!e.name)throw Rc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Rc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Rc(e){return Ai.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="installations",PC="installations-internal",ZC=e=>{const t=e.getProvider("app").getImmediate(),n=XC(t),i=po(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},$C=e=>{const t=e.getProvider("app").getImmediate(),n=po(t,qv).getImmediate();return{getId:()=>FC(n),getToken:l=>QC(n,l)}};function WC(){Wn(new gn(qv,ZC,"PUBLIC")),Wn(new gn(PC,$C,"PRIVATE"))}WC();Vt(Ev,Id);Vt(Ev,Id,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="/firebase-messaging-sw.js",eN="/firebase-cloud-messaging-push-scope",Vv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tN="https://fcmregistrations.googleapis.com/v1",Gv="google.c.a.c_id",nN="google.c.a.c_l",iN="google.c.a.ts",lN="google.c.a.e",wp=1e4;var Ep;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Ep||(Ep={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Qs;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Qs||(Qs={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sN(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),l=new Uint8Array(i.length);for(let s=0;s<i.length;++s)l[s]=i.charCodeAt(s);return l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="fcm_token_details_db",aN=5,Tp="fcm_token_object_Store";async function rN(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Dc))return null;let t=null;return(await mo(Dc,aN,{upgrade:async(i,l,s,a)=>{if(l<2||!i.objectStoreNames.contains(Tp))return;const r=a.objectStore(Tp),o=await r.index("fcmSenderId").get(e);if(await r.clear(),!!o){if(l===2){const c=o;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:$t(c.vapidKey)}}}else if(l===3){const c=o;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:$t(c.auth),p256dh:$t(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:$t(c.vapidKey)}}}else if(l===4){const c=o;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:$t(c.auth),p256dh:$t(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:$t(c.vapidKey)}}}}}})).close(),await vc(Dc),await vc("fcm_vapid_details_db"),await vc("undefined"),oN(t)?t:null}function oN(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="firebase-messaging-database",uN=1,Ks="firebase-messaging-store";let Oc=null;function Yv(){return Oc||(Oc=mo(cN,uN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ks)}}})),Oc}async function fN(e){const t=Fv(e),i=await(await Yv()).transaction(Ks).objectStore(Ks).get(t);if(i)return i;{const l=await rN(e.appConfig.senderId);if(l)return await qd(e,l),l}}async function qd(e,t){const n=Fv(e),l=(await Yv()).transaction(Ks,"readwrite");return await l.objectStore(Ks).put(t,n),await l.done,t}function Fv({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Xe=new fo("messaging","Messaging",dN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(e,t){const n=await Gd(e),i=Qv(t),l={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(Vd(e.appConfig),l)).json()}catch(a){throw Xe.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Xe.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw Xe.create("token-subscribe-no-token");return s.token}async function mN(e,t){const n=await Gd(e),i=Qv(t.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${Vd(e.appConfig)}/${t.token}`,l)).json()}catch(a){throw Xe.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Xe.create("token-update-failed",{errorInfo:a})}if(!s.token)throw Xe.create("token-update-no-token");return s.token}async function pN(e,t){const i={method:"DELETE",headers:await Gd(e)};try{const s=await(await fetch(`${Vd(e.appConfig)}/${t}`,i)).json();if(s.error){const a=s.error.message;throw Xe.create("token-unsubscribe-failed",{errorInfo:a})}}catch(l){throw Xe.create("token-unsubscribe-failed",{errorInfo:l==null?void 0:l.toString()})}}function Vd({projectId:e}){return`${tN}/projects/${e}/registrations`}async function Gd({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Qv({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const l={web:{endpoint:n,auth:t,p256dh:e}};return i!==Vv&&(l.web.applicationPubKey=i),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=7*24*60*60*1e3;async function yN(e){const t=await vN(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:$t(t.getKey("auth")),p256dh:$t(t.getKey("p256dh"))},i=await fN(e.firebaseDependencies);if(i){if(bN(i.subscriptionOptions,n))return Date.now()>=i.createTime+gN?_N(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await pN(e.firebaseDependencies,i.token)}catch(l){console.warn(l)}return Cp(e.firebaseDependencies,n)}else return Cp(e.firebaseDependencies,n)}async function _N(e,t){try{const n=await mN(e.firebaseDependencies,t),i={...t,token:n,createTime:Date.now()};return await qd(e.firebaseDependencies,i),n}catch(n){throw n}}async function Cp(e,t){const i={token:await hN(e,t),createTime:Date.now(),subscriptionOptions:t};return await qd(e,i),i.token}async function vN(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sN(t)})}function bN(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,l=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&i&&l&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return xN(t,e),SN(t,e),wN(t,e),t}function xN(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const l=t.notification.image;l&&(e.notification.image=l);const s=t.notification.icon;s&&(e.notification.icon=s)}function SN(e,t){t.data&&(e.data=t.data)}function wN(e,t){var l,s,a,r;if(!t.fcmOptions&&!((l=t.notification)!=null&&l.click_action))return;e.fcmOptions={};const n=((s=t.fcmOptions)==null?void 0:s.link)??((a=t.notification)==null?void 0:a.click_action);n&&(e.fcmOptions.link=n);const i=(r=t.fcmOptions)==null?void 0:r.analytics_label;i&&(e.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(e){return typeof e=="object"&&!!e&&Gv in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(e){if(!e||!e.options)throw jc("App Configuration Object");if(!e.name)throw jc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw jc(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function jc(e){return Xe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=TN(t);this.firebaseDependencies={app:t,appConfig:l,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(e){try{e.swRegistration=await navigator.serviceWorker.register(JC,{scope:eN}),e.swRegistration.update().catch(()=>{}),await AN(e.swRegistration)}catch(t){throw Xe.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function AN(e){return new Promise((t,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${wp} ms`)),wp),l=e.installing||e.waiting;e.active?(clearTimeout(i),t()):l?l.onstatechange=s=>{var a;((a=s.target)==null?void 0:a.state)==="activated"&&(l.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(e,t){if(!t&&!e.swRegistration&&await NN(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Xe.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Vv)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(e,t){if(!navigator)throw Xe.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Xe.create("permission-blocked");return await RN(e,t==null?void 0:t.vapidKey),await MN(e,t==null?void 0:t.serviceWorkerRegistration),yN(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(e,t,n){const i=ON(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[Gv],message_name:n[nN],message_time:n[iN],message_device_time:Math.floor(Date.now()/1e3)})}function ON(e){switch(e){case Qs.NOTIFICATION_CLICKED:return"notification_open";case Qs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Qs.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Np(n)):e.onMessageHandler.next(Np(n)));const i=n.data;EN(i)&&i[lN]==="1"&&await DN(e,n.messageType,i)}const Ap="@firebase/messaging",Mp="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=e=>{const t=new CN(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>jN(t,n)),t},zN=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:i=>Kv(t,i)}};function LN(){Wn(new gn("messaging",kN,"PUBLIC")),Wn(new gn("messaging-internal",zN,"PRIVATE")),Vt(Ap,Mp),Vt(Ap,Mp,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xv(){try{await t_()}catch{return!1}return typeof window<"u"&&e_()&&IS()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(e=r_()){return Xv().then(t=>{if(!t)throw Xe.create("unsupported-browser")},t=>{throw Xe.create("indexed-db-unsupported")}),po(xn(e),"messaging").getImmediate()}async function IN(e,t){return e=xn(e),Kv(e,t)}LN();const UN=Object.freeze(Object.defineProperty({__proto__:null,getMessaging:Pv,getToken:IN,isSupported:Xv},Symbol.toStringTag,{value:"Module"})),BN={apiKey:"AIzaSyA0GXc2SsjtbsDYzf1agK4zbTJ5IvxPFxs",authDomain:"fb-hub-ed9de.firebaseapp.com",databaseURL:"https://fb-hub-ed9de-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"fb-hub-ed9de",storageBucket:"fb-hub-ed9de.firebasestorage.app",messagingSenderId:"426764789152",appId:"1:426764789152:web:9e989667bda7568059f0c5",measurementId:"G-HCN8XBJNN9"},Zv=a_(BN),ns=cC(Zv);let $v=null;try{$v=Pv(Zv),console.log(" Firebase Messaging initialized")}catch(e){console.error(" Firebase Messaging initialization failed:",e)}const HN=Object.freeze(Object.defineProperty({__proto__:null,database:ns,get messaging(){return $v}},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),Rp=e=>{const t=VN(e);return t.charAt(0).toUpperCase()+t.slice(1)},Wv=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),GN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:s,iconNode:a,...r},o)=>T.createElement("svg",{ref:o,...YN,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:Wv("lucide",l),...!s&&!GN(r)&&{"aria-hidden":"true"},...r},[...a.map(([c,h])=>T.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=(e,t)=>{const n=T.forwardRef(({className:i,...l},s)=>T.createElement(FN,{ref:s,iconNode:t,className:Wv(`lucide-${qN(Rp(e))}`,`lucide-${e}`,i),...l}));return n.displayName=Rp(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],XN=QN("chart-column",KN),PN=()=>{let e=localStorage.getItem("fenerbahce_user_id");return e||(e=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("fenerbahce_user_id",e)),e},ZN=({opponentName:e="Rakip Takm",matchId:t})=>{const[n,i]=T.useState({home:0,away:0,draw:0}),[l,s]=T.useState(!1),[a,r]=T.useState(null),[o,c]=T.useState(!0),[h,f]=T.useState(null),d={home:"Fenerbahe",away:e},m=PN();T.useEffect(()=>{if(!t){c(!1),f("Match ID eksik");return}const _=ja(ns,`match_polls/${t}/votes`),v=wv(_,M=>{const E=M.val();i(E?{home:E.home||0,away:E.away||0,draw:E.draw||0}:{home:0,away:0,draw:0}),c(!1)},M=>{console.error("Firebase read error:",M),f("Anket verileri yklenemedi."),c(!1)}),N=ja(ns,`match_polls/${t}/users/${m}`);return bp(N).then(M=>{M.exists()?(s(!0),r(M.val())):(s(!1),r(null))}).catch(M=>{console.error("Error checking user vote:",M)}),()=>{v()}},[t,m]);const y=async _=>{if(!(l||!t))try{const v=ja(ns,`match_polls/${t}/users/${m}`),N=await bp(v);if(N.exists()){s(!0),r(N.val());return}const M=ja(ns,`match_polls/${t}/votes/${_}`);await hC(M,E=>(E||0)+1),await eC(v,_),s(!0),r(_)}catch(v){console.error("Vote failed:",v),alert("Oy verilemedi. Ltfen tekrar deneyin.")}},x=(n.home||0)+(n.away||0)+(n.draw||0),w=_=>!x||x===0?0:Math.round((_||0)/x*100),[g,p]=T.useState(!1);return o||h||!t?null:u.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-xl overflow-hidden transition-all duration-500",children:[u.jsxs("button",{onClick:()=>p(!g),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-full bg-yellow-400/10 text-yellow-400",children:u.jsx(XN,{className:"w-5 h-5"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h3",{className:"text-base font-bold text-white",children:"Ma Kim Kazanr?"}),u.jsxs("p",{className:"text-xs text-slate-400",children:[l?"Oyunuzu kullandnz":"Tahminini yap","  ",x," oy"]})]})]}),u.jsx("div",{className:`transform transition-transform duration-300 ${g?"rotate-180":""}`,children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsx("div",{className:`transition-all duration-500 ease-in-out ${g?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:u.jsxs("div",{className:"p-4 pt-0 space-y-3 border-t border-white/5 mt-2",children:[u.jsx(kc,{label:d.home,count:n.home,percentage:w(n.home),onClick:()=>y("home"),disabled:l,isWinner:l&&n.home>=n.away&&n.home>=n.draw,isUserChoice:a==="home"}),u.jsx(kc,{label:"Beraberlik",count:n.draw,percentage:w(n.draw),onClick:()=>y("draw"),disabled:l,isWinner:l&&n.draw>=n.home&&n.draw>=n.away,isUserChoice:a==="draw"}),u.jsx(kc,{label:d.away,count:n.away,percentage:w(n.away),onClick:()=>y("away"),disabled:l,isWinner:l&&n.away>=n.home&&n.away>=n.draw,isUserChoice:a==="away"})]})})]})},kc=({label:e,count:t,percentage:n,onClick:i,disabled:l,isWinner:s,isUserChoice:a})=>u.jsxs("button",{onClick:i,disabled:l,className:`relative w-full h-12 rounded-xl overflow-hidden transition-all duration-300 group ${l?"cursor-default":"hover:scale-[1.02] active:scale-[0.98] cursor-pointer"}`,children:[u.jsx("div",{className:"absolute inset-0 bg-white/5"}),u.jsx("div",{className:`absolute inset-y-0 left-0 transition-all duration-1000 ease-out ${a?"bg-green-500/30":s?"bg-yellow-400/20":"bg-blue-600/30"}`,style:{width:`${n}%`}}),u.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[u.jsxs("span",{className:`font-medium transition-colors ${a?"text-green-400":s?"text-yellow-400":"text-white"}`,children:[e," ",a&&""]}),u.jsxs("div",{className:"flex items-center gap-2",children:[l&&u.jsxs("span",{className:"text-sm font-bold text-white/90",children:[n,"%"]}),!l&&u.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white/20 group-hover:border-yellow-400 transition-colors"})]})]})]}),$N=({league:e})=>{const[t,n]=T.useState([]),[i,l]=T.useState(!0),[s,a]=T.useState(null);T.useEffect(()=>{r()},[e]);const r=async()=>{l(!0),a(null);try{const o=await fetch(`${bn}/standings`);if(!o.ok)throw new Error("Failed to fetch standings");const c=await o.json(),h=e==="superlig"?c.find(f=>f.id==="super-lig"):c.find(f=>f.id==="europa-league");if(h&&h.rows)n(h.rows);else throw new Error("League data not found")}catch(o){console.error("Error fetching standings:",o),a("Puan durumu yklenemedi")}finally{l(!1)}};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})}):s?u.jsx("div",{className:"text-center text-red-400 py-8",children:u.jsx("p",{children:s})}):u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto custom-scrollbar",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"sticky top-0 bg-[#0f172a] z-10",children:u.jsxs("tr",{className:"text-[11px] text-slate-400 border-b border-yellow-400/20",children:[u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"#"}),u.jsx("th",{className:"p-3 font-medium",children:"Takm"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"O"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"G"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"B"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"M"}),u.jsx("th",{className:"p-3 font-medium w-16 text-center",children:"AV"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center text-yellow-400",children:"P"})]})}),u.jsx("tbody",{className:"text-sm",children:t.map((o,c)=>{const h=o.team.name.toLowerCase().includes("fenerbahce")||o.team.name.toLowerCase().includes("fener"),f=o.rank<=3,d=o.rank>=t.length-2;return u.jsxs("tr",{className:`border-b border-white/5 last:border-0 transition-all duration-200 ${h?"bg-yellow-400/10 text-yellow-100 font-semibold shadow-[0_0_10px_rgba(234,179,8,0.3)]":"hover:bg-white/5 text-slate-300"}`,children:[u.jsx("td",{className:"p-3 text-center",children:u.jsx("span",{className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-[11px] font-bold ${f?"bg-green-500/20 text-green-400":d?"bg-red-500/20 text-red-400":"text-slate-500"}`,children:o.rank})}),u.jsx("td",{className:"p-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:o.team.logo?u.jsx("img",{src:o.team.logo,alt:o.team.name,className:"w-full h-full object-contain",onError:m=>{m.target.style.display="none"}}):null}),u.jsx("span",{className:"truncate max-w-[200px]",children:o.team.name})]})}),u.jsx("td",{className:"p-3 text-center font-medium",children:o.matches||0}),u.jsx("td",{className:"p-3 text-center text-green-400",children:o.wins||0}),u.jsx("td",{className:"p-3 text-center text-slate-400",children:o.draws||0}),u.jsx("td",{className:"p-3 text-center text-red-400",children:o.losses||0}),u.jsxs("td",{className:"p-3 text-center text-slate-400",children:[o.goalDiff>0?"+":"",o.goalDiff||0]}),u.jsx("td",{className:`p-3 text-center font-bold ${h?"text-yellow-400":"text-white"}`,children:o.points||0})]},o.team.id)})})]})}),u.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    width: 6px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: rgba(250, 204, 21, 0.3);
                    border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: rgba(250, 204, 21, 0.5);
                }
            `})]})},WN=[{label:"Toplam ut",keys:["totalShots"]},{label:"sabetli ut",keys:["shotsOnTarget"]},{label:"Topla Oynama %",keys:["possessionPct","possession"]},{label:"Korner",keys:["wonCorners","corners"]},{label:"Faul",keys:["foulsCommitted","fouls"]},{label:"Sar Kart",keys:["yellowCards","yellowCard"]},{label:"Krmz Kart",keys:["redCards","redCard"]}],JN=()=>{var o,c,h,f,d,m;const[e,t]=T.useState(null),[n,i]=T.useState(!0),[l,s]=T.useState(null);T.useEffect(()=>{a();const y=setInterval(a,3e4);return()=>clearInterval(y)},[]);const a=async()=>{try{const y=await fetch(`${bn}/live-match`);if(!y.ok)throw new Error("Canl ma verisi alnamad");const x=await y.json();x.matchState==="no-match"?(s("u anda canl ma yok"),t(null)):(t(x),s(null))}catch(y){console.error("Error fetching live score:",y),s(y.message||"Canl ma bilgisi yklenemedi")}finally{i(!1)}};if(n)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})});if(l||!e)return u.jsx("div",{className:"text-center text-red-400 py-8",children:u.jsx("p",{children:l||"Veri bulunamad"})});const r=WN.map(y=>{var w;const x=(w=e.stats)==null?void 0:w.find(g=>y.keys.includes(g.name));return x?{...x,label:y.label}:null}).filter(Boolean);return u.jsxs("div",{className:"w-full space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[u.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("span",{className:"text-xs font-bold text-yellow-400 uppercase",children:e.statusDetail||(e.matchState==="in"?"Canl":"Ma Bitti")}),e.matchState==="in"&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("span",{className:"text-sm font-bold text-red-400",children:"CANLI"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 p-3 border border-white/10",children:((o=e.homeTeam)==null?void 0:o.logo)&&u.jsx("img",{src:e.homeTeam.logo,alt:e.homeTeam.name,className:"w-full h-full object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center",children:(c=e.homeTeam)==null?void 0:c.name})]}),u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-5xl font-black text-white",children:((h=e.homeTeam)==null?void 0:h.score)||"0"}),u.jsx("span",{className:"text-3xl font-bold text-slate-600",children:"-"}),u.jsx("span",{className:"text-5xl font-black text-white",children:((f=e.awayTeam)==null?void 0:f.score)||"0"})]}),u.jsx("span",{className:"text-xs text-slate-400",children:e.displayClock||""})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 p-3 border border-white/10",children:((d=e.awayTeam)==null?void 0:d.logo)&&u.jsx("img",{src:e.awayTeam.logo,alt:e.awayTeam.name,className:"w-full h-full object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center",children:(m=e.awayTeam)==null?void 0:m.name})]})]})]}),e.events&&e.events.length>0&&u.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-3",children:"Ma Olaylar"}),u.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:e.events.map((y,x)=>u.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg transition-colors ${y.isGoal?"bg-yellow-400/10":y.isRedCard?"bg-red-500/10":"bg-white/5"}`,children:[u.jsx("span",{className:"text-xs text-yellow-400 font-mono w-12",children:y.clock}),u.jsxs("span",{className:"w-5 h-5 flex-shrink-0 flex items-center justify-center",children:[y.isGoal&&u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-4 h-4",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),y.isYellowCard&&!y.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3.5 h-5",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#eab308"})}),y.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3.5 h-5",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#ef4444"})})]}),u.jsxs("span",{className:`text-sm flex-1 ${y.isGoal?"text-yellow-400 font-bold":y.isRedCard?"text-red-400 font-semibold":"text-slate-300"}`,children:[y.player,y.type&&!y.isGoal&&!y.isYellowCard&&!y.isRedCard&&u.jsxs("span",{className:"text-slate-500 ml-1",children:["(",y.type,")"]})]})]},x))})]}),r.length>0&&u.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-3",children:"statistikler"}),u.jsx("div",{className:"space-y-3",children:r.map((y,x)=>{const w=parseFloat(y.homeValue)||0,g=parseFloat(y.awayValue)||0,p=w+g||1;return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[u.jsx("span",{className:"font-medium text-white",children:y.homeValue}),u.jsx("span",{children:y.label}),u.jsx("span",{className:"font-medium text-white",children:y.awayValue})]}),u.jsxs("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden flex",children:[u.jsx("div",{className:"bg-yellow-400 h-full transition-all duration-500",style:{width:`${w/p*100}%`}}),u.jsx("div",{className:"bg-slate-600 h-full flex-1"})]})]},x)})})]})]})},e4=({matchData:e,next3Matches:t=[],loading:n,onRetry:i,errorMessage:l,lastUpdated:s,isRefreshing:a,liveMatchState:r="countdown",liveMatchData:o=null,onCountdownEnd:c})=>{var R,L,W,le;const[h,f]=T.useState({days:0,hours:0,minutes:0,seconds:0}),[d,m]=T.useState(!1),[y,x]=T.useState(!1),[w,g]=T.useState(""),[p,_]=T.useState(30),v=T.useRef(!1);if(T.useEffect(()=>{v.current=!1},[e==null?void 0:e.id]),T.useEffect(()=>{if(!e||r!=="countdown")return;const B=setInterval(()=>{const b=new Date(e.startTimestamp*1e3)-new Date;if(b>0){const O=Math.floor(b/864e5),k=Math.floor(b/(1e3*60*60)%24),C=Math.floor(b/1e3/60%60),j=Math.floor(b/1e3%60);f({days:O,hours:k,minutes:C,seconds:j})}else!v.current&&c&&(v.current=!0,c()),f({days:0,hours:0,minutes:0,seconds:0})},1e3);return()=>clearInterval(B)},[e,r,c]),T.useEffect(()=>{if(r!=="post"){_(30);return}const B=setInterval(()=>{_(te=>te<=1?0:te-1)},1e3);return()=>clearInterval(B)},[r]),T.useEffect(()=>(d||y?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[d,y]),n)return u.jsx("div",{className:"flex items-center justify-center h-64 text-yellow-400 animate-pulse",children:"Ykleniyor..."});if(!e)return u.jsxs("div",{className:"text-center text-slate-400 mt-10 space-y-4",children:[u.jsx("p",{children:"Ma bilgisi bulunamad."}),l&&u.jsx("p",{className:"text-sm text-slate-300",children:l}),i&&u.jsx("button",{onClick:i,className:"px-4 py-2 rounded-full bg-yellow-400/20 text-yellow-300 border border-yellow-400/30 hover:bg-yellow-400 hover:text-black transition-colors",children:"Tekrar Dene"})]});const N=new Date(e.startTimestamp*1e3),M=3052,E=e.homeTeam.id===3052,D=E?e.awayTeam:e.homeTeam;return u.jsxs("div",{className:"min-h-screen pb-20",children:[u.jsxs("div",{className:"glass-card rounded-3xl p-6 relative overflow-hidden group mb-6",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-yellow-400 to-transparent opacity-50"}),u.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[u.jsx("span",{className:"text-xs font-bold tracking-wider text-yellow-400 uppercase bg-yellow-400/10 px-3 py-1 rounded-full border border-yellow-400/20",children:e.tournament.name}),u.jsx("span",{className:"text-xs text-slate-400 font-medium",children:N.toLocaleDateString("tr-TR",{day:"numeric",month:"long"})})]}),u.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:u.jsx(Ra,{teamId:E?M:D.id,name:E?"Fenerbahe":D.name,wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:E?"Fenerbahe":D.name})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center w-1/3 -mt-4",children:[u.jsx("span",{className:"text-2xl font-black text-slate-700/50",children:"VS"}),u.jsx("div",{className:"mt-2 text-center",children:u.jsx("span",{className:"text-3xl font-bold text-white tracking-tighter text-glow",children:N.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:u.jsx(Ra,{teamId:E?D.id:M,name:E?D.name:"Fenerbahe",wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:E?D.name:"Fenerbahe"})]})]}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5",children:[r==="countdown"&&u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.days}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Gn"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.hours}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Saat"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.minutes}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Dk"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.seconds}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Sn"})]})]}),r==="pre"&&u.jsxs("div",{className:"text-center py-4",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-yellow-400"})]}),u.jsx("span",{className:"text-sm font-bold text-yellow-400 uppercase",children:"Ma Birazdan Balyor!"})]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Takmlar sahaya kyor..."})]}),r==="in"&&o&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("span",{className:"text-sm font-bold text-red-400 uppercase",children:"Canl"}),u.jsx("span",{className:"text-xs text-slate-400 ml-1",children:o.displayClock})]}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[u.jsx("span",{className:"text-4xl font-black text-white",children:((R=o.homeTeam)==null?void 0:R.score)||"0"}),u.jsx("span",{className:"text-lg text-slate-500",children:""}),u.jsx("span",{className:"text-4xl font-black text-white",children:((L=o.awayTeam)==null?void 0:L.score)||"0"})]}),o.events&&o.events.length>0&&u.jsx("div",{className:"space-y-1 mb-4 max-h-32 overflow-y-auto",children:o.events.map((B,te)=>u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("span",{className:"text-slate-500 w-10 text-right",children:B.clock}),u.jsxs("span",{className:"w-4 h-4 flex-shrink-0 flex items-center justify-center",children:[B.isGoal&&u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-4 h-4",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),B.isYellowCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3 h-4",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#eab308"})}),B.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3 h-4",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#ef4444"})})]}),u.jsx("span",{className:`${B.isGoal?"text-yellow-400 font-bold":B.isRedCard?"text-red-400":"text-slate-300"}`,children:B.player})]},te))}),u.jsx("button",{onClick:()=>m(!0),className:"w-full px-4 py-2 bg-yellow-400/10 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 rounded-lg text-xs font-bold transition-all duration-300",children:"Detayl statistikler"})]}),r==="post"&&o&&u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:u.jsx("span",{className:"text-sm font-bold text-green-400 uppercase",children:"Ma Bitti"})}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[u.jsx("span",{className:"text-4xl font-black text-white",children:((W=o.homeTeam)==null?void 0:W.score)||"0"}),u.jsx("span",{className:"text-lg text-slate-500",children:""}),u.jsx("span",{className:"text-4xl font-black text-white",children:((le=o.awayTeam)==null?void 0:le.score)||"0"})]}),o.events&&o.events.filter(B=>B.isGoal).length>0&&u.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:o.events.filter(B=>B.isGoal).map((B,te)=>u.jsxs("span",{className:"text-xs text-slate-300 bg-white/5 px-2 py-1 rounded-full flex items-center gap-1",children:[u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-3 h-3 inline",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),B.clock," ",B.player]},te))}),u.jsxs("div",{className:"glass-panel rounded-lg p-3 text-center",children:[u.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["Sonraki maa geiliyor... ",p,"sn"]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-1",children:u.jsx("div",{className:"bg-yellow-400/50 h-1 rounded-full transition-all duration-1000",style:{width:`${(30-p)/30*100}%`}})})]})]})]})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6",children:[u.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.jsx("span",{className:"text-sm font-bold",children:"Sonraki Malar"})}),u.jsx("div",{className:"space-y-3",children:t.length>0?t.map((B,te)=>{const oe=new Date(B.startTimestamp*1e3),b=B.homeTeam,O=B.awayTeam,k=b.id===M;return u.jsxs("div",{className:"glass-panel rounded-xl p-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(Ra,{teamId:k?M:b.id,name:b.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"}),u.jsx("span",{className:"text-xs font-medium truncate",children:b.name})]}),u.jsxs("div",{className:"flex flex-col items-center px-3",children:[u.jsx("span",{className:"text-[10px] text-slate-400",children:oe.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),u.jsx("span",{className:"text-xs font-bold",children:oe.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[u.jsx("span",{className:"text-xs font-medium truncate text-right",children:O.name}),u.jsx(Ra,{teamId:k?O.id:M,name:O.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"})]})]},te)}):u.jsx("div",{className:"text-center text-slate-500 text-xs py-4",children:"Ma bilgisi ykleniyor..."})})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Puan Durumu"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:()=>{g("superlig"),x(!0)},className:"px-4 py-3 bg-yellow-400/5 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 hover:border-yellow-400 rounded-xl text-sm font-bold transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",children:"Sper Lig"}),u.jsx("button",{onClick:()=>{g("europa"),x(!0)},className:"px-4 py-3 bg-yellow-400/5 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 hover:border-yellow-400 rounded-xl text-sm font-bold transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",children:"Avrupa Ligi"})]})]}),u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"mb-6",children:u.jsx(ZN,{opponentName:D.name,matchId:e.id})})}),d&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:()=>m(!1),children:u.jsxs("div",{className:"bg-[#0f172a] border-2 border-yellow-400/30 rounded-2xl p-6 max-w-4xl w-full max-h-[85vh] overflow-hidden animate-slideUp shadow-[0_0_40px_rgba(234,179,8,0.2)]",onClick:B=>B.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-yellow-400/20",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:"Canl Ma Detaylar"})]}),u.jsx("button",{onClick:()=>m(!1),className:"text-yellow-400 hover:text-white transition-all duration-300 hover:rotate-90",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"w-full",children:u.jsx(JN,{})})]})}),y&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:()=>x(!1),children:u.jsxs("div",{className:"bg-[#0f172a] border-2 border-yellow-400/30 rounded-2xl p-6 max-w-4xl w-full max-h-[85vh] overflow-hidden animate-slideUp shadow-[0_0_40px_rgba(234,179,8,0.2)]",onClick:B=>B.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-yellow-400/20",children:[u.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:w==="superlig"?"Sper Lig Puan Durumu":"UEFA Avrupa Ligi Puan Durumu"}),u.jsx("button",{onClick:()=>x(!1),className:"text-yellow-400 hover:text-white hover:rotate-90 transition-all duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"w-full",children:u.jsx($N,{league:w})})]})})]})};function t4(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),l=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(l),t&&(i.href=t),l.href=e,l.href}const n4=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Kn(e){const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}let Hi=null;function Jv(e={}){return Hi||(e.includeStyleProperties?(Hi=e.includeStyleProperties,Hi):(Hi=Kn(window.getComputedStyle(document.documentElement)),Hi))}function Yr(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function i4(e){const t=Yr(e,"border-left-width"),n=Yr(e,"border-right-width");return e.clientWidth+t+n}function l4(e){const t=Yr(e,"border-top-width"),n=Yr(e,"border-bottom-width");return e.clientHeight+t+n}function eb(e,t={}){const n=t.width||i4(e),i=t.height||l4(e);return{width:n,height:i}}function s4(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const rt=16384;function a4(e){(e.width>rt||e.height>rt)&&(e.width>rt&&e.height>rt?e.width>e.height?(e.height*=rt/e.width,e.width=rt):(e.width*=rt/e.height,e.height=rt):e.width>rt?(e.height*=rt/e.width,e.width=rt):(e.width*=rt/e.height,e.height=rt))}function Fr(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>t(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function r4(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function o4(e,t,n){const i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return l.setAttribute("width",`${t}`),l.setAttribute("height",`${n}`),l.setAttribute("viewBox",`0 0 ${t} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),l.appendChild(s),s.appendChild(e),r4(l)}const it=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||it(n,t)};function c4(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function u4(e,t){return Jv(t).map(n=>{const i=e.getPropertyValue(n),l=e.getPropertyPriority(n);return`${n}: ${i}${l?" !important":""};`}).join(" ")}function f4(e,t,n,i){const l=`.${e}:${t}`,s=n.cssText?c4(n):u4(n,i);return document.createTextNode(`${l}{${s}}`)}function Dp(e,t,n,i){const l=window.getComputedStyle(e,n),s=l.getPropertyValue("content");if(s===""||s==="none")return;const a=n4();try{t.className=`${t.className} ${a}`}catch{return}const r=document.createElement("style");r.appendChild(f4(a,n,l,i)),t.appendChild(r)}function d4(e,t,n){Dp(e,t,":before",n),Dp(e,t,":after",n)}const Op="application/font-woff",jp="image/jpeg",h4={woff:Op,woff2:Op,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:jp,jpeg:jp,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function m4(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Yd(e){const t=m4(e).toLowerCase();return h4[t]||""}function p4(e){return e.split(/,/)[1]}function Wu(e){return e.search(/^(data:)/)!==-1}function g4(e,t){return`data:${t};base64,${e}`}async function tb(e,t,n){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const l=await i.blob();return new Promise((s,a)=>{const r=new FileReader;r.onerror=a,r.onloadend=()=>{try{s(n({res:i,result:r.result}))}catch(o){a(o)}},r.readAsDataURL(l)})}const zc={};function y4(e,t,n){let i=e.replace(/\?.*/,"");return n&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function Fd(e,t,n){const i=y4(e,t,n.includeQueryParams);if(zc[i]!=null)return zc[i];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let l;try{const s=await tb(e,n.fetchRequestInit,({res:a,result:r})=>(t||(t=a.headers.get("Content-Type")||""),p4(r)));l=g4(s,t)}catch(s){l=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;s&&(a=typeof s=="string"?s:s.message),a&&console.warn(a)}return zc[i]=l,l}async function _4(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Fr(t)}async function v4(e,t){if(e.currentSrc){const s=document.createElement("canvas"),a=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,a==null||a.drawImage(e,0,0,s.width,s.height);const r=s.toDataURL();return Fr(r)}const n=e.poster,i=Yd(n),l=await Fd(n,i,t);return Fr(l)}async function b4(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await Oo(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function x4(e,t){return it(e,HTMLCanvasElement)?_4(e):it(e,HTMLVideoElement)?v4(e,t):it(e,HTMLIFrameElement)?b4(e,t):e.cloneNode(nb(e))}const S4=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",nb=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function w4(e,t,n){var i,l;if(nb(t))return t;let s=[];return S4(e)&&e.assignedNodes?s=Kn(e.assignedNodes()):it(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?s=Kn(e.contentDocument.body.childNodes):s=Kn(((l=e.shadowRoot)!==null&&l!==void 0?l:e).childNodes),s.length===0||it(e,HTMLVideoElement)||await s.reduce((a,r)=>a.then(()=>Oo(r,n)).then(o=>{o&&t.appendChild(o)}),Promise.resolve()),t}function E4(e,t,n){const i=t.style;if(!i)return;const l=window.getComputedStyle(e);l.cssText?(i.cssText=l.cssText,i.transformOrigin=l.transformOrigin):Jv(n).forEach(s=>{let a=l.getPropertyValue(s);s==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),it(e,HTMLIFrameElement)&&s==="display"&&a==="inline"&&(a="block"),s==="d"&&t.getAttribute("d")&&(a=`path(${t.getAttribute("d")})`),i.setProperty(s,a,l.getPropertyPriority(s))})}function T4(e,t){it(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),it(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function C4(e,t){if(it(e,HTMLSelectElement)){const n=t,i=Array.from(n.children).find(l=>e.value===l.getAttribute("value"));i&&i.setAttribute("selected","")}}function N4(e,t,n){return it(t,Element)&&(E4(e,t,n),d4(e,t,n),T4(e,t),C4(e,t)),t}async function A4(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const i={};for(let s=0;s<n.length;s++){const r=n[s].getAttribute("xlink:href");if(r){const o=e.querySelector(r),c=document.querySelector(r);!o&&c&&!i[r]&&(i[r]=await Oo(c,t,!0))}}const l=Object.values(i);if(l.length){const s="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg");a.setAttribute("xmlns",s),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const r=document.createElementNS(s,"defs");a.appendChild(r);for(let o=0;o<l.length;o++)r.appendChild(l[o]);e.appendChild(a)}return e}async function Oo(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>x4(i,t)).then(i=>w4(e,i,t)).then(i=>N4(e,i,t)).then(i=>A4(i,t))}const ib=/url\((['"]?)([^'"]+?)\1\)/g,M4=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,R4=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function D4(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function O4(e){const t=[];return e.replace(ib,(n,i,l)=>(t.push(l),n)),t.filter(n=>!Wu(n))}async function j4(e,t,n,i,l){try{const s=n?t4(t,n):t,a=Yd(t);let r;return l||(r=await Fd(s,a,i)),e.replace(D4(t),`$1${r}$3`)}catch{}return e}function k4(e,{preferredFontFormat:t}){return t?e.replace(R4,n=>{for(;;){const[i,,l]=M4.exec(n)||[];if(!l)return"";if(l===t)return`src: ${i};`}}):e}function lb(e){return e.search(ib)!==-1}async function sb(e,t,n){if(!lb(e))return e;const i=k4(e,n);return O4(i).reduce((s,a)=>s.then(r=>j4(r,a,t,n)),Promise.resolve(i))}async function qi(e,t,n){var i;const l=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(l){const s=await sb(l,null,n);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function z4(e,t){await qi("background",e,t)||await qi("background-image",e,t),await qi("mask",e,t)||await qi("-webkit-mask",e,t)||await qi("mask-image",e,t)||await qi("-webkit-mask-image",e,t)}async function L4(e,t){const n=it(e,HTMLImageElement);if(!(n&&!Wu(e.src))&&!(it(e,SVGImageElement)&&!Wu(e.href.baseVal)))return;const i=n?e.src:e.href.baseVal,l=await Fd(i,Yd(i),t);await new Promise((s,a)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...o)=>{try{s(t.onImageErrorHandler(...o))}catch(c){a(c)}}:a;const r=e;r.decode&&(r.decode=s),r.loading==="lazy"&&(r.loading="eager"),n?(e.srcset="",e.src=l):e.href.baseVal=l})}async function I4(e,t){const i=Kn(e.childNodes).map(l=>ab(l,t));await Promise.all(i).then(()=>e)}async function ab(e,t){it(e,Element)&&(await z4(e,t),await L4(e,t),await I4(e,t))}function U4(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(l=>{n[l]=i[l]}),e}const kp={};async function zp(e){let t=kp[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},kp[e]=t,t}async function Lp(e,t){let n=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let r=a.replace(i,"$1");return r.startsWith("https://")||(r=new URL(r,e.url).href),tb(r,t.fetchRequestInit,({result:o})=>(n=n.replace(a,`url(${o})`),[a,o]))});return Promise.all(s).then(()=>n)}function Ip(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(n,"");const l=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const o=l.exec(i);if(o===null)break;t.push(o[0])}i=i.replace(l,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",r=new RegExp(a,"gi");for(;;){let o=s.exec(i);if(o===null){if(o=r.exec(i),o===null)break;s.lastIndex=r.lastIndex}else r.lastIndex=s.lastIndex;t.push(o[0])}return t}async function B4(e,t){const n=[],i=[];return e.forEach(l=>{if("cssRules"in l)try{Kn(l.cssRules||[]).forEach((s,a)=>{if(s.type===CSSRule.IMPORT_RULE){let r=a+1;const o=s.href,c=zp(o).then(h=>Lp(h,t)).then(h=>Ip(h).forEach(f=>{try{l.insertRule(f,f.startsWith("@import")?r+=1:l.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(h=>{console.error("Error loading remote css",h.toString())});i.push(c)}})}catch(s){const a=e.find(r=>r.href==null)||document.styleSheets[0];l.href!=null&&i.push(zp(l.href).then(r=>Lp(r,t)).then(r=>Ip(r).forEach(o=>{a.insertRule(o,a.cssRules.length)})).catch(r=>{console.error("Error loading remote stylesheet",r)})),console.error("Error inlining remote css file",s)}}),Promise.all(i).then(()=>(e.forEach(l=>{if("cssRules"in l)try{Kn(l.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${l.href}`,s)}}),n))}function H4(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>lb(t.style.getPropertyValue("src")))}async function q4(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Kn(e.ownerDocument.styleSheets),i=await B4(n,t);return H4(i)}function rb(e){return e.trim().replace(/["']/g,"")}function V4(e){const t=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(s=>{t.add(rb(s))}),Array.from(i.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(e),t}async function G4(e,t){const n=await q4(e,t),i=V4(e);return(await Promise.all(n.filter(s=>i.has(rb(s.style.fontFamily))).map(s=>{const a=s.parentStyleSheet?s.parentStyleSheet.href:null;return sb(s.cssText,a,t)}))).join(`
`)}async function Y4(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await G4(e,t);if(n){const i=document.createElement("style"),l=document.createTextNode(n);i.appendChild(l),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function F4(e,t={}){const{width:n,height:i}=eb(e,t),l=await Oo(e,t,!0);return await Y4(l,t),await ab(l,t),U4(l,t),await o4(l,n,i)}async function Q4(e,t={}){const{width:n,height:i}=eb(e,t),l=await F4(e,t),s=await Fr(l),a=document.createElement("canvas"),r=a.getContext("2d"),o=t.pixelRatio||s4(),c=t.canvasWidth||n,h=t.canvasHeight||i;return a.width=c*o,a.height=h*o,t.skipAutoScale||a4(a),a.style.width=`${c}`,a.style.height=`${h}`,t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(0,0,a.width,a.height)),r.drawImage(s,0,0,a.width,a.height),a}async function K4(e,t={}){return(await Q4(e,t)).toDataURL()}const X4=`data:image/svg+xml,${encodeURIComponent('<svg viewBox="0 0 68 105" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="grass" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#1a472a"/><stop offset="50%" style="stop-color:#166534"/><stop offset="100%" style="stop-color:#1a472a"/></linearGradient></defs><rect width="68" height="105" fill="url(#grass)"/><g stroke="rgba(255,255,255,0.5)" stroke-width="0.4" fill="none"><rect x="4" y="4" width="60" height="97"/><line x1="4" y1="52.5" x2="64" y2="52.5"/><circle cx="34" cy="52.5" r="9.15"/><circle cx="34" cy="52.5" r="0.5" fill="rgba(255,255,255,0.5)"/><rect x="13.84" y="4" width="40.32" height="16.5"/><rect x="24.84" y="4" width="18.32" height="5.5"/><circle cx="34" cy="15" r="0.5" fill="rgba(255,255,255,0.5)"/><path d="M 25.5 20.5 A 9.15 9.15 0 0 0 42.5 20.5"/><rect x="13.84" y="84.5" width="40.32" height="16.5"/><rect x="24.84" y="95.5" width="18.32" height="5.5"/><circle cx="34" cy="90" r="0.5" fill="rgba(255,255,255,0.5)"/><path d="M 25.5 84.5 A 9.15 9.15 0 0 1 42.5 84.5"/><path d="M 4 6 A 2 2 0 0 0 6 4"/><path d="M 62 4 A 2 2 0 0 0 64 6"/><path d="M 4 99 A 2 2 0 0 1 6 101"/><path d="M 62 101 A 2 2 0 0 1 64 99"/></g></svg>')}`,Up=e=>e==="GK"?"gk":/^(LB|RB|LWB|RWB|CB\d*)$/.test(e)?"def":/^(CDM\d*|CM\d*|CAM|LAM|RAM|LM|RM)$/.test(e)?"mid":/^(ST\d*|ST|LW|RW)$/.test(e)?"att":"other",P4=()=>{const[e,t]=T.useState([]),[n,i]=T.useState({}),[l,s]=T.useState("4-2-3-1"),[a,r]=T.useState(!0),[o,c]=T.useState(!1),[h,f]=T.useState(null),[d,m]=T.useState(""),[y,x]=T.useState(!1),[w,g]=T.useState(!1),p=T.useRef(null);T.useEffect(()=>{(async()=>{const j=await dS();t(j),r(!1)})()},[]),T.useEffect(()=>{if(typeof window<"u"){const C="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;g(C)}},[]);const _=(C,j)=>{C.dataTransfer.setData("player",JSON.stringify(j))},v=(C,j)=>{C.preventDefault();const z=JSON.parse(C.dataTransfer.getData("player")),se=C.dataTransfer.getData("sourcePosition");if(se){const Ae=n[j];i(ye=>{const _t={...ye};return Ae?(_t[se]=Ae,_t[j]=z):(delete _t[se],_t[j]=z),_t})}else{if(Object.values(le).some(ye=>ye.id===z.id))return;i(ye=>({...ye,[j]:z}))}},N=C=>{C.preventDefault()},M=C=>{i(j=>{const z={...j};return delete z[C],z})},E=C=>{n[C]||(f(C),c(!0))},D=C=>{h&&(Object.values(le).some(z=>z.id===C.id)||i(z=>({...z,[h]:C}))),c(!1),f(null),m("")},R={"4-3-3":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CM1:{top:"50%",left:"28%"},CM2:{top:"50%",left:"50%"},CM3:{top:"50%",left:"72%"},LW:{top:"25%",left:"12%"},ST:{top:"15%",left:"50%"},RW:{top:"25%",left:"88%"}},"4-4-2":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},LM:{top:"50%",left:"12%"},CM1:{top:"50%",left:"35%"},CM2:{top:"50%",left:"65%"},RM:{top:"50%",left:"88%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}},"4-2-3-1":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM1:{top:"60%",left:"35%"},CDM2:{top:"60%",left:"65%"},LAM:{top:"35%",left:"15%"},CAM:{top:"32%",left:"50%"},RAM:{top:"35%",left:"85%"},ST:{top:"15%",left:"50%"}},"4-1-4-1":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM:{top:"62%",left:"50%"},LM:{top:"45%",left:"12%"},CM1:{top:"45%",left:"35%"},CM2:{top:"45%",left:"65%"},RM:{top:"45%",left:"88%"},ST:{top:"15%",left:"50%"}},"3-5-2":{GK:{top:"93%",left:"50%"},CB1:{top:"78%",left:"25%"},CB2:{top:"78%",left:"50%"},CB3:{top:"78%",left:"75%"},LWB:{top:"55%",left:"8%"},CM1:{top:"50%",left:"28%"},CM2:{top:"50%",left:"50%"},CM3:{top:"50%",left:"72%"},RWB:{top:"55%",left:"92%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}},"4-1-2-1-2 Diamond":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM:{top:"62%",left:"50%"},CM1:{top:"48%",left:"25%"},CM2:{top:"48%",left:"75%"},CAM:{top:"32%",left:"50%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}}};T.useEffect(()=>{const C=Object.keys(R[l]);i(j=>{const z={},se=new Set;for(const Ae of C){const ye=j[Ae];ye&&(z[Ae]=ye,se.add(ye.id))}for(const[Ae,ye]of Object.entries(j)){if(z[Ae]||se.has(ye.id))continue;const _t=Up(Ae),Qd=C.find(Kd=>z[Kd]?!1:Up(Kd)===_t);Qd&&(z[Qd]=ye,se.add(ye.id))}return z})},[l]);const L=R[l],le=Object.keys(L).reduce((C,j)=>(n[j]&&(C[j]=n[j]),C),{}),B=Object.keys(le).length,te=Object.keys(L).length,oe=async()=>{const C=new Date().toISOString().split("T")[0],j=await K4(p.current,{quality:1,pixelRatio:2,backgroundColor:"#030712",style:{transform:"scale(1)"}}),se=await(await fetch(j)).blob(),Ae=`fenerbahce-${l.replace(/[^0-9a-z-]/gi,"")}-lineup-${C}.png`;return{blob:se,fileName:Ae,dataUrl:j}},b=async()=>{if(!(!B||y||!p.current)){x(!0);try{const{dataUrl:C,fileName:j}=await oe(),z=document.createElement("a");z.download=j,z.href=C,z.click()}catch(C){console.error("Kadro kart indirilirken hata olutu:",C),window.alert(`Kart indirilirken bir hata olutu: ${C.message}`)}finally{x(!1)}}},O=async()=>{if(!(!B||y||!p.current)){x(!0);try{const{blob:C,fileName:j}=await oe(),z=new File([C],j,{type:"image/png"});navigator.share&&navigator.canShare({files:[z]})?await navigator.share({title:"Fenerbahe Kadrom",text:`Benim ${l} kadrom! `,files:[z]}):b()}catch(C){C.name!=="AbortError"&&console.error("Paylam hatas:",C)}finally{x(!1)}}},k=Object.entries(L).sort(([,C],[,j])=>parseFloat(C.top)-parseFloat(j.top));return u.jsxs("div",{className:"h-full flex flex-col pb-20",children:[u.jsxs("div",{className:"flex flex-col gap-3 mb-4 px-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("select",{value:l,onChange:C=>s(C.target.value),className:"bg-slate-800 text-white text-sm rounded-lg px-3 py-2 border border-slate-700 focus:outline-none focus:border-yellow-400",children:Object.keys(R).map(C=>u.jsx("option",{value:C,children:C},C))}),u.jsx("button",{onClick:()=>i({}),className:"text-xs text-red-400 hover:text-red-300 font-medium px-3 py-2 bg-red-400/10 rounded-lg border border-red-400/20",children:"Temizle"})]}),u.jsx("div",{className:"glass-panel rounded-xl p-4 flex flex-col gap-3 border border-white/5",children:u.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-white",children:"Kadro Payla"}),u.jsxs("p",{className:"text-[11px] text-slate-400",children:["Tamamlanan kadro: ",u.jsxs("span",{className:"font-semibold text-white",children:[B,"/",te]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:O,disabled:!B||y,className:`px-3 py-2 rounded-lg text-xs font-semibold flex items-center gap-2 transition-colors ${B&&!y?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/40 hover:bg-yellow-500/30":"bg-white/5 text-slate-500 border border-white/10 cursor-not-allowed"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),y?"Hazrlanyor...":"Payla"]}),u.jsxs("button",{onClick:b,disabled:!B||y,className:`px-3 py-2 rounded-lg text-xs font-semibold flex items-center gap-2 transition-colors ${B&&!y?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/40 hover:bg-emerald-500/30":"bg-white/5 text-slate-500 border border-white/10 cursor-not-allowed"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"ndir"]})]})]})})]}),u.jsx("div",{ref:p,className:"relative w-full aspect-[2/3] overflow-hidden mx-auto max-w-sm rounded-xl mb-6",style:{backgroundImage:`url("${X4}")`,backgroundSize:"cover",backgroundPosition:"center"},children:k.map(([C,j])=>{const z=n[C];return u.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 flex items-center justify-center transition-all duration-200",style:j,onDrop:se=>v(se,C),onDragOver:N,onClick:()=>E(C),children:z?u.jsxs("div",{className:"relative w-full h-full flex flex-col items-center group",draggable:!y&&!w,onDragStart:se=>{se.dataTransfer.setData("player",JSON.stringify(z)),se.dataTransfer.setData("sourcePosition",C)},children:[u.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-yellow-400 overflow-hidden bg-slate-800 shadow-lg relative cursor-move z-10 group-hover:scale-110 transition-transform",children:z.photo?u.jsx("img",{src:z.photo,alt:z.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold",children:z.number})}),!y&&u.jsx("button",{type:"button","aria-label":`${z.name} pozisyonundan kar`,onClick:se=>{se.stopPropagation(),M(C)},className:"absolute top-0 right-0 w-4 h-4 rounded-full bg-slate-900/90 backdrop-blur-sm border border-slate-600/50 flex items-center justify-center shadow-md active:scale-90 transition-all z-20 hover:border-yellow-400/60 hover:bg-slate-800",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-2.5 h-2.5 text-slate-400 group-hover:text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),u.jsx("div",{className:"mt-1 bg-slate-900/90 px-2 py-0.5 rounded text-[9px] text-white font-medium truncate w-20 text-center border border-white/10 backdrop-blur-sm shadow-sm z-20",children:z.name.split(" ").pop()})]}):u.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-dashed border-white/40 bg-white/5 flex items-center justify-center hover:bg-white/10 hover:border-yellow-400/50 transition-all cursor-pointer",children:u.jsx("span",{className:"text-2xl text-white/50 hover:text-yellow-400",children:"+"})})},C)})}),u.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-2 px-2 uppercase tracking-wider",children:"Oyuncular"}),u.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar px-2 pb-20 touch-pan-y overscroll-contain [-webkit-overflow-scrolling:touch]",children:u.jsx("div",{className:"grid grid-cols-4 gap-2",children:a?u.jsx("div",{className:"col-span-4 text-center text-slate-500 py-4",children:"Ykleniyor..."}):e.map(C=>u.jsxs("div",{draggable:!w,onDragStart:j=>_(j,C),className:"rounded-lg p-2 flex flex-col items-center gap-1 cursor-move active:scale-95 transition-transform bg-slate-900/75 border border-white/10 shadow-lg hover:bg-slate-800/80",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 overflow-hidden border border-white/10 pointer-events-none",children:C.photo?u.jsx("img",{src:C.photo,alt:C.name,className:"w-full h-full object-cover",crossOrigin:"anonymous",draggable:"false"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:C.number})}),u.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center pointer-events-none",children:C.name.split(" ").slice(-1)[0]}),u.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded pointer-events-none",children:C.position})]},C.id))})})]}),o&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{c(!1),m("")},children:u.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm max-h-[75vh] overflow-hidden flex flex-col",onClick:C=>C.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-white",children:"Oyuncu Se"}),u.jsxs("div",{className:"mt-3 relative",children:[u.jsx("input",{type:"text",value:d,onChange:C=>m(C.target.value),placeholder:"sim ya da forma no ile ara...",className:"w-full bg-slate-900/60 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-yellow-400"}),d&&u.jsx("button",{onClick:()=>m(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white text-xs",children:"Temizle"})]})]}),u.jsx("button",{onClick:()=>{c(!1),m("")},className:"text-slate-400 hover:text-white",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar overscroll-contain [-webkit-overflow-scrolling:touch]",children:u.jsx("div",{className:"grid grid-cols-3 gap-2",children:(()=>{const C=d.trim().toLowerCase(),j=C?e.filter(z=>{var ye;const se=(ye=z.name)==null?void 0:ye.toLowerCase().includes(C),Ae=String(z.number??"").includes(C);return se||Ae}):e;return j.length?j.map(z=>{const se=Object.values(le).some(Ae=>Ae.id===z.id);return u.jsxs("button",{onClick:()=>D(z),disabled:se,className:`rounded-lg p-2 flex flex-col items-center gap-1 transition-all bg-slate-900/75 border border-white/10 shadow-lg ${se?"opacity-50 cursor-not-allowed":"hover:bg-yellow-400/15 hover:border-yellow-400/35 cursor-pointer"}`,children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 overflow-hidden border border-white/10",children:z.photo?u.jsx("img",{src:z.photo,alt:z.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:z.number})}),u.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center",children:z.name.split(" ").slice(-1)[0]}),u.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded",children:z.position})]},z.id)}):u.jsx("div",{className:"col-span-3 text-center text-slate-500 text-xs py-6",children:"Oyuncu bulunamad"})})()})})]})})]})},Bp="fb_fcm_token",Ju=()=>({threeHours:!1,oneHour:!1,thirtyMinutes:!1,fifteenMinutes:!1,dailyCheck:!1}),Hp=(e={})=>({...Ju(),...e}),Z4=()=>{const[e,t]=T.useState(!1),[n,i]=T.useState(()=>{const w=localStorage.getItem("fb_notification_options");if(w)try{return Hp(JSON.parse(w))}catch{return Ju()}return Ju()}),[l,s]=T.useState(null),[a,r]=T.useState(()=>localStorage.getItem("fb_has_notifications")==="true");T.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const o=w=>{s(g=>{const p=g??n;return{...p,[w]:!(p!=null&&p[w])}})},c=()=>{s({...n}),t(!0)},h=()=>{s(null),t(!1)},f=async()=>{const w=Hp(m),g=Object.entries(w).filter(([v,N])=>N&&v!=="updatedAt").length,p=g===0;let _=localStorage.getItem(Bp);try{if(!p)try{if(!("Notification"in window)){alert(" Bu tarayc bildirimleri desteklemiyor.");return}if(await Notification.requestPermission()==="granted"){const{messaging:N}=await Ou(async()=>{const{messaging:R}=await Promise.resolve().then(()=>HN);return{messaging:R}},void 0),{getToken:M}=await Ou(async()=>{const{getToken:R}=await Promise.resolve().then(()=>UN);return{getToken:R}},void 0),E="/fenerbahce-fan-hub/firebase-messaging-sw.js",D="/fenerbahce-fan-hub/firebase-cloud-messaging-push-scope";console.log("FCM Service Worker registration path:",E,"scope:",D);try{let R=await navigator.serviceWorker.getRegistration(D);R||(R=await navigator.serviceWorker.register(E,{scope:D})),console.log(" FCM Service Worker ready:",R),_=await M(N,{vapidKey:"BL36u1e0V4xvIyP8n_Nh1Uc_EZTquN1vNv58E3wm_q3IsQ916MfhsbF1NATwfeoitmAIyhMTC5TdhB7CSBRAz-4",serviceWorkerRegistration:R}),_&&localStorage.setItem(Bp,_)}catch(R){console.error("FCM Service Worker registration failed:",R),alert(` Service Worker hatas: ${R.message}`);return}}else{alert(" Bildirim izni reddedildi! Tarayc ayarlarndan izin vermelisiniz.");return}}catch(v){console.error("Token alnamad:",v),alert(` Bildirim hatas: ${v.message}`);return}if(_){const v=await fetch(`${bn}/reminder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:_,options:w})});if(!v.ok)throw new Error(`Backend error: ${v.status}`);const N=await v.json();console.log("Backend response:",N)}else if(p)console.warn("No stored token found while disabling notifications; local state cleared only.");else{alert(" Bildirim tokeni alnamad. Ltfen tekrar deneyin.");return}g===0?(r(!1),localStorage.removeItem("fb_has_notifications"),localStorage.removeItem("fb_notification_options"),alert(" Tm bildirimler temizlendi!")):(r(!0),localStorage.setItem("fb_has_notifications","true"),localStorage.setItem("fb_notification_options",JSON.stringify(w)),alert(` ${g} bildirim ayarland! Tm malara uygulanacak.`)),i(w),s(null),t(!1)}catch(v){console.error("Bildirim kaydetme hatas:",v),alert(" Balant hatas! Ltfen tekrar deneyin.")}},d=[{id:"threeHours",label:"Matan 3 saat nce",description:"Hazrlk yapmaya zamann olsun"},{id:"oneHour",label:"Matan 1 saat nce",description:"Heyecan zaman!"},{id:"thirtyMinutes",label:"Matan 30 dakika nce",description:"Son hazrlk"},{id:"fifteenMinutes",label:"Matan 15 dakika nce",description:"Ma balyor!"}],m=l??n,y=JSON.stringify(m)!==JSON.stringify(n),x=Object.entries(m).filter(([w,g])=>g&&w!=="updatedAt").length;return Object.entries(n).filter(([w,g])=>g&&w!=="updatedAt").length,u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:c,className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-300 bg-white/5 text-slate-400 hover:bg-white/10 hover:text-yellow-400 hover:scale-110 ${a?"ring-2 ring-yellow-400/60 text-yellow-400/80":""}`,title:"Bildirim ayarlar",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:a?2:1.5,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:h,children:u.jsxs("div",{className:"bg-[#0f172a] border border-white/10 rounded-2xl p-6 max-w-md w-full max-h-[85vh] overflow-y-auto animate-slideUp shadow-2xl",onClick:w=>w.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-white",children:"Bildirim Ayarlar"}),u.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Tm malar iin geerli"})]}),u.jsx("button",{onClick:h,className:"text-slate-400 hover:text-white hover:rotate-90 transition-all duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"glass-panel rounded-xl p-4 mb-6 border border-yellow-400/20",children:[u.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"text-sm font-semibold",children:"Bu ayarlar tm malara uygulanr"})]}),u.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Bir kez ayarla, her ma iin otomatik bildirim al!"})]}),u.jsxs("div",{className:"space-y-3 mb-6",children:[d.map(w=>u.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${m[w.id]?"bg-yellow-400/20 border-yellow-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[u.jsx("input",{type:"checkbox",checked:m[w.id],onChange:()=>o(w.id),className:"mt-1 w-5 h-5 rounded border-2 border-yellow-400 bg-transparent checked:bg-yellow-400 cursor-pointer accent-yellow-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("span",{className:"font-semibold text-white",children:w.label})}),u.jsx("p",{className:"text-xs text-slate-400",children:w.description})]})]},w.id)),u.jsx("div",{className:"pt-3 border-t border-white/10",children:u.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${m.dailyCheck?"bg-blue-400/20 border-blue-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[u.jsx("input",{type:"checkbox",checked:m.dailyCheck,onChange:()=>o("dailyCheck"),className:"mt-1 w-5 h-5 rounded border-2 border-blue-400 bg-transparent checked:bg-blue-400 cursor-pointer accent-blue-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"font-semibold text-white",children:"Gnlk Ma Kontrol"}),u.jsx("span",{className:"text-[10px] bg-blue-500/20 text-blue-300 px-2 py-0.5 rounded-full font-bold",children:"ZEL"})]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Her sabah 09:00'da kontrol et, o gn ma varsa bildir"})]})]})})]}),Object.entries(m).some(([w,g])=>g&&w!=="updatedAt")&&u.jsx("div",{className:"bg-yellow-400/10 border border-yellow-400/30 rounded-lg p-3 mb-4 animate-fadeIn",children:u.jsxs("p",{className:"text-xs text-yellow-200",children:[u.jsx("strong",{className:"text-yellow-400",children:x})," bildirim setiniz"]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:w=>{w.stopPropagation(),h()},className:"flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 transition-all duration-200 font-medium border border-white/10 hover:border-white/20",children:"ptal"}),u.jsx("button",{onClick:f,disabled:!y,className:`flex-1 py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-all duration-200 ${y?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-300 hover:to-yellow-400 shadow-[0_0_20px_rgba(234,179,8,0.3)] hover:shadow-[0_0_30px_rgba(234,179,8,0.5)] hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed opacity-50"}`,children:"Kaydet"})]})]})})]})},$4=[{id:"all",label:"Tm"},{id:"played",label:"Biten"},{id:"upcoming",label:"Kalan"}],W4=[{id:"all",label:"Tm"},{id:"home",label:" Saha"},{id:"away",label:"Deplasman"}],J4=[{id:"all",label:"Tm"},{id:"superlig",label:"Sper Lig"},{id:"europe",label:"Avrupa"}],en=(e="")=>e&&e.replace(/\bFenerbahce\b/gi,"Fenerbahe").replace(/\bBesiktas\b/gi,"Beikta").replace(/\bIstanbul Basaksehir\b/gi,"stanbul Baakehir"),wn=e=>{const t=new Date(e==null?void 0:e.date).getTime();return Number.isFinite(t)?t:0},e3=e=>{const t=new Date(e);return{full:t.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}),time:t.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})}},t3=e=>{const t=e==null?void 0:e.venueName;return t?e!=null&&e.isFbHome&&/ulker|lker|sukru|kr|saracolu|saracoglu/i.test(t)?"Chobani Stadyumu kr Saracolu Spor Kompleksi":t:null},n3=e=>e.status.completed||e.status.state==="in",qp=({team:e,isFenerbahce:t=!1,align:n="left"})=>u.jsxs("div",{className:`flex items-center gap-2 min-w-0 ${n==="right"?"justify-end text-right":""}`,children:[n==="right"&&u.jsx("span",{className:`text-sm font-semibold truncate max-w-[120px] ${t?"text-yellow-300":"text-white"}`,children:en(e.shortName||e.name)}),u.jsx("div",{className:`w-9 h-9 rounded-full overflow-hidden border flex items-center justify-center shrink-0 ${t?"border-yellow-400/40 bg-yellow-400/10":"border-white/10 bg-white/5"}`,children:e.logo?u.jsx("img",{src:e.logo,alt:en(e.name),className:"w-full h-full object-contain p-1",loading:"lazy"}):u.jsx("span",{className:"text-[10px] font-bold text-slate-200",children:(e.abbreviation||en(e.name).slice(0,2)).toUpperCase()})}),n!=="right"&&u.jsx("span",{className:`text-sm font-semibold truncate max-w-[120px] ${t?"text-yellow-300":"text-white"}`,children:en(e.shortName||e.name)})]}),ka=({match:e,featured:t=!1,cardRef:n=null})=>{const i=e3(e.date),l=n3(e),s=t3(e);return u.jsxs("article",{ref:n,className:`glass-panel rounded-2xl p-4 border transition-colors ${t?"border-yellow-400/20 shadow-[0_0_24px_rgba(234,179,8,0.08)]":"border-white/5 hover:border-yellow-400/10"}`,children:[u.jsxs("p",{className:`text-[12px] mb-3 ${t?"text-slate-300":"text-slate-400"}`,children:[i.full,"  ",i.time]}),u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-2",children:[u.jsx(qp,{team:e.homeTeam,isFenerbahce:e.homeTeam.id===e.fbTeam.id,align:"left"}),u.jsx("div",{className:"px-2 text-center shrink-0",children:l?u.jsxs("span",{className:"font-black text-white text-lg tracking-tight",children:[e.homeTeam.score??"-"," ",u.jsx("span",{className:"text-slate-500",children:":"})," ",e.awayTeam.score??"-"]}):u.jsx("span",{className:`font-bold text-sm ${t?"text-yellow-300":"text-slate-400"}`,children:"VS"})}),u.jsx(qp,{team:e.awayTeam,isFenerbahce:e.awayTeam.id===e.fbTeam.id,align:"right"})]}),s&&u.jsx("div",{className:"mt-3 pt-3 border-t border-white/5",children:u.jsx("p",{className:"text-[11px] text-slate-500 truncate",children:s})})]})};function i3(){const[e,t]=T.useState(null),[n,i]=T.useState(!0),[l,s]=T.useState(null),[a,r]=T.useState(!1),[o,c]=T.useState("all"),[h,f]=T.useState(!1),[d,m]=T.useState(""),[y,x]=T.useState("all"),[w,g]=T.useState("all"),p=T.useRef(null);T.useEffect(()=>{let b=!0;return(async()=>{i(!0),s(null);const k=await Cm();b&&(k!=null&&k.error&&s("Fikstr verisi alnamad. Ltfen tekrar dene."),t(k),i(!1))})(),()=>{b=!1}},[]);const _=async()=>{s(null),r(!0);const b=await Cm();b!=null&&b.error&&s("Fikstr verisi alnamad. Ltfen tekrar dene."),t(b),r(!1)},v=T.useMemo(()=>(e==null?void 0:e.matches)??[],[e]),N=T.useMemo(()=>v.filter(b=>b.status.completed||b.status.state==="post").sort((b,O)=>wn(O)-wn(b)),[v]),M=T.useMemo(()=>v.filter(b=>!b.status.completed&&b.status.state!=="post").sort((b,O)=>wn(b)-wn(O)),[v]),E=T.useMemo(()=>o==="played"?N:o==="upcoming"?M:[...M,...N],[o,N,M]),D=d.trim().toLocaleLowerCase("tr-TR"),R=T.useMemo(()=>E.filter(b=>{var O,k,C,j,z;return!(y==="home"&&!b.isFbHome||y==="away"&&b.isFbHome||w!=="all"&&b.competitionGroup!==w||D&&![en(((O=b.homeTeam)==null?void 0:O.name)||""),en(((k=b.homeTeam)==null?void 0:k.shortName)||""),en(((C=b.awayTeam)==null?void 0:C.name)||""),en(((j=b.awayTeam)==null?void 0:j.shortName)||""),en(((z=b.opponentTeam)==null?void 0:z.name)||"")].join(" ").toLocaleLowerCase("tr-TR").includes(D))}),[E,y,w,D]),L=T.useMemo(()=>o!=="all"?[]:R.filter(b=>b.status.completed||b.status.state==="post").sort((b,O)=>wn(b)-wn(O)),[o,R]),W=T.useMemo(()=>o!=="all"?[]:R.filter(b=>!b.status.completed&&b.status.state!=="post").sort((b,O)=>wn(b)-wn(O)),[o,R]),le=W[0]??null,B=W.slice(1),te=[y!=="all",w!=="all",D.length>0].filter(Boolean).length,oe=()=>{m(""),x("all"),g("all")};return u.jsxs("div",{className:"min-h-screen pb-24",children:[u.jsxs("section",{className:"sticky top-0 z-30 mb-4 space-y-3 pt-1 pb-2 bg-gradient-to-b from-slate-950/95 via-slate-950/90 to-transparent backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"grid grid-cols-3 gap-2 flex-1",children:$4.map(b=>u.jsx("button",{onClick:()=>c(b.id),className:`px-2 py-2 rounded-xl text-xs font-semibold transition-all duration-200 ${o===b.id?"bg-yellow-400 text-black shadow-[0_0_18px_rgba(234,179,8,0.25)]":"glass-panel text-slate-300 hover:bg-white/10"}`,children:b.label},b.id))}),u.jsxs("div",{className:"shrink-0 flex items-center gap-1.5",children:[u.jsxs("button",{onClick:()=>f(b=>!b),className:`h-[38px] px-[11px] rounded-xl text-xs font-semibold border transition-colors inline-flex items-center gap-1.5 ${h?"border-yellow-400/30 text-yellow-300 bg-yellow-400/5":"border-white/10 text-slate-300 bg-white/5 hover:bg-white/10"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h18M6 12h12m-9 8h6"})}),u.jsx("span",{children:"Filtre"}),te>0&&u.jsx("span",{className:"min-w-[18px] h-[18px] px-1 rounded-full bg-yellow-400 text-black text-[9px] inline-flex items-center justify-center font-bold",children:te})]}),u.jsxs("button",{onClick:_,disabled:n||a,className:"h-[38px] px-[11px] rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors inline-flex items-center gap-1.5",title:"Fikstr yenile",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`w-4 h-4 text-yellow-300 ${a?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v6h6M20 20v-6h-6M20 9a8 8 0 00-13.66-3.66L4 7m16 10l-2.34 2.34A8 8 0 014 15"})}),u.jsx("span",{children:a?"Yenileniyor":"Yenile"})]})]})]}),h&&u.jsxs("div",{className:"glass-panel rounded-2xl p-3 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 pb-1 border-b border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-yellow-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h18M6 12h12m-9 8h6"})}),u.jsx("p",{className:"text-xs font-semibold text-white",children:"Ma Filtreleri"})]}),u.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-white hover:rotate-90 transition-all duration-300 shrink-0","aria-label":"Filtre panelini kapat",title:"Kapat",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Takm Ara"}),u.jsx("input",{type:"text",value:d,onChange:b=>m(b.target.value),placeholder:"Rakip ad yaz...",className:"w-full rounded-xl border border-white/10 bg-slate-950/40 px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-yellow-400/30"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Saha"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:W4.map(b=>u.jsx("button",{onClick:()=>x(b.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${y===b.id?"bg-yellow-400/10 text-yellow-200 border border-yellow-400/25":"bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10"}`,children:b.label},b.id))})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Kulvar"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:J4.map(b=>u.jsx("button",{onClick:()=>g(b.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${w===b.id?"bg-blue-400/10 text-blue-200 border border-blue-400/25":"bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10"}`,children:b.label},b.id))})]}),u.jsxs("div",{className:"flex items-center justify-between gap-3 pt-1",children:[u.jsxs("p",{className:"text-xs text-slate-400",children:[R.length," ma gsteriliyor"]}),u.jsx("button",{onClick:oe,className:"text-sm font-semibold text-slate-200 hover:text-white transition-colors",children:"Temizle"})]})]})]}),n?u.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((b,O)=>u.jsxs("div",{className:"glass-panel rounded-2xl p-4 animate-pulse",children:[u.jsx("div",{className:"h-4 w-36 bg-white/10 rounded mb-3"}),u.jsx("div",{className:"h-10 w-full bg-white/5 rounded-xl"})]},O))}):u.jsxs("section",{className:"space-y-3",children:[l&&u.jsx("div",{className:"glass-panel rounded-2xl p-4 border border-rose-400/20",children:u.jsx("p",{className:"text-sm text-rose-200",children:l})}),!l&&R.length===0&&u.jsx("div",{className:"glass-panel rounded-2xl p-5 text-center",children:u.jsx("p",{className:"text-sm text-slate-300",children:"Bu filtre iin ma bulunamad."})}),!l&&R.length>0&&o!=="all"&&u.jsx("div",{className:"space-y-2.5",children:R.map(b=>u.jsx(ka,{match:b},b.id))}),!l&&R.length>0&&o==="all"&&u.jsxs("div",{className:"relative space-y-4",children:[L.length>0&&u.jsxs("section",{className:"space-y-2.5",children:[u.jsxs("div",{className:"flex items-center gap-2 px-1",children:[u.jsx("div",{className:"h-px bg-white/10 flex-1"}),u.jsx("p",{className:"text-[11px] uppercase tracking-[0.14em] text-slate-400",children:"Gemi"}),u.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),L.map(b=>u.jsx(ka,{match:b},b.id))]}),le&&u.jsxs("section",{className:"space-y-2.5",children:[L.length>0&&u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-white/10 bg-white/5 px-2.5 py-1 text-[10px] text-white/65 backdrop-blur-sm",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),u.jsx("span",{children:"Gemi"}),u.jsx("span",{className:"text-white/30",children:""}),u.jsx("span",{children:"Kaydr"})]})}),u.jsxs("div",{className:"flex items-center gap-2 px-1",children:[u.jsx("div",{className:"h-px bg-yellow-400/20 flex-1"}),u.jsx("p",{className:"text-[11px] uppercase tracking-[0.14em] text-yellow-300",children:"Sradaki Ma"}),u.jsx("div",{className:"h-px bg-yellow-400/20 flex-1"})]}),u.jsx(ka,{match:le,featured:!0,cardRef:p}),B.length>0&&u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-white/10 bg-white/5 px-2.5 py-1 text-[10px] text-white/65 backdrop-blur-sm",children:[u.jsx("span",{children:"Kaydr"}),u.jsx("span",{className:"text-white/30",children:""}),u.jsx("span",{children:"Gelecek"}),u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),B.length>0&&u.jsxs("section",{className:"space-y-2.5",children:[u.jsxs("div",{className:"flex items-center gap-2 px-1",children:[u.jsx("div",{className:"h-px bg-white/10 flex-1"}),u.jsx("p",{className:"text-[11px] uppercase tracking-[0.14em] text-slate-400",children:"Gelecek"}),u.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),B.map(b=>u.jsx(ka,{match:b},b.id))]})]})]})]})}const l3=()=>{if(typeof window>"u")return null;const e=localStorage.getItem("fb_last_match");if(!e)return null;try{return JSON.parse(e)}catch(t){return console.warn("fb_last_match parse error:",t),null}};function s3(){const[e,t]=T.useState("dashboard"),n=T.useMemo(()=>typeof window>"u"?null:l3(),[]),[i,l]=T.useState((n==null?void 0:n.nextMatch)??null),[s,a]=T.useState((n==null?void 0:n.next3Matches)??[]),[r,o]=T.useState((n==null?void 0:n.timestamp)??null),[c,h]=T.useState(!n),[f,d]=T.useState(!1),[m,y]=T.useState(null),x=T.useRef(!!(n!=null&&n.nextMatch)),[w,g]=T.useState("countdown"),[p,_]=T.useState(null),[v,N]=T.useState(0),M=T.useRef(null),E=T.useRef(null);T.useEffect(()=>{x.current=!!i},[i]);const D=T.useCallback(async()=>{const te=x.current;y(null),te?d(!0):h(!0);try{const[oe,b]=await Promise.all([fS(),hS()]),O=Array.isArray(b)?b:[];if(a(O),oe){l(oe),N(0);const k={nextMatch:oe,next3Matches:O,timestamp:Date.now()};typeof window<"u"&&localStorage.setItem("fb_last_match",JSON.stringify(k)),o(k.timestamp)}else l(null),y("Ma verisi alnamad. Ltfen balantn kontrol edip tekrar dene.")}catch(oe){console.error("loadMatchData error:",oe),l(null),a([]),y("Beklenmeyen bir hata olutu. Tekrar dene veya biraz sonra gel.")}finally{h(!1),d(!1)}},[]);T.useEffect(()=>{D()},[D]);const R=T.useMemo(()=>v===0?i:s.length>v?s[v]:i,[i,s,v]),L=T.useCallback(async()=>{try{const te=await fetch(`${bn}/live-match`);if(!te.ok)return _(null),null;const oe=await te.json();return oe.matchState==="no-match"?(_(null),"no-match"):(_(oe),oe.matchState)}catch(te){return console.error("Live match fetch error:",te),null}},[]),W=T.useCallback(()=>{if(M.current)return;const te=async()=>{const oe=await L();oe&&g(oe==="no-match"?"pre":oe)};te(),M.current=setInterval(te,3e4)},[L]),le=T.useCallback(()=>{M.current&&(clearInterval(M.current),M.current=null)},[]),B=T.useCallback(()=>{g("pre"),W()},[W]);return T.useEffect(()=>(w==="post"&&(E.current=setTimeout(()=>{le(),_(null),g("countdown"),s.length>v+1&&N(te=>te+1)},3e4)),()=>{E.current&&clearTimeout(E.current)}),[w,v,s.length,le]),T.useEffect(()=>()=>{le(),E.current&&clearTimeout(E.current)},[le]),u.jsxs("div",{className:"min-h-screen bg-slate-950 text-white pb-24 relative overflow-hidden",children:[u.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",children:[u.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-yellow-500/10 rounded-full blur-[100px]"}),u.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/20 rounded-full blur-[100px]"})]}),u.jsxs("div",{className:"relative z-10 max-w-md mx-auto h-full min-h-screen flex flex-col",children:[u.jsxs("header",{className:"p-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-yellow-200",children:"Fenerbahe Hub"}),u.jsx("p",{className:"text-slate-400 text-xs",children:"Taraftarn Sesi"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Z4,{}),u.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 p-0.5 shadow-lg shadow-yellow-500/20",children:u.jsx("div",{className:"w-full h-full rounded-full bg-slate-900 flex items-center justify-center overflow-hidden",children:u.jsx("img",{src:"https://media.api-sports.io/football/teams/611.png",alt:"FB Logo",className:"w-8 h-8 object-contain"})})})]})]}),u.jsxs("main",{className:"flex-1 px-4 overflow-y-auto no-scrollbar",children:[e==="dashboard"&&u.jsx(e4,{matchData:R,next3Matches:s,loading:c&&!i,onRetry:D,errorMessage:m,lastUpdated:r,isRefreshing:f,liveMatchState:w,liveMatchData:p,onCountdownEnd:B}),e==="fixtures"&&u.jsx(i3,{}),e==="builder"&&u.jsx(P4,{})]}),u.jsxs("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[88%] max-w-sm glass-panel rounded-2xl p-2 flex justify-around items-center z-50",children:[u.jsxs("button",{onClick:()=>t("dashboard"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="dashboard"?"bg-white/10 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.3)]":"text-slate-400 hover:text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),u.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Pano"})]}),u.jsxs("button",{onClick:()=>t("fixtures"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="fixtures"?"bg-white/10 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.3)]":"text-slate-400 hover:text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10m-11 9h12a2 2 0 002-2V7a2 2 0 00-2-2H6a2 2 0 00-2 2v11a2 2 0 002 2z"})}),u.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Fikstr"})]}),u.jsxs("button",{onClick:()=>t("builder"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="builder"?"bg-yellow-500 text-white shadow-[0_0_20px_rgba(234,179,8,0.5)] scale-110":"bg-slate-800 text-slate-400 hover:text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),u.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Kadro Kur"})]})]})]})]})}"serviceWorker"in navigator&&cS({immediate:!0});aS.createRoot(document.getElementById("root")).render(u.jsx(Cb.StrictMode,{children:u.jsx(s3,{})}));
