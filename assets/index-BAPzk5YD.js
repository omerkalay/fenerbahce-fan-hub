(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function Tp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xp={exports:{}},kr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv=Symbol.for("react.transitional.element"),Yv=Symbol.for("react.fragment");function Np(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var l in t)l!=="key"&&(n[l]=t[l])}else n=t;return t=n.ref,{$$typeof:Gv,type:e,key:i,ref:t!==void 0?t:null,props:n}}kr.Fragment=Yv;kr.jsx=Np;kr.jsxs=Np;xp.exports=kr;var p=xp.exports,Ap={exports:{}},I={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=Symbol.for("react.transitional.element"),Qv=Symbol.for("react.portal"),Fv=Symbol.for("react.fragment"),Kv=Symbol.for("react.strict_mode"),Xv=Symbol.for("react.profiler"),Zv=Symbol.for("react.consumer"),Wv=Symbol.for("react.context"),Pv=Symbol.for("react.forward_ref"),$v=Symbol.for("react.suspense"),Jv=Symbol.for("react.memo"),Rp=Symbol.for("react.lazy"),eb=Symbol.for("react.activity"),kh=Symbol.iterator;function tb(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var Dp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Op=Object.assign,Mp={};function wl(e,t,n){this.props=e,this.context=t,this.refs=Mp,this.updater=n||Dp}wl.prototype.isReactComponent={};wl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zp(){}zp.prototype=wl.prototype;function Gc(e,t,n){this.props=e,this.context=t,this.refs=Mp,this.updater=n||Dp}var Yc=Gc.prototype=new zp;Yc.constructor=Gc;Op(Yc,wl.prototype);Yc.isPureReactComponent=!0;var Ih=Array.isArray;function Eu(){}var ce={H:null,A:null,T:null,S:null},jp=Object.prototype.hasOwnProperty;function Qc(e,t,n){var i=n.ref;return{$$typeof:Vc,type:e,key:t,ref:i!==void 0?i:null,props:n}}function nb(e,t){return Qc(e.type,t,e.props)}function Fc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vc}function ib(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uh=/\/+/g;function vo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ib(""+e.key):t.toString(36)}function lb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Eu,Eu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ii(e,t,n,i,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vc:case Qv:s=!0;break;case Rp:return s=e._init,Ii(s(e._payload),t,n,i,l)}}if(s)return l=l(e),s=i===""?"."+vo(e,0):i,Ih(l)?(n="",s!=null&&(n=s.replace(Uh,"$&/")+"/"),Ii(l,t,n,"",function(u){return u})):l!=null&&(Fc(l)&&(l=nb(l,n+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(Uh,"$&/")+"/")+s)),t.push(l)),1;s=0;var r=i===""?".":i+":";if(Ih(e))for(var o=0;o<e.length;o++)i=e[o],a=r+vo(i,o),s+=Ii(i,t,n,a,l);else if(o=tb(e),typeof o=="function")for(e=o.call(e),o=0;!(i=e.next()).done;)i=i.value,a=r+vo(i,o++),s+=Ii(i,t,n,a,l);else if(a==="object"){if(typeof e.then=="function")return Ii(lb(e),t,n,i,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function os(e,t,n){if(e==null)return e;var i=[],l=0;return Ii(e,i,"","",function(a){return t.call(n,a,l++)}),i}function ab(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sb={map:os,forEach:function(e,t,n){os(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return os(e,function(){t++}),t},toArray:function(e){return os(e,function(t){return t})||[]},only:function(e){if(!Fc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Activity=eb;I.Children=sb;I.Component=wl;I.Fragment=Fv;I.Profiler=Xv;I.PureComponent=Gc;I.StrictMode=Kv;I.Suspense=$v;I.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce;I.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ce.H.useMemoCache(e)}};I.cache=function(e){return function(){return e.apply(null,arguments)}};I.cacheSignal=function(){return null};I.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Op({},e.props),l=e.key;if(t!=null)for(a in t.key!==void 0&&(l=""+t.key),t)!jp.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),r=0;r<a;r++)s[r]=arguments[r+2];i.children=s}return Qc(e.type,l,i)};I.createContext=function(e){return e={$$typeof:Wv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Zv,_context:e},e};I.createElement=function(e,t,n){var i,l={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)jp.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=t[i]);var s=arguments.length-2;if(s===1)l.children=n;else if(1<s){for(var r=Array(s),o=0;o<s;o++)r[o]=arguments[o+2];l.children=r}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)l[i]===void 0&&(l[i]=s[i]);return Qc(e,a,l)};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:Pv,render:e}};I.isValidElement=Fc;I.lazy=function(e){return{$$typeof:Rp,_payload:{_status:-1,_result:e},_init:ab}};I.memo=function(e,t){return{$$typeof:Jv,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=ce.T,n={};ce.T=n;try{var i=e(),l=ce.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Eu,Bh)}catch(a){Bh(a)}finally{t!==null&&n.types!==null&&(t.types=n.types),ce.T=t}};I.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()};I.use=function(e){return ce.H.use(e)};I.useActionState=function(e,t,n){return ce.H.useActionState(e,t,n)};I.useCallback=function(e,t){return ce.H.useCallback(e,t)};I.useContext=function(e){return ce.H.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e,t){return ce.H.useDeferredValue(e,t)};I.useEffect=function(e,t){return ce.H.useEffect(e,t)};I.useEffectEvent=function(e){return ce.H.useEffectEvent(e)};I.useId=function(){return ce.H.useId()};I.useImperativeHandle=function(e,t,n){return ce.H.useImperativeHandle(e,t,n)};I.useInsertionEffect=function(e,t){return ce.H.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return ce.H.useLayoutEffect(e,t)};I.useMemo=function(e,t){return ce.H.useMemo(e,t)};I.useOptimistic=function(e,t){return ce.H.useOptimistic(e,t)};I.useReducer=function(e,t,n){return ce.H.useReducer(e,t,n)};I.useRef=function(e){return ce.H.useRef(e)};I.useState=function(e){return ce.H.useState(e)};I.useSyncExternalStore=function(e,t,n){return ce.H.useSyncExternalStore(e,t,n)};I.useTransition=function(){return ce.H.useTransition()};I.version="19.2.0";Ap.exports=I;var D=Ap.exports;const rb=Tp(D);var Lp={exports:{}},Ir={},kp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,C){var R=S.length;S.push(C);e:for(;0<R;){var B=R-1>>>1,X=S[B];if(0<l(X,C))S[B]=C,S[R]=X,R=B;else break e}}function n(S){return S.length===0?null:S[0]}function i(S){if(S.length===0)return null;var C=S[0],R=S.pop();if(R!==C){S[0]=R;e:for(var B=0,X=S.length,Ge=X>>>1;B<Ge;){var Zn=2*(B+1)-1,tt=S[Zn],Wn=Zn+1,rs=S[Wn];if(0>l(tt,R))Wn<X&&0>l(rs,tt)?(S[B]=rs,S[Wn]=R,B=Wn):(S[B]=tt,S[Zn]=R,B=Zn);else if(Wn<X&&0>l(rs,R))S[B]=rs,S[Wn]=R,B=Wn;else break e}}return C}function l(S,C){var R=S.sortIndex-C.sortIndex;return R!==0?R:S.id-C.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,r=s.now();e.unstable_now=function(){return s.now()-r}}var o=[],u=[],h=1,f=null,c=3,m=!1,y=!1,E=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function v(S){for(var C=n(u);C!==null;){if(C.callback===null)i(u);else if(C.startTime<=S)i(u),C.sortIndex=C.expirationTime,t(o,C);else break;C=n(u)}}function N(S){if(E=!1,v(S),!y)if(n(o)!==null)y=!0,k||(k=!0,mt());else{var C=n(u);C!==null&&A(N,C.startTime-S)}}var k=!1,T=-1,M=5,L=-1;function j(){return x?!0:!(e.unstable_now()-L<M)}function ye(){if(x=!1,k){var S=e.unstable_now();L=S;var C=!0;try{e:{y=!1,E&&(E=!1,d(T),T=-1),m=!0;var R=c;try{t:{for(v(S),f=n(o);f!==null&&!(f.expirationTime>S&&j());){var B=f.callback;if(typeof B=="function"){f.callback=null,c=f.priorityLevel;var X=B(f.expirationTime<=S);if(S=e.unstable_now(),typeof X=="function"){f.callback=X,v(S),C=!0;break t}f===n(o)&&i(o),v(S)}else i(o);f=n(o)}if(f!==null)C=!0;else{var Ge=n(u);Ge!==null&&A(N,Ge.startTime-S),C=!1}}break e}finally{f=null,c=R,m=!1}C=void 0}}finally{C?mt():k=!1}}}var mt;if(typeof _=="function")mt=function(){_(ye)};else if(typeof MessageChannel<"u"){var Xn=new MessageChannel,Q=Xn.port2;Xn.port1.onmessage=ye,mt=function(){Q.postMessage(null)}}else mt=function(){g(ye,0)};function A(S,C){T=g(function(){S(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_next=function(S){switch(c){case 1:case 2:case 3:var C=3;break;default:C=c}var R=c;c=C;try{return S()}finally{c=R}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(S,C){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var R=c;c=S;try{return C()}finally{c=R}},e.unstable_scheduleCallback=function(S,C,R){var B=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?B+R:B):R=B,S){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=R+X,S={id:h++,callback:C,priorityLevel:S,startTime:R,expirationTime:X,sortIndex:-1},R>B?(S.sortIndex=R,t(u,S),n(o)===null&&S===n(u)&&(E?(d(T),T=-1):E=!0,A(N,R-B))):(S.sortIndex=X,t(o,S),y||m||(y=!0,k||(k=!0,mt()))),S},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(S){var C=c;return function(){var R=c;c=C;try{return S.apply(this,arguments)}finally{c=R}}}})(Ip);kp.exports=Ip;var ob=kp.exports,Up={exports:{}},Ve={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub=D;function Bp(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function mn(){}var He={d:{f:mn,r:function(){throw Error(Bp(522))},D:mn,C:mn,L:mn,m:mn,X:mn,S:mn,M:mn},p:0,findDOMNode:null},cb=Symbol.for("react.portal");function fb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var $l=ub.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ur(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He;Ve.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Bp(299));return fb(e,t,null,n)};Ve.flushSync=function(e){var t=$l.T,n=He.p;try{if($l.T=null,He.p=2,e)return e()}finally{$l.T=t,He.p=n,He.d.f()}};Ve.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,He.d.C(e,t))};Ve.prefetchDNS=function(e){typeof e=="string"&&He.d.D(e)};Ve.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Ur(n,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?He.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:a}):n==="script"&&He.d.X(e,{crossOrigin:i,integrity:l,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ve.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ur(t.as,t.crossOrigin);He.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&He.d.M(e)};Ve.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Ur(n,t.crossOrigin);He.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ve.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ur(t.as,t.crossOrigin);He.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else He.d.m(e)};Ve.requestFormReset=function(e){He.d.r(e)};Ve.unstable_batchedUpdates=function(e,t){return e(t)};Ve.useFormState=function(e,t,n){return $l.H.useFormState(e,t,n)};Ve.useFormStatus=function(){return $l.H.useHostTransitionStatus()};Ve.version="19.2.0";function Hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hp)}catch(e){console.error(e)}}Hp(),Up.exports=Ve;var hb=Up.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Te=ob,qp=D,db=hb;function b(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Vp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ga(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yp(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hh(e){if(Ga(e)!==e)throw Error(b(188))}function mb(e){var t=e.alternate;if(!t){if(t=Ga(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Hh(l),e;if(a===i)return Hh(l),t;a=a.sibling}throw Error(b(188))}if(n.return!==i.return)n=l,i=a;else{for(var s=!1,r=l.child;r;){if(r===n){s=!0,n=l,i=a;break}if(r===i){s=!0,i=l,n=a;break}r=r.sibling}if(!s){for(r=a.child;r;){if(r===n){s=!0,n=a,i=l;break}if(r===i){s=!0,i=a,n=l;break}r=r.sibling}if(!s)throw Error(b(189))}}if(n.alternate!==i)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function Qp(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Qp(e),t!==null)return t;e=e.sibling}return null}var fe=Object.assign,pb=Symbol.for("react.element"),us=Symbol.for("react.transitional.element"),Kl=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),Fp=Symbol.for("react.strict_mode"),Cu=Symbol.for("react.profiler"),Kp=Symbol.for("react.consumer"),Xt=Symbol.for("react.context"),Kc=Symbol.for("react.forward_ref"),wu=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),Xc=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),xu=Symbol.for("react.activity"),gb=Symbol.for("react.memo_cache_sentinel"),qh=Symbol.iterator;function kl(e){return e===null||typeof e!="object"?null:(e=qh&&e[qh]||e["@@iterator"],typeof e=="function"?e:null)}var _b=Symbol.for("react.client.reference");function Nu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hi:return"Fragment";case Cu:return"Profiler";case Fp:return"StrictMode";case wu:return"Suspense";case Tu:return"SuspenseList";case xu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Kl:return"Portal";case Xt:return e.displayName||"Context";case Kp:return(e._context.displayName||"Context")+".Consumer";case Kc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xc:return t=e.displayName||null,t!==null?t:Nu(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return Nu(e(t))}catch{}}return null}var Xl=Array.isArray,z=qp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=db.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,si={pending:!1,data:null,method:null,action:null},Au=[],qi=-1;function Ut(e){return{current:e}}function Oe(e){0>qi||(e.current=Au[qi],Au[qi]=null,qi--)}function se(e,t){qi++,Au[qi]=e.current,e.current=t}var kt=Ut(null),ya=Ut(null),xn=Ut(null),Vs=Ut(null);function Gs(e,t){switch(se(xn,t),se(ya,e),se(kt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kd(t),e=dy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Oe(kt),se(kt,e)}function cl(){Oe(kt),Oe(ya),Oe(xn)}function Ru(e){e.memoizedState!==null&&se(Vs,e);var t=kt.current,n=dy(t,e.type);t!==n&&(se(ya,e),se(kt,n))}function Ys(e){ya.current===e&&(Oe(kt),Oe(ya)),Vs.current===e&&(Oe(Vs),Ra._currentValue=si)}var bo,Vh;function $n(e){if(bo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bo=t&&t[1]||"",Vh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bo+e+Vh}var So=!1;function Eo(e,t){if(!e||So)return"";So=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var c=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){c=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){c=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&c&&typeof m.stack=="string")return[m.stack,c.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],r=a[1];if(s&&r){var o=s.split(`
`),u=r.split(`
`);for(l=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;l<u.length&&!u[l].includes("DetermineComponentFrameRoot");)l++;if(i===o.length||l===u.length)for(i=o.length-1,l=u.length-1;1<=i&&0<=l&&o[i]!==u[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==u[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==u[l]){var h=`
`+o[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=l);break}}}finally{So=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$n(n):""}function yb(e,t){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==t&&t!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return Eo(e.type,!1);case 11:return Eo(e.type.render,!1);case 1:return Eo(e.type,!0);case 31:return $n("Activity");default:return""}}function Gh(e){try{var t="",n=null;do t+=yb(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Du=Object.prototype.hasOwnProperty,Zc=Te.unstable_scheduleCallback,Co=Te.unstable_cancelCallback,vb=Te.unstable_shouldYield,bb=Te.unstable_requestPaint,rt=Te.unstable_now,Sb=Te.unstable_getCurrentPriorityLevel,Xp=Te.unstable_ImmediatePriority,Zp=Te.unstable_UserBlockingPriority,Qs=Te.unstable_NormalPriority,Eb=Te.unstable_LowPriority,Wp=Te.unstable_IdlePriority,Cb=Te.log,wb=Te.unstable_setDisableYieldValue,Ya=null,ot=null;function Sn(e){if(typeof Cb=="function"&&wb(e),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Ya,e)}catch{}}var ut=Math.clz32?Math.clz32:Nb,Tb=Math.log,xb=Math.LN2;function Nb(e){return e>>>=0,e===0?32:31-(Tb(e)/xb|0)|0}var cs=256,fs=262144,hs=4194304;function Jn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Br(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var r=i&134217727;return r!==0?(i=r&~a,i!==0?l=Jn(i):(s&=r,s!==0?l=Jn(s):n||(n=r&~e,n!==0&&(l=Jn(n))))):(r=i&~a,r!==0?l=Jn(r):s!==0?l=Jn(s):n||(n=i&~e,n!==0&&(l=Jn(n)))),l===0?0:t!==0&&t!==l&&!(t&a)&&(a=l&-l,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:l}function Qa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ab(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pp(){var e=hs;return hs<<=1,!(hs&62914560)&&(hs=4194304),e}function wo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rb(e,t,n,i,l,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var h=31-ut(n),f=1<<h;r[h]=0,o[h]=-1;var c=u[h];if(c!==null)for(u[h]=null,h=0;h<c.length;h++){var m=c[h];m!==null&&(m.lane&=-536870913)}n&=~f}i!==0&&$p(e,i,0),a!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function $p(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ut(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Jp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ut(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}function eg(e,t){var n=t&-t;return n=n&42?1:Wc(n),n&(e.suspendedLanes|t)?0:n}function Wc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function tg(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:wy(e.type))}function Yh(e,t){var n=P.p;try{return P.p=e,t()}finally{P.p=n}}var Qn=Math.random().toString(36).slice(2),je="__reactFiber$"+Qn,$e="__reactProps$"+Qn,Tl="__reactContainer$"+Qn,Ou="__reactEvents$"+Qn,Db="__reactListeners$"+Qn,Ob="__reactHandles$"+Qn,Qh="__reactResources$"+Qn,Ka="__reactMarker$"+Qn;function $c(e){delete e[je],delete e[$e],delete e[Ou],delete e[Db],delete e[Ob]}function Vi(e){var t=e[je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tl]||n[je]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$d(e);e!==null;){if(n=e[je])return n;e=$d(e)}return t}e=n,n=e.parentNode}return null}function xl(e){if(e=e[je]||e[Tl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Zl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(b(33))}function el(e){var t=e[Qh];return t||(t=e[Qh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Re(e){e[Ka]=!0}var ng=new Set,ig={};function Ci(e,t){fl(e,t),fl(e+"Capture",t)}function fl(e,t){for(ig[e]=t,e=0;e<t.length;e++)ng.add(t[e])}var Mb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fh={},Kh={};function zb(e){return Du.call(Kh,e)?!0:Du.call(Fh,e)?!1:Mb.test(e)?Kh[e]=!0:(Fh[e]=!0,!1)}function xs(e,t,n){if(zb(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ds(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ht(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jb(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mu(e){if(!e._valueTracker){var t=lg(e)?"checked":"value";e._valueTracker=jb(e,t,""+e[t])}}function ag(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=lg(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Lb=/[\n"\\]/g;function vt(e){return e.replace(Lb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function zu(e,t,n,i,l,a,s,r){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+gt(t)):e.value!==""+gt(t)&&(e.value=""+gt(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?ju(e,s,gt(t)):n!=null?ju(e,s,gt(n)):i!=null&&e.removeAttribute("value"),l==null&&a!=null&&(e.defaultChecked=!!a),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+gt(r):e.removeAttribute("name")}function sg(e,t,n,i,l,a,s,r){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){Mu(e);return}n=n!=null?""+gt(n):"",t=t!=null?""+gt(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=r?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Mu(e)}function ju(e,t,n){t==="number"&&Fs(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function tl(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+gt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function rg(e,t,n){if(t!=null&&(t=""+gt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+gt(n):""}function og(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(b(92));if(Xl(i)){if(1<i.length)throw Error(b(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=gt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Mu(e)}function hl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var kb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xh(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||kb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ug(e,t,n){if(t!=null&&typeof t!="object")throw Error(b(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var l in t)i=t[l],t.hasOwnProperty(l)&&n[l]!==i&&Xh(e,l,i)}else for(var a in t)t.hasOwnProperty(a)&&Xh(e,a,t[a])}function Jc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ib=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ub=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(e){return Ub.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zt(){}var Lu=null;function ef(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gi=null,nl=null;function Zh(e){var t=xl(e);if(t&&(e=t.stateNode)){var n=e[$e]||null;e:switch(e=t.stateNode,t.type){case"input":if(zu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=i[$e]||null;if(!l)throw Error(b(90));zu(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&ag(i)}break e;case"textarea":rg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&tl(e,!!n.multiple,t,!1)}}}var To=!1;function cg(e,t,n){if(To)return e(t,n);To=!0;try{var i=e(t);return i}finally{if(To=!1,(Gi!==null||nl!==null)&&(Pr(),Gi&&(t=Gi,e=nl,nl=Gi=null,Zh(t),e)))for(t=0;t<e.length;t++)Zh(e[t])}}function va(e,t){var n=e.stateNode;if(n===null)return null;var i=n[$e]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=!1;if(ln)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){ku=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{ku=!1}var En=null,tf=null,As=null;function fg(){if(As)return As;var e,t=tf,n=t.length,i,l="value"in En?En.value:En.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===l[a-i];i++);return As=l.slice(e,1<i?1-i:void 0)}function Rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ms(){return!0}function Wh(){return!1}function et(e){function t(n,i,l,a,s){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(a):a[r]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ms:Wh,this.isPropagationStopped=Wh,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),t}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=et(wi),Xa=fe({},wi,{view:0,detail:0}),Bb=et(Xa),xo,No,Ul,qr=fe({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ul&&(Ul&&e.type==="mousemove"?(xo=e.screenX-Ul.screenX,No=e.screenY-Ul.screenY):No=xo=0,Ul=e),xo)},movementY:function(e){return"movementY"in e?e.movementY:No}}),Ph=et(qr),Hb=fe({},qr,{dataTransfer:0}),qb=et(Hb),Vb=fe({},Xa,{relatedTarget:0}),Ao=et(Vb),Gb=fe({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Yb=et(Gb),Qb=fe({},wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fb=et(Qb),Kb=fe({},wi,{data:0}),$h=et(Kb),Xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wb[e])?!!t[e]:!1}function nf(){return Pb}var $b=fe({},Xa,{key:function(e){if(e.key){var t=Xb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jb=et($b),e1=fe({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=et(e1),t1=fe({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf}),n1=et(t1),i1=fe({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),l1=et(i1),a1=fe({},qr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),s1=et(a1),r1=fe({},wi,{newState:0,oldState:0}),o1=et(r1),u1=[9,13,27,32],lf=ln&&"CompositionEvent"in window,Jl=null;ln&&"documentMode"in document&&(Jl=document.documentMode);var c1=ln&&"TextEvent"in window&&!Jl,hg=ln&&(!lf||Jl&&8<Jl&&11>=Jl),ed=" ",td=!1;function dg(e,t){switch(e){case"keyup":return u1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yi=!1;function f1(e,t){switch(e){case"compositionend":return mg(t);case"keypress":return t.which!==32?null:(td=!0,ed);case"textInput":return e=t.data,e===ed&&td?null:e;default:return null}}function h1(e,t){if(Yi)return e==="compositionend"||!lf&&dg(e,t)?(e=fg(),As=tf=En=null,Yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hg&&t.locale!=="ko"?null:t.data;default:return null}}var d1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!d1[e.type]:t==="textarea"}function pg(e,t,n,i){Gi?nl?nl.push(i):nl=[i]:Gi=i,t=cr(t,"onChange"),0<t.length&&(n=new Hr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ea=null,ba=null;function m1(e){cy(e,0)}function Vr(e){var t=Zl(e);if(ag(t))return e}function id(e,t){if(e==="change")return t}var gg=!1;if(ln){var Ro;if(ln){var Do="oninput"in document;if(!Do){var ld=document.createElement("div");ld.setAttribute("oninput","return;"),Do=typeof ld.oninput=="function"}Ro=Do}else Ro=!1;gg=Ro&&(!document.documentMode||9<document.documentMode)}function ad(){ea&&(ea.detachEvent("onpropertychange",_g),ba=ea=null)}function _g(e){if(e.propertyName==="value"&&Vr(ba)){var t=[];pg(t,ba,e,ef(e)),cg(m1,t)}}function p1(e,t,n){e==="focusin"?(ad(),ea=t,ba=n,ea.attachEvent("onpropertychange",_g)):e==="focusout"&&ad()}function g1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vr(ba)}function _1(e,t){if(e==="click")return Vr(t)}function y1(e,t){if(e==="input"||e==="change")return Vr(t)}function v1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:v1;function Sa(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!Du.call(t,l)||!ht(e[l],t[l]))return!1}return!0}function sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rd(e,t){var n=sd(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sd(n)}}function yg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Fs(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fs(e.document)}return t}function af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var b1=ln&&"documentMode"in document&&11>=document.documentMode,Qi=null,Iu=null,ta=null,Uu=!1;function od(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uu||Qi==null||Qi!==Fs(i)||(i=Qi,"selectionStart"in i&&af(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ta&&Sa(ta,i)||(ta=i,i=cr(Iu,"onSelect"),0<i.length&&(t=new Hr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Qi)))}function Pn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fi={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionrun:Pn("Transition","TransitionRun"),transitionstart:Pn("Transition","TransitionStart"),transitioncancel:Pn("Transition","TransitionCancel"),transitionend:Pn("Transition","TransitionEnd")},Oo={},bg={};ln&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function Ti(e){if(Oo[e])return Oo[e];if(!Fi[e])return e;var t=Fi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bg)return Oo[e]=t[n];return e}var Sg=Ti("animationend"),Eg=Ti("animationiteration"),Cg=Ti("animationstart"),S1=Ti("transitionrun"),E1=Ti("transitionstart"),C1=Ti("transitioncancel"),wg=Ti("transitionend"),Tg=new Map,Bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bu.push("scrollEnd");function Ot(e,t){Tg.set(e,t),Ci(t,[e])}var Ks=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},pt=[],Ki=0,sf=0;function Gr(){for(var e=Ki,t=sf=Ki=0;t<e;){var n=pt[t];pt[t++]=null;var i=pt[t];pt[t++]=null;var l=pt[t];pt[t++]=null;var a=pt[t];if(pt[t++]=null,i!==null&&l!==null){var s=i.pending;s===null?l.next=l:(l.next=s.next,s.next=l),i.pending=l}a!==0&&xg(n,l,a)}}function Yr(e,t,n,i){pt[Ki++]=e,pt[Ki++]=t,pt[Ki++]=n,pt[Ki++]=i,sf|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function rf(e,t,n,i){return Yr(e,t,n,i),Xs(e)}function xi(e,t){return Yr(e,null,null,t),Xs(e)}function xg(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var l=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(l=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,l&&t!==null&&(l=31-ut(n),e=a.hiddenUpdates,i=e[l],i===null?e[l]=[t]:i.push(t),t.lane=n|536870912),a):null}function Xs(e){if(50<ca)throw ca=0,sc=null,Error(b(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xi={};function w1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,n,i){return new w1(e,t,n,i)}function of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $t(e,t){var n=e.alternate;return n===null?(n=at(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ng(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ds(e,t,n,i,l,a){var s=0;if(i=e,typeof e=="function")of(e)&&(s=1);else if(typeof e=="string")s=RS(e,n,kt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case xu:return e=at(31,n,t,l),e.elementType=xu,e.lanes=a,e;case Hi:return ri(n.children,l,a,t);case Fp:s=8,l|=24;break;case Cu:return e=at(12,n,t,l|2),e.elementType=Cu,e.lanes=a,e;case wu:return e=at(13,n,t,l),e.elementType=wu,e.lanes=a,e;case Tu:return e=at(19,n,t,l),e.elementType=Tu,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xt:s=10;break e;case Kp:s=9;break e;case Kc:s=11;break e;case Xc:s=14;break e;case pn:s=16,i=null;break e}s=29,n=Error(b(130,e===null?"null":typeof e,"")),i=null}return t=at(s,n,t,l),t.elementType=e,t.type=i,t.lanes=a,t}function ri(e,t,n,i){return e=at(7,e,i,t),e.lanes=n,e}function Mo(e,t,n){return e=at(6,e,null,t),e.lanes=n,e}function Ag(e){var t=at(18,null,null,0);return t.stateNode=e,t}function zo(e,t,n){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ud=new WeakMap;function bt(e,t){if(typeof e=="object"&&e!==null){var n=ud.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Gh(t)},ud.set(e,t),t)}return{value:e,source:t,stack:Gh(t)}}var Zi=[],Wi=0,Zs=null,Ea=0,_t=[],yt=0,Un=null,zt=1,jt="";function Ft(e,t){Zi[Wi++]=Ea,Zi[Wi++]=Zs,Zs=e,Ea=t}function Rg(e,t,n){_t[yt++]=zt,_t[yt++]=jt,_t[yt++]=Un,Un=e;var i=zt;e=jt;var l=32-ut(i)-1;i&=~(1<<l),n+=1;var a=32-ut(t)+l;if(30<a){var s=l-l%5;a=(i&(1<<s)-1).toString(32),i>>=s,l-=s,zt=1<<32-ut(t)+l|n<<l|i,jt=a+e}else zt=1<<a|n<<l|i,jt=e}function uf(e){e.return!==null&&(Ft(e,1),Rg(e,1,0))}function cf(e){for(;e===Zs;)Zs=Zi[--Wi],Zi[Wi]=null,Ea=Zi[--Wi],Zi[Wi]=null;for(;e===Un;)Un=_t[--yt],_t[yt]=null,jt=_t[--yt],_t[yt]=null,zt=_t[--yt],_t[yt]=null}function Dg(e,t){_t[yt++]=zt,_t[yt++]=jt,_t[yt++]=Un,zt=t.id,jt=t.overflow,Un=e}var Le=null,ue=null,K=!1,Nn=null,St=!1,Hu=Error(b(519));function Bn(e){var t=Error(b(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ca(bt(t,e)),Hu}function cd(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[je]=e,t[$e]=i,n){case"dialog":V("cancel",t),V("close",t);break;case"iframe":case"object":case"embed":V("load",t);break;case"video":case"audio":for(n=0;n<Na.length;n++)V(Na[n],t);break;case"source":V("error",t);break;case"img":case"image":case"link":V("error",t),V("load",t);break;case"details":V("toggle",t);break;case"input":V("invalid",t),sg(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":V("invalid",t);break;case"textarea":V("invalid",t),og(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||hy(t.textContent,n)?(i.popover!=null&&(V("beforetoggle",t),V("toggle",t)),i.onScroll!=null&&V("scroll",t),i.onScrollEnd!=null&&V("scrollend",t),i.onClick!=null&&(t.onclick=Zt),t=!0):t=!1,t||Bn(e,!0)}function fd(e){for(Le=e.return;Le;)switch(Le.tag){case 5:case 31:case 13:St=!1;return;case 27:case 3:St=!0;return;default:Le=Le.return}}function Oi(e){if(e!==Le)return!1;if(!K)return fd(e),K=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||fc(e.type,e.memoizedProps)),n=!n),n&&ue&&Bn(e),fd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));ue=Pd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));ue=Pd(e)}else t===27?(t=ue,Fn(e.type)?(e=pc,pc=null,ue=e):ue=t):ue=Le?Ct(e.stateNode.nextSibling):null;return!0}function fi(){ue=Le=null,K=!1}function jo(){var e=Nn;return e!==null&&(Ke===null?Ke=e:Ke.push.apply(Ke,e),Nn=null),e}function Ca(e){Nn===null?Nn=[e]:Nn.push(e)}var qu=Ut(null),Ni=null,Wt=null;function _n(e,t,n){se(qu,t._currentValue),t._currentValue=n}function Jt(e){e._currentValue=qu.current,Oe(qu)}function Vu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Gu(e,t,n,i){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var a=l.dependencies;if(a!==null){var s=l.child;a=a.firstContext;e:for(;a!==null;){var r=a;a=l;for(var o=0;o<t.length;o++)if(r.context===t[o]){a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),Vu(a.return,n,e),i||(s=null);break e}a=r.next}}else if(l.tag===18){if(s=l.return,s===null)throw Error(b(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Vu(s,n,e),s=null}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===e){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}}function Nl(e,t,n,i){e=null;for(var l=t,a=!1;l!==null;){if(!a){if(l.flags&524288)a=!0;else if(l.flags&262144)break}if(l.tag===10){var s=l.alternate;if(s===null)throw Error(b(387));if(s=s.memoizedProps,s!==null){var r=l.type;ht(l.pendingProps.value,s.value)||(e!==null?e.push(r):e=[r])}}else if(l===Vs.current){if(s=l.alternate,s===null)throw Error(b(387));s.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Ra):e=[Ra])}l=l.return}e!==null&&Gu(t,e,n,i),t.flags|=262144}function Ws(e){for(e=e.firstContext;e!==null;){if(!ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hi(e){Ni=e,Wt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ke(e){return Og(Ni,e)}function ps(e,t){return Ni===null&&hi(e),Og(e,t)}function Og(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Wt===null){if(e===null)throw Error(b(308));Wt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wt=Wt.next=t;return n}var T1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},x1=Te.unstable_scheduleCallback,N1=Te.unstable_NormalPriority,Se={$$typeof:Xt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new T1,data:new Map,refCount:0}}function Za(e){e.refCount--,e.refCount===0&&x1(N1,function(){e.controller.abort()})}var na=null,Yu=0,dl=0,il=null;function A1(e,t){if(na===null){var n=na=[];Yu=0,dl=kf(),il={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Yu++,t.then(hd,hd),t}function hd(){if(--Yu===0&&na!==null){il!==null&&(il.status="fulfilled");var e=na;na=null,dl=0,il=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function R1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var dd=z.S;z.S=function(e,t){Q_=rt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&A1(e,t),dd!==null&&dd(e,t)};var oi=Ut(null);function hf(){var e=oi.current;return e!==null?e:ne.pooledCache}function Os(e,t){t===null?se(oi,oi.current):se(oi,t.pool)}function Mg(){var e=hf();return e===null?null:{parent:Se._currentValue,pool:e}}var Al=Error(b(460)),df=Error(b(474)),Qr=Error(b(542)),Ps={then:function(){}};function md(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zg(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Zt,Zt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gd(e),e;default:if(typeof t.status=="string")t.then(Zt,Zt);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(b(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=i}},function(i){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gd(e),e}throw ui=t,Al}}function ei(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ui=n,Al):n}}var ui=null;function pd(){if(ui===null)throw Error(b(459));var e=ui;return ui=null,e}function gd(e){if(e===Al||e===Qr)throw Error(b(483))}var ll=null,wa=0;function gs(e){var t=wa;return wa+=1,ll===null&&(ll=[]),zg(ll,e,t)}function Bl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _s(e,t){throw t.$$typeof===pb?Error(b(525)):(e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jg(e){function t(g,d){if(e){var _=g.deletions;_===null?(g.deletions=[d],g.flags|=16):_.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function i(g){for(var d=new Map;g!==null;)g.key!==null?d.set(g.key,g):d.set(g.index,g),g=g.sibling;return d}function l(g,d){return g=$t(g,d),g.index=0,g.sibling=null,g}function a(g,d,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<d?(g.flags|=67108866,d):_):(g.flags|=67108866,d)):(g.flags|=1048576,d)}function s(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function r(g,d,_,v){return d===null||d.tag!==6?(d=Mo(_,g.mode,v),d.return=g,d):(d=l(d,_),d.return=g,d)}function o(g,d,_,v){var N=_.type;return N===Hi?h(g,d,_.props.children,v,_.key):d!==null&&(d.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===pn&&ei(N)===d.type)?(d=l(d,_.props),Bl(d,_),d.return=g,d):(d=Ds(_.type,_.key,_.props,null,g.mode,v),Bl(d,_),d.return=g,d)}function u(g,d,_,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==_.containerInfo||d.stateNode.implementation!==_.implementation?(d=zo(_,g.mode,v),d.return=g,d):(d=l(d,_.children||[]),d.return=g,d)}function h(g,d,_,v,N){return d===null||d.tag!==7?(d=ri(_,g.mode,v,N),d.return=g,d):(d=l(d,_),d.return=g,d)}function f(g,d,_){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=Mo(""+d,g.mode,_),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case us:return _=Ds(d.type,d.key,d.props,null,g.mode,_),Bl(_,d),_.return=g,_;case Kl:return d=zo(d,g.mode,_),d.return=g,d;case pn:return d=ei(d),f(g,d,_)}if(Xl(d)||kl(d))return d=ri(d,g.mode,_,null),d.return=g,d;if(typeof d.then=="function")return f(g,gs(d),_);if(d.$$typeof===Xt)return f(g,ps(g,d),_);_s(g,d)}return null}function c(g,d,_,v){var N=d!==null?d.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return N!==null?null:r(g,d,""+_,v);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case us:return _.key===N?o(g,d,_,v):null;case Kl:return _.key===N?u(g,d,_,v):null;case pn:return _=ei(_),c(g,d,_,v)}if(Xl(_)||kl(_))return N!==null?null:h(g,d,_,v,null);if(typeof _.then=="function")return c(g,d,gs(_),v);if(_.$$typeof===Xt)return c(g,d,ps(g,_),v);_s(g,_)}return null}function m(g,d,_,v,N){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return g=g.get(_)||null,r(d,g,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case us:return g=g.get(v.key===null?_:v.key)||null,o(d,g,v,N);case Kl:return g=g.get(v.key===null?_:v.key)||null,u(d,g,v,N);case pn:return v=ei(v),m(g,d,_,v,N)}if(Xl(v)||kl(v))return g=g.get(_)||null,h(d,g,v,N,null);if(typeof v.then=="function")return m(g,d,_,gs(v),N);if(v.$$typeof===Xt)return m(g,d,_,ps(d,v),N);_s(d,v)}return null}function y(g,d,_,v){for(var N=null,k=null,T=d,M=d=0,L=null;T!==null&&M<_.length;M++){T.index>M?(L=T,T=null):L=T.sibling;var j=c(g,T,_[M],v);if(j===null){T===null&&(T=L);break}e&&T&&j.alternate===null&&t(g,T),d=a(j,d,M),k===null?N=j:k.sibling=j,k=j,T=L}if(M===_.length)return n(g,T),K&&Ft(g,M),N;if(T===null){for(;M<_.length;M++)T=f(g,_[M],v),T!==null&&(d=a(T,d,M),k===null?N=T:k.sibling=T,k=T);return K&&Ft(g,M),N}for(T=i(T);M<_.length;M++)L=m(T,g,M,_[M],v),L!==null&&(e&&L.alternate!==null&&T.delete(L.key===null?M:L.key),d=a(L,d,M),k===null?N=L:k.sibling=L,k=L);return e&&T.forEach(function(ye){return t(g,ye)}),K&&Ft(g,M),N}function E(g,d,_,v){if(_==null)throw Error(b(151));for(var N=null,k=null,T=d,M=d=0,L=null,j=_.next();T!==null&&!j.done;M++,j=_.next()){T.index>M?(L=T,T=null):L=T.sibling;var ye=c(g,T,j.value,v);if(ye===null){T===null&&(T=L);break}e&&T&&ye.alternate===null&&t(g,T),d=a(ye,d,M),k===null?N=ye:k.sibling=ye,k=ye,T=L}if(j.done)return n(g,T),K&&Ft(g,M),N;if(T===null){for(;!j.done;M++,j=_.next())j=f(g,j.value,v),j!==null&&(d=a(j,d,M),k===null?N=j:k.sibling=j,k=j);return K&&Ft(g,M),N}for(T=i(T);!j.done;M++,j=_.next())j=m(T,g,M,j.value,v),j!==null&&(e&&j.alternate!==null&&T.delete(j.key===null?M:j.key),d=a(j,d,M),k===null?N=j:k.sibling=j,k=j);return e&&T.forEach(function(mt){return t(g,mt)}),K&&Ft(g,M),N}function x(g,d,_,v){if(typeof _=="object"&&_!==null&&_.type===Hi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case us:e:{for(var N=_.key;d!==null;){if(d.key===N){if(N=_.type,N===Hi){if(d.tag===7){n(g,d.sibling),v=l(d,_.props.children),v.return=g,g=v;break e}}else if(d.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===pn&&ei(N)===d.type){n(g,d.sibling),v=l(d,_.props),Bl(v,_),v.return=g,g=v;break e}n(g,d);break}else t(g,d);d=d.sibling}_.type===Hi?(v=ri(_.props.children,g.mode,v,_.key),v.return=g,g=v):(v=Ds(_.type,_.key,_.props,null,g.mode,v),Bl(v,_),v.return=g,g=v)}return s(g);case Kl:e:{for(N=_.key;d!==null;){if(d.key===N)if(d.tag===4&&d.stateNode.containerInfo===_.containerInfo&&d.stateNode.implementation===_.implementation){n(g,d.sibling),v=l(d,_.children||[]),v.return=g,g=v;break e}else{n(g,d);break}else t(g,d);d=d.sibling}v=zo(_,g.mode,v),v.return=g,g=v}return s(g);case pn:return _=ei(_),x(g,d,_,v)}if(Xl(_))return y(g,d,_,v);if(kl(_)){if(N=kl(_),typeof N!="function")throw Error(b(150));return _=N.call(_),E(g,d,_,v)}if(typeof _.then=="function")return x(g,d,gs(_),v);if(_.$$typeof===Xt)return x(g,d,ps(g,_),v);_s(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,d!==null&&d.tag===6?(n(g,d.sibling),v=l(d,_),v.return=g,g=v):(n(g,d),v=Mo(_,g.mode,v),v.return=g,g=v),s(g)):n(g,d)}return function(g,d,_,v){try{wa=0;var N=x(g,d,_,v);return ll=null,N}catch(T){if(T===Al||T===Qr)throw T;var k=at(29,T,null,g.mode);return k.lanes=v,k.return=g,k}finally{}}}var di=jg(!0),Lg=jg(!1),gn=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,W&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,t=Xs(e),xg(e,null,n),t}return Yr(e,i,t,n),Xs(e)}function ia(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Jp(e,n)}}function Lo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?l=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Fu=!1;function la(){if(Fu){var e=il;if(e!==null)throw e}}function aa(e,t,n,i){Fu=!1;var l=e.updateQueue;gn=!1;var a=l.firstBaseUpdate,s=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var o=r,u=o.next;o.next=null,s===null?a=u:s.next=u,s=o;var h=e.alternate;h!==null&&(h=h.updateQueue,r=h.lastBaseUpdate,r!==s&&(r===null?h.firstBaseUpdate=u:r.next=u,h.lastBaseUpdate=o))}if(a!==null){var f=l.baseState;s=0,h=u=o=null,r=a;do{var c=r.lane&-536870913,m=c!==r.lane;if(m?(F&c)===c:(i&c)===c){c!==0&&c===dl&&(Fu=!0),h!==null&&(h=h.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var y=e,E=r;c=t;var x=n;switch(E.tag){case 1:if(y=E.payload,typeof y=="function"){f=y.call(x,f,c);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,c=typeof y=="function"?y.call(x,f,c):y,c==null)break e;f=fe({},f,c);break e;case 2:gn=!0}}c=r.callback,c!==null&&(e.flags|=64,m&&(e.flags|=8192),m=l.callbacks,m===null?l.callbacks=[c]:m.push(c))}else m={lane:c,tag:r.tag,payload:r.payload,callback:r.callback,next:null},h===null?(u=h=m,o=f):h=h.next=m,s|=c;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;m=r,r=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);h===null&&(o=f),l.baseState=o,l.firstBaseUpdate=u,l.lastBaseUpdate=h,a===null&&(l.shared.lanes=0),qn|=s,e.lanes=s,e.memoizedState=f}}function kg(e,t){if(typeof e!="function")throw Error(b(191,e));e.call(t)}function Ig(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)kg(n[e],t)}var ml=Ut(null),$s=Ut(0);function _d(e,t){e=on,se($s,e),se(ml,t),on=e|t.baseLanes}function Ku(){se($s,on),se(ml,ml.current)}function pf(){on=$s.current,Oe(ml),Oe($s)}var dt=Ut(null),Et=null;function yn(e){var t=e.alternate;se(ge,ge.current&1),se(dt,e),Et===null&&(t===null||ml.current!==null||t.memoizedState!==null)&&(Et=e)}function Xu(e){se(ge,ge.current),se(dt,e),Et===null&&(Et=e)}function Ug(e){e.tag===22?(se(ge,ge.current),se(dt,e),Et===null&&(Et=e)):vn()}function vn(){se(ge,ge.current),se(dt,dt.current)}function lt(e){Oe(dt),Et===e&&(Et=null),Oe(ge)}var ge=Ut(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||dc(n)||mc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var an=0,U=null,te=null,ve=null,er=!1,al=!1,mi=!1,tr=0,Ta=0,sl=null,D1=0;function me(){throw Error(b(321))}function gf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ht(e[n],t[n]))return!1;return!0}function _f(e,t,n,i,l,a){return an=a,U=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?p_:Af,mi=!1,a=n(i,l),mi=!1,al&&(a=Hg(t,n,i,l)),Bg(e),a}function Bg(e){z.H=xa;var t=te!==null&&te.next!==null;if(an=0,ve=te=U=null,er=!1,Ta=0,sl=null,t)throw Error(b(300));e===null||Ee||(e=e.dependencies,e!==null&&Ws(e)&&(Ee=!0))}function Hg(e,t,n,i){U=e;var l=0;do{if(al&&(sl=null),Ta=0,al=!1,25<=l)throw Error(b(301));if(l+=1,ve=te=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}z.H=g_,a=t(n,i)}while(al);return a}function O1(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Wa(t):t,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(U.flags|=1024),t}function yf(){var e=tr!==0;return tr=0,e}function vf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function bf(e){if(er){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}er=!1}an=0,ve=te=U=null,al=!1,Ta=tr=0,sl=null}function Be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?U.memoizedState=ve=e:ve=ve.next=e,ve}function _e(){if(te===null){var e=U.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var t=ve===null?U.memoizedState:ve.next;if(t!==null)ve=t,te=e;else{if(e===null)throw U.alternate===null?Error(b(467)):Error(b(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},ve===null?U.memoizedState=ve=e:ve=ve.next=e}return ve}function Fr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wa(e){var t=Ta;return Ta+=1,sl===null&&(sl=[]),e=zg(sl,e,t),t=U,(ve===null?t.memoizedState:ve.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?p_:Af),e}function Kr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wa(e);if(e.$$typeof===Xt)return ke(e)}throw Error(b(438,String(e)))}function Sf(e){var t=null,n=U.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=U.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Fr(),U.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=gb;return t.index++,n}function sn(e,t){return typeof t=="function"?t(e):t}function Ms(e){var t=_e();return Ef(t,te,e)}function Ef(e,t,n){var i=e.queue;if(i===null)throw Error(b(311));i.lastRenderedReducer=n;var l=e.baseQueue,a=i.pending;if(a!==null){if(l!==null){var s=l.next;l.next=a.next,a.next=s}t.baseQueue=l=a,i.pending=null}if(a=e.baseState,l===null)e.memoizedState=a;else{t=l.next;var r=s=null,o=null,u=t,h=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(F&f)===f:(an&f)===f){var c=u.revertLane;if(c===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===dl&&(h=!0);else if((an&c)===c){u=u.next,c===dl&&(h=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(r=o=f,s=a):o=o.next=f,U.lanes|=c,qn|=c;f=u.action,mi&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else c={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(r=o=c,s=a):o=o.next=c,U.lanes|=f,qn|=f;u=u.next}while(u!==null&&u!==t);if(o===null?s=a:o.next=r,!ht(a,e.memoizedState)&&(Ee=!0,h&&(n=il,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=o,i.lastRenderedState=a}return l===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ko(e){var t=_e(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do a=e(a,s.action),s=s.next;while(s!==l);ht(a,t.memoizedState)||(Ee=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function qg(e,t,n){var i=U,l=_e(),a=K;if(a){if(n===void 0)throw Error(b(407));n=n()}else n=t();var s=!ht((te||l).memoizedState,n);if(s&&(l.memoizedState=n,Ee=!0),l=l.queue,Cf(Yg.bind(null,i,l,e),[e]),l.getSnapshot!==t||s||ve!==null&&ve.memoizedState.tag&1){if(i.flags|=2048,pl(9,{destroy:void 0},Gg.bind(null,i,l,n,t),null),ne===null)throw Error(b(349));a||an&127||Vg(i,t,n)}return n}function Vg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=U.updateQueue,t===null?(t=Fr(),U.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gg(e,t,n,i){t.value=n,t.getSnapshot=i,Qg(t)&&Fg(e)}function Yg(e,t,n){return n(function(){Qg(t)&&Fg(e)})}function Qg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ht(e,n)}catch{return!0}}function Fg(e){var t=xi(e,2);t!==null&&We(t,e,2)}function Zu(e){var t=Be();if(typeof e=="function"){var n=e;if(e=n(),mi){Sn(!0);try{n()}finally{Sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:e},t}function Kg(e,t,n,i){return e.baseState=n,Ef(e,te,typeof i=="function"?i:sn)}function M1(e,t,n,i,l){if(Zr(e))throw Error(b(485));if(e=t.action,e!==null){var a={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};z.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,Xg(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Xg(e,t){var n=t.action,i=t.payload,l=e.state;if(t.isTransition){var a=z.T,s={};z.T=s;try{var r=n(l,i),o=z.S;o!==null&&o(s,r),yd(e,t,r)}catch(u){Wu(e,t,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),z.T=a}}else try{a=n(l,i),yd(e,t,a)}catch(u){Wu(e,t,u)}}function yd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){vd(e,t,i)},function(i){return Wu(e,t,i)}):vd(e,t,n)}function vd(e,t,n){t.status="fulfilled",t.value=n,Zg(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Xg(e,n)))}function Wu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Zg(t),t=t.next;while(t!==i)}e.action=null}function Zg(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wg(e,t){return t}function bd(e,t){if(K){var n=ne.formState;if(n!==null){e:{var i=U;if(K){if(ue){t:{for(var l=ue,a=St;l.nodeType!==8;){if(!a){l=null;break t}if(l=Ct(l.nextSibling),l===null){l=null;break t}}a=l.data,l=a==="F!"||a==="F"?l:null}if(l){ue=Ct(l.nextSibling),i=l.data==="F!";break e}}Bn(i)}i=!1}i&&(t=n[0])}}return n=Be(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:t},n.queue=i,n=h_.bind(null,U,i),i.dispatch=n,i=Zu(!1),a=Nf.bind(null,U,!1,i.queue),i=Be(),l={state:t,dispatch:null,action:e,pending:null},i.queue=l,n=M1.bind(null,U,l,a,n),l.dispatch=n,i.memoizedState=e,[t,n,!1]}function Sd(e){var t=_e();return Pg(t,te,e)}function Pg(e,t,n){if(t=Ef(e,t,Wg)[0],e=Ms(sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Wa(t)}catch(s){throw s===Al?Qr:s}else i=t;t=_e();var l=t.queue,a=l.dispatch;return n!==t.memoizedState&&(U.flags|=2048,pl(9,{destroy:void 0},z1.bind(null,l,n),null)),[i,a,e]}function z1(e,t){e.action=t}function Ed(e){var t=_e(),n=te;if(n!==null)return Pg(t,n,e);_e(),t=t.memoizedState,n=_e();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function pl(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=U.updateQueue,t===null&&(t=Fr(),U.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function $g(){return _e().memoizedState}function zs(e,t,n,i){var l=Be();U.flags|=e,l.memoizedState=pl(1|t,{destroy:void 0},n,i===void 0?null:i)}function Xr(e,t,n,i){var l=_e();i=i===void 0?null:i;var a=l.memoizedState.inst;te!==null&&i!==null&&gf(i,te.memoizedState.deps)?l.memoizedState=pl(t,a,n,i):(U.flags|=e,l.memoizedState=pl(1|t,a,n,i))}function Cd(e,t){zs(8390656,8,e,t)}function Cf(e,t){Xr(2048,8,e,t)}function j1(e){U.flags|=4;var t=U.updateQueue;if(t===null)t=Fr(),U.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Jg(e){var t=_e().memoizedState;return j1({ref:t,nextImpl:e}),function(){if(W&2)throw Error(b(440));return t.impl.apply(void 0,arguments)}}function e_(e,t){return Xr(4,2,e,t)}function t_(e,t){return Xr(4,4,e,t)}function n_(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function i_(e,t,n){n=n!=null?n.concat([e]):null,Xr(4,4,n_.bind(null,t,e),n)}function wf(){}function l_(e,t){var n=_e();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&gf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function a_(e,t){var n=_e();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&gf(t,i[1]))return i[0];if(i=e(),mi){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[i,t],i}function Tf(e,t,n){return n===void 0||an&1073741824&&!(F&261930)?e.memoizedState=t:(e.memoizedState=n,e=K_(),U.lanes|=e,qn|=e,n)}function s_(e,t,n,i){return ht(n,t)?n:ml.current!==null?(e=Tf(e,n,i),ht(e,t)||(Ee=!0),e):!(an&42)||an&1073741824&&!(F&261930)?(Ee=!0,e.memoizedState=n):(e=K_(),U.lanes|=e,qn|=e,t)}function r_(e,t,n,i,l){var a=P.p;P.p=a!==0&&8>a?a:8;var s=z.T,r={};z.T=r,Nf(e,!1,t,n);try{var o=l(),u=z.S;if(u!==null&&u(r,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=R1(o,i);sa(e,t,h,ct(e))}else sa(e,t,i,ct(e))}catch(f){sa(e,t,{then:function(){},status:"rejected",reason:f},ct())}finally{P.p=a,s!==null&&r.types!==null&&(s.types=r.types),z.T=s}}function L1(){}function Pu(e,t,n,i){if(e.tag!==5)throw Error(b(476));var l=o_(e).queue;r_(e,l,t,si,n===null?L1:function(){return u_(e),n(i)})}function o_(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:si,baseState:si,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:si},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function u_(e){var t=o_(e);t.next===null&&(t=e.alternate.memoizedState),sa(e,t.next.queue,{},ct())}function xf(){return ke(Ra)}function c_(){return _e().memoizedState}function f_(){return _e().memoizedState}function k1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ct();e=An(n);var i=Rn(t,e,n);i!==null&&(We(i,t,n),ia(i,t,n)),t={cache:ff()},e.payload=t;return}t=t.return}}function I1(e,t,n){var i=ct();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Zr(e)?d_(t,n):(n=rf(e,t,n,i),n!==null&&(We(n,e,i),m_(n,t,i)))}function h_(e,t,n){var i=ct();sa(e,t,n,i)}function sa(e,t,n,i){var l={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zr(e))d_(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,r=a(s,n);if(l.hasEagerState=!0,l.eagerState=r,ht(r,s))return Yr(e,t,l,0),ne===null&&Gr(),!1}catch{}finally{}if(n=rf(e,t,l,i),n!==null)return We(n,e,i),m_(n,t,i),!0}return!1}function Nf(e,t,n,i){if(i={lane:2,revertLane:kf(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Zr(e)){if(t)throw Error(b(479))}else t=rf(e,n,i,2),t!==null&&We(t,e,2)}function Zr(e){var t=e.alternate;return e===U||t!==null&&t===U}function d_(e,t){al=er=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function m_(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Jp(e,n)}}var xa={readContext:ke,use:Kr,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};xa.useEffectEvent=me;var p_={readContext:ke,use:Kr,useCallback:function(e,t){return Be().memoizedState=[e,t===void 0?null:t],e},useContext:ke,useEffect:Cd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,zs(4194308,4,n_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){zs(4,2,e,t)},useMemo:function(e,t){var n=Be();t=t===void 0?null:t;var i=e();if(mi){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Be();if(n!==void 0){var l=n(t);if(mi){Sn(!0);try{n(t)}finally{Sn(!1)}}}else l=t;return i.memoizedState=i.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},i.queue=e,e=e.dispatch=I1.bind(null,U,e),[i.memoizedState,e]},useRef:function(e){var t=Be();return e={current:e},t.memoizedState=e},useState:function(e){e=Zu(e);var t=e.queue,n=h_.bind(null,U,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:wf,useDeferredValue:function(e,t){var n=Be();return Tf(n,e,t)},useTransition:function(){var e=Zu(!1);return e=r_.bind(null,U,e.queue,!0,!1),Be().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=U,l=Be();if(K){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),ne===null)throw Error(b(349));F&127||Vg(i,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Cd(Yg.bind(null,i,a,e),[e]),i.flags|=2048,pl(9,{destroy:void 0},Gg.bind(null,i,a,n,t),null),n},useId:function(){var e=Be(),t=ne.identifierPrefix;if(K){var n=jt,i=zt;n=(i&~(1<<32-ut(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=tr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=D1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xf,useFormState:bd,useActionState:bd,useOptimistic:function(e){var t=Be();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Nf.bind(null,U,!0,n),n.dispatch=t,[e,t]},useMemoCache:Sf,useCacheRefresh:function(){return Be().memoizedState=k1.bind(null,U)},useEffectEvent:function(e){var t=Be(),n={impl:e};return t.memoizedState=n,function(){if(W&2)throw Error(b(440));return n.impl.apply(void 0,arguments)}}},Af={readContext:ke,use:Kr,useCallback:l_,useContext:ke,useEffect:Cf,useImperativeHandle:i_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:a_,useReducer:Ms,useRef:$g,useState:function(){return Ms(sn)},useDebugValue:wf,useDeferredValue:function(e,t){var n=_e();return s_(n,te.memoizedState,e,t)},useTransition:function(){var e=Ms(sn)[0],t=_e().memoizedState;return[typeof e=="boolean"?e:Wa(e),t]},useSyncExternalStore:qg,useId:c_,useHostTransitionStatus:xf,useFormState:Sd,useActionState:Sd,useOptimistic:function(e,t){var n=_e();return Kg(n,te,e,t)},useMemoCache:Sf,useCacheRefresh:f_};Af.useEffectEvent=Jg;var g_={readContext:ke,use:Kr,useCallback:l_,useContext:ke,useEffect:Cf,useImperativeHandle:i_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:a_,useReducer:ko,useRef:$g,useState:function(){return ko(sn)},useDebugValue:wf,useDeferredValue:function(e,t){var n=_e();return te===null?Tf(n,e,t):s_(n,te.memoizedState,e,t)},useTransition:function(){var e=ko(sn)[0],t=_e().memoizedState;return[typeof e=="boolean"?e:Wa(e),t]},useSyncExternalStore:qg,useId:c_,useHostTransitionStatus:xf,useFormState:Ed,useActionState:Ed,useOptimistic:function(e,t){var n=_e();return te!==null?Kg(n,te,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:f_};g_.useEffectEvent=Jg;function Io(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $u={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ct(),l=An(i);l.payload=t,n!=null&&(l.callback=n),t=Rn(e,l,i),t!==null&&(We(t,e,i),ia(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ct(),l=An(i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Rn(e,l,i),t!==null&&(We(t,e,i),ia(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),i=An(n);i.tag=2,t!=null&&(i.callback=t),t=Rn(e,i,n),t!==null&&(We(t,e,n),ia(t,e,n))}};function wd(e,t,n,i,l,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,s):t.prototype&&t.prototype.isPureReactComponent?!Sa(n,i)||!Sa(l,a):!0}function Td(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&$u.enqueueReplaceState(t,t.state,null)}function pi(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=fe({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function __(e){Ks(e)}function y_(e){console.error(e)}function v_(e){Ks(e)}function nr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function xd(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Ju(e,t,n){return n=An(n),n.tag=3,n.payload={element:null},n.callback=function(){nr(e,t)},n}function b_(e){return e=An(e),e.tag=3,e}function S_(e,t,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var a=i.value;e.payload=function(){return l(a)},e.callback=function(){xd(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){xd(t,n,i),typeof l!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function U1(e,t,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Nl(t,n,l,!0),n=dt.current,n!==null){switch(n.tag){case 31:case 13:return Et===null?rr():n.alternate===null&&pe===0&&(pe=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===Ps?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Xo(e,i,l)),!1;case 22:return n.flags|=65536,i===Ps?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Xo(e,i,l)),!1}throw Error(b(435,n.tag))}return Xo(e,i,l),rr(),!1}if(K)return t=dt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,i!==Hu&&(e=Error(b(422),{cause:i}),Ca(bt(e,n)))):(i!==Hu&&(t=Error(b(423),{cause:i}),Ca(bt(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,i=bt(i,n),l=Ju(e.stateNode,i,l),Lo(e,l),pe!==4&&(pe=2)),!1;var a=Error(b(520),{cause:i});if(a=bt(a,n),ua===null?ua=[a]:ua.push(a),pe!==4&&(pe=2),t===null)return!0;i=bt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=Ju(n.stateNode,i,e),Lo(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Dn===null||!Dn.has(a))))return n.flags|=65536,l&=-l,n.lanes|=l,l=b_(l),S_(l,e,n,i),Lo(n,l),!1}n=n.return}while(n!==null);return!1}var Rf=Error(b(461)),Ee=!1;function Me(e,t,n,i){t.child=e===null?Lg(t,null,n,i):di(t,e.child,n,i)}function Nd(e,t,n,i,l){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var r in i)r!=="ref"&&(s[r]=i[r])}else s=i;return hi(t),i=_f(e,t,n,s,a,l),r=yf(),e!==null&&!Ee?(vf(e,t,l),rn(e,t,l)):(K&&r&&uf(t),t.flags|=1,Me(e,t,i,l),t.child)}function Ad(e,t,n,i,l){if(e===null){var a=n.type;return typeof a=="function"&&!of(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,E_(e,t,a,i,l)):(e=Ds(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Df(e,l)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Sa,n(s,i)&&e.ref===t.ref)return rn(e,t,l)}return t.flags|=1,e=$t(a,i),e.ref=t.ref,e.return=t,t.child=e}function E_(e,t,n,i,l){if(e!==null){var a=e.memoizedProps;if(Sa(a,i)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=i=a,Df(e,l))e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,rn(e,t,l)}return ec(e,t,n,i,l)}function C_(e,t,n,i){var l=i.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(i=t.child=e.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;i=l&~a}else i=0,t.child=null;return Rd(e,t,a,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Os(t,a!==null?a.cachePool:null),a!==null?_d(t,a):Ku(),Ug(t);else return i=t.lanes=536870912,Rd(e,t,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(Os(t,a.cachePool),_d(t,a),vn(),t.memoizedState=null):(e!==null&&Os(t,null),Ku(),vn());return Me(e,t,l,n),t.child}function Wl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rd(e,t,n,i,l){var a=hf();return a=a===null?null:{parent:Se._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Os(t,null),Ku(),Ug(t),e!==null&&Nl(e,t,i,!0),t.childLanes=l,null}function js(e,t){return t=ir({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Dd(e,t,n){return di(t,e.child,null,n),e=js(t,t.pendingProps),e.flags|=2,lt(t),t.memoizedState=null,e}function B1(e,t,n){var i=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(K){if(i.mode==="hidden")return e=js(t,i),t.lanes=536870912,Wl(null,e);if(Xu(t),(e=ue)?(e=py(e,St),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:zt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},n=Ag(e),n.return=t,t.child=n,Le=t,ue=null)):e=null,e===null)throw Bn(t);return t.lanes=536870912,null}return js(t,i)}var a=e.memoizedState;if(a!==null){var s=a.dehydrated;if(Xu(t),l)if(t.flags&256)t.flags&=-257,t=Dd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(b(558));else if(Ee||Nl(e,t,n,!1),l=(n&e.childLanes)!==0,Ee||l){if(i=ne,i!==null&&(s=eg(i,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,xi(e,s),We(i,e,s),Rf;rr(),t=Dd(e,t,n)}else e=a.treeContext,ue=Ct(s.nextSibling),Le=t,K=!0,Nn=null,St=!1,e!==null&&Dg(t,e),t=js(t,i),t.flags|=4096;return t}return e=$t(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ls(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(b(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ec(e,t,n,i,l){return hi(t),n=_f(e,t,n,i,void 0,l),i=yf(),e!==null&&!Ee?(vf(e,t,l),rn(e,t,l)):(K&&i&&uf(t),t.flags|=1,Me(e,t,n,l),t.child)}function Od(e,t,n,i,l,a){return hi(t),t.updateQueue=null,n=Hg(t,i,n,l),Bg(e),i=yf(),e!==null&&!Ee?(vf(e,t,a),rn(e,t,a)):(K&&i&&uf(t),t.flags|=1,Me(e,t,n,a),t.child)}function Md(e,t,n,i,l){if(hi(t),t.stateNode===null){var a=Xi,s=n.contextType;typeof s=="object"&&s!==null&&(a=ke(s)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=$u,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},mf(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?ke(s):Xi,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Io(t,n,s,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&$u.enqueueReplaceState(a,a.state,null),aa(t,i,a,l),la(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var r=t.memoizedProps,o=pi(n,r);a.props=o;var u=a.context,h=n.contextType;s=Xi,typeof h=="object"&&h!==null&&(s=ke(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r||u!==s)&&Td(t,a,i,s),gn=!1;var c=t.memoizedState;a.state=c,aa(t,i,a,l),la(),u=t.memoizedState,r||c!==u||gn?(typeof f=="function"&&(Io(t,n,f,i),u=t.memoizedState),(o=gn||wd(t,n,o,i,c,u,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=s,i=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Qu(e,t),s=t.memoizedProps,h=pi(n,s),a.props=h,f=t.pendingProps,c=a.context,u=n.contextType,o=Xi,typeof u=="object"&&u!==null&&(o=ke(u)),r=n.getDerivedStateFromProps,(u=typeof r=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||c!==o)&&Td(t,a,i,o),gn=!1,c=t.memoizedState,a.state=c,aa(t,i,a,l),la();var m=t.memoizedState;s!==f||c!==m||gn||e!==null&&e.dependencies!==null&&Ws(e.dependencies)?(typeof r=="function"&&(Io(t,n,r,i),m=t.memoizedState),(h=gn||wd(t,n,h,i,c,m,o)||e!==null&&e.dependencies!==null&&Ws(e.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),a.props=i,a.state=m,a.context=o,i=h):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Ls(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=di(t,e.child,null,l),t.child=di(t,null,n,l)):Me(e,t,n,l),t.memoizedState=a.state,e=t.child):e=rn(e,t,l),e}function zd(e,t,n,i){return fi(),t.flags|=256,Me(e,t,n,i),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:Mg()}}function Ho(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=st),e}function w_(e,t,n){var i=t.pendingProps,l=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),s&&(l=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(K){if(l?yn(t):vn(),(e=ue)?(e=py(e,St),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:zt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},n=Ag(e),n.return=t,t.child=n,Le=t,ue=null)):e=null,e===null)throw Bn(t);return mc(e)?t.lanes=32:t.lanes=536870912,null}var r=i.children;return i=i.fallback,l?(vn(),l=t.mode,r=ir({mode:"hidden",children:r},l),i=ri(i,l,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i=t.child,i.memoizedState=Bo(n),i.childLanes=Ho(e,s,n),t.memoizedState=Uo,Wl(null,i)):(yn(t),tc(t,r))}var o=e.memoizedState;if(o!==null&&(r=o.dehydrated,r!==null)){if(a)t.flags&256?(yn(t),t.flags&=-257,t=qo(e,t,n)):t.memoizedState!==null?(vn(),t.child=e.child,t.flags|=128,t=null):(vn(),r=i.fallback,l=t.mode,i=ir({mode:"visible",children:i.children},l),r=ri(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,di(t,e.child,null,n),i=t.child,i.memoizedState=Bo(n),i.childLanes=Ho(e,s,n),t.memoizedState=Uo,t=Wl(null,i));else if(yn(t),mc(r)){if(s=r.nextSibling&&r.nextSibling.dataset,s)var u=s.dgst;s=u,i=Error(b(419)),i.stack="",i.digest=s,Ca({value:i,source:null,stack:null}),t=qo(e,t,n)}else if(Ee||Nl(e,t,n,!1),s=(n&e.childLanes)!==0,Ee||s){if(s=ne,s!==null&&(i=eg(s,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,xi(e,i),We(s,e,i),Rf;dc(r)||rr(),t=qo(e,t,n)}else dc(r)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ue=Ct(r.nextSibling),Le=t,K=!0,Nn=null,St=!1,e!==null&&Dg(t,e),t=tc(t,i.children),t.flags|=4096);return t}return l?(vn(),r=i.fallback,l=t.mode,o=e.child,u=o.sibling,i=$t(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,u!==null?r=$t(u,r):(r=ri(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,Wl(null,i),i=t.child,r=e.child.memoizedState,r===null?r=Bo(n):(l=r.cachePool,l!==null?(o=Se._currentValue,l=l.parent!==o?{parent:o,pool:o}:l):l=Mg(),r={baseLanes:r.baseLanes|n,cachePool:l}),i.memoizedState=r,i.childLanes=Ho(e,s,n),t.memoizedState=Uo,Wl(e.child,i)):(yn(t),n=e.child,e=n.sibling,n=$t(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function tc(e,t){return t=ir({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ir(e,t){return e=at(22,e,null,t),e.lanes=0,e}function qo(e,t,n){return di(t,e.child,null,n),e=tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jd(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Vu(e.return,t,n)}function Vo(e,t,n,i,l,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=l,s.treeForkCount=a)}function T_(e,t,n){var i=t.pendingProps,l=i.revealOrder,a=i.tail;i=i.children;var s=ge.current,r=(s&2)!==0;if(r?(s=s&1|2,t.flags|=128):s&=1,se(ge,s),Me(e,t,i,n),i=K?Ea:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jd(e,n,t);else if(e.tag===19)jd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Js(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Vo(t,!1,l,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Js(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Vo(t,!0,n,null,a,i);break;case"together":Vo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,!(n&t.childLanes))if(e!==null){if(Nl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=$t(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$t(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Df(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ws(e)))}function H1(e,t,n){switch(t.tag){case 3:Gs(t,t.stateNode.containerInfo),_n(t,Se,e.memoizedState.cache),fi();break;case 27:case 5:Ru(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:_n(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Xu(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(yn(t),t.flags|=128,null):n&t.child.childLanes?w_(e,t,n):(yn(t),e=rn(e,t,n),e!==null?e.sibling:null);yn(t);break;case 19:var l=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Nl(e,t,n,!1),i=(n&t.childLanes)!==0),l){if(i)return T_(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),se(ge,ge.current),i)break;return null;case 22:return t.lanes=0,C_(e,t,n,t.pendingProps);case 24:_n(t,Se,e.memoizedState.cache)}return rn(e,t,n)}function x_(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ee=!0;else{if(!Df(e,n)&&!(t.flags&128))return Ee=!1,H1(e,t,n);Ee=!!(e.flags&131072)}else Ee=!1,K&&t.flags&1048576&&Rg(t,Ea,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ei(t.elementType),t.type=e,typeof e=="function")of(e)?(i=pi(e,i),t.tag=1,t=Md(null,t,e,i,n)):(t.tag=0,t=ec(null,t,e,i,n));else{if(e!=null){var l=e.$$typeof;if(l===Kc){t.tag=11,t=Nd(null,t,e,i,n);break e}else if(l===Xc){t.tag=14,t=Ad(null,t,e,i,n);break e}}throw t=Nu(e)||e,Error(b(306,t,""))}}return t;case 0:return ec(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,l=pi(i,t.pendingProps),Md(e,t,i,l,n);case 3:e:{if(Gs(t,t.stateNode.containerInfo),e===null)throw Error(b(387));i=t.pendingProps;var a=t.memoizedState;l=a.element,Qu(e,t),aa(t,i,null,n);var s=t.memoizedState;if(i=s.cache,_n(t,Se,i),i!==a.cache&&Gu(t,[Se],n,!0),la(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=zd(e,t,i,n);break e}else if(i!==l){l=bt(Error(b(424)),t),Ca(l),t=zd(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Ct(e.firstChild),Le=t,K=!0,Nn=null,St=!0,n=Lg(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fi(),i===l){t=rn(e,t,n);break e}Me(e,t,i,n)}t=t.child}return t;case 26:return Ls(e,t),e===null?(n=em(t.type,null,t.pendingProps,null))?t.memoizedState=n:K||(n=t.type,e=t.pendingProps,i=fr(xn.current).createElement(n),i[je]=t,i[$e]=e,Ie(i,n,e),Re(i),t.stateNode=i):t.memoizedState=em(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ru(t),e===null&&K&&(i=t.stateNode=gy(t.type,t.pendingProps,xn.current),Le=t,St=!0,l=ue,Fn(t.type)?(pc=l,ue=Ct(i.firstChild)):ue=l),Me(e,t,t.pendingProps.children,n),Ls(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&K&&((l=i=ue)&&(i=gS(i,t.type,t.pendingProps,St),i!==null?(t.stateNode=i,Le=t,ue=Ct(i.firstChild),St=!1,l=!0):l=!1),l||Bn(t)),Ru(t),l=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,fc(l,a)?i=null:s!==null&&fc(l,s)&&(t.flags|=32),t.memoizedState!==null&&(l=_f(e,t,O1,null,null,n),Ra._currentValue=l),Ls(e,t),Me(e,t,i,n),t.child;case 6:return e===null&&K&&((e=n=ue)&&(n=_S(n,t.pendingProps,St),n!==null?(t.stateNode=n,Le=t,ue=null,e=!0):e=!1),e||Bn(t)),null;case 13:return w_(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=di(t,null,i,n):Me(e,t,i,n),t.child;case 11:return Nd(e,t,t.type,t.pendingProps,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,_n(t,t.type,i.value),Me(e,t,i.children,n),t.child;case 9:return l=t.type._context,i=t.pendingProps.children,hi(t),l=ke(l),i=i(l),t.flags|=1,Me(e,t,i,n),t.child;case 14:return Ad(e,t,t.type,t.pendingProps,n);case 15:return E_(e,t,t.type,t.pendingProps,n);case 19:return T_(e,t,n);case 31:return B1(e,t,n);case 22:return C_(e,t,n,t.pendingProps);case 24:return hi(t),i=ke(Se),e===null?(l=hf(),l===null&&(l=ne,a=ff(),l.pooledCache=a,a.refCount++,a!==null&&(l.pooledCacheLanes|=n),l=a),t.memoizedState={parent:i,cache:l},mf(t),_n(t,Se,l)):(e.lanes&n&&(Qu(e,t),aa(t,null,null,n),la()),l=e.memoizedState,a=t.memoizedState,l.parent!==i?(l={parent:i,cache:i},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),_n(t,Se,i)):(i=a.cache,_n(t,Se,i),i!==l.cache&&Gu(t,[Se],n,!0))),Me(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(b(156,t.tag))}function qt(e){e.flags|=4}function Go(e,t,n,i,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(W_())e.flags|=8192;else throw ui=Ps,df}else e.flags&=-16777217}function Ld(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!vy(t))if(W_())e.flags|=8192;else throw ui=Ps,df}function ys(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pp():536870912,e.lanes|=t,gl|=t)}function Hl(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function q1(e,t,n){var i=t.pendingProps;switch(cf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(t),null;case 1:return re(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Jt(Se),cl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Oi(t)?qt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jo())),re(t),null;case 26:var l=t.type,a=t.memoizedState;return e===null?(qt(t),a!==null?(re(t),Ld(t,a)):(re(t),Go(t,l,null,i,n))):a?a!==e.memoizedState?(qt(t),re(t),Ld(t,a)):(re(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&qt(t),re(t),Go(t,l,e,i,n)),null;case 27:if(Ys(t),n=xn.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&qt(t);else{if(!i){if(t.stateNode===null)throw Error(b(166));return re(t),null}e=kt.current,Oi(t)?cd(t):(e=gy(l,i,n),t.stateNode=e,qt(t))}return re(t),null;case 5:if(Ys(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&qt(t);else{if(!i){if(t.stateNode===null)throw Error(b(166));return re(t),null}if(a=kt.current,Oi(t))cd(t);else{var s=fr(xn.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?s.createElement(l,{is:i.is}):s.createElement(l)}}a[je]=t,a[$e]=i;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(Ie(a,l,i),l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&qt(t)}}return re(t),Go(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&qt(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(b(166));if(e=xn.current,Oi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,l=Le,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}e[je]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||hy(e.nodeValue,n)),e||Bn(t,!0)}else e=fr(e).createTextNode(i),e[je]=t,t.stateNode=e}return re(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Oi(t),n!==null){if(e===null){if(!i)throw Error(b(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(557));e[je]=t}else fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;re(t),e=!1}else n=jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(lt(t),t):(lt(t),null);if(t.flags&128)throw Error(b(558))}return re(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Oi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(b(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(b(317));l[je]=t}else fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;re(t),l=!1}else l=jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(lt(t),t):(lt(t),null)}return lt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ys(t,t.updateQueue),re(t),null);case 4:return cl(),e===null&&If(t.stateNode.containerInfo),re(t),null;case 10:return Jt(t.type),re(t),null;case 19:if(Oe(ge),i=t.memoizedState,i===null)return re(t),null;if(l=(t.flags&128)!==0,a=i.rendering,a===null)if(l)Hl(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Js(e),a!==null){for(t.flags|=128,Hl(i,!1),e=a.updateQueue,t.updateQueue=e,ys(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ng(n,e),n=n.sibling;return se(ge,ge.current&1|2),K&&Ft(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&rt()>ar&&(t.flags|=128,l=!0,Hl(i,!1),t.lanes=4194304)}else{if(!l)if(e=Js(a),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,ys(t,e),Hl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!K)return re(t),null}else 2*rt()-i.renderingStartTime>ar&&n!==536870912&&(t.flags|=128,l=!0,Hl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rt(),e.sibling=null,n=ge.current,se(ge,l?n&1|2:n&1),K&&Ft(t,i.treeForkCount),e):(re(t),null);case 22:case 23:return lt(t),pf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(re(t),t.subtreeFlags&6&&(t.flags|=8192)):re(t),n=t.updateQueue,n!==null&&ys(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Oe(oi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Jt(Se),re(t),null;case 25:return null;case 30:return null}throw Error(b(156,t.tag))}function V1(e,t){switch(cf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jt(Se),cl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ys(t),null;case 31:if(t.memoizedState!==null){if(lt(t),t.alternate===null)throw Error(b(340));fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(ge),null;case 4:return cl(),null;case 10:return Jt(t.type),null;case 22:case 23:return lt(t),pf(),e!==null&&Oe(oi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Jt(Se),null;case 25:return null;default:return null}}function N_(e,t){switch(cf(t),t.tag){case 3:Jt(Se),cl();break;case 26:case 27:case 5:Ys(t);break;case 4:cl();break;case 31:t.memoizedState!==null&&lt(t);break;case 13:lt(t);break;case 19:Oe(ge);break;case 10:Jt(t.type);break;case 22:case 23:lt(t),pf(),e!==null&&Oe(oi);break;case 24:Jt(Se)}}function Pa(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&e)===e){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==l)}}catch(r){J(t,t.return,r)}}function Hn(e,t,n){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var a=l.next;i=a;do{if((i.tag&e)===e){var s=i.inst,r=s.destroy;if(r!==void 0){s.destroy=void 0,l=t;var o=n,u=r;try{u()}catch(h){J(l,o,h)}}}i=i.next}while(i!==a)}}catch(h){J(t,t.return,h)}}function A_(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ig(t,n)}catch(i){J(e,e.return,i)}}}function R_(e,t,n){n.props=pi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){J(e,t,i)}}function ra(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(l){J(e,t,l)}}function Lt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){J(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){J(e,t,l)}else n.current=null}function D_(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){J(e,e.return,l)}}function Yo(e,t,n){try{var i=e.stateNode;cS(i,e.type,n,t),i[$e]=t}catch(l){J(e,e.return,l)}}function O_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function Qo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||O_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zt));else if(i!==4&&(i===27&&Fn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(nc(e,t,n),e=e.sibling;e!==null;)nc(e,t,n),e=e.sibling}function lr(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Fn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(lr(e,t,n),e=e.sibling;e!==null;)lr(e,t,n),e=e.sibling}function M_(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Ie(t,i,n),t[je]=e,t[$e]=n}catch(a){J(e,e.return,a)}}var Kt=!1,be=!1,Fo=!1,kd=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function G1(e,t){if(e=e.containerInfo,uc=pr,e=vg(e),af(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,r=-1,o=-1,u=0,h=0,f=e,c=null;t:for(;;){for(var m;f!==n||l!==0&&f.nodeType!==3||(r=s+l),f!==a||i!==0&&f.nodeType!==3||(o=s+i),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)c=f,f=m;for(;;){if(f===e)break t;if(c===n&&++u===l&&(r=s),c===a&&++h===i&&(o=s),(m=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=m}n=r===-1||o===-1?null:{start:r,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(cc={focusedElem:e,selectionRange:n},pr=!1,Ne=t;Ne!==null;)if(t=Ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ne=e;else for(;Ne!==null;){switch(t=Ne,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,l=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var y=pi(n.type,l);e=i.getSnapshotBeforeUpdate(y,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(E){J(n,n.return,E)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)hc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(b(163))}if(e=t.sibling,e!==null){e.return=t.return,Ne=e;break}Ne=t.return}}function z_(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Gt(e,n),i&4&&Pa(5,n);break;case 1:if(Gt(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){J(n,n.return,s)}else{var l=pi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){J(n,n.return,s)}}i&64&&A_(n),i&512&&ra(n,n.return);break;case 3:if(Gt(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ig(e,t)}catch(s){J(n,n.return,s)}}break;case 27:t===null&&i&4&&M_(n);case 26:case 5:Gt(e,n),t===null&&i&4&&D_(n),i&512&&ra(n,n.return);break;case 12:Gt(e,n);break;case 31:Gt(e,n),i&4&&k_(e,n);break;case 13:Gt(e,n),i&4&&I_(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=$1.bind(null,n),yS(e,n))));break;case 22:if(i=n.memoizedState!==null||Kt,!i){t=t!==null&&t.memoizedState!==null||be,l=Kt;var a=be;Kt=i,(be=t)&&!a?Yt(e,n,(n.subtreeFlags&8772)!==0):Gt(e,n),Kt=l,be=a}break;case 30:break;default:Gt(e,n)}}function j_(e){var t=e.alternate;t!==null&&(e.alternate=null,j_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&$c(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,Fe=!1;function Vt(e,t,n){for(n=n.child;n!==null;)L_(e,t,n),n=n.sibling}function L_(e,t,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Ya,n)}catch{}switch(n.tag){case 26:be||Lt(n,t),Vt(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:be||Lt(n,t);var i=he,l=Fe;Fn(n.type)&&(he=n.stateNode,Fe=!1),Vt(e,t,n),fa(n.stateNode),he=i,Fe=l;break;case 5:be||Lt(n,t);case 6:if(i=he,l=Fe,he=null,Vt(e,t,n),he=i,Fe=l,he!==null)if(Fe)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(n.stateNode)}catch(a){J(n,t,a)}else try{he.removeChild(n.stateNode)}catch(a){J(n,t,a)}break;case 18:he!==null&&(Fe?(e=he,Zd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),bl(e)):Zd(he,n.stateNode));break;case 4:i=he,l=Fe,he=n.stateNode.containerInfo,Fe=!0,Vt(e,t,n),he=i,Fe=l;break;case 0:case 11:case 14:case 15:Hn(2,n,t),be||Hn(4,n,t),Vt(e,t,n);break;case 1:be||(Lt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&R_(n,t,i)),Vt(e,t,n);break;case 21:Vt(e,t,n);break;case 22:be=(i=be)||n.memoizedState!==null,Vt(e,t,n),be=i;break;default:Vt(e,t,n)}}function k_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{bl(e)}catch(n){J(t,t.return,n)}}}function I_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bl(e)}catch(n){J(t,t.return,n)}}function Y1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kd),t;default:throw Error(b(435,e.tag))}}function vs(e,t){var n=Y1(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var l=J1.bind(null,e,i);i.then(l,l)}})}function Ye(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],a=e,s=t,r=s;e:for(;r!==null;){switch(r.tag){case 27:if(Fn(r.type)){he=r.stateNode,Fe=!1;break e}break;case 5:he=r.stateNode,Fe=!1;break e;case 3:case 4:he=r.stateNode.containerInfo,Fe=!0;break e}r=r.return}if(he===null)throw Error(b(160));L_(a,s,l),he=null,Fe=!1,a=l.alternate,a!==null&&(a.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)U_(t,e),t=t.sibling}var xt=null;function U_(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ye(t,e),Qe(e),i&4&&(Hn(3,e,e.return),Pa(3,e),Hn(5,e,e.return));break;case 1:Ye(t,e),Qe(e),i&512&&(be||n===null||Lt(n,n.return)),i&64&&Kt&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=xt;if(Ye(t,e),Qe(e),i&512&&(be||n===null||Lt(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":a=l.getElementsByTagName("title")[0],(!a||a[Ka]||a[je]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=l.createElement(i),l.head.insertBefore(a,l.querySelector("head > title"))),Ie(a,i,n),a[je]=e,Re(a),i=a;break e;case"link":var s=nm("link","href",l).get(i+(n.href||""));if(s){for(var r=0;r<s.length;r++)if(a=s[r],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(r,1);break t}}a=l.createElement(i),Ie(a,i,n),l.head.appendChild(a);break;case"meta":if(s=nm("meta","content",l).get(i+(n.content||""))){for(r=0;r<s.length;r++)if(a=s[r],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(r,1);break t}}a=l.createElement(i),Ie(a,i,n),l.head.appendChild(a);break;default:throw Error(b(468,i))}a[je]=e,Re(a),i=a}e.stateNode=i}else im(l,e.type,e.stateNode);else e.stateNode=tm(l,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?im(l,e.type,e.stateNode):tm(l,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Yo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ye(t,e),Qe(e),i&512&&(be||n===null||Lt(n,n.return)),n!==null&&i&4&&Yo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ye(t,e),Qe(e),i&512&&(be||n===null||Lt(n,n.return)),e.flags&32){l=e.stateNode;try{hl(l,"")}catch(y){J(e,e.return,y)}}i&4&&e.stateNode!=null&&(l=e.memoizedProps,Yo(e,l,n!==null?n.memoizedProps:l)),i&1024&&(Fo=!0);break;case 6:if(Ye(t,e),Qe(e),i&4){if(e.stateNode===null)throw Error(b(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(y){J(e,e.return,y)}}break;case 3:if(Us=null,l=xt,xt=hr(t.containerInfo),Ye(t,e),xt=l,Qe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{bl(t.containerInfo)}catch(y){J(e,e.return,y)}Fo&&(Fo=!1,B_(e));break;case 4:i=xt,xt=hr(e.stateNode.containerInfo),Ye(t,e),Qe(e),xt=i;break;case 12:Ye(t,e),Qe(e);break;case 31:Ye(t,e),Qe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vs(e,i)));break;case 13:Ye(t,e),Qe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Wr=rt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vs(e,i)));break;case 22:l=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=Kt,h=be;if(Kt=u||l,be=h||o,Ye(t,e),be=h,Kt=u,Qe(e),i&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||o||Kt||be||ti(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(a=o.stateNode,l)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{r=o.stateNode;var f=o.memoizedProps.style,c=f!=null&&f.hasOwnProperty("display")?f.display:null;r.style.display=c==null||typeof c=="boolean"?"":(""+c).trim()}}catch(y){J(o,o.return,y)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=l?"":o.memoizedProps}catch(y){J(o,o.return,y)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;l?Wd(m,!0):Wd(o.stateNode,!1)}catch(y){J(o,o.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,vs(e,n))));break;case 19:Ye(t,e),Qe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vs(e,i)));break;case 30:break;case 21:break;default:Ye(t,e),Qe(e)}}function Qe(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(O_(i)){n=i;break}i=i.return}if(n==null)throw Error(b(160));switch(n.tag){case 27:var l=n.stateNode,a=Qo(e);lr(e,a,l);break;case 5:var s=n.stateNode;n.flags&32&&(hl(s,""),n.flags&=-33);var r=Qo(e);lr(e,r,s);break;case 3:case 4:var o=n.stateNode.containerInfo,u=Qo(e);nc(e,u,o);break;default:throw Error(b(161))}}catch(h){J(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function B_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;B_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Gt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)z_(e,t.alternate,t),t=t.sibling}function ti(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hn(4,t,t.return),ti(t);break;case 1:Lt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&R_(t,t.return,n),ti(t);break;case 27:fa(t.stateNode);case 26:case 5:Lt(t,t.return),ti(t);break;case 22:t.memoizedState===null&&ti(t);break;case 30:ti(t);break;default:ti(t)}e=e.sibling}}function Yt(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,l=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Yt(l,a,n),Pa(4,a);break;case 1:if(Yt(l,a,n),i=a,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(u){J(i,i.return,u)}if(i=a,l=i.updateQueue,l!==null){var r=i.stateNode;try{var o=l.shared.hiddenCallbacks;if(o!==null)for(l.shared.hiddenCallbacks=null,l=0;l<o.length;l++)kg(o[l],r)}catch(u){J(i,i.return,u)}}n&&s&64&&A_(a),ra(a,a.return);break;case 27:M_(a);case 26:case 5:Yt(l,a,n),n&&i===null&&s&4&&D_(a),ra(a,a.return);break;case 12:Yt(l,a,n);break;case 31:Yt(l,a,n),n&&s&4&&k_(l,a);break;case 13:Yt(l,a,n),n&&s&4&&I_(l,a);break;case 22:a.memoizedState===null&&Yt(l,a,n),ra(a,a.return);break;case 30:break;default:Yt(l,a,n)}t=t.sibling}}function Of(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Za(n))}function Mf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Za(e))}function Tt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)H_(e,t,n,i),t=t.sibling}function H_(e,t,n,i){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Tt(e,t,n,i),l&2048&&Pa(9,t);break;case 1:Tt(e,t,n,i);break;case 3:Tt(e,t,n,i),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Za(e)));break;case 12:if(l&2048){Tt(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,r=a.onPostCommit;typeof r=="function"&&r(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){J(t,t.return,o)}}else Tt(e,t,n,i);break;case 31:Tt(e,t,n,i);break;case 13:Tt(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?Tt(e,t,n,i):oa(e,t):a._visibility&2?Tt(e,t,n,i):(a._visibility|=2,Ui(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Of(s,t);break;case 24:Tt(e,t,n,i),l&2048&&Mf(t.alternate,t);break;default:Tt(e,t,n,i)}}function Ui(e,t,n,i,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,s=t,r=n,o=i,u=s.flags;switch(s.tag){case 0:case 11:case 15:Ui(a,s,r,o,l),Pa(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?Ui(a,s,r,o,l):oa(a,s):(h._visibility|=2,Ui(a,s,r,o,l)),l&&u&2048&&Of(s.alternate,s);break;case 24:Ui(a,s,r,o,l),l&&u&2048&&Mf(s.alternate,s);break;default:Ui(a,s,r,o,l)}t=t.sibling}}function oa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,l=i.flags;switch(i.tag){case 22:oa(n,i),l&2048&&Of(i.alternate,i);break;case 24:oa(n,i),l&2048&&Mf(i.alternate,i);break;default:oa(n,i)}t=t.sibling}}var Pl=8192;function Mi(e,t,n){if(e.subtreeFlags&Pl)for(e=e.child;e!==null;)q_(e,t,n),e=e.sibling}function q_(e,t,n){switch(e.tag){case 26:Mi(e,t,n),e.flags&Pl&&e.memoizedState!==null&&DS(n,xt,e.memoizedState,e.memoizedProps);break;case 5:Mi(e,t,n);break;case 3:case 4:var i=xt;xt=hr(e.stateNode.containerInfo),Mi(e,t,n),xt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Pl,Pl=16777216,Mi(e,t,n),Pl=i):Mi(e,t,n));break;default:Mi(e,t,n)}}function V_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ql(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ne=i,Y_(i,e)}V_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)G_(e),e=e.sibling}function G_(e){switch(e.tag){case 0:case 11:case 15:ql(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:ql(e);break;case 12:ql(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ks(e)):ql(e);break;default:ql(e)}}function ks(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ne=i,Y_(i,e)}V_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hn(8,t,t.return),ks(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ks(t));break;default:ks(t)}e=e.sibling}}function Y_(e,t){for(;Ne!==null;){var n=Ne;switch(n.tag){case 0:case 11:case 15:Hn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Za(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ne=i;else e:for(n=e;Ne!==null;){i=Ne;var l=i.sibling,a=i.return;if(j_(i),i===n){Ne=null;break e}if(l!==null){l.return=a,Ne=l;break e}Ne=a}}}var Q1={getCacheForType:function(e){var t=ke(Se),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ke(Se).controller.signal}},F1=typeof WeakMap=="function"?WeakMap:Map,W=0,ne=null,G=null,F=0,$=0,it=null,Cn=!1,Rl=!1,zf=!1,on=0,pe=0,qn=0,ci=0,jf=0,st=0,gl=0,ua=null,Ke=null,ic=!1,Wr=0,Q_=0,ar=1/0,sr=null,Dn=null,Ce=0,On=null,_l=null,en=0,lc=0,ac=null,F_=null,ca=0,sc=null;function ct(){return W&2&&F!==0?F&-F:z.T!==null?kf():tg()}function K_(){if(st===0)if(!(F&536870912)||K){var e=fs;fs<<=1,!(fs&3932160)&&(fs=262144),st=e}else st=536870912;return e=dt.current,e!==null&&(e.flags|=32),st}function We(e,t,n){(e===ne&&($===2||$===9)||e.cancelPendingCommit!==null)&&(yl(e,0),wn(e,F,st,!1)),Fa(e,n),(!(W&2)||e!==ne)&&(e===ne&&(!(W&2)&&(ci|=n),pe===4&&wn(e,F,st,!1)),Bt(e))}function X_(e,t,n){if(W&6)throw Error(b(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Qa(e,t),l=i?Z1(e,t):Ko(e,t,!0),a=i;do{if(l===0){Rl&&!i&&wn(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!K1(n)){l=Ko(e,t,!1),a=!1;continue}if(l===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var r=e;l=ua;var o=r.current.memoizedState.isDehydrated;if(o&&(yl(r,s).flags|=256),s=Ko(r,s,!1),s!==2){if(zf&&!o){r.errorRecoveryDisabledLanes|=a,ci|=a,l=4;break e}a=Ke,Ke=l,a!==null&&(Ke===null?Ke=a:Ke.push.apply(Ke,a))}l=s}if(a=!1,l!==2)continue}}if(l===1){yl(e,0),wn(e,t,0,!0);break}e:{switch(i=e,a=l,a){case 0:case 1:throw Error(b(345));case 4:if((t&4194048)!==t)break;case 6:wn(i,t,st,!Cn);break e;case 2:Ke=null;break;case 3:case 5:break;default:throw Error(b(329))}if((t&62914560)===t&&(l=Wr+300-rt(),10<l)){if(wn(i,t,st,!Cn),Br(i,0,!0)!==0)break e;en=t,i.timeoutHandle=my(Id.bind(null,i,n,Ke,sr,ic,t,st,ci,gl,Cn,a,"Throttled",-0,0),l);break e}Id(i,n,Ke,sr,ic,t,st,ci,gl,Cn,a,null,-0,0)}}break}while(!0);Bt(e)}function Id(e,t,n,i,l,a,s,r,o,u,h,f,c,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},q_(t,a,f);var y=(a&62914560)===a?Wr-rt():(a&4194048)===a?Q_-rt():0;if(y=OS(f,y),y!==null){en=a,e.cancelPendingCommit=y(Bd.bind(null,e,t,a,n,i,l,s,r,o,h,f,null,c,m)),wn(e,a,s,!u);return}}Bd(e,t,a,n,i,l,s,r,o)}function K1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],a=l.getSnapshot;l=l.value;try{if(!ht(a(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wn(e,t,n,i){t&=~jf,t&=~ci,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var l=t;0<l;){var a=31-ut(l),s=1<<a;i[a]=-1,l&=~s}n!==0&&$p(e,n,t)}function Pr(){return W&6?!0:($a(0),!1)}function Lf(){if(G!==null){if($===0)var e=G.return;else e=G,Wt=Ni=null,bf(e),ll=null,wa=0,e=G;for(;e!==null;)N_(e.alternate,e),e=e.return;G=null}}function yl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,dS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),en=0,Lf(),ne=e,G=n=$t(e.current,null),F=t,$=0,it=null,Cn=!1,Rl=Qa(e,t),zf=!1,gl=st=jf=ci=qn=pe=0,Ke=ua=null,ic=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var l=31-ut(i),a=1<<l;t|=e[l],i&=~a}return on=t,Gr(),n}function Z_(e,t){U=null,z.H=xa,t===Al||t===Qr?(t=pd(),$=3):t===df?(t=pd(),$=4):$=t===Rf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,it=t,G===null&&(pe=1,nr(e,bt(t,e.current)))}function W_(){var e=dt.current;return e===null?!0:(F&4194048)===F?Et===null:(F&62914560)===F||F&536870912?e===Et:!1}function P_(){var e=z.H;return z.H=xa,e===null?xa:e}function $_(){var e=z.A;return z.A=Q1,e}function rr(){pe=4,Cn||(F&4194048)!==F&&dt.current!==null||(Rl=!0),!(qn&134217727)&&!(ci&134217727)||ne===null||wn(ne,F,st,!1)}function Ko(e,t,n){var i=W;W|=2;var l=P_(),a=$_();(ne!==e||F!==t)&&(sr=null,yl(e,t)),t=!1;var s=pe;e:do try{if($!==0&&G!==null){var r=G,o=it;switch($){case 8:Lf(),s=6;break e;case 3:case 2:case 9:case 6:dt.current===null&&(t=!0);var u=$;if($=0,it=null,Pi(e,r,o,u),n&&Rl){s=0;break e}break;default:u=$,$=0,it=null,Pi(e,r,o,u)}}X1(),s=pe;break}catch(h){Z_(e,h)}while(!0);return t&&e.shellSuspendCounter++,Wt=Ni=null,W=i,z.H=l,z.A=a,G===null&&(ne=null,F=0,Gr()),s}function X1(){for(;G!==null;)J_(G)}function Z1(e,t){var n=W;W|=2;var i=P_(),l=$_();ne!==e||F!==t?(sr=null,ar=rt()+500,yl(e,t)):Rl=Qa(e,t);e:do try{if($!==0&&G!==null){t=G;var a=it;t:switch($){case 1:$=0,it=null,Pi(e,t,a,1);break;case 2:case 9:if(md(a)){$=0,it=null,Ud(t);break}t=function(){$!==2&&$!==9||ne!==e||($=7),Bt(e)},a.then(t,t);break e;case 3:$=7;break e;case 4:$=5;break e;case 7:md(a)?($=0,it=null,Ud(t)):($=0,it=null,Pi(e,t,a,7));break;case 5:var s=null;switch(G.tag){case 26:s=G.memoizedState;case 5:case 27:var r=G;if(s?vy(s):r.stateNode.complete){$=0,it=null;var o=r.sibling;if(o!==null)G=o;else{var u=r.return;u!==null?(G=u,$r(u)):G=null}break t}}$=0,it=null,Pi(e,t,a,5);break;case 6:$=0,it=null,Pi(e,t,a,6);break;case 8:Lf(),pe=6;break e;default:throw Error(b(462))}}W1();break}catch(h){Z_(e,h)}while(!0);return Wt=Ni=null,z.H=i,z.A=l,W=n,G!==null?0:(ne=null,F=0,Gr(),pe)}function W1(){for(;G!==null&&!vb();)J_(G)}function J_(e){var t=x_(e.alternate,e,on);e.memoizedProps=e.pendingProps,t===null?$r(e):G=t}function Ud(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Od(n,t,t.pendingProps,t.type,void 0,F);break;case 11:t=Od(n,t,t.pendingProps,t.type.render,t.ref,F);break;case 5:bf(t);default:N_(n,t),t=G=Ng(t,on),t=x_(n,t,on)}e.memoizedProps=e.pendingProps,t===null?$r(e):G=t}function Pi(e,t,n,i){Wt=Ni=null,bf(t),ll=null,wa=0;var l=t.return;try{if(U1(e,l,t,n,F)){pe=1,nr(e,bt(n,e.current)),G=null;return}}catch(a){if(l!==null)throw G=l,a;pe=1,nr(e,bt(n,e.current)),G=null;return}t.flags&32768?(K||i===1?e=!0:Rl||F&536870912?e=!1:(Cn=e=!0,(i===2||i===9||i===3||i===6)&&(i=dt.current,i!==null&&i.tag===13&&(i.flags|=16384))),ey(t,e)):$r(t)}function $r(e){var t=e;do{if(t.flags&32768){ey(t,Cn);return}e=t.return;var n=q1(t.alternate,t,on);if(n!==null){G=n;return}if(t=t.sibling,t!==null){G=t;return}G=t=e}while(t!==null);pe===0&&(pe=5)}function ey(e,t){do{var n=V1(e.alternate,e);if(n!==null){n.flags&=32767,G=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){G=e;return}G=e=n}while(e!==null);pe=6,G=null}function Bd(e,t,n,i,l,a,s,r,o){e.cancelPendingCommit=null;do Jr();while(Ce!==0);if(W&6)throw Error(b(327));if(t!==null){if(t===e.current)throw Error(b(177));if(a=t.lanes|t.childLanes,a|=sf,Rb(e,n,a,s,r,o),e===ne&&(G=ne=null,F=0),_l=t,On=e,en=n,lc=a,ac=l,F_=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,eS(Qs,function(){return ay(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=z.T,z.T=null,l=P.p,P.p=2,s=W,W|=4;try{G1(e,t,n)}finally{W=s,P.p=l,z.T=i}}Ce=1,ty(),ny(),iy()}}function ty(){if(Ce===1){Ce=0;var e=On,t=_l,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=z.T,z.T=null;var i=P.p;P.p=2;var l=W;W|=4;try{U_(t,e);var a=cc,s=vg(e.containerInfo),r=a.focusedElem,o=a.selectionRange;if(s!==r&&r&&r.ownerDocument&&yg(r.ownerDocument.documentElement,r)){if(o!==null&&af(r)){var u=o.start,h=o.end;if(h===void 0&&(h=u),"selectionStart"in r)r.selectionStart=u,r.selectionEnd=Math.min(h,r.value.length);else{var f=r.ownerDocument||document,c=f&&f.defaultView||window;if(c.getSelection){var m=c.getSelection(),y=r.textContent.length,E=Math.min(o.start,y),x=o.end===void 0?E:Math.min(o.end,y);!m.extend&&E>x&&(s=x,x=E,E=s);var g=rd(r,E),d=rd(r,x);if(g&&d&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==d.node||m.focusOffset!==d.offset)){var _=f.createRange();_.setStart(g.node,g.offset),m.removeAllRanges(),E>x?(m.addRange(_),m.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),m.addRange(_))}}}}for(f=[],m=r;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<f.length;r++){var v=f[r];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}pr=!!uc,cc=uc=null}finally{W=l,P.p=i,z.T=n}}e.current=t,Ce=2}}function ny(){if(Ce===2){Ce=0;var e=On,t=_l,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=z.T,z.T=null;var i=P.p;P.p=2;var l=W;W|=4;try{z_(e,t.alternate,t)}finally{W=l,P.p=i,z.T=n}}Ce=3}}function iy(){if(Ce===4||Ce===3){Ce=0,bb();var e=On,t=_l,n=en,i=F_;t.subtreeFlags&10256||t.flags&10256?Ce=5:(Ce=0,_l=On=null,ly(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Dn=null),Pc(n),t=t.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Ya,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=z.T,l=P.p,P.p=2,z.T=null;try{for(var a=e.onRecoverableError,s=0;s<i.length;s++){var r=i[s];a(r.value,{componentStack:r.stack})}}finally{z.T=t,P.p=l}}en&3&&Jr(),Bt(e),l=e.pendingLanes,n&261930&&l&42?e===sc?ca++:(ca=0,sc=e):ca=0,$a(0)}}function ly(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Za(t)))}function Jr(){return ty(),ny(),iy(),ay()}function ay(){if(Ce!==5)return!1;var e=On,t=lc;lc=0;var n=Pc(en),i=z.T,l=P.p;try{P.p=32>n?32:n,z.T=null,n=ac,ac=null;var a=On,s=en;if(Ce=0,_l=On=null,en=0,W&6)throw Error(b(331));var r=W;if(W|=4,G_(a.current),H_(a,a.current,s,n),W=r,$a(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Ya,a)}catch{}return!0}finally{P.p=l,z.T=i,ly(e,t)}}function Hd(e,t,n){t=bt(n,t),t=Ju(e.stateNode,t,2),e=Rn(e,t,2),e!==null&&(Fa(e,2),Bt(e))}function J(e,t,n){if(e.tag===3)Hd(e,e,n);else for(;t!==null;){if(t.tag===3){Hd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Dn===null||!Dn.has(i))){e=bt(n,e),n=b_(2),i=Rn(t,n,2),i!==null&&(S_(n,i,t,e),Fa(i,2),Bt(i));break}}t=t.return}}function Xo(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new F1;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(zf=!0,l.add(n),e=P1.bind(null,e,t,n),t.then(e,e))}function P1(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ne===e&&(F&n)===n&&(pe===4||pe===3&&(F&62914560)===F&&300>rt()-Wr?!(W&2)&&yl(e,0):jf|=n,gl===F&&(gl=0)),Bt(e)}function sy(e,t){t===0&&(t=Pp()),e=xi(e,t),e!==null&&(Fa(e,t),Bt(e))}function $1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sy(e,n)}function J1(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(b(314))}i!==null&&i.delete(t),sy(e,n)}function eS(e,t){return Zc(e,t)}var or=null,Bi=null,rc=!1,ur=!1,Zo=!1,Tn=0;function Bt(e){e!==Bi&&e.next===null&&(Bi===null?or=Bi=e:Bi=Bi.next=e),ur=!0,rc||(rc=!0,nS())}function $a(e,t){if(!Zo&&ur){Zo=!0;do for(var n=!1,i=or;i!==null;){if(e!==0){var l=i.pendingLanes;if(l===0)var a=0;else{var s=i.suspendedLanes,r=i.pingedLanes;a=(1<<31-ut(42|e)+1)-1,a&=l&~(s&~r),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,qd(i,a))}else a=F,a=Br(i,i===ne?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Qa(i,a)||(n=!0,qd(i,a));i=i.next}while(n);Zo=!1}}function tS(){ry()}function ry(){ur=rc=!1;var e=0;Tn!==0&&hS()&&(e=Tn);for(var t=rt(),n=null,i=or;i!==null;){var l=i.next,a=oy(i,t);a===0?(i.next=null,n===null?or=l:n.next=l,l===null&&(Bi=n)):(n=i,(e!==0||a&3)&&(ur=!0)),i=l}Ce!==0&&Ce!==5||$a(e),Tn!==0&&(Tn=0)}function oy(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-ut(a),r=1<<s,o=l[s];o===-1?(!(r&n)||r&i)&&(l[s]=Ab(r,t)):o<=t&&(e.expiredLanes|=r),a&=~r}if(t=ne,n=F,n=Br(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&($===2||$===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Co(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Qa(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Co(i),Pc(n)){case 2:case 8:n=Zp;break;case 32:n=Qs;break;case 268435456:n=Wp;break;default:n=Qs}return i=uy.bind(null,e),n=Zc(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Co(i),e.callbackPriority=2,e.callbackNode=null,2}function uy(e,t){if(Ce!==0&&Ce!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Jr()&&e.callbackNode!==n)return null;var i=F;return i=Br(e,e===ne?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(X_(e,i,t),oy(e,rt()),e.callbackNode!=null&&e.callbackNode===n?uy.bind(null,e):null)}function qd(e,t){if(Jr())return null;X_(e,t,!0)}function nS(){mS(function(){W&6?Zc(Xp,tS):ry()})}function kf(){if(Tn===0){var e=dl;e===0&&(e=cs,cs<<=1,!(cs&261888)&&(cs=256)),Tn=e}return Tn}function Vd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ns(""+e)}function Gd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function iS(e,t,n,i,l){if(t==="submit"&&n&&n.stateNode===l){var a=Vd((l[$e]||null).action),s=i.submitter;s&&(t=(t=s[$e]||null)?Vd(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var r=new Hr("action","action",null,i,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Tn!==0){var o=s?Gd(l,s):new FormData(l);Pu(n,{pending:!0,data:o,method:l.method,action:a},null,o)}}else typeof a=="function"&&(r.preventDefault(),o=s?Gd(l,s):new FormData(l),Pu(n,{pending:!0,data:o,method:l.method,action:a},a,o))},currentTarget:l}]})}}for(var Wo=0;Wo<Bu.length;Wo++){var Po=Bu[Wo],lS=Po.toLowerCase(),aS=Po[0].toUpperCase()+Po.slice(1);Ot(lS,"on"+aS)}Ot(Sg,"onAnimationEnd");Ot(Eg,"onAnimationIteration");Ot(Cg,"onAnimationStart");Ot("dblclick","onDoubleClick");Ot("focusin","onFocus");Ot("focusout","onBlur");Ot(S1,"onTransitionRun");Ot(E1,"onTransitionStart");Ot(C1,"onTransitionCancel");Ot(wg,"onTransitionEnd");fl("onMouseEnter",["mouseout","mouseover"]);fl("onMouseLeave",["mouseout","mouseover"]);fl("onPointerEnter",["pointerout","pointerover"]);fl("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Na));function cy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var r=i[s],o=r.instance,u=r.currentTarget;if(r=r.listener,o!==a&&l.isPropagationStopped())break e;a=r,l.currentTarget=u;try{a(l)}catch(h){Ks(h)}l.currentTarget=null,a=o}else for(s=0;s<i.length;s++){if(r=i[s],o=r.instance,u=r.currentTarget,r=r.listener,o!==a&&l.isPropagationStopped())break e;a=r,l.currentTarget=u;try{a(l)}catch(h){Ks(h)}l.currentTarget=null,a=o}}}}function V(e,t){var n=t[Ou];n===void 0&&(n=t[Ou]=new Set);var i=e+"__bubble";n.has(i)||(fy(t,e,2,!1),n.add(i))}function $o(e,t,n){var i=0;t&&(i|=4),fy(n,e,i,t)}var bs="_reactListening"+Math.random().toString(36).slice(2);function If(e){if(!e[bs]){e[bs]=!0,ng.forEach(function(n){n!=="selectionchange"&&(sS.has(n)||$o(n,!1,e),$o(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bs]||(t[bs]=!0,$o("selectionchange",!1,t))}}function fy(e,t,n,i){switch(wy(t)){case 2:var l=jS;break;case 8:l=LS;break;default:l=qf}n=l.bind(null,t,n,e),l=void 0,!ku||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Jo(e,t,n,i,l){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var r=i.stateNode.containerInfo;if(r===l)break;if(s===4)for(s=i.return;s!==null;){var o=s.tag;if((o===3||o===4)&&s.stateNode.containerInfo===l)return;s=s.return}for(;r!==null;){if(s=Vi(r),s===null)return;if(o=s.tag,o===5||o===6||o===26||o===27){i=a=s;continue e}r=r.parentNode}}i=i.return}cg(function(){var u=a,h=ef(n),f=[];e:{var c=Tg.get(e);if(c!==void 0){var m=Hr,y=e;switch(e){case"keypress":if(Rs(n)===0)break e;case"keydown":case"keyup":m=Jb;break;case"focusin":y="focus",m=Ao;break;case"focusout":y="blur",m=Ao;break;case"beforeblur":case"afterblur":m=Ao;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=n1;break;case Sg:case Eg:case Cg:m=Yb;break;case wg:m=l1;break;case"scroll":case"scrollend":m=Bb;break;case"wheel":m=s1;break;case"copy":case"cut":case"paste":m=Fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jh;break;case"toggle":case"beforetoggle":m=o1}var E=(t&4)!==0,x=!E&&(e==="scroll"||e==="scrollend"),g=E?c!==null?c+"Capture":null:c;E=[];for(var d=u,_;d!==null;){var v=d;if(_=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||_===null||g===null||(v=va(d,g),v!=null&&E.push(Aa(d,v,_))),x)break;d=d.return}0<E.length&&(c=new m(c,y,null,n,h),f.push({event:c,listeners:E}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",c&&n!==Lu&&(y=n.relatedTarget||n.fromElement)&&(Vi(y)||y[Tl]))break e;if((m||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Vi(y):null,y!==null&&(x=Ga(y),E=y.tag,y!==x||E!==5&&E!==27&&E!==6)&&(y=null)):(m=null,y=u),m!==y)){if(E=Ph,v="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(E=Jh,v="onPointerLeave",g="onPointerEnter",d="pointer"),x=m==null?c:Zl(m),_=y==null?c:Zl(y),c=new E(v,d+"leave",m,n,h),c.target=x,c.relatedTarget=_,v=null,Vi(h)===u&&(E=new E(g,d+"enter",y,n,h),E.target=_,E.relatedTarget=x,v=E),x=v,m&&y)t:{for(E=rS,g=m,d=y,_=0,v=g;v;v=E(v))_++;v=0;for(var N=d;N;N=E(N))v++;for(;0<_-v;)g=E(g),_--;for(;0<v-_;)d=E(d),v--;for(;_--;){if(g===d||d!==null&&g===d.alternate){E=g;break t}g=E(g),d=E(d)}E=null}else E=null;m!==null&&Yd(f,c,m,E,!1),y!==null&&x!==null&&Yd(f,x,y,E,!0)}}e:{if(c=u?Zl(u):window,m=c.nodeName&&c.nodeName.toLowerCase(),m==="select"||m==="input"&&c.type==="file")var k=id;else if(nd(c))if(gg)k=y1;else{k=g1;var T=p1}else m=c.nodeName,!m||m.toLowerCase()!=="input"||c.type!=="checkbox"&&c.type!=="radio"?u&&Jc(u.elementType)&&(k=id):k=_1;if(k&&(k=k(e,u))){pg(f,k,n,h);break e}T&&T(e,c,u),e==="focusout"&&u&&c.type==="number"&&u.memoizedProps.value!=null&&ju(c,"number",c.value)}switch(T=u?Zl(u):window,e){case"focusin":(nd(T)||T.contentEditable==="true")&&(Qi=T,Iu=u,ta=null);break;case"focusout":ta=Iu=Qi=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,od(f,n,h);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":od(f,n,h)}var M;if(lf)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Yi?dg(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(hg&&n.locale!=="ko"&&(Yi||L!=="onCompositionStart"?L==="onCompositionEnd"&&Yi&&(M=fg()):(En=h,tf="value"in En?En.value:En.textContent,Yi=!0)),T=cr(u,L),0<T.length&&(L=new $h(L,e,null,n,h),f.push({event:L,listeners:T}),M?L.data=M:(M=mg(n),M!==null&&(L.data=M)))),(M=c1?f1(e,n):h1(e,n))&&(L=cr(u,"onBeforeInput"),0<L.length&&(T=new $h("onBeforeInput","beforeinput",null,n,h),f.push({event:T,listeners:L}),T.data=M)),iS(f,e,u,n,h)}cy(f,t)})}function Aa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cr(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,a=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||a===null||(l=va(e,n),l!=null&&i.unshift(Aa(e,l,a)),l=va(e,t),l!=null&&i.push(Aa(e,l,a))),e.tag===3)return i;e=e.return}return[]}function rS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yd(e,t,n,i,l){for(var a=t._reactName,s=[];n!==null&&n!==i;){var r=n,o=r.alternate,u=r.stateNode;if(r=r.tag,o!==null&&o===i)break;r!==5&&r!==26&&r!==27||u===null||(o=u,l?(u=va(n,a),u!=null&&s.unshift(Aa(n,u,o))):l||(u=va(n,a),u!=null&&s.push(Aa(n,u,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var oS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function Qd(e){return(typeof e=="string"?e:""+e).replace(oS,`
`).replace(uS,"")}function hy(e,t){return t=Qd(t),Qd(e)===t}function ee(e,t,n,i,l,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||hl(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&hl(e,""+i);break;case"className":ds(e,"class",i);break;case"tabIndex":ds(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ds(e,n,i);break;case"style":ug(e,i,a);break;case"data":if(t!=="object"){ds(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ns(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&ee(e,t,"name",l.name,l,null),ee(e,t,"formEncType",l.formEncType,l,null),ee(e,t,"formMethod",l.formMethod,l,null),ee(e,t,"formTarget",l.formTarget,l,null)):(ee(e,t,"encType",l.encType,l,null),ee(e,t,"method",l.method,l,null),ee(e,t,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ns(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Zt);break;case"onScroll":i!=null&&V("scroll",e);break;case"onScrollEnd":i!=null&&V("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(b(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(b(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Ns(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":V("beforetoggle",e),V("toggle",e),xs(e,"popover",i);break;case"xlinkActuate":Ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Ht(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Ht(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Ht(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Ht(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":xs(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ib.get(n)||n,xs(e,n,i))}}function oc(e,t,n,i,l,a){switch(n){case"style":ug(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(b(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(b(60));e.innerHTML=n}}break;case"children":typeof i=="string"?hl(e,i):(typeof i=="number"||typeof i=="bigint")&&hl(e,""+i);break;case"onScroll":i!=null&&V("scroll",e);break;case"onScrollEnd":i!=null&&V("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ig.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),a=e[$e]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,l),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,l);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):xs(e,n,i)}}}function Ie(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":V("error",e),V("load",e);var i=!1,l=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(b(137,t));default:ee(e,t,a,s,n,null)}}l&&ee(e,t,"srcSet",n.srcSet,n,null),i&&ee(e,t,"src",n.src,n,null);return;case"input":V("invalid",e);var r=a=s=l=null,o=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":l=h;break;case"type":s=h;break;case"checked":o=h;break;case"defaultChecked":u=h;break;case"value":a=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(b(137,t));break;default:ee(e,t,i,h,n,null)}}sg(e,a,r,o,u,s,l,!1);return;case"select":V("invalid",e),i=s=a=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":a=r;break;case"defaultValue":s=r;break;case"multiple":i=r;default:ee(e,t,l,r,n,null)}t=a,n=s,e.multiple=!!i,t!=null?tl(e,!!i,t,!1):n!=null&&tl(e,!!i,n,!0);return;case"textarea":V("invalid",e),a=l=i=null;for(s in n)if(n.hasOwnProperty(s)&&(r=n[s],r!=null))switch(s){case"value":i=r;break;case"defaultValue":l=r;break;case"children":a=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(b(91));break;default:ee(e,t,s,r,n,null)}og(e,i,l,a);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ee(e,t,o,i,n,null)}return;case"dialog":V("beforetoggle",e),V("toggle",e),V("cancel",e),V("close",e);break;case"iframe":case"object":V("load",e);break;case"video":case"audio":for(i=0;i<Na.length;i++)V(Na[i],e);break;case"image":V("error",e),V("load",e);break;case"details":V("toggle",e);break;case"embed":case"source":case"link":V("error",e),V("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(b(137,t));default:ee(e,t,u,i,n,null)}return;default:if(Jc(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&oc(e,t,h,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&ee(e,t,r,i,n,null))}function cS(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,a=null,s=null,r=null,o=null,u=null,h=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=f;default:i.hasOwnProperty(m)||ee(e,t,m,null,i,f)}}for(var c in i){var m=i[c];if(f=n[c],i.hasOwnProperty(c)&&(m!=null||f!=null))switch(c){case"type":a=m;break;case"name":l=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":s=m;break;case"defaultValue":r=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(b(137,t));break;default:m!==f&&ee(e,t,c,m,i,f)}}zu(e,s,r,o,u,h,a,l);return;case"select":m=s=r=c=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":m=o;default:i.hasOwnProperty(a)||ee(e,t,a,null,i,o)}for(l in i)if(a=i[l],o=n[l],i.hasOwnProperty(l)&&(a!=null||o!=null))switch(l){case"value":c=a;break;case"defaultValue":r=a;break;case"multiple":s=a;default:a!==o&&ee(e,t,l,a,i,o)}t=r,n=s,i=m,c!=null?tl(e,!!n,c,!1):!!i!=!!n&&(t!=null?tl(e,!!n,t,!0):tl(e,!!n,n?[]:"",!1));return;case"textarea":m=c=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:ee(e,t,r,null,i,l)}for(s in i)if(l=i[s],a=n[s],i.hasOwnProperty(s)&&(l!=null||a!=null))switch(s){case"value":c=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(b(91));break;default:l!==a&&ee(e,t,s,l,i,a)}rg(e,c,m);return;case"option":for(var y in n)if(c=n[y],n.hasOwnProperty(y)&&c!=null&&!i.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:ee(e,t,y,null,i,c)}for(o in i)if(c=i[o],m=n[o],i.hasOwnProperty(o)&&c!==m&&(c!=null||m!=null))switch(o){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ee(e,t,o,c,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)c=n[E],n.hasOwnProperty(E)&&c!=null&&!i.hasOwnProperty(E)&&ee(e,t,E,null,i,c);for(u in i)if(c=i[u],m=n[u],i.hasOwnProperty(u)&&c!==m&&(c!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(b(137,t));break;default:ee(e,t,u,c,i,m)}return;default:if(Jc(t)){for(var x in n)c=n[x],n.hasOwnProperty(x)&&c!==void 0&&!i.hasOwnProperty(x)&&oc(e,t,x,void 0,i,c);for(h in i)c=i[h],m=n[h],!i.hasOwnProperty(h)||c===m||c===void 0&&m===void 0||oc(e,t,h,c,i,m);return}}for(var g in n)c=n[g],n.hasOwnProperty(g)&&c!=null&&!i.hasOwnProperty(g)&&ee(e,t,g,null,i,c);for(f in i)c=i[f],m=n[f],!i.hasOwnProperty(f)||c===m||c==null&&m==null||ee(e,t,f,c,i,m)}function Fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var l=n[i],a=l.transferSize,s=l.initiatorType,r=l.duration;if(a&&r&&Fd(s)){for(s=0,r=l.responseEnd,i+=1;i<n.length;i++){var o=n[i],u=o.startTime;if(u>r)break;var h=o.transferSize,f=o.initiatorType;h&&Fd(f)&&(o=o.responseEnd,s+=h*(o<r?1:(r-u)/(o-u)))}if(--i,t+=8*(a+s)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var uc=null,cc=null;function fr(e){return e.nodeType===9?e:e.ownerDocument}function Kd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eu=null;function hS(){var e=window.event;return e&&e.type==="popstate"?e===eu?!1:(eu=e,!0):(eu=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,Xd=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof Xd<"u"?function(e){return Xd.resolve(null).then(e).catch(pS)}:my;function pS(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function Zd(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(l),bl(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")fa(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,fa(n);for(var a=n.firstChild;a;){var s=a.nextSibling,r=a.nodeName;a[Ka]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&fa(e.ownerDocument.body);n=l}while(n);bl(t)}function Wd(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function hc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hc(n),$c(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function gS(e,t,n,i){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ka])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Ct(e.nextSibling),e===null)break}return null}function _S(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ct(e.nextSibling),e===null))return null;return e}function py(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ct(e.nextSibling),e===null))return null;return e}function dc(e){return e.data==="$?"||e.data==="$~"}function mc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Ct(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var pc=null;function Pd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Ct(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function $d(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function gy(e,t,n){switch(t=fr(n),e){case"html":if(e=t.documentElement,!e)throw Error(b(452));return e;case"head":if(e=t.head,!e)throw Error(b(453));return e;case"body":if(e=t.body,!e)throw Error(b(454));return e;default:throw Error(b(451))}}function fa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$c(e)}var wt=new Map,Jd=new Set;function hr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hn=P.d;P.d={f:vS,r:bS,D:SS,C:ES,L:CS,m:wS,X:xS,S:TS,M:NS};function vS(){var e=hn.f(),t=Pr();return e||t}function bS(e){var t=xl(e);t!==null&&t.tag===5&&t.type==="form"?u_(t):hn.r(e)}var Dl=typeof document>"u"?null:document;function _y(e,t,n){var i=Dl;if(i&&typeof t=="string"&&t){var l=vt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Jd.has(l)||(Jd.add(l),e={rel:e,crossOrigin:n,href:t},i.querySelector(l)===null&&(t=i.createElement("link"),Ie(t,"link",e),Re(t),i.head.appendChild(t)))}}function SS(e){hn.D(e),_y("dns-prefetch",e,null)}function ES(e,t){hn.C(e,t),_y("preconnect",e,t)}function CS(e,t,n){hn.L(e,t,n);var i=Dl;if(i&&e&&t){var l='link[rel="preload"][as="'+vt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+vt(n.imageSizes)+'"]')):l+='[href="'+vt(e)+'"]';var a=l;switch(t){case"style":a=vl(e);break;case"script":a=Ol(e)}wt.has(a)||(e=fe({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),wt.set(a,e),i.querySelector(l)!==null||t==="style"&&i.querySelector(Ja(a))||t==="script"&&i.querySelector(es(a))||(t=i.createElement("link"),Ie(t,"link",e),Re(t),i.head.appendChild(t)))}}function wS(e,t){hn.m(e,t);var n=Dl;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+vt(i)+'"][href="'+vt(e)+'"]',a=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ol(e)}if(!wt.has(a)&&(e=fe({rel:"modulepreload",href:e},t),wt.set(a,e),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(es(a)))return}i=n.createElement("link"),Ie(i,"link",e),Re(i),n.head.appendChild(i)}}}function TS(e,t,n){hn.S(e,t,n);var i=Dl;if(i&&e){var l=el(i).hoistableStyles,a=vl(e);t=t||"default";var s=l.get(a);if(!s){var r={loading:0,preload:null};if(s=i.querySelector(Ja(a)))r.loading=5;else{e=fe({rel:"stylesheet",href:e,"data-precedence":t},n),(n=wt.get(a))&&Uf(e,n);var o=s=i.createElement("link");Re(o),Ie(o,"link",e),o._p=new Promise(function(u,h){o.onload=u,o.onerror=h}),o.addEventListener("load",function(){r.loading|=1}),o.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Is(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:r},l.set(a,s)}}}function xS(e,t){hn.X(e,t);var n=Dl;if(n&&e){var i=el(n).hoistableScripts,l=Ol(e),a=i.get(l);a||(a=n.querySelector(es(l)),a||(e=fe({src:e,async:!0},t),(t=wt.get(l))&&Bf(e,t),a=n.createElement("script"),Re(a),Ie(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(l,a))}}function NS(e,t){hn.M(e,t);var n=Dl;if(n&&e){var i=el(n).hoistableScripts,l=Ol(e),a=i.get(l);a||(a=n.querySelector(es(l)),a||(e=fe({src:e,async:!0,type:"module"},t),(t=wt.get(l))&&Bf(e,t),a=n.createElement("script"),Re(a),Ie(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(l,a))}}function em(e,t,n,i){var l=(l=xn.current)?hr(l):null;if(!l)throw Error(b(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=vl(n.href),n=el(l).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=vl(n.href);var a=el(l).hoistableStyles,s=a.get(e);if(s||(l=l.ownerDocument||l,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=l.querySelector(Ja(e)))&&!a._p&&(s.instance=a,s.state.loading=5),wt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wt.set(e,n),a||AS(l,e,n,s.state))),t&&i===null)throw Error(b(528,""));return s}if(t&&i!==null)throw Error(b(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ol(n),n=el(l).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(b(444,e))}}function vl(e){return'href="'+vt(e)+'"'}function Ja(e){return'link[rel="stylesheet"]['+e+"]"}function yy(e){return fe({},e,{"data-precedence":e.precedence,precedence:null})}function AS(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Ie(t,"link",n),Re(t),e.head.appendChild(t))}function Ol(e){return'[src="'+vt(e)+'"]'}function es(e){return"script[async]"+e}function tm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(i)return t.instance=i,Re(i),i;var l=fe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Re(i),Ie(i,"style",l),Is(i,n.precedence,e),t.instance=i;case"stylesheet":l=vl(n.href);var a=e.querySelector(Ja(l));if(a)return t.state.loading|=4,t.instance=a,Re(a),a;i=yy(n),(l=wt.get(l))&&Uf(i,l),a=(e.ownerDocument||e).createElement("link"),Re(a);var s=a;return s._p=new Promise(function(r,o){s.onload=r,s.onerror=o}),Ie(a,"link",i),t.state.loading|=4,Is(a,n.precedence,e),t.instance=a;case"script":return a=Ol(n.src),(l=e.querySelector(es(a)))?(t.instance=l,Re(l),l):(i=n,(l=wt.get(a))&&(i=fe({},n),Bf(i,l)),e=e.ownerDocument||e,l=e.createElement("script"),Re(l),Ie(l,"link",i),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(b(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Is(i,n.precedence,e));return t.instance}function Is(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,a=l,s=0;s<i.length;s++){var r=i[s];if(r.dataset.precedence===t)a=r;else if(a!==l)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Uf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Us=null;function nm(e,t,n){if(Us===null){var i=new Map,l=Us=new Map;l.set(n,i)}else l=Us,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var a=n[l];if(!(a[Ka]||a[je]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var r=i.get(s);r?r.push(a):i.set(s,[a])}}return i}function im(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function RS(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function vy(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function DS(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var l=vl(i.href),a=t.querySelector(Ja(l));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=dr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Re(a);return}a=t.ownerDocument||t,i=yy(i),(l=wt.get(l))&&Uf(i,l),a=a.createElement("link"),Re(a);var s=a;s._p=new Promise(function(r,o){s.onload=r,s.onerror=o}),Ie(a,"link",i),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=dr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var tu=0;function OS(e,t){return e.stylesheets&&e.count===0&&Bs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Bs(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&tu===0&&(tu=62500*fS());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bs(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>tu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(l)}}:null}function dr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mr=null;function Bs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mr=new Map,t.forEach(MS,e),mr=null,dr.call(e))}function MS(e,t){if(!(t.state.loading&4)){var n=mr.get(e);if(n)var i=n.get(null);else{n=new Map,mr.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<l.length;a++){var s=l[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}l=t.instance,s=l.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,l),n.set(s,l),this.count++,i=dr.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),a?a.parentNode.insertBefore(l,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Ra={$$typeof:Xt,Provider:null,Consumer:null,_currentValue:si,_currentValue2:si,_threadCount:0};function zS(e,t,n,i,l,a,s,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.hiddenUpdates=wo(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function by(e,t,n,i,l,a,s,r,o,u,h,f){return e=new zS(e,t,n,s,o,u,h,f,r),t=1,a===!0&&(t|=24),a=at(3,null,null,t),e.current=a,a.stateNode=e,t=ff(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},mf(a),e}function Sy(e){return e?(e=Xi,e):Xi}function Ey(e,t,n,i,l,a){l=Sy(l),i.context===null?i.context=l:i.pendingContext=l,i=An(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Rn(e,i,t),n!==null&&(We(n,e,t),ia(n,e,t))}function lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hf(e,t){lm(e,t),(e=e.alternate)&&lm(e,t)}function Cy(e){if(e.tag===13||e.tag===31){var t=xi(e,67108864);t!==null&&We(t,e,67108864),Hf(e,67108864)}}function am(e){if(e.tag===13||e.tag===31){var t=ct();t=Wc(t);var n=xi(e,t);n!==null&&We(n,e,t),Hf(e,t)}}var pr=!0;function jS(e,t,n,i){var l=z.T;z.T=null;var a=P.p;try{P.p=2,qf(e,t,n,i)}finally{P.p=a,z.T=l}}function LS(e,t,n,i){var l=z.T;z.T=null;var a=P.p;try{P.p=8,qf(e,t,n,i)}finally{P.p=a,z.T=l}}function qf(e,t,n,i){if(pr){var l=gc(i);if(l===null)Jo(e,t,i,gr,n),sm(e,i);else if(IS(l,e,t,n,i))i.stopPropagation();else if(sm(e,i),t&4&&-1<kS.indexOf(e)){for(;l!==null;){var a=xl(l);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Jn(a.pendingLanes);if(s!==0){var r=a;for(r.pendingLanes|=2,r.entangledLanes|=2;s;){var o=1<<31-ut(s);r.entanglements[1]|=o,s&=~o}Bt(a),!(W&6)&&(ar=rt()+500,$a(0))}}break;case 31:case 13:r=xi(a,2),r!==null&&We(r,a,2),Pr(),Hf(a,2)}if(a=gc(i),a===null&&Jo(e,t,i,gr,n),a===l)break;l=a}l!==null&&i.stopPropagation()}else Jo(e,t,i,null,n)}}function gc(e){return e=ef(e),Vf(e)}var gr=null;function Vf(e){if(gr=null,e=Vi(e),e!==null){var t=Ga(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Gp(t),e!==null)return e;e=null}else if(n===31){if(e=Yp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return gr=e,null}function wy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sb()){case Xp:return 2;case Zp:return 8;case Qs:case Eb:return 32;case Wp:return 268435456;default:return 32}default:return 32}}var _c=!1,Mn=null,zn=null,jn=null,Da=new Map,Oa=new Map,bn=[],kS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sm(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Da.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(t.pointerId)}}function Vl(e,t,n,i,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[l]},t!==null&&(t=xl(t),t!==null&&Cy(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function IS(e,t,n,i,l){switch(t){case"focusin":return Mn=Vl(Mn,e,t,n,i,l),!0;case"dragenter":return zn=Vl(zn,e,t,n,i,l),!0;case"mouseover":return jn=Vl(jn,e,t,n,i,l),!0;case"pointerover":var a=l.pointerId;return Da.set(a,Vl(Da.get(a)||null,e,t,n,i,l)),!0;case"gotpointercapture":return a=l.pointerId,Oa.set(a,Vl(Oa.get(a)||null,e,t,n,i,l)),!0}return!1}function Ty(e){var t=Vi(e.target);if(t!==null){var n=Ga(t);if(n!==null){if(t=n.tag,t===13){if(t=Gp(n),t!==null){e.blockedOn=t,Yh(e.priority,function(){am(n)});return}}else if(t===31){if(t=Yp(n),t!==null){e.blockedOn=t,Yh(e.priority,function(){am(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gc(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Lu=i,n.target.dispatchEvent(i),Lu=null}else return t=xl(n),t!==null&&Cy(t),e.blockedOn=n,!1;t.shift()}return!0}function rm(e,t,n){Hs(e)&&n.delete(t)}function US(){_c=!1,Mn!==null&&Hs(Mn)&&(Mn=null),zn!==null&&Hs(zn)&&(zn=null),jn!==null&&Hs(jn)&&(jn=null),Da.forEach(rm),Oa.forEach(rm)}function Ss(e,t){e.blockedOn===t&&(e.blockedOn=null,_c||(_c=!0,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,US)))}var Es=null;function om(e){Es!==e&&(Es=e,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,function(){Es===e&&(Es=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],l=e[t+2];if(typeof i!="function"){if(Vf(i||n)===null)continue;break}var a=xl(n);a!==null&&(e.splice(t,3),t-=3,Pu(a,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function bl(e){function t(o){return Ss(o,e)}Mn!==null&&Ss(Mn,e),zn!==null&&Ss(zn,e),jn!==null&&Ss(jn,e),Da.forEach(t),Oa.forEach(t);for(var n=0;n<bn.length;n++){var i=bn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<bn.length&&(n=bn[0],n.blockedOn===null);)Ty(n),n.blockedOn===null&&bn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],a=n[i+1],s=l[$e]||null;if(typeof a=="function")s||om(n);else if(s){var r=null;if(a&&a.hasAttribute("formAction")){if(l=a,s=a[$e]||null)r=s.formAction;else if(Vf(l)!==null)continue}else r=s.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),om(n)}}}function xy(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return l=s})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function Gf(e){this._internalRoot=e}eo.prototype.render=Gf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));var n=t.current,i=ct();Ey(n,i,e,t,null,null)};eo.prototype.unmount=Gf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ey(e.current,2,null,e,null,null),Pr(),t[Tl]=null}};function eo(e){this._internalRoot=e}eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=tg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bn.length&&t!==0&&t<bn[n].priority;n++);bn.splice(n,0,e),n===0&&Ty(e)}};var um=qp.version;if(um!=="19.2.0")throw Error(b(527,um,"19.2.0"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=mb(t),e=e!==null?Qp(e):null,e=e===null?null:e.stateNode,e};var BS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{Ya=Cs.inject(BS),ot=Cs}catch{}}Ir.createRoot=function(e,t){if(!Vp(e))throw Error(b(299));var n=!1,i="",l=__,a=y_,s=v_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=by(e,1,!1,null,null,n,i,null,l,a,s,xy),e[Tl]=t.current,If(e),new Gf(t)};Ir.hydrateRoot=function(e,t,n){if(!Vp(e))throw Error(b(299));var i=!1,l="",a=__,s=y_,r=v_,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=by(e,1,!0,t,n??null,i,l,o,a,s,r,xy),t.context=Sy(null),n=t.current,i=ct(),i=Wc(i),l=An(i),l.callback=null,Rn(n,l,i),n=i,t.current.lanes=n,Fa(t,n),Bt(t),e[Tl]=t.current,If(e),new eo(t)};Ir.version="19.2.0";function Ny(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ny)}catch(e){console.error(e)}}Ny(),Lp.exports=Ir;var HS=Lp.exports;const qS=Tp(HS),VS="modulepreload",GS=function(e){return"/fenerbahce-fan-hub/"+e},cm={},yc=function(t,n,i){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),r=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));l=Promise.allSettled(n.map(o=>{if(o=GS(o),o in cm)return;cm[o]=!0;const u=o.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":VS,u||(f.as="script"),f.crossOrigin="",f.href=o,r&&f.setAttribute("nonce",r),document.head.appendChild(f),u)return new Promise((c,m)=>{f.addEventListener("load",c),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(s){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s}return l.then(s=>{for(const r of s||[])r.status==="rejected"&&a(r.reason);return t().catch(a)})};function YS(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:l,onRegisteredSW:a,onRegisterError:s}=e;let r,o;const u=async(f=!0)=>{await o};async function h(){if("serviceWorker"in navigator){if(r=await yc(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/fenerbahce-fan-hub/sw.js",{scope:"/fenerbahce-fan-hub/",type:"classic"})).catch(f=>{s==null||s(f)}),!r)return;r.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),r.addEventListener("installed",f=>{f.isUpdate||i==null||i()}),r.register({immediate:t}).then(f=>{a?a("/fenerbahce-fan-hub/sw.js",f):l==null||l(f)}).catch(f=>{s==null||s(f)})}}return o=h(),u}const Ml="https://fenerbahce-backend.onrender.com",QS=(e={})=>{const t=`/api/player-image/${e.id??""}`,n=e.photo||t;if(n.startsWith("http://")&&!n.includes("localhost"))return n.replace(/^http:\/\//i,"https://");if(n.startsWith("http://")||n.startsWith("https://"))return n;const i=n.startsWith("/")?n:`/${n}`;return`${Ml}${i}`},FS=async()=>{try{const e=await fetch(`${Ml}/api/next-match`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next match from backend:",e),null}},KS=async()=>{try{const e=await fetch(`${Ml}/api/squad`);if(!e.ok)throw new Error("Backend fetch failed");return(await e.json()).map(n=>({...n,photo:QS(n)}))}catch(e){return console.error("Error fetching squad from backend:",e),[]}},XS=async()=>{try{const e=await fetch(`${Ml}/api/next-3-matches`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next 3 matches from backend:",e),[]}};function Ay(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=Ay(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function fm(){for(var e,t,n=0,i="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=Ay(e))&&(i&&(i+=" "),i+=t);return i}const nu=e=>`${Ml}/api/team-image/${e}`,zi=({teamId:e,name:t="Takm",wrapperClassName:n="",imageClassName:i=""})=>{const[l,a]=D.useState(()=>e?nu(e):null),[s,r]=D.useState(e?"loading":"idle"),[o,u]=D.useState(0);D.useEffect(()=>{if(!e){a(null),r("idle");return}a(nu(e)),u(0),r("loading")},[e]);const h=()=>{if(e)if(o<2){const c=`${Date.now()}-${o+1}`;u(m=>m+1),a(`${nu(e)}?retry=${c}`)}else r("error")},f=(t==null?void 0:t.split(" ").filter(Boolean).map(c=>c[0]).join("").slice(0,2).toUpperCase())||"??";return p.jsxs("div",{className:fm("relative overflow-hidden",n),children:[l&&s!=="error"?p.jsx("img",{src:l,alt:`${t} logosu`,crossOrigin:"anonymous",className:fm("w-full h-full object-contain transition-opacity duration-300",i),onLoad:()=>r("ready"),onError:h}):p.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400 uppercase font-bold bg-white/5 rounded-full",children:f}),s==="loading"&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer rounded-full",style:{backgroundSize:"200% 100%"}})]})},ZS=()=>{};var hm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w=function(e,t){if(!e)throw zl(t)},zl=function(e){return new Error("Firebase Database ("+Ry.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},WS=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const l=e[n++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const a=e[n++];t[i++]=String.fromCharCode((l&31)<<6|a&63)}else if(l>239&&l<365){const a=e[n++],s=e[n++],r=e[n++],o=((l&7)<<18|(a&63)<<12|(s&63)<<6|r&63)-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(o&1023))}else{const a=e[n++],s=e[n++];t[i++]=String.fromCharCode((l&15)<<12|(a&63)<<6|s&63)}}return t.join("")},Yf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<e.length;l+=3){const a=e[l],s=l+1<e.length,r=s?e[l+1]:0,o=l+2<e.length,u=o?e[l+2]:0,h=a>>2,f=(a&3)<<4|r>>4;let c=(r&15)<<2|u>>6,m=u&63;o||(m=64,s||(c=64)),i.push(n[h],n[f],n[c],n[m])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Dy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):WS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<e.length;){const a=n[e.charAt(l++)],r=l<e.length?n[e.charAt(l)]:0;++l;const u=l<e.length?n[e.charAt(l)]:64;++l;const f=l<e.length?n[e.charAt(l)]:64;if(++l,a==null||r==null||u==null||f==null)throw new PS;const c=a<<2|r>>4;if(i.push(c),u!==64){const m=r<<4&240|u>>2;if(i.push(m),f!==64){const y=u<<6&192|f;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class PS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oy=function(e){const t=Dy(e);return Yf.encodeByteArray(t,!0)},_r=function(e){return Oy(e).replace(/\./g,"")},vc=function(e){try{return Yf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(e){return My(void 0,e)}function My(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!JS(n)||(e[n]=My(e[n],t[n]));return e}function JS(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=()=>eE().__FIREBASE_DEFAULTS__,nE=()=>{if(typeof process>"u"||typeof hm>"u")return;const e=hm.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},iE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&vc(e[1]);return t&&JSON.parse(t)},zy=()=>{try{return ZS()||tE()||nE()||iE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},lE=e=>{var t,n;return(n=(t=zy())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},aE=e=>{const t=lE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},jy=()=>{var e;return(e=zy())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",l=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[_r(JSON.stringify(n)),_r(JSON.stringify(s)),""].join(".")}const ha={};function oE(){const e={prod:[],emulator:[]};for(const t of Object.keys(ha))ha[t]?e.emulator.push(t):e.prod.push(t);return e}function uE(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let dm=!1;function cE(e,t){if(typeof window>"u"||typeof document>"u"||!Qf(window.location.host)||ha[e]===t||ha[e]||dm)return;ha[e]=t;function n(c){return`__firebase__banner__${c}`}const i="__firebase__banner",a=oE().prod.length>0;function s(){const c=document.getElementById(i);c&&c.remove()}function r(c){c.style.display="flex",c.style.background="#7faaf0",c.style.position="fixed",c.style.bottom="5px",c.style.left="5px",c.style.padding=".5em",c.style.borderRadius="5px",c.style.alignItems="center"}function o(c,m){c.setAttribute("width","24"),c.setAttribute("id",m),c.setAttribute("height","24"),c.setAttribute("viewBox","0 0 24 24"),c.setAttribute("fill","none"),c.style.marginLeft="-6px"}function u(){const c=document.createElement("span");return c.style.cursor="pointer",c.style.marginLeft="16px",c.style.fontSize="24px",c.innerHTML=" &times;",c.onclick=()=>{dm=!0,s()},c}function h(c,m){c.setAttribute("id",m),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline"}function f(){const c=uE(i),m=n("text"),y=document.getElementById(m)||document.createElement("span"),E=n("learnmore"),x=document.getElementById(E)||document.createElement("a"),g=n("preprendIcon"),d=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.created){const _=c.element;r(_),h(x,E);const v=u();o(d,g),_.append(d,y,x,v),document.body.appendChild(_)}a?(y.innerText="Preview backend disconnected.",d.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(d.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ly(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fE())}function hE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dE(){return Ry.NODE_ADMIN===!0}function ky(){try{return typeof indexedDB=="object"}catch{return!1}}function Iy(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var a;t(((a=l.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}function mE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="FirebaseError";class jl extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=pE,Object.setPrototypeOf(this,jl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,no.prototype.create)}}class no{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},l=`${this.service}/${t}`,a=this.errors[t],s=a?gE(a,i):"Error",r=`${this.serviceName}: ${s} (${l}).`;return new jl(l,r,i)}}function gE(e,t){return e.replace(_E,(n,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const _E=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(e){return JSON.parse(e)}function De(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=function(e){let t={},n={},i={},l="";try{const a=e.split(".");t=Ma(vc(a[0])||""),n=Ma(vc(a[1])||""),l=a[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:l}},yE=function(e){const t=Uy(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vE=function(e){const t=Uy(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function mm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function yr(e,t,n){const i={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=t.call(n,e[l],l,e));return i}function vr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const l of n){if(!i.includes(l))return!1;const a=e[l],s=t[l];if(pm(a)&&pm(s)){if(!vr(a,s))return!1}else if(a!==s)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function pm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)i[f]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let f=16;f<80;f++){const c=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(c<<1|c>>>31)&4294967295}let l=this.chain_[0],a=this.chain_[1],s=this.chain_[2],r=this.chain_[3],o=this.chain_[4],u,h;for(let f=0;f<80;f++){f<40?f<20?(u=r^a&(s^r),h=1518500249):(u=a^s^r,h=1859775393):f<60?(u=a&s|r&(a|s),h=2400959708):(u=a^s^r,h=3395469782);const c=(l<<5|l>>>27)+u+o+h+i[f]&4294967295;o=r,r=s,s=(a<<30|a>>>2)&4294967295,a=l,l=c}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+r&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let l=0;const a=this.buf_;let s=this.inbuf_;for(;l<n;){if(s===0)for(;l<=i;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<n;)if(a[s]=t.charCodeAt(l),++s,++l,s===this.blockSize){this.compress_(a),s=0;break}}else for(;l<n;)if(a[s]=t[l],++s,++l,s===this.blockSize){this.compress_(a),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let l=0;l<5;l++)for(let a=24;a>=0;a-=8)t[i]=this.chain_[l]>>a&255,++i;return t}}function By(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);if(l>=55296&&l<=56319){const a=l-55296;i++,w(i<e.length,"Surrogate pair missing trail surrogate.");const s=e.charCodeAt(i)-56320;l=65536+(a<<10)+s}l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):l<65536?(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},io=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e){return e&&e._delegate?e._delegate:e}class un{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new to;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TE(t))try{this.getOrInitializeService({instanceIdentifier:ni})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:l});i.resolve(a)}catch{}}}}clearInstance(t=ni){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ni){return this.instances.has(t)}getOptions(t=ni){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(a);i===r&&s.resolve(l)}return l}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(t),this.onInitCallbacks.set(i,l);const a=this.instances.get(i);return a&&t(a,i),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wE(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ni){return this.component?this.component.multipleInstances?t:ni:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wE(e){return e===ni?void 0:e}function TE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new CE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(le||(le={}));const NE={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},AE=le.INFO,RE={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},DE=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),l=RE[t];if(l)console[l](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hy{constructor(t){this.name=t,this._logLevel=AE,this._logHandler=DE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in le))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?NE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...t),this._logHandler(this,le.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...t),this._logHandler(this,le.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,le.INFO,...t),this._logHandler(this,le.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,le.WARN,...t),this._logHandler(this,le.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...t),this._logHandler(this,le.ERROR,...t)}}const OE=(e,t)=>t.some(n=>e instanceof n);let gm,_m;function ME(){return gm||(gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zE(){return _m||(_m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qy=new WeakMap,bc=new WeakMap,Vy=new WeakMap,iu=new WeakMap,Ff=new WeakMap;function jE(e){const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{n(tn(e.result)),l()},s=()=>{i(e.error),l()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&qy.set(n,e)}).catch(()=>{}),Ff.set(t,e),t}function LE(e){if(bc.has(e))return;const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{n(),l()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});bc.set(e,t)}let Sc={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return bc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Vy.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function kE(e){Sc=e(Sc)}function IE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(lu(this),t,...n);return Vy.set(i,t.sort?t.sort():[t]),tn(i)}:zE().includes(e)?function(...t){return e.apply(lu(this),t),tn(qy.get(this))}:function(...t){return tn(e.apply(lu(this),t))}}function UE(e){return typeof e=="function"?IE(e):(e instanceof IDBTransaction&&LE(e),OE(e,ME())?new Proxy(e,Sc):e)}function tn(e){if(e instanceof IDBRequest)return jE(e);if(iu.has(e))return iu.get(e);const t=UE(e);return t!==e&&(iu.set(e,t),Ff.set(t,e)),t}const lu=e=>Ff.get(e);function lo(e,t,{blocked:n,upgrade:i,blocking:l,terminated:a}={}){const s=indexedDB.open(e,t),r=tn(s);return i&&s.addEventListener("upgradeneeded",o=>{i(tn(s.result),o.oldVersion,o.newVersion,tn(s.transaction),o)}),n&&s.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),r.then(o=>{a&&o.addEventListener("close",()=>a()),l&&o.addEventListener("versionchange",u=>l(u.oldVersion,u.newVersion,u))}).catch(()=>{}),r}function au(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",i=>t(i.oldVersion,i)),tn(n).then(()=>{})}const BE=["get","getKey","getAll","getAllKeys","count"],HE=["put","add","delete","clear"],su=new Map;function ym(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(su.get(t))return su.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,l=HE.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||BE.includes(n)))return;const a=async function(s,...r){const o=this.transaction(s,l?"readwrite":"readonly");let u=o.store;return i&&(u=u.index(r.shift())),(await Promise.all([u[n](...r),l&&o.done]))[0]};return su.set(t,a),a}kE(e=>({...e,get:(t,n,i)=>ym(t,n)||e.get(t,n,i),has:(t,n)=>!!ym(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VE(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function VE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ec="@firebase/app",vm="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new Hy("@firebase/app"),GE="@firebase/app-compat",YE="@firebase/analytics-compat",QE="@firebase/analytics",FE="@firebase/app-check-compat",KE="@firebase/app-check",XE="@firebase/auth",ZE="@firebase/auth-compat",WE="@firebase/database",PE="@firebase/data-connect",$E="@firebase/database-compat",JE="@firebase/functions",eC="@firebase/functions-compat",tC="@firebase/installations",nC="@firebase/installations-compat",iC="@firebase/messaging",lC="@firebase/messaging-compat",aC="@firebase/performance",sC="@firebase/performance-compat",rC="@firebase/remote-config",oC="@firebase/remote-config-compat",uC="@firebase/storage",cC="@firebase/storage-compat",fC="@firebase/firestore",hC="@firebase/ai",dC="@firebase/firestore-compat",mC="firebase",pC="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="[DEFAULT]",gC={[Ec]:"fire-core",[GE]:"fire-core-compat",[QE]:"fire-analytics",[YE]:"fire-analytics-compat",[KE]:"fire-app-check",[FE]:"fire-app-check-compat",[XE]:"fire-auth",[ZE]:"fire-auth-compat",[WE]:"fire-rtdb",[PE]:"fire-data-connect",[$E]:"fire-rtdb-compat",[JE]:"fire-fn",[eC]:"fire-fn-compat",[tC]:"fire-iid",[nC]:"fire-iid-compat",[iC]:"fire-fcm",[lC]:"fire-fcm-compat",[aC]:"fire-perf",[sC]:"fire-perf-compat",[rC]:"fire-rc",[oC]:"fire-rc-compat",[uC]:"fire-gcs",[cC]:"fire-gcs-compat",[fC]:"fire-fst",[dC]:"fire-fst-compat",[hC]:"fire-vertex","fire-js":"fire-js",[mC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Map,_C=new Map,wc=new Map;function bm(e,t){try{e.container.addComponent(t)}catch(n){cn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Vn(e){const t=e.name;if(wc.has(t))return cn.debug(`There were multiple attempts to register component ${t}.`),!1;wc.set(t,e);for(const n of br.values())bm(n,e);for(const n of _C.values())bm(n,e);return!0}function ao(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yC(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ln=new no("app","Firebase",vC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=pC;function Gy(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Cc,automaticDataCollectionEnabled:!0,...t},l=i.name;if(typeof l!="string"||!l)throw Ln.create("bad-app-name",{appName:String(l)});if(n||(n=jy()),!n)throw Ln.create("no-options");const a=br.get(l);if(a){if(vr(n,a.options)&&vr(i,a.config))return a;throw Ln.create("duplicate-app",{appName:l})}const s=new xE(l);for(const o of wc.values())s.addComponent(o);const r=new bC(n,i,s);return br.set(l,r),r}function Yy(e=Cc){const t=br.get(e);if(!t&&e===Cc&&jy())return Gy();if(!t)throw Ln.create("no-app",{appName:e});return t}function It(e,t,n){let i=gC[e]??e;n&&(i+=`-${n}`);const l=i.match(/\s|\//),a=t.match(/\s|\//);if(l||a){const s=[`Unable to register library "${i}" with version "${t}":`];l&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cn.warn(s.join(" "));return}Vn(new un(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebase-heartbeat-database",CC=1,za="firebase-heartbeat-store";let ru=null;function Qy(){return ru||(ru=lo(EC,CC,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(za)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ln.create("idb-open",{originalErrorMessage:e.message})})),ru}async function wC(e){try{const n=(await Qy()).transaction(za),i=await n.objectStore(za).get(Fy(e));return await n.done,i}catch(t){if(t instanceof jl)cn.warn(t.message);else{const n=Ln.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});cn.warn(n.message)}}}async function Sm(e,t){try{const i=(await Qy()).transaction(za,"readwrite");await i.objectStore(za).put(t,Fy(e)),await i.done}catch(n){if(n instanceof jl)cn.warn(n.message);else{const i=Ln.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cn.warn(i.message)}}}function Fy(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=1024,xC=30;class NC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Em();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:l}),this._heartbeatsCache.heartbeats.length>xC){const s=DC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){cn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Em(),{heartbeatsToSend:i,unsentEntries:l}=AC(this._heartbeatsCache.heartbeats),a=_r(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return cn.warn(n),""}}}function Em(){return new Date().toISOString().substring(0,10)}function AC(e,t=TC){const n=[];let i=e.slice();for(const l of e){const a=n.find(s=>s.agent===l.agent);if(a){if(a.dates.push(l.date),Cm(n)>t){a.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Cm(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class RC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ky()?Iy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Cm(e){return _r(JSON.stringify({version:2,heartbeats:e})).length}function DC(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(e){Vn(new un("platform-logger",t=>new qE(t),"PRIVATE")),Vn(new un("heartbeat",t=>new NC(t),"PRIVATE")),It(Ec,vm,e),It(Ec,vm,"esm2020"),It("fire-js","")}OC("");var MC="firebase",zC="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */It(MC,zC,"app");var wm={};const Tm="@firebase/database",xm="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky="";function jC(e){Ky=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),De(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ma(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Mt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new LC(t)}}catch{}return new kC},li=Xy("localStorage"),IC=Xy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new Hy("@firebase/database"),Zy=function(){let e=1;return function(){return e++}}(),Wy=function(e){const t=EE(e),n=new SE;n.update(t);const i=n.digest();return Yf.encodeByteArray(i)},ts=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=ts.apply(null,i):typeof i=="object"?t+=De(i):t+=i,t+=" "}return t};let da=null,Nm=!0;const UC=function(e,t){w(!0,"Can't turn on custom loggers persistently."),rl.logLevel=le.VERBOSE,da=rl.log.bind(rl)},Ue=function(...e){if(Nm===!0&&(Nm=!1,da===null&&IC.get("logging_enabled")===!0&&UC()),da){const t=ts.apply(null,e);da(t)}},ns=function(e){return function(...t){Ue(e,...t)}},Tc=function(...e){const t="FIREBASE INTERNAL ERROR: "+ts(...e);rl.error(t)},fn=function(...e){const t=`FIREBASE FATAL ERROR: ${ts(...e)}`;throw rl.error(t),new Error(t)},ft=function(...e){const t="FIREBASE WARNING: "+ts(...e);rl.warn(t)},BC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kf=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},HC=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Sl="[MIN_NAME]",_i="[MAX_NAME]",Ll=function(e,t){if(e===t)return 0;if(e===Sl||t===_i)return-1;if(t===Sl||e===_i)return 1;{const n=Am(e),i=Am(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},qC=function(e,t){return e===t?0:e<t?-1:1},Gl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+De(t))},Xf=function(e){if(typeof e!="object"||e===null)return De(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=De(t[i]),n+=":",n+=Xf(e[t[i]]);return n+="}",n},Py=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let l=0;l<n;l+=t)l+t>n?i.push(e.substring(l,n)):i.push(e.substring(l,l+t));return i};function Je(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const $y=function(e){w(!Kf(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let l,a,s,r,o;e===0?(a=0,s=0,l=1/e===-1/0?1:0):(l=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),i),a=r+i,s=Math.round(e*Math.pow(2,n-r)-Math.pow(2,n))):(a=0,s=Math.round(e/Math.pow(2,1-i-n))));const u=[];for(o=n;o;o-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(o=t;o;o-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(l?1:0),u.reverse();const h=u.join("");let f="";for(o=0;o<64;o+=8){let c=parseInt(h.substr(o,8),2).toString(16);c.length===1&&(c="0"+c),f=f+c}return f.toLowerCase()},VC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},GC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function YC(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const QC=new RegExp("^-?(0*)\\d{1,10}$"),FC=-2147483648,KC=2147483647,Am=function(e){if(QC.test(e)){const t=Number(e);if(t>=FC&&t<=KC)return t}return null},is=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw ft("Exception was thrown by user callback.",n),t},Math.floor(0))}},XC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ma=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,yC(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ft(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ft(t)}}class qs{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}qs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="5",Jy="v",e0="s",t0="r",n0="f",i0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,l0="ls",a0="p",xc="ac",s0="websocket",r0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,n,i,l,a=!1,s="",r=!1,o=!1,u=null){this.secure=n,this.namespace=i,this.webSocketOnly=l,this.nodeAdmin=a,this.persistenceKey=s,this.includeNamespaceInQueryParams=r,this.isUsingEmulator=o,this.emulatorOptions=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=li.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&li.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function PC(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function u0(e,t,n){w(typeof t=="string","typeof type must == string"),w(typeof n=="object","typeof params must == object");let i;if(t===s0)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===r0)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);PC(e)&&(n.ns=e.namespace);const l=[];return Je(n,(a,s)=>{l.push(a+"="+s)}),i+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.counters_={}}incrementCounter(t,n=1){Mt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return $S(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou={},uu={};function Wf(e){const t=e.toString();return ou[t]||(ou[t]=new $C),ou[t]}function JC(e,t){const n=e.toString();return uu[n]||(uu[n]=t()),uu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<i.length;++l)i[l]&&is(()=>{this.onMessage_(i[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="start",tw="close",nw="pLPCommand",iw="pRTLPCB",c0="id",f0="pw",h0="ser",lw="cb",aw="seg",sw="ts",rw="d",ow="dframe",d0=1870,m0=30,uw=d0-m0,cw=25e3,fw=3e4;class $i{constructor(t,n,i,l,a,s,r){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=l,this.authToken=a,this.transportSessionId=s,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ns(t),this.stats_=Wf(n),this.urlFn=o=>(this.appCheckToken&&(o[xc]=this.appCheckToken),u0(n,r0,o))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ew(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fw)),HC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pf((...a)=>{const[s,r,o,u,h]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Rm)this.id=r,this.password=o;else if(s===tw)r?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(r,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...a)=>{const[s,r]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(s,r)},()=>{this.onClosed_()},this.urlFn);const i={};i[Rm]="t",i[h0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[lw]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Jy]=Zf,this.transportSessionId&&(i[e0]=this.transportSessionId),this.lastSessionId&&(i[l0]=this.lastSessionId),this.applicationId&&(i[a0]=this.applicationId),this.appCheckToken&&(i[xc]=this.appCheckToken),typeof location<"u"&&location.hostname&&i0.test(location.hostname)&&(i[t0]=n0);const l=this.urlFn(i);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$i.forceAllow_=!0}static forceDisallow(){$i.forceDisallow_=!0}static isAvailable(){return $i.forceAllow_?!0:!$i.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!VC()&&!GC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=De(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Oy(n),l=Py(i,uw);for(let a=0;a<l.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[a]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[ow]="t",i[c0]=t,i[f0]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=De(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Pf{constructor(t,n,i,l){this.onDisconnect=i,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Zy(),window[nw+this.uniqueCallbackIdentifier]=t,window[iw+this.uniqueCallbackIdentifier]=n,this.myIFrame=Pf.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(r){Ue("frame writing exception"),r.stack&&Ue(r.stack),Ue(r)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ue("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[c0]=this.myID,t[f0]=this.myPW,t[h0]=this.currentSerial;let n=this.urlFn(t),i="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+m0+i.length<=d0;){const s=this.pendingSegs.shift();i=i+"&"+aw+l+"="+s.seg+"&"+sw+l+"="+s.ts+"&"+rw+l+"="+s.d,l++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(i,Math.floor(cw)),a=()=>{clearTimeout(l),i()};this.addTag(t,a)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const l=i.readyState;(!l||l==="loaded"||l==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ue("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=16384,dw=45e3;let Sr=null;typeof MozWebSocket<"u"?Sr=MozWebSocket:typeof WebSocket<"u"&&(Sr=WebSocket);class Nt{constructor(t,n,i,l,a,s,r){this.connId=t,this.applicationId=i,this.appCheckToken=l,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ns(this.connId),this.stats_=Wf(n),this.connURL=Nt.connectionURL_(n,s,r,l,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,l,a){const s={};return s[Jy]=Zf,typeof location<"u"&&location.hostname&&i0.test(location.hostname)&&(s[t0]=n0),n&&(s[e0]=n),i&&(s[l0]=i),l&&(s[xc]=l),a&&(s[a0]=a),u0(t,s0,s)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,li.set("previous_websocket_failure",!0);try{let i;dE(),this.mySock=new Sr(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Nt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Sr!==null&&!Nt.forceDisallow_}static previouslyFailed(){return li.isInMemoryStorage||li.get("previous_websocket_failure")===!0}markConnectionHealthy(){li.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ma(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(w(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=De(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Py(n,hw);i.length>1&&this.sendString_(String(i.length));for(let l=0;l<i.length;l++)this.sendString_(i[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dw))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nt.responsesRequiredToBeHealthy=2;Nt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static get ALL_TRANSPORTS(){return[$i,Nt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Nt&&Nt.isAvailable();let i=n&&!Nt.previouslyFailed();if(t.webSocketOnly&&(n||ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Nt];else{const l=this.transports_=[];for(const a of ja.ALL_TRANSPORTS)a&&a.isAvailable()&&l.push(a);ja.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ja.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=6e4,pw=5e3,gw=10*1024,_w=100*1024,cu="t",Dm="d",yw="s",Om="r",vw="e",Mm="o",zm="a",jm="n",Lm="p",bw="h";class Sw{constructor(t,n,i,l,a,s,r,o,u,h){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=l,this.authToken_=a,this.onMessage_=s,this.onReady_=r,this.onDisconnect_=o,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ns("c:"+this.id+":"),this.transportManager_=new ja(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=ma(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_w?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(cu in t){const n=t[cu];n===zm?this.upgradeIfSecondaryHealthy_():n===Om?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Mm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Gl("t",t),i=Gl("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Lm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Gl("t",t),i=Gl("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Gl(cu,t);if(Dm in t){const i=t[Dm];if(n===bw){const l={...i};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===jm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===yw?this.onConnectionShutdown_(i):n===Om?this.onReset_(i):n===vw?Tc("Server Error: "+i):n===Mm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tc("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Zf!==i&&ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),ma(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(mw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ma(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Lm,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(li.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{put(t,n,i,l){}merge(t,n,i,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t){this.allowedEvents_=t,this.listeners_={},w(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let l=0;l<i.length;l++)i[l].callback.apply(i[l].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const l=this.getInitialEvent(t);l&&n.apply(i,l)}off(t,n,i){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let a=0;a<l.length;a++)if(l[a].callback===n&&(!i||i===l[a].context)){l.splice(a,1);return}}validateEventType_(t){w(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends g0{static getInstance(){return new Er}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ly()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return w(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=32,Im=768;class ie{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[i]=this.pieces_[l],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Z(){return new ie("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Gn(e){return e.pieces_.length-e.pieceNum_}function ae(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ie(e.pieces_,t)}function _0(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ew(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function y0(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function v0(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ie(t,0)}function we(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ie)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let l=0;l<i.length;l++)i[l].length>0&&n.push(i[l])}return new ie(n,0)}function Y(e){return e.pieceNum_>=e.pieces_.length}function Xe(e,t){const n=H(e),i=H(t);if(n===null)return t;if(n===i)return Xe(ae(e),ae(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function $f(e,t){if(Gn(e)!==Gn(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function At(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Gn(e)>Gn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Cw{constructor(t,n){this.errorPrefix_=n,this.parts_=y0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=io(this.parts_[i]);b0(this)}}function ww(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=io(t),b0(e)}function Tw(e){const t=e.parts_.pop();e.byteLength_-=io(t),e.parts_.length>0&&(e.byteLength_-=1)}function b0(e){if(e.byteLength_>Im)throw new Error(e.errorPrefix_+"has a key path longer than "+Im+" bytes ("+e.byteLength_+").");if(e.parts_.length>km)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+km+") or object contains a cycle "+ii(e))}function ii(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends g0{static getInstance(){return new Jf}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return w(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=1e3,xw=60*5*1e3,Um=30*1e3,Nw=1.3,Aw=3e4,Rw="server_kill",Bm=3;class nn extends p0{constructor(t,n,i,l,a,s,r,o){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=l,this.onServerInfoUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=r,this.authOverride_=o,this.id=nn.nextPersistentConnectionId_++,this.log_=ns("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yl,this.maxReconnectDelay_=xw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jf.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Er.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const l=++this.requestNumber_,a={r:l,a:t,b:n};this.log_(De(a)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[l]=i)}get(t){this.initConnection_();const n=new to,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:s=>{const r=s.d;s.s==="ok"?n.resolve(r):n.reject(r)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(t,n,i,l){this.initConnection_();const a=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+a),this.listens.has(s)||this.listens.set(s,new Map),w(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(s).has(a),"listen() called twice for same path/queryId.");const r={onComplete:l,hashFn:n,query:t,tag:i};this.listens.get(s).set(a,r),this.connected_&&this.sendListen_(r)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+i+" for "+l);const a={p:i},s="q";t.tag&&(a.q=n._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(s,a,r=>{const o=r.d,u=r.s;nn.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(l))===t&&(this.log_("listen response",r),u!=="ok"&&this.removeListen_(i,l),t.onComplete&&t.onComplete(u,o))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Mt(t,"w")){const i=gi(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||vE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Um)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=yE(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,l=>{const a=l.s,s=l.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+l),w(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,l)&&this.connected_&&this.sendUnlisten_(i,l,t._queryObject,n)}sendUnlisten_(t,n,i,l){this.log_("Unlisten on "+t+" for "+n);const a={p:t},s="n";l&&(a.q=i,a.t=l),this.sendRequest(s,a)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,l){const a={p:n,d:i};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,s=>{l&&setTimeout(()=>{l(s.s,s.d)},Math.floor(0))})}put(t,n,i,l){this.putInternal("p",t,n,i,l)}merge(t,n,i,l){this.putInternal("m",t,n,i,l)}putInternal(t,n,i,l,a){this.initConnection_();const s={p:n,d:i};a!==void 0&&(s.h=a),this.outstandingPuts_.push({action:t,request:s,onComplete:l}),this.outstandingPutCount_++;const r=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(r):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(a.s,a.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+De(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Tc("Unrecognized action received from server: "+De(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Aw&&(this.reconnectDelay_=Yl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Nw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+nn.nextConnectionId_++,a=this.lastSessionId;let s=!1,r=null;const o=function(){r?r.close():(s=!0,i())},u=function(f){w(r,"sendRequest call when we're not connected not allowed."),r.sendRequest(f)};this.realtime_={close:o,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,c]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);s?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=c&&c.token,r=new Sw(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,m=>{ft(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(Rw)},a))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&ft(f),o())}}}interrupt(t){Ue("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ue("Resuming connection for reason: "+t),delete this.interruptReasons_[t],mm(this.interruptReasons_)&&(this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(a=>Xf(a)).join("$"):i="default";const l=this.removeListen_(t,i);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,n){const i=new ie(t).toString();let l;if(this.listens.has(i)){const a=this.listens.get(i);l=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else l=void 0;return l}onAuthRevoked_(t,n){Ue("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Bm&&(this.reconnectDelay_=Um,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ue("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Bm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Ky.replace(/\./g,"-")]=1,Ly()?t["framework.cordova"]=1:hE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Er.getInstance().currentlyOnline();return mm(this.interruptReasons_)&&t}}nn.nextPersistentConnectionId_=0;nn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new q(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new q(Sl,t),l=new q(Sl,n);return this.compare(i,l)!==0}minPost(){return q.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws;class S0 extends so{static get __EMPTY_NODE(){return ws}static set __EMPTY_NODE(t){ws=t}compare(t,n){return Ll(t.name,n.name)}isDefinedOn(t){throw zl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return q.MIN}maxPost(){return new q(_i,ws)}makePost(t,n){return w(typeof t=="string","KeyIndex indexValue must always be a string."),new q(t,ws)}toString(){return".key"}}const ol=new S0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t,n,i,l,a=null){this.isReverse_=l,this.resultGenerator_=a,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,l&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ae{constructor(t,n,i,l,a){this.key=t,this.value=n,this.color=i??Ae.RED,this.left=l??Ze.EMPTY_NODE,this.right=a??Ze.EMPTY_NODE}copy(t,n,i,l,a){return new Ae(t??this.key,n??this.value,i??this.color,l??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let l=this;const a=i(t,l.key);return a<0?l=l.copy(null,null,null,l.left.insert(t,n,i),null):a===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,n,i)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ze.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,l;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY_NODE;l=i.right.min_(),i=i.copy(l.key,l.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ae.RED=!0;Ae.BLACK=!1;class Dw{copy(t,n,i,l,a){return this}insert(t,n,i){return new Ae(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ze{constructor(t,n=Ze.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ze(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ae.BLACK,null,null))}remove(t){return new Ze(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ae.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,l=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return l?l.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(l=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ts(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ts(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ts(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ts(this.root_,null,this.comparator_,!0,t)}}Ze.EMPTY_NODE=new Dw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(e,t){return Ll(e.name,t.name)}function eh(e,t){return Ll(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc;function Mw(e){Nc=e}const E0=function(e){return typeof e=="number"?"number:"+$y(e):"string:"+e},C0=function(e){if(e.isLeafNode()){const t=e.val();w(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Mt(t,".sv"),"Priority must be a string or number.")}else w(e===Nc||e.isEmpty(),"priority of unexpected type.");w(e===Nc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm;class xe{static set __childrenNodeConstructor(t){Hm=t}static get __childrenNodeConstructor(){return Hm}constructor(t,n=xe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,w(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),C0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new xe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Y(t)?this:H(t)===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:xe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=H(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(w(i!==".priority"||Gn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,xe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+E0(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=$y(this.value_):t+=this.value_,this.lazyHash_=Wy(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===xe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof xe.__childrenNodeConstructor?-1:(w(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,l=xe.VALUE_TYPE_ORDER.indexOf(n),a=xe.VALUE_TYPE_ORDER.indexOf(i);return w(l>=0,"Unknown leaf type: "+n),w(a>=0,"Unknown leaf type: "+i),l===a?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}xe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w0,T0;function zw(e){w0=e}function jw(e){T0=e}class Lw extends so{compare(t,n){const i=t.node.getPriority(),l=n.node.getPriority(),a=i.compareTo(l);return a===0?Ll(t.name,n.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(_i,new xe("[PRIORITY-POST]",T0))}makePost(t,n){const i=w0(t);return new q(n,new xe("[PRIORITY-POST]",i))}toString(){return".priority"}}const de=new Lw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=Math.log(2);class Iw{constructor(t){const n=a=>parseInt(Math.log(a)/kw,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const l=i(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Cr=function(e,t,n,i){e.sort(t);const l=function(o,u){const h=u-o;let f,c;if(h===0)return null;if(h===1)return f=e[o],c=n?n(f):f,new Ae(c,f.node,Ae.BLACK,null,null);{const m=parseInt(h/2,10)+o,y=l(o,m),E=l(m+1,u);return f=e[m],c=n?n(f):f,new Ae(c,f.node,Ae.BLACK,y,E)}},a=function(o){let u=null,h=null,f=e.length;const c=function(y,E){const x=f-y,g=f;f-=y;const d=l(x+1,g),_=e[x],v=n?n(_):_;m(new Ae(v,_.node,E,null,d))},m=function(y){u?(u.left=y,u=y):(h=y,u=y)};for(let y=0;y<o.count;++y){const E=o.nextBitIsOne(),x=Math.pow(2,o.count-(y+1));E?c(x,Ae.BLACK):(c(x,Ae.BLACK),c(x,Ae.RED))}return h},s=new Iw(e.length),r=a(s);return new Ze(i||t,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu;const ji={};class Pt{static get Default(){return w(ji&&de,"ChildrenNode.ts has not been loaded"),fu=fu||new Pt({".priority":ji},{".priority":de}),fu}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=gi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ze?n:null}hasIndex(t){return Mt(this.indexSet_,t.toString())}addIndex(t,n){w(t!==ol,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let l=!1;const a=n.getIterator(q.Wrap);let s=a.getNext();for(;s;)l=l||t.isDefinedOn(s.node),i.push(s),s=a.getNext();let r;l?r=Cr(i,t.getCompare()):r=ji;const o=t.toString(),u={...this.indexSet_};u[o]=t;const h={...this.indexes_};return h[o]=r,new Pt(h,u)}addToIndexes(t,n){const i=yr(this.indexes_,(l,a)=>{const s=gi(this.indexSet_,a);if(w(s,"Missing index implementation for "+a),l===ji)if(s.isDefinedOn(t.node)){const r=[],o=n.getIterator(q.Wrap);let u=o.getNext();for(;u;)u.name!==t.name&&r.push(u),u=o.getNext();return r.push(t),Cr(r,s.getCompare())}else return ji;else{const r=n.get(t.name);let o=l;return r&&(o=o.remove(new q(t.name,r))),o.insert(t,t.node)}});return new Pt(i,this.indexSet_)}removeFromIndexes(t,n){const i=yr(this.indexes_,l=>{if(l===ji)return l;{const a=n.get(t.name);return a?l.remove(new q(t.name,a)):l}});return new Pt(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql;class O{static get EMPTY_NODE(){return Ql||(Ql=new O(new Ze(eh),null,Pt.Default))}constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&C0(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ql}updatePriority(t){return this.children_.isEmpty()?this:new O(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Ql:n}}getChild(t){const n=H(t);return n===null?this:this.getImmediateChild(n).getChild(ae(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(w(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new q(t,n);let l,a;n.isEmpty()?(l=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(i,this.children_)):(l=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(i,this.children_));const s=l.isEmpty()?Ql:this.priorityNode_;return new O(l,s,a)}}updateChild(t,n){const i=H(t);if(i===null)return n;{w(H(t)!==".priority"||Gn(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(i).updateChild(ae(t),n);return this.updateImmediateChild(i,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,l=0,a=!0;if(this.forEachChild(de,(s,r)=>{n[s]=r.val(t),i++,a&&O.INTEGER_REGEXP_.test(s)?l=Math.max(l,Number(s)):a=!1}),!t&&a&&l<2*i){const s=[];for(const r in n)s[r]=n[r];return s}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+E0(this.getPriority().val())+":"),this.forEachChild(de,(n,i)=>{const l=i.hash();l!==""&&(t+=":"+n+":"+l)}),this.lazyHash_=t===""?"":Wy(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const l=this.resolveIndex_(i);if(l){const a=l.getPredecessorKey(new q(t,n));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new q(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new q(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,q.Wrap);let a=l.peek();for(;a!=null&&n.compare(a,t)<0;)l.getNext(),a=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,q.Wrap);let a=l.peek();for(;a!=null&&n.compare(a,t)>0;)l.getNext(),a=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ls?-1:0}withIndex(t){if(t===ol||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new O(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===ol||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(de),l=n.getIterator(de);let a=i.getNext(),s=l.getNext();for(;a&&s;){if(a.name!==s.name||!a.node.equals(s.node))return!1;a=i.getNext(),s=l.getNext()}return a===null&&s===null}else return!1;else return!1}}resolveIndex_(t){return t===ol?null:this.indexMap_.get(t.toString())}}O.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Uw extends O{constructor(){super(new Ze(eh),O.EMPTY_NODE,Pt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return O.EMPTY_NODE}isEmpty(){return!1}}const ls=new Uw;Object.defineProperties(q,{MIN:{value:new q(Sl,O.EMPTY_NODE)},MAX:{value:new q(_i,ls)}});S0.__EMPTY_NODE=O.EMPTY_NODE;xe.__childrenNodeConstructor=O;Mw(ls);jw(ls);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=!0;function ze(e,t=null){if(e===null)return O.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),w(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new xe(n,ze(t))}if(!(e instanceof Array)&&Bw){const n=[];let i=!1;if(Je(e,(s,r)=>{if(s.substring(0,1)!=="."){const o=ze(r);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new q(s,o)))}}),n.length===0)return O.EMPTY_NODE;const a=Cr(n,Ow,s=>s.name,eh);if(i){const s=Cr(n,de.getCompare());return new O(a,ze(t),new Pt({".priority":s},{".priority":de}))}else return new O(a,ze(t),Pt.Default)}else{let n=O.EMPTY_NODE;return Je(e,(i,l)=>{if(Mt(e,i)&&i.substring(0,1)!=="."){const a=ze(l);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(ze(t))}}zw(ze);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends so{constructor(t){super(),this.indexPath_=t,w(!Y(t)&&H(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),l=this.extractChild(n.node),a=i.compareTo(l);return a===0?Ll(t.name,n.name):a}makePost(t,n){const i=ze(t),l=O.EMPTY_NODE.updateChild(this.indexPath_,i);return new q(n,l)}maxPost(){const t=O.EMPTY_NODE.updateChild(this.indexPath_,ls);return new q(_i,t)}toString(){return y0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends so{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Ll(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(t,n){const i=ze(t);return new q(n,i)}toString(){return".value"}}const Vw=new qw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(e){return{type:"value",snapshotNode:e}}function El(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function La(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ka(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Gw(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t){this.index_=t}updateChild(t,n,i,l,a,s){w(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const r=t.getImmediateChild(n);return r.getChild(l).equals(i.getChild(l))&&r.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(n)?s.trackChildChange(La(n,r)):w(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):r.isEmpty()?s.trackChildChange(El(n,i)):s.trackChildChange(ka(n,i,r))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(de,(l,a)=>{n.hasChild(l)||i.trackChildChange(La(l,a))}),n.isLeafNode()||n.forEachChild(de,(l,a)=>{if(t.hasChild(l)){const s=t.getImmediateChild(l);s.equals(a)||i.trackChildChange(ka(l,a,s))}else i.trackChildChange(El(l,a))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?O.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t){this.indexedFilter_=new th(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ia.getStartPost_(t),this.endPost_=Ia.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,l,a,s){return this.matches(new q(n,i))||(i=O.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,l,a,s)}updateFullNode(t,n,i){n.isLeafNode()&&(n=O.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(O.EMPTY_NODE);const a=this;return n.forEachChild(de,(s,r)=>{a.matches(new q(s,r))||(l=l.updateImmediateChild(s,O.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ia(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,l,a,s){return this.rangedFilter_.matches(new q(n,i))||(i=O.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,l,a,s):this.fullLimitUpdateChild_(t,n,i,a,s)}updateFullNode(t,n,i){let l;if(n.isLeafNode()||n.isEmpty())l=O.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=O.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;a.hasNext()&&s<this.limit_;){const r=a.getNext();if(this.withinDirectionalStart(r))if(this.withinDirectionalEnd(r))l=l.updateImmediateChild(r.name,r.node),s++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(O.EMPTY_NODE);let a;this.reverse_?a=l.getReverseIterator(this.index_):a=l.getIterator(this.index_);let s=0;for(;a.hasNext();){const r=a.getNext();s<this.limit_&&this.withinDirectionalStart(r)&&this.withinDirectionalEnd(r)?s++:l=l.updateImmediateChild(r.name,O.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,l,a){let s;if(this.reverse_){const f=this.index_.getCompare();s=(c,m)=>f(m,c)}else s=this.index_.getCompare();const r=t;w(r.numChildren()===this.limit_,"");const o=new q(n,i),u=this.reverse_?r.getFirstChild(this.index_):r.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(r.hasChild(n)){const f=r.getImmediateChild(n);let c=l.getChildAfterChild(this.index_,u,this.reverse_);for(;c!=null&&(c.name===n||r.hasChild(c.name));)c=l.getChildAfterChild(this.index_,c,this.reverse_);const m=c==null?1:s(c,o);if(h&&!i.isEmpty()&&m>=0)return a!=null&&a.trackChildChange(ka(n,i,f)),r.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(La(n,f));const E=r.updateImmediateChild(n,O.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(a!=null&&a.trackChildChange(El(c.name,c.node)),E.updateImmediateChild(c.name,c.node)):E}}else return i.isEmpty()?t:h&&s(u,o)>=0?(a!=null&&(a.trackChildChange(La(u.name,u.node)),a.trackChildChange(El(n,i))),r.updateImmediateChild(n,i).updateImmediateChild(u.name,O.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sl}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===de}copy(){const t=new nh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Qw(e){return e.loadsAllData()?new th(e.getIndex()):e.hasLimit()?new Yw(e):new Ia(e)}function qm(e){const t={};if(e.isDefault())return t;let n;if(e.index_===de?n="$priority":e.index_===Vw?n="$value":e.index_===ol?n="$key":(w(e.index_ instanceof Hw,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=De(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=De(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+De(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=De(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+De(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Vm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==de&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends p0{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(w(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,l){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=l,this.log_=ns("p:rest:"),this.listens_={}}listen(t,n,i,l){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const s=wr.getListenId_(t,i),r={};this.listens_[s]=r;const o=qm(t._queryParams);this.restRequest_(a+".json",o,(u,h)=>{let f=h;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(a,f,!1,i),gi(this.listens_,s)===r){let c;u?u===401?c="permission_denied":c="rest_error:"+u:c="ok",l(c,null)}})}unlisten(t,n){const i=wr.getListenId_(t,n);delete this.listens_[i]}get(t){const n=qm(t._queryParams),i=t._path.toString(),l=new to;return this.restRequest_(i+".json",n,(a,s)=>{let r=s;a===404&&(r=null,a=null),a===null?(this.onDataUpdate_(i,r,!1,null),l.resolve(r)):l.reject(new Error(r))}),l.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,a])=>{l&&l.accessToken&&(n.auth=l.accessToken),a&&a.token&&(n.ac=a.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+bE(n);this.log_("Sending REST request for "+s);const r=new XMLHttpRequest;r.onreadystatechange=()=>{if(i&&r.readyState===4){this.log_("REST Response for "+s+" received. status:",r.status,"response:",r.responseText);let o=null;if(r.status>=200&&r.status<300){try{o=Ma(r.responseText)}catch{ft("Failed to parse JSON response for "+s+": "+r.responseText)}i(null,o)}else r.status!==401&&r.status!==404&&ft("Got unsuccessful REST response for "+s+" Status: "+r.status),i(r.status);i=null}},r.open("GET",s,!0),r.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.rootNode_=O.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return{value:null,children:new Map}}function N0(e,t,n){if(Y(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=H(t);e.children.has(i)||e.children.set(i,Tr());const l=e.children.get(i);t=ae(t),N0(l,t,n)}}function Ac(e,t,n){e.value!==null?n(t,e.value):Kw(e,(i,l)=>{const a=new ie(t.toString()+"/"+i);Ac(l,a,n)})}function Kw(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&Je(this.last_,(i,l)=>{n[i]=n[i]-l}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=10*1e3,Zw=30*1e3,Ww=5*60*1e3;class Pw{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Xw(t);const i=Gm+(Zw-Gm)*Math.random();ma(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Je(t,(l,a)=>{a>0&&Mt(this.statsToReport_,l)&&(n[l]=a,i=!0)}),i&&this.server_.reportStats(n),ma(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ww))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rt||(Rt={}));function A0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ih(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lh(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Rt.ACK_USER_WRITE,this.source=A0()}operationForChild(t){if(Y(this.path)){if(this.affectedTree.value!=null)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ie(t));return new xr(Z(),n,this.revert)}}else return w(H(this.path)===t,"operationForChild called for unrelated child."),new xr(ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,n){this.source=t,this.path=n,this.type=Rt.LISTEN_COMPLETE}operationForChild(t){return Y(this.path)?new Ua(this.source,Z()):new Ua(this.source,ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Rt.OVERWRITE}operationForChild(t){return Y(this.path)?new yi(this.source,Z(),this.snap.getImmediateChild(t)):new yi(this.source,ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Rt.MERGE}operationForChild(t){if(Y(this.path)){const n=this.children.subtree(new ie(t));return n.isEmpty()?null:n.value?new yi(this.source,Z(),n.value):new Ba(this.source,Z(),n)}else return w(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ba(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Y(t))return this.isFullyInitialized()&&!this.filtered_;const n=H(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Jw(e,t,n,i){const l=[],a=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&a.push(Gw(s.childName,s.snapshotNode))}),Fl(e,l,"child_removed",t,i,n),Fl(e,l,"child_added",t,i,n),Fl(e,l,"child_moved",a,i,n),Fl(e,l,"child_changed",t,i,n),Fl(e,l,"value",t,i,n),l}function Fl(e,t,n,i,l,a){const s=i.filter(r=>r.type===n);s.sort((r,o)=>tT(e,r,o)),s.forEach(r=>{const o=eT(e,r,a);l.forEach(u=>{u.respondsTo(r.type)&&t.push(u.createEvent(o,e.query_))})})}function eT(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function tT(e,t,n){if(t.childName==null||n.childName==null)throw zl("Should only compare child_ events.");const i=new q(t.childName,t.snapshotNode),l=new q(n.childName,n.snapshotNode);return e.index_.compare(i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(e,t){return{eventCache:e,serverCache:t}}function pa(e,t,n,i){return ro(new vi(t,n,i),e.serverCache)}function R0(e,t,n,i){return ro(e.eventCache,new vi(t,n,i))}function Rc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function bi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu;const nT=()=>(hu||(hu=new Ze(qC)),hu);class oe{static fromObject(t){let n=new oe(null);return Je(t,(i,l)=>{n=n.set(new ie(i),l)}),n}constructor(t,n=nT()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(Y(t))return null;{const i=H(t),l=this.children.get(i);if(l!==null){const a=l.findRootMostMatchingPathAndValue(ae(t),n);return a!=null?{path:we(new ie(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Y(t))return this;{const n=H(t),i=this.children.get(n);return i!==null?i.subtree(ae(t)):new oe(null)}}set(t,n){if(Y(t))return new oe(n,this.children);{const i=H(t),a=(this.children.get(i)||new oe(null)).set(ae(t),n),s=this.children.insert(i,a);return new oe(this.value,s)}}remove(t){if(Y(t))return this.children.isEmpty()?new oe(null):new oe(null,this.children);{const n=H(t),i=this.children.get(n);if(i){const l=i.remove(ae(t));let a;return l.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,l),this.value===null&&a.isEmpty()?new oe(null):new oe(this.value,a)}else return this}}get(t){if(Y(t))return this.value;{const n=H(t),i=this.children.get(n);return i?i.get(ae(t)):null}}setTree(t,n){if(Y(t))return n;{const i=H(t),a=(this.children.get(i)||new oe(null)).setTree(ae(t),n);let s;return a.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,a),new oe(this.value,s)}}fold(t){return this.fold_(Z(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((l,a)=>{i[l]=a.fold_(we(t,l),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Z(),n)}findOnPath_(t,n,i){const l=this.value?i(n,this.value):!1;if(l)return l;if(Y(t))return null;{const a=H(t),s=this.children.get(a);return s?s.findOnPath_(ae(t),we(n,a),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Z(),n)}foreachOnPath_(t,n,i){if(Y(t))return this;{this.value&&i(n,this.value);const l=H(t),a=this.children.get(l);return a?a.foreachOnPath_(ae(t),we(n,l),i):new oe(null)}}foreach(t){this.foreach_(Z(),t)}foreach_(t,n){this.children.inorderTraversal((i,l)=>{l.foreach_(we(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.writeTree_=t}static empty(){return new Dt(new oe(null))}}function ga(e,t,n){if(Y(t))return new Dt(new oe(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const l=i.path;let a=i.value;const s=Xe(l,t);return a=a.updateChild(s,n),new Dt(e.writeTree_.set(l,a))}else{const l=new oe(n),a=e.writeTree_.setTree(t,l);return new Dt(a)}}}function Ym(e,t,n){let i=e;return Je(n,(l,a)=>{i=ga(i,we(t,l),a)}),i}function Qm(e,t){if(Y(t))return Dt.empty();{const n=e.writeTree_.setTree(t,new oe(null));return new Dt(n)}}function Dc(e,t){return Ri(e,t)!=null}function Ri(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Xe(n.path,t)):null}function Fm(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(de,(i,l)=>{t.push(new q(i,l))}):e.writeTree_.children.inorderTraversal((i,l)=>{l.value!=null&&t.push(new q(i,l.value))}),t}function kn(e,t){if(Y(t))return e;{const n=Ri(e,t);return n!=null?new Dt(new oe(n)):new Dt(e.writeTree_.subtree(t))}}function Oc(e){return e.writeTree_.isEmpty()}function Cl(e,t){return D0(Z(),e.writeTree_,t)}function D0(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((l,a)=>{l===".priority"?(w(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=D0(we(e,l),a,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(we(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(e,t){return j0(t,e)}function iT(e,t,n,i,l){w(i>e.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:l}),l&&(e.visibleWrites=ga(e.visibleWrites,t,n)),e.lastWriteId=i}function lT(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function aT(e,t){const n=e.allWrites.findIndex(r=>r.writeId===t);w(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let l=i.visible,a=!1,s=e.allWrites.length-1;for(;l&&s>=0;){const r=e.allWrites[s];r.visible&&(s>=n&&sT(r,i.path)?l=!1:At(i.path,r.path)&&(a=!0)),s--}if(l){if(a)return rT(e),!0;if(i.snap)e.visibleWrites=Qm(e.visibleWrites,i.path);else{const r=i.children;Je(r,o=>{e.visibleWrites=Qm(e.visibleWrites,we(i.path,o))})}return!0}else return!1}function sT(e,t){if(e.snap)return At(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&At(we(e.path,n),t))return!0;return!1}function rT(e){e.visibleWrites=O0(e.allWrites,oT,Z()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function oT(e){return e.visible}function O0(e,t,n){let i=Dt.empty();for(let l=0;l<e.length;++l){const a=e[l];if(t(a)){const s=a.path;let r;if(a.snap)At(n,s)?(r=Xe(n,s),i=ga(i,r,a.snap)):At(s,n)&&(r=Xe(s,n),i=ga(i,Z(),a.snap.getChild(r)));else if(a.children){if(At(n,s))r=Xe(n,s),i=Ym(i,r,a.children);else if(At(s,n))if(r=Xe(s,n),Y(r))i=Ym(i,Z(),a.children);else{const o=gi(a.children,H(r));if(o){const u=o.getChild(ae(r));i=ga(i,Z(),u)}}}else throw zl("WriteRecord should have .snap or .children")}}return i}function M0(e,t,n,i,l){if(!i&&!l){const a=Ri(e.visibleWrites,t);if(a!=null)return a;{const s=kn(e.visibleWrites,t);if(Oc(s))return n;if(n==null&&!Dc(s,Z()))return null;{const r=n||O.EMPTY_NODE;return Cl(s,r)}}}else{const a=kn(e.visibleWrites,t);if(!l&&Oc(a))return n;if(!l&&n==null&&!Dc(a,Z()))return null;{const s=function(u){return(u.visible||l)&&(!i||!~i.indexOf(u.writeId))&&(At(u.path,t)||At(t,u.path))},r=O0(e.allWrites,s,t),o=n||O.EMPTY_NODE;return Cl(r,o)}}}function uT(e,t,n){let i=O.EMPTY_NODE;const l=Ri(e.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(de,(a,s)=>{i=i.updateImmediateChild(a,s)}),i;if(n){const a=kn(e.visibleWrites,t);return n.forEachChild(de,(s,r)=>{const o=Cl(kn(a,new ie(s)),r);i=i.updateImmediateChild(s,o)}),Fm(a).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{const a=kn(e.visibleWrites,t);return Fm(a).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function cT(e,t,n,i,l){w(i||l,"Either existingEventSnap or existingServerSnap must exist");const a=we(t,n);if(Dc(e.visibleWrites,a))return null;{const s=kn(e.visibleWrites,a);return Oc(s)?l.getChild(n):Cl(s,l.getChild(n))}}function fT(e,t,n,i){const l=we(t,n),a=Ri(e.visibleWrites,l);if(a!=null)return a;if(i.isCompleteForChild(n)){const s=kn(e.visibleWrites,l);return Cl(s,i.getNode().getImmediateChild(n))}else return null}function hT(e,t){return Ri(e.visibleWrites,t)}function dT(e,t,n,i,l,a,s){let r;const o=kn(e.visibleWrites,t),u=Ri(o,Z());if(u!=null)r=u;else if(n!=null)r=Cl(o,n);else return[];if(r=r.withIndex(s),!r.isEmpty()&&!r.isLeafNode()){const h=[],f=s.getCompare(),c=a?r.getReverseIteratorFrom(i,s):r.getIteratorFrom(i,s);let m=c.getNext();for(;m&&h.length<l;)f(m,i)!==0&&h.push(m),m=c.getNext();return h}else return[]}function mT(){return{visibleWrites:Dt.empty(),allWrites:[],lastWriteId:-1}}function Nr(e,t,n,i){return M0(e.writeTree,e.treePath,t,n,i)}function sh(e,t){return uT(e.writeTree,e.treePath,t)}function Km(e,t,n,i){return cT(e.writeTree,e.treePath,t,n,i)}function Ar(e,t){return hT(e.writeTree,we(e.treePath,t))}function pT(e,t,n,i,l,a){return dT(e.writeTree,e.treePath,t,n,i,l,a)}function rh(e,t,n){return fT(e.writeTree,e.treePath,t,n)}function z0(e,t){return j0(we(e.treePath,t),e.writeTree)}function j0(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;w(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),w(i!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(i);if(l){const a=l.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,ka(i,t.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,La(i,l.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,El(i,t.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,ka(i,t.snapshotNode,l.oldSnap));else throw zl("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const L0=new _T;class oh{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new vi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rh(this.writes_,t,i)}}getChildAfterChild(t,n,i){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bi(this.viewCache_),a=pT(this.writes_,l,n,1,i,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(e){return{filter:e}}function vT(e,t){w(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),w(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function bT(e,t,n,i,l){const a=new gT;let s,r;if(n.type===Rt.OVERWRITE){const u=n;u.source.fromUser?s=Mc(e,t,u.path,u.snap,i,l,a):(w(u.source.fromServer,"Unknown source."),r=u.source.tagged||t.serverCache.isFiltered()&&!Y(u.path),s=Rr(e,t,u.path,u.snap,i,l,r,a))}else if(n.type===Rt.MERGE){const u=n;u.source.fromUser?s=ET(e,t,u.path,u.children,i,l,a):(w(u.source.fromServer,"Unknown source."),r=u.source.tagged||t.serverCache.isFiltered(),s=zc(e,t,u.path,u.children,i,l,r,a))}else if(n.type===Rt.ACK_USER_WRITE){const u=n;u.revert?s=TT(e,t,u.path,i,l,a):s=CT(e,t,u.path,u.affectedTree,i,l,a)}else if(n.type===Rt.LISTEN_COMPLETE)s=wT(e,t,n.path,i,a);else throw zl("Unknown operation type: "+n.type);const o=a.getChanges();return ST(t,s,o),{viewCache:s,changes:o}}function ST(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const l=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Rc(e);(n.length>0||!e.eventCache.isFullyInitialized()||l&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(x0(Rc(t)))}}function k0(e,t,n,i,l,a){const s=t.eventCache;if(Ar(i,n)!=null)return t;{let r,o;if(Y(n))if(w(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=bi(t),h=u instanceof O?u:O.EMPTY_NODE,f=sh(i,h);r=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{const u=Nr(i,bi(t));r=e.filter.updateFullNode(t.eventCache.getNode(),u,a)}else{const u=H(n);if(u===".priority"){w(Gn(n)===1,"Can't have a priority with additional path components");const h=s.getNode();o=t.serverCache.getNode();const f=Km(i,n,h,o);f!=null?r=e.filter.updatePriority(h,f):r=s.getNode()}else{const h=ae(n);let f;if(s.isCompleteForChild(u)){o=t.serverCache.getNode();const c=Km(i,n,s.getNode(),o);c!=null?f=s.getNode().getImmediateChild(u).updateChild(h,c):f=s.getNode().getImmediateChild(u)}else f=rh(i,u,t.serverCache);f!=null?r=e.filter.updateChild(s.getNode(),u,f,h,l,a):r=s.getNode()}}return pa(t,r,s.isFullyInitialized()||Y(n),e.filter.filtersNodes())}}function Rr(e,t,n,i,l,a,s,r){const o=t.serverCache;let u;const h=s?e.filter:e.filter.getIndexedFilter();if(Y(n))u=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const m=o.getNode().updateChild(n,i);u=h.updateFullNode(o.getNode(),m,null)}else{const m=H(n);if(!o.isCompleteForPath(n)&&Gn(n)>1)return t;const y=ae(n),x=o.getNode().getImmediateChild(m).updateChild(y,i);m===".priority"?u=h.updatePriority(o.getNode(),x):u=h.updateChild(o.getNode(),m,x,y,L0,null)}const f=R0(t,u,o.isFullyInitialized()||Y(n),h.filtersNodes()),c=new oh(l,f,a);return k0(e,f,n,l,c,r)}function Mc(e,t,n,i,l,a,s){const r=t.eventCache;let o,u;const h=new oh(l,t,a);if(Y(n))u=e.filter.updateFullNode(t.eventCache.getNode(),i,s),o=pa(t,u,!0,e.filter.filtersNodes());else{const f=H(n);if(f===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),i),o=pa(t,u,r.isFullyInitialized(),r.isFiltered());else{const c=ae(n),m=r.getNode().getImmediateChild(f);let y;if(Y(c))y=i;else{const E=h.getCompleteChild(f);E!=null?_0(c)===".priority"&&E.getChild(v0(c)).isEmpty()?y=E:y=E.updateChild(c,i):y=O.EMPTY_NODE}if(m.equals(y))o=t;else{const E=e.filter.updateChild(r.getNode(),f,y,c,h,s);o=pa(t,E,r.isFullyInitialized(),e.filter.filtersNodes())}}}return o}function Xm(e,t){return e.eventCache.isCompleteForChild(t)}function ET(e,t,n,i,l,a,s){let r=t;return i.foreach((o,u)=>{const h=we(n,o);Xm(t,H(h))&&(r=Mc(e,r,h,u,l,a,s))}),i.foreach((o,u)=>{const h=we(n,o);Xm(t,H(h))||(r=Mc(e,r,h,u,l,a,s))}),r}function Zm(e,t,n){return n.foreach((i,l)=>{t=t.updateChild(i,l)}),t}function zc(e,t,n,i,l,a,s,r){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let o=t,u;Y(n)?u=i:u=new oe(null).setTree(n,i);const h=t.serverCache.getNode();return u.children.inorderTraversal((f,c)=>{if(h.hasChild(f)){const m=t.serverCache.getNode().getImmediateChild(f),y=Zm(e,m,c);o=Rr(e,o,new ie(f),y,l,a,s,r)}}),u.children.inorderTraversal((f,c)=>{const m=!t.serverCache.isCompleteForChild(f)&&c.value===null;if(!h.hasChild(f)&&!m){const y=t.serverCache.getNode().getImmediateChild(f),E=Zm(e,y,c);o=Rr(e,o,new ie(f),E,l,a,s,r)}}),o}function CT(e,t,n,i,l,a,s){if(Ar(l,n)!=null)return t;const r=t.serverCache.isFiltered(),o=t.serverCache;if(i.value!=null){if(Y(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return Rr(e,t,n,o.getNode().getChild(n),l,a,r,s);if(Y(n)){let u=new oe(null);return o.getNode().forEachChild(ol,(h,f)=>{u=u.set(new ie(h),f)}),zc(e,t,n,u,l,a,r,s)}else return t}else{let u=new oe(null);return i.foreach((h,f)=>{const c=we(n,h);o.isCompleteForPath(c)&&(u=u.set(h,o.getNode().getChild(c)))}),zc(e,t,n,u,l,a,r,s)}}function wT(e,t,n,i,l){const a=t.serverCache,s=R0(t,a.getNode(),a.isFullyInitialized()||Y(n),a.isFiltered());return k0(e,s,n,i,L0,l)}function TT(e,t,n,i,l,a){let s;if(Ar(i,n)!=null)return t;{const r=new oh(i,t,l),o=t.eventCache.getNode();let u;if(Y(n)||H(n)===".priority"){let h;if(t.serverCache.isFullyInitialized())h=Nr(i,bi(t));else{const f=t.serverCache.getNode();w(f instanceof O,"serverChildren would be complete if leaf node"),h=sh(i,f)}h=h,u=e.filter.updateFullNode(o,h,a)}else{const h=H(n);let f=rh(i,h,t.serverCache);f==null&&t.serverCache.isCompleteForChild(h)&&(f=o.getImmediateChild(h)),f!=null?u=e.filter.updateChild(o,h,f,ae(n),r,a):t.eventCache.getNode().hasChild(h)?u=e.filter.updateChild(o,h,O.EMPTY_NODE,ae(n),r,a):u=o,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Nr(i,bi(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,a)))}return s=t.serverCache.isFullyInitialized()||Ar(i,Z())!=null,pa(t,u,s,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,l=new th(i.getIndex()),a=Qw(i);this.processor_=yT(a);const s=n.serverCache,r=n.eventCache,o=l.updateFullNode(O.EMPTY_NODE,s.getNode(),null),u=a.updateFullNode(O.EMPTY_NODE,r.getNode(),null),h=new vi(o,s.isFullyInitialized(),l.filtersNodes()),f=new vi(u,r.isFullyInitialized(),a.filtersNodes());this.viewCache_=ro(f,h),this.eventGenerator_=new $w(this.query_)}get query(){return this.query_}}function NT(e){return e.viewCache_.serverCache.getNode()}function AT(e,t){const n=bi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Y(t)&&!n.getImmediateChild(H(t)).isEmpty())?n.getChild(t):null}function Wm(e){return e.eventRegistrations_.length===0}function RT(e,t){e.eventRegistrations_.push(t)}function Pm(e,t,n){const i=[];if(n){w(t==null,"A cancel should cancel all event registrations.");const l=e.query._path;e.eventRegistrations_.forEach(a=>{const s=a.createCancelEvent(n,l);s&&i.push(s)})}if(t){let l=[];for(let a=0;a<e.eventRegistrations_.length;++a){const s=e.eventRegistrations_[a];if(!s.matches(t))l.push(s);else if(t.hasAnyCallback()){l=l.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=l}else e.eventRegistrations_=[];return i}function $m(e,t,n,i){t.type===Rt.MERGE&&t.source.queryId!==null&&(w(bi(e.viewCache_),"We should always have a full cache before handling merges"),w(Rc(e.viewCache_),"Missing event cache, even though we have a server cache"));const l=e.viewCache_,a=bT(e.processor_,l,t,n,i);return vT(e.processor_,a.viewCache),w(a.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,I0(e,a.changes,a.viewCache.eventCache.getNode(),null)}function DT(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(de,(a,s)=>{i.push(El(a,s))}),n.isFullyInitialized()&&i.push(x0(n.getNode())),I0(e,i,n.getNode(),t)}function I0(e,t,n,i){const l=i?[i]:e.eventRegistrations_;return Jw(e.eventGenerator_,t,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dr;class OT{constructor(){this.views=new Map}}function MT(e){w(!Dr,"__referenceConstructor has already been defined"),Dr=e}function zT(){return w(Dr,"Reference.ts has not been loaded"),Dr}function jT(e){return e.views.size===0}function uh(e,t,n,i){const l=t.source.queryId;if(l!==null){const a=e.views.get(l);return w(a!=null,"SyncTree gave us an op for an invalid query."),$m(a,t,n,i)}else{let a=[];for(const s of e.views.values())a=a.concat($m(s,t,n,i));return a}}function LT(e,t,n,i,l){const a=t._queryIdentifier,s=e.views.get(a);if(!s){let r=Nr(n,l?i:null),o=!1;r?o=!0:i instanceof O?(r=sh(n,i),o=!1):(r=O.EMPTY_NODE,o=!1);const u=ro(new vi(r,o,!1),new vi(i,l,!1));return new xT(t,u)}return s}function kT(e,t,n,i,l,a){const s=LT(e,t,i,l,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),RT(s,n),DT(s,n)}function IT(e,t,n,i){const l=t._queryIdentifier,a=[];let s=[];const r=Yn(e);if(l==="default")for(const[o,u]of e.views.entries())s=s.concat(Pm(u,n,i)),Wm(u)&&(e.views.delete(o),u.query._queryParams.loadsAllData()||a.push(u.query));else{const o=e.views.get(l);o&&(s=s.concat(Pm(o,n,i)),Wm(o)&&(e.views.delete(l),o.query._queryParams.loadsAllData()||a.push(o.query)))}return r&&!Yn(e)&&a.push(new(zT())(t._repo,t._path)),{removed:a,events:s}}function U0(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ul(e,t){let n=null;for(const i of e.views.values())n=n||AT(i,t);return n}function B0(e,t){if(t._queryParams.loadsAllData())return oo(e);{const i=t._queryIdentifier;return e.views.get(i)}}function H0(e,t){return B0(e,t)!=null}function Yn(e){return oo(e)!=null}function oo(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Or;function UT(e){w(!Or,"__referenceConstructor has already been defined"),Or=e}function BT(){return w(Or,"Reference.ts has not been loaded"),Or}let HT=1;class Jm{constructor(t){this.listenProvider_=t,this.syncPointTree_=new oe(null),this.pendingWriteTree_=mT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function q0(e,t,n,i,l){return iT(e.pendingWriteTree_,t,n,i,l),l?as(e,new yi(A0(),t,n)):[]}function Ji(e,t,n=!1){const i=lT(e.pendingWriteTree_,t);if(aT(e.pendingWriteTree_,t)){let a=new oe(null);return i.snap!=null?a=a.set(Z(),!0):Je(i.children,s=>{a=a.set(new ie(s),!0)}),as(e,new xr(i.path,a,n))}else return[]}function uo(e,t,n){return as(e,new yi(ih(),t,n))}function qT(e,t,n){const i=oe.fromObject(n);return as(e,new Ba(ih(),t,i))}function VT(e,t){return as(e,new Ua(ih(),t))}function GT(e,t,n){const i=fh(e,n);if(i){const l=hh(i),a=l.path,s=l.queryId,r=Xe(a,t),o=new Ua(lh(s),r);return dh(e,a,o)}else return[]}function jc(e,t,n,i,l=!1){const a=t._path,s=e.syncPointTree_.get(a);let r=[];if(s&&(t._queryIdentifier==="default"||H0(s,t))){const o=IT(s,t,n,i);jT(s)&&(e.syncPointTree_=e.syncPointTree_.remove(a));const u=o.removed;if(r=o.events,!l){const h=u.findIndex(c=>c._queryParams.loadsAllData())!==-1,f=e.syncPointTree_.findOnPath(a,(c,m)=>Yn(m));if(h&&!f){const c=e.syncPointTree_.subtree(a);if(!c.isEmpty()){const m=FT(c);for(let y=0;y<m.length;++y){const E=m[y],x=E.query,g=Y0(e,E);e.listenProvider_.startListening(_a(x),Mr(e,x),g.hashFn,g.onComplete)}}}!f&&u.length>0&&!i&&(h?e.listenProvider_.stopListening(_a(t),null):u.forEach(c=>{const m=e.queryToTagMap.get(co(c));e.listenProvider_.stopListening(_a(c),m)}))}KT(e,u)}return r}function YT(e,t,n,i){const l=fh(e,i);if(l!=null){const a=hh(l),s=a.path,r=a.queryId,o=Xe(s,t),u=new yi(lh(r),o,n);return dh(e,s,u)}else return[]}function QT(e,t,n,i){const l=fh(e,i);if(l){const a=hh(l),s=a.path,r=a.queryId,o=Xe(s,t),u=oe.fromObject(n),h=new Ba(lh(r),o,u);return dh(e,s,h)}else return[]}function ep(e,t,n,i=!1){const l=t._path;let a=null,s=!1;e.syncPointTree_.foreachOnPath(l,(c,m)=>{const y=Xe(c,l);a=a||ul(m,y),s=s||Yn(m)});let r=e.syncPointTree_.get(l);r?(s=s||Yn(r),a=a||ul(r,Z())):(r=new OT,e.syncPointTree_=e.syncPointTree_.set(l,r));let o;a!=null?o=!0:(o=!1,a=O.EMPTY_NODE,e.syncPointTree_.subtree(l).foreachChild((m,y)=>{const E=ul(y,Z());E&&(a=a.updateImmediateChild(m,E))}));const u=H0(r,t);if(!u&&!t._queryParams.loadsAllData()){const c=co(t);w(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");const m=XT();e.queryToTagMap.set(c,m),e.tagToQueryMap.set(m,c)}const h=ah(e.pendingWriteTree_,l);let f=kT(r,t,n,h,a,o);if(!u&&!s&&!i){const c=B0(r,t);f=f.concat(ZT(e,t,c))}return f}function ch(e,t,n){const l=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(s,r)=>{const o=Xe(s,t),u=ul(r,o);if(u)return u});return M0(l,t,a,n,!0)}function as(e,t){return V0(t,e.syncPointTree_,null,ah(e.pendingWriteTree_,Z()))}function V0(e,t,n,i){if(Y(e.path))return G0(e,t,n,i);{const l=t.get(Z());n==null&&l!=null&&(n=ul(l,Z()));let a=[];const s=H(e.path),r=e.operationForChild(s),o=t.children.get(s);if(o&&r){const u=n?n.getImmediateChild(s):null,h=z0(i,s);a=a.concat(V0(r,o,u,h))}return l&&(a=a.concat(uh(l,e,i,n))),a}}function G0(e,t,n,i){const l=t.get(Z());n==null&&l!=null&&(n=ul(l,Z()));let a=[];return t.children.inorderTraversal((s,r)=>{const o=n?n.getImmediateChild(s):null,u=z0(i,s),h=e.operationForChild(s);h&&(a=a.concat(G0(h,r,o,u)))}),l&&(a=a.concat(uh(l,e,i,n))),a}function Y0(e,t){const n=t.query,i=Mr(e,n);return{hashFn:()=>(NT(t)||O.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return i?GT(e,n._path,i):VT(e,n._path);{const a=YC(l,n);return jc(e,n,null,a)}}}}function Mr(e,t){const n=co(t);return e.queryToTagMap.get(n)}function co(e){return e._path.toString()+"$"+e._queryIdentifier}function fh(e,t){return e.tagToQueryMap.get(t)}function hh(e){const t=e.indexOf("$");return w(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ie(e.substr(0,t))}}function dh(e,t,n){const i=e.syncPointTree_.get(t);w(i,"Missing sync point for query tag that we're tracking");const l=ah(e.pendingWriteTree_,t);return uh(i,n,l,null)}function FT(e){return e.fold((t,n,i)=>{if(n&&Yn(n))return[oo(n)];{let l=[];return n&&(l=U0(n)),Je(i,(a,s)=>{l=l.concat(s)}),l}})}function _a(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(BT())(e._repo,e._path):e}function KT(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const l=co(i),a=e.queryToTagMap.get(l);e.queryToTagMap.delete(l),e.tagToQueryMap.delete(a)}}}function XT(){return HT++}function ZT(e,t,n){const i=t._path,l=Mr(e,t),a=Y0(e,n),s=e.listenProvider_.startListening(_a(t),l,a.hashFn,a.onComplete),r=e.syncPointTree_.subtree(i);if(l)w(!Yn(r.value),"If we're adding a query, it shouldn't be shadowed");else{const o=r.fold((u,h,f)=>{if(!Y(u)&&h&&Yn(h))return[oo(h).query];{let c=[];return h&&(c=c.concat(U0(h).map(m=>m.query))),Je(f,(m,y)=>{c=c.concat(y)}),c}});for(let u=0;u<o.length;++u){const h=o[u];e.listenProvider_.stopListening(_a(h),Mr(e,h))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new mh(n)}node(){return this.node_}}class ph{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=we(this.path_,t);return new ph(this.syncTree_,n)}node(){return ch(this.syncTree_,this.path_)}}const WT=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},tp=function(e,t,n){if(!e||typeof e!="object")return e;if(w(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return PT(e[".sv"],t,n);if(typeof e[".sv"]=="object")return $T(e[".sv"],t);w(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},PT=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:w(!1,"Unexpected server value: "+e)}},$T=function(e,t,n){e.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&w(!1,"Unexpected increment value: "+i);const l=t.node();if(w(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return i;const s=l.getValue();return typeof s!="number"?i:s+i},JT=function(e,t,n,i){return gh(t,new ph(n,e),i)},Q0=function(e,t,n){return gh(e,new mh(t),n)};function gh(e,t,n){const i=e.getPriority().val(),l=tp(i,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const s=e,r=tp(s.getValue(),t,n);return r!==s.getValue()||l!==s.getPriority().val()?new xe(r,ze(l)):e}else{const s=e;return a=s,l!==s.getPriority().val()&&(a=a.updatePriority(new xe(l))),s.forEachChild(de,(r,o)=>{const u=gh(o,t.getImmediateChild(r),n);u!==o&&(a=a.updateImmediateChild(r,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function fo(e,t){let n=t instanceof ie?t:new ie(t),i=e,l=H(n);for(;l!==null;){const a=gi(i.node.children,l)||{children:{},childCount:0};i=new _h(l,i,a),n=ae(n),l=H(n)}return i}function Di(e){return e.node.value}function yh(e,t){e.node.value=t,Lc(e)}function F0(e){return e.node.childCount>0}function ex(e){return Di(e)===void 0&&!F0(e)}function ho(e,t){Je(e.node.children,(n,i)=>{t(new _h(n,e,i))})}function K0(e,t,n,i){n&&t(e),ho(e,l=>{K0(l,t,!0)})}function tx(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function ss(e){return new ie(e.parent===null?e.name:ss(e.parent)+"/"+e.name)}function Lc(e){e.parent!==null&&nx(e.parent,e.name,e)}function nx(e,t,n){const i=ex(n),l=Mt(e.node.children,t);i&&l?(delete e.node.children[t],e.node.childCount--,Lc(e)):!i&&!l&&(e.node.children[t]=n.node,e.node.childCount++,Lc(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=/[\[\].#$\/\u0000-\u001F\u007F]/,lx=/[\[\].#$\u0000-\u001F\u007F]/,du=10*1024*1024,X0=function(e){return typeof e=="string"&&e.length!==0&&!ix.test(e)},Z0=function(e){return typeof e=="string"&&e.length!==0&&!lx.test(e)},ax=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Z0(e)},sx=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Kf(e)||e&&typeof e=="object"&&Mt(e,".sv")},vh=function(e,t,n){const i=n instanceof ie?new Cw(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ii(i));if(typeof t=="function")throw new Error(e+"contains a function "+ii(i)+" with contents = "+t.toString());if(Kf(t))throw new Error(e+"contains "+t.toString()+" "+ii(i));if(typeof t=="string"&&t.length>du/3&&io(t)>du)throw new Error(e+"contains a string greater than "+du+" utf8 bytes "+ii(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,a=!1;if(Je(t,(s,r)=>{if(s===".value")l=!0;else if(s!==".priority"&&s!==".sv"&&(a=!0,!X0(s)))throw new Error(e+" contains an invalid key ("+s+") "+ii(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ww(i,s),vh(e,r,i),Tw(i)}),l&&a)throw new Error(e+' contains ".value" child '+ii(i)+" in addition to actual children.")}},W0=function(e,t,n,i){if(!Z0(n))throw new Error(By(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rx=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),W0(e,t,n)},ox=function(e,t){if(H(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},ux=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!X0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ax(n))throw new Error(By(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function P0(e,t){let n=null;for(let i=0;i<t.length;i++){const l=t[i],a=l.getPath();n!==null&&!$f(a,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(l)}n&&e.eventLists_.push(n)}function $0(e,t,n){P0(e,n),J0(e,i=>$f(i,t))}function Kn(e,t,n){P0(e,n),J0(e,i=>At(i,t)||At(t,i))}function J0(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const l=e.eventLists_[i];if(l){const a=l.path;t(a)?(fx(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function fx(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();da&&Ue("event: "+n.toString()),is(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="repo_interrupt",dx=25;class mx{constructor(t,n,i,l){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cx,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tr(),this.transactionQueueTree_=new _h,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function px(e,t,n){if(e.stats_=Wf(e.repoInfo_),e.forceRestClient_||XC())e.server_=new wr(e.repoInfo_,(i,l,a,s)=>{np(e,i,l,a,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>ip(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{De(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new nn(e.repoInfo_,t,(i,l,a,s)=>{np(e,i,l,a,s)},i=>{ip(e,i)},i=>{_x(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=JC(e.repoInfo_,()=>new Pw(e.stats_,e.server_)),e.infoData_=new Fw,e.infoSyncTree_=new Jm({startListening:(i,l,a,s)=>{let r=[];const o=e.infoData_.getNode(i._path);return o.isEmpty()||(r=uo(e.infoSyncTree_,i._path,o),setTimeout(()=>{s("ok")},0)),r},stopListening:()=>{}}),Sh(e,"connected",!1),e.serverSyncTree_=new Jm({startListening:(i,l,a,s)=>(e.server_.listen(i,a,l,(r,o)=>{const u=s(r,o);Kn(e.eventQueue_,i._path,u)}),[]),stopListening:(i,l)=>{e.server_.unlisten(i,l)}})}function gx(e){const n=e.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function bh(e){return WT({timestamp:gx(e)})}function np(e,t,n,i,l){e.dataUpdateCount++;const a=new ie(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(l)if(i){const o=yr(n,u=>ze(u));s=QT(e.serverSyncTree_,a,o,l)}else{const o=ze(n);s=YT(e.serverSyncTree_,a,o,l)}else if(i){const o=yr(n,u=>ze(u));s=qT(e.serverSyncTree_,a,o)}else{const o=ze(n);s=uo(e.serverSyncTree_,a,o)}let r=a;s.length>0&&(r=wh(e,a)),Kn(e.eventQueue_,r,s)}function ip(e,t){Sh(e,"connected",t),t===!1&&yx(e)}function _x(e,t){Je(t,(n,i)=>{Sh(e,n,i)})}function Sh(e,t,n){const i=new ie("/.info/"+t),l=ze(n);e.infoData_.updateSnapshot(i,l);const a=uo(e.infoSyncTree_,i,l);Kn(e.eventQueue_,i,a)}function ev(e){return e.nextWriteId_++}function yx(e){Eh(e,"onDisconnectEvents");const t=bh(e),n=Tr();Ac(e.onDisconnect_,Z(),(l,a)=>{const s=JT(l,a,e.serverSyncTree_,t);N0(n,l,s)});let i=[];Ac(n,Z(),(l,a)=>{i=i.concat(uo(e.serverSyncTree_,l,a));const s=wx(e,l);wh(e,s)}),e.onDisconnect_=Tr(),Kn(e.eventQueue_,Z(),i)}function vx(e,t,n){let i;H(t._path)===".info"?i=ep(e.infoSyncTree_,t,n):i=ep(e.serverSyncTree_,t,n),$0(e.eventQueue_,t._path,i)}function lp(e,t,n){let i;H(t._path)===".info"?i=jc(e.infoSyncTree_,t,n):i=jc(e.serverSyncTree_,t,n),$0(e.eventQueue_,t._path,i)}function bx(e){e.persistentConnection_&&e.persistentConnection_.interrupt(hx)}function Eh(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ue(n,...t)}function Sx(e,t,n,i,l,a){Eh(e,"transaction on "+t);const s={path:t,update:n,onComplete:i,status:null,order:Zy(),applyLocally:a,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},r=Ch(e,t,void 0);s.currentInputSnapshot=r;const o=s.update(r.val());if(o===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{vh("transaction failed: Data returned ",o,s.path),s.status=0;const u=fo(e.transactionQueueTree_,t),h=Di(u)||[];h.push(s),yh(u,h);let f;typeof o=="object"&&o!==null&&Mt(o,".priority")?(f=gi(o,".priority"),w(sx(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(ch(e.serverSyncTree_,t)||O.EMPTY_NODE).getPriority().val();const c=bh(e),m=ze(o,f),y=Q0(m,r,c);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=y,s.currentWriteId=ev(e);const E=q0(e.serverSyncTree_,t,y,s.currentWriteId,s.applyLocally);Kn(e.eventQueue_,t,E),mo(e,e.transactionQueueTree_)}}function Ch(e,t,n){return ch(e.serverSyncTree_,t,n)||O.EMPTY_NODE}function mo(e,t=e.transactionQueueTree_){if(t||po(e,t),Di(t)){const n=nv(e,t);w(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&Ex(e,ss(t),n)}else F0(t)&&ho(t,n=>{mo(e,n)})}function Ex(e,t,n){const i=n.map(u=>u.currentWriteId),l=Ch(e,t,i);let a=l;const s=l.hash();for(let u=0;u<n.length;u++){const h=n[u];w(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Xe(t,h.path);a=a.updateChild(f,h.currentOutputSnapshotRaw)}const r=a.val(!0),o=t;e.server_.put(o.toString(),r,u=>{Eh(e,"transaction put response",{path:o.toString(),status:u});let h=[];if(u==="ok"){const f=[];for(let c=0;c<n.length;c++)n[c].status=2,h=h.concat(Ji(e.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&f.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();po(e,fo(e.transactionQueueTree_,t)),mo(e,e.transactionQueueTree_),Kn(e.eventQueue_,t,h);for(let c=0;c<f.length;c++)is(f[c])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{ft("transaction at "+o.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}wh(e,t)}},s)}function wh(e,t){const n=tv(e,t),i=ss(n),l=nv(e,n);return Cx(e,l,i),i}function Cx(e,t,n){if(t.length===0)return;const i=[];let l=[];const s=t.filter(r=>r.status===0).map(r=>r.currentWriteId);for(let r=0;r<t.length;r++){const o=t[r],u=Xe(n,o.path);let h=!1,f;if(w(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,f=o.abortReason,l=l.concat(Ji(e.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=dx)h=!0,f="maxretry",l=l.concat(Ji(e.serverSyncTree_,o.currentWriteId,!0));else{const c=Ch(e,o.path,s);o.currentInputSnapshot=c;const m=t[r].update(c.val());if(m!==void 0){vh("transaction failed: Data returned ",m,o.path);let y=ze(m);typeof m=="object"&&m!=null&&Mt(m,".priority")||(y=y.updatePriority(c.getPriority()));const x=o.currentWriteId,g=bh(e),d=Q0(y,c,g);o.currentOutputSnapshotRaw=y,o.currentOutputSnapshotResolved=d,o.currentWriteId=ev(e),s.splice(s.indexOf(x),1),l=l.concat(q0(e.serverSyncTree_,o.path,d,o.currentWriteId,o.applyLocally)),l=l.concat(Ji(e.serverSyncTree_,x,!0))}else h=!0,f="nodata",l=l.concat(Ji(e.serverSyncTree_,o.currentWriteId,!0))}Kn(e.eventQueue_,n,l),l=[],h&&(t[r].status=2,function(c){setTimeout(c,Math.floor(0))}(t[r].unwatcher),t[r].onComplete&&(f==="nodata"?i.push(()=>t[r].onComplete(null,!1,t[r].currentInputSnapshot)):i.push(()=>t[r].onComplete(new Error(f),!1,null))))}po(e,e.transactionQueueTree_);for(let r=0;r<i.length;r++)is(i[r]);mo(e,e.transactionQueueTree_)}function tv(e,t){let n,i=e.transactionQueueTree_;for(n=H(t);n!==null&&Di(i)===void 0;)i=fo(i,n),t=ae(t),n=H(t);return i}function nv(e,t){const n=[];return iv(e,t,n),n.sort((i,l)=>i.order-l.order),n}function iv(e,t,n){const i=Di(t);if(i)for(let l=0;l<i.length;l++)n.push(i[l]);ho(t,l=>{iv(e,l,n)})}function po(e,t){const n=Di(t);if(n){let i=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[i]=n[l],i++);n.length=i,yh(t,n.length>0?n:void 0)}ho(t,i=>{po(e,i)})}function wx(e,t){const n=ss(tv(e,t)),i=fo(e.transactionQueueTree_,t);return tx(i,l=>{mu(e,l)}),mu(e,i),K0(i,l=>{mu(e,l)}),n}function mu(e,t){const n=Di(t);if(n){const i=[];let l=[],a=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(w(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(w(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),l=l.concat(Ji(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));a===-1?yh(t,void 0):n.length=a+1,Kn(e.eventQueue_,ss(t),l);for(let s=0;s<i.length;s++)is(i[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let l=n[i];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function xx(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ft(`Invalid query segment '${n}' in query '${e}'`)}return t}const ap=function(e,t){const n=Nx(e),i=n.namespace;n.domain==="firebase.com"&&fn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||BC();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new o0(n.host,n.secure,i,l,t,"",i!==n.subdomain),path:new ie(n.pathString)}},Nx=function(e){let t="",n="",i="",l="",a="",s=!0,r="https",o=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(r=e.substring(0,u-1),e=e.substring(u+2));let h=e.indexOf("/");h===-1&&(h=e.length);let f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(l=Tx(e.substring(h,f)));const c=xx(e.substring(Math.min(e.length,f)));u=t.indexOf(":"),u>=0?(s=r==="https"||r==="wss",o=parseInt(t.substring(u+1),10)):u=t.length;const m=t.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const y=t.indexOf(".");i=t.substring(0,y).toLowerCase(),n=t.substring(y+1),a=i}"ns"in c&&(a=c.ns)}return{host:t,port:o,domain:n,subdomain:i,secure:s,scheme:r,pathString:l,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,n,i,l){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+De(this.snapshot.exportVal())}}class Rx{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n,i,l){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=l}get key(){return Y(this._path)?null:_0(this._path)}get ref(){return new dn(this._repo,this._path)}get _queryIdentifier(){const t=Vm(this._queryParams),n=Xf(t);return n==="{}"?"default":n}get _queryObject(){return Vm(this._queryParams)}isEqual(t){if(t=Ai(t),!(t instanceof Th))return!1;const n=this._repo===t._repo,i=$f(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return n&&i&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ew(this._path)}}class dn extends Th{constructor(t,n){super(t,n,new nh,!1)}get parent(){const t=v0(this._path);return t===null?null:new dn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ha{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ie(t),i=kc(this.ref,t);return new Ha(this._node.getChild(n),i,de)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,l)=>t(new Ha(l,kc(this.ref,i),de)))}hasChild(t){const n=new ie(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function sp(e,t){return e=Ai(e),e._checkNotDeleted("ref"),t!==void 0?kc(e._root,t):e._root}function kc(e,t){return e=Ai(e),H(e._path)===null?rx("child","path",t):W0("child","path",t),new dn(e._repo,we(e._path,t))}class xh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new Ax("value",this,new Ha(t.snapshotNode,new dn(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Rx(this,t,n):null}matches(t){return t instanceof xh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Ox(e,t,n,i,l){let a;if(typeof i=="object"&&(a=void 0,l=i),typeof i=="function"&&(a=i),l&&l.onlyOnce){const o=n,u=(h,f)=>{lp(e._repo,e,r),o(h,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new Dx(n,a||void 0),r=new xh(s);return vx(e._repo,e,r),()=>lp(e._repo,e,r)}function lv(e,t,n,i){return Ox(e,"value",t,n,i)}MT(dn);UT(dn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="FIREBASE_DATABASE_EMULATOR_HOST",Ic={};let zx=!1;function jx(e,t,n,i){const l=t.lastIndexOf(":"),a=t.substring(0,l),s=Qf(a);e.repoInfo_=new o0(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function Lx(e,t,n,i,l){let a=i||e.options.databaseURL;a===void 0&&(e.options.projectId||fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=ap(a,l),r=s.repoInfo,o;typeof process<"u"&&wm&&(o=wm[Mx]),o?(a=`http://${o}?ns=${r.namespace}`,s=ap(a,l),r=s.repoInfo):s.repoInfo.secure;const u=new WC(e.name,e.options,t);ux("Invalid Firebase Database URL",s),Y(s.path)||fn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=Ix(r,e,u,new ZC(e,n));return new Ux(h,e)}function kx(e,t){const n=Ic[t];(!n||n[e.key]!==e)&&fn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),bx(e),delete n[e.key]}function Ix(e,t,n,i){let l=Ic[t.name];l||(l={},Ic[t.name]=l);let a=l[e.toURLString()];return a&&fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new mx(e,zx,n,i),l[e.toURLString()]=a,a}class Ux{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(px(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dn(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&fn("Cannot call "+t+" on a deleted database.")}}function Bx(e=Yy(),t){const n=ao(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const i=aE("database");i&&Hx(n,...i)}return n}function Hx(e,t,n,i={}){e=Ai(e),e._checkNotDeleted("useEmulator");const l=`${t}:${n}`,a=e._repoInternal;if(e._instanceStarted){if(l===e._repoInternal.repoInfo_.host&&vr(i,a.repoInfo_.emulatorOptions))return;fn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new qs(qs.OWNER);else if(i.mockUserToken){const r=typeof i.mockUserToken=="string"?i.mockUserToken:rE(i.mockUserToken,e.app.options.projectId);s=new qs(r)}Qf(t)&&(sE(t),cE("Database",!0)),jx(a,l,i,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(e){jC(SC),Vn(new un("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return Lx(i,l,a,n)},"PUBLIC").setMultipleInstances(!0)),It(Tm,xm,e),It(Tm,xm,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Gx(e,t,n){if(e=Ai(e),ox("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=!0,l=new to,a=(r,o,u)=>{let h=null;r?l.reject(r):(h=new Ha(u,new dn(e._repo,e._path),de),l.resolve(new Vx(o,h)))},s=lv(e,()=>{});return Sx(e._repo,e._path,t,a,s,i),l.promise}nn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};nn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};qx();const av="@firebase/installations",Nh="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=1e4,rv=`w:${Nh}`,ov="FIS_v2",Yx="https://firebaseinstallations.googleapis.com/v1",Qx=60*60*1e3,Fx="installations",Kx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Si=new no(Fx,Kx,Xx);function uv(e){return e instanceof jl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv({projectId:e}){return`${Yx}/projects/${e}/installations`}function fv(e){return{token:e.token,requestStatus:2,expiresIn:Wx(e.expiresIn),creationTime:Date.now()}}async function hv(e,t){const i=(await t.json()).error;return Si.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function dv({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Zx(e,{refreshToken:t}){const n=dv(e);return n.append("Authorization",Px(t)),n}async function mv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Wx(e){return Number(e.replace("s","000"))}function Px(e){return`${ov} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=cv(e),l=dv(e),a=t.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&l.append("x-firebase-client",u)}const s={fid:n,authVersion:ov,appId:e.appId,sdkVersion:rv},r={method:"POST",headers:l,body:JSON.stringify(s)},o=await mv(()=>fetch(i,r));if(o.ok){const u=await o.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:fv(u.authToken)}}else throw await hv("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/^[cdef][\w-]{21}$/,Uc="";function t2(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=n2(e);return e2.test(n)?n:Uc}catch{return Uc}}function n2(e){return Jx(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;function _v(e,t){const n=go(e);yv(n,t),i2(n,t)}function yv(e,t){const n=gv.get(e);if(n)for(const i of n)i(t)}function i2(e,t){const n=l2();n&&n.postMessage({key:e,fid:t}),a2()}let ai=null;function l2(){return!ai&&"BroadcastChannel"in self&&(ai=new BroadcastChannel("[Firebase] FID Change"),ai.onmessage=e=>{yv(e.data.key,e.data.fid)}),ai}function a2(){gv.size===0&&ai&&(ai.close(),ai=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="firebase-installations-database",r2=1,Ei="firebase-installations-store";let pu=null;function Ah(){return pu||(pu=lo(s2,r2,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ei)}}})),pu}async function zr(e,t){const n=go(e),l=(await Ah()).transaction(Ei,"readwrite"),a=l.objectStore(Ei),s=await a.get(n);return await a.put(t,n),await l.done,(!s||s.fid!==t.fid)&&_v(e,t.fid),t}async function vv(e){const t=go(e),i=(await Ah()).transaction(Ei,"readwrite");await i.objectStore(Ei).delete(t),await i.done}async function _o(e,t){const n=go(e),l=(await Ah()).transaction(Ei,"readwrite"),a=l.objectStore(Ei),s=await a.get(n),r=t(s);return r===void 0?await a.delete(n):await a.put(r,n),await l.done,r&&(!s||s.fid!==r.fid)&&_v(e,r.fid),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(e){let t;const n=await _o(e.appConfig,i=>{const l=o2(i),a=u2(e,l);return t=a.registrationPromise,a.installationEntry});return n.fid===Uc?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function o2(e){const t=e||{fid:t2(),registrationStatus:0};return bv(t)}function u2(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Si.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=c2(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:f2(e)}:{installationEntry:t}}async function c2(e,t){try{const n=await $x(e,t);return zr(e.appConfig,n)}catch(n){throw uv(n)&&n.customData.serverCode===409?await vv(e.appConfig):await zr(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function f2(e){let t=await rp(e.appConfig);for(;t.registrationStatus===1;)await pv(100),t=await rp(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Rh(e);return i||n}return t}function rp(e){return _o(e,t=>{if(!t)throw Si.create("installation-not-found");return bv(t)})}function bv(e){return h2(e)?{fid:e.fid,registrationStatus:0}:e}function h2(e){return e.registrationStatus===1&&e.registrationTime+sv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2({appConfig:e,heartbeatServiceProvider:t},n){const i=m2(e,n),l=Zx(e,n),a=t.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&l.append("x-firebase-client",u)}const s={installation:{sdkVersion:rv,appId:e.appId}},r={method:"POST",headers:l,body:JSON.stringify(s)},o=await mv(()=>fetch(i,r));if(o.ok){const u=await o.json();return fv(u)}else throw await hv("Generate Auth Token",o)}function m2(e,{fid:t}){return`${cv(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(e,t=!1){let n;const i=await _o(e.appConfig,a=>{if(!Sv(a))throw Si.create("not-registered");const s=a.authToken;if(!t&&_2(s))return a;if(s.requestStatus===1)return n=p2(e,t),a;{if(!navigator.onLine)throw Si.create("app-offline");const r=v2(a);return n=g2(e,r),r}});return n?await n:i.authToken}async function p2(e,t){let n=await op(e.appConfig);for(;n.authToken.requestStatus===1;)await pv(100),n=await op(e.appConfig);const i=n.authToken;return i.requestStatus===0?Dh(e,t):i}function op(e){return _o(e,t=>{if(!Sv(t))throw Si.create("not-registered");const n=t.authToken;return b2(n)?{...t,authToken:{requestStatus:0}}:t})}async function g2(e,t){try{const n=await d2(e,t),i={...t,authToken:n};return await zr(e.appConfig,i),n}catch(n){if(uv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await vv(e.appConfig);else{const i={...t,authToken:{requestStatus:0}};await zr(e.appConfig,i)}throw n}}function Sv(e){return e!==void 0&&e.registrationStatus===2}function _2(e){return e.requestStatus===2&&!y2(e)}function y2(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Qx}function v2(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function b2(e){return e.requestStatus===1&&e.requestTime+sv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(e){const t=e,{installationEntry:n,registrationPromise:i}=await Rh(t);return i?i.catch(console.error):Dh(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(e,t=!1){const n=e;return await C2(n),(await Dh(n,t)).token}async function C2(e){const{registrationPromise:t}=await Rh(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(e){if(!e||!e.options)throw gu("App Configuration");if(!e.name)throw gu("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw gu(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function gu(e){return Si.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="installations",T2="installations-internal",x2=e=>{const t=e.getProvider("app").getImmediate(),n=w2(t),i=ao(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},N2=e=>{const t=e.getProvider("app").getImmediate(),n=ao(t,Ev).getImmediate();return{getId:()=>S2(n),getToken:l=>E2(n,l)}};function A2(){Vn(new un(Ev,x2,"PUBLIC")),Vn(new un(T2,N2,"PRIVATE"))}A2();It(av,Nh);It(av,Nh,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="/firebase-messaging-sw.js",D2="/firebase-cloud-messaging-push-scope",Cv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",O2="https://fcmregistrations.googleapis.com/v1",wv="google.c.a.c_id",M2="google.c.a.c_l",z2="google.c.a.ts",j2="google.c.a.e",up=1e4;var cp;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(cp||(cp={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var qa;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(qa||(qa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function L2(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),l=new Uint8Array(i.length);for(let a=0;a<i.length;++a)l[a]=i.charCodeAt(a);return l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="fcm_token_details_db",k2=5,fp="fcm_token_object_Store";async function I2(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(_u))return null;let t=null;return(await lo(_u,k2,{upgrade:async(i,l,a,s)=>{if(l<2||!i.objectStoreNames.contains(fp))return;const r=s.objectStore(fp),o=await r.index("fcmSenderId").get(e);if(await r.clear(),!!o){if(l===2){const u=o;if(!u.auth||!u.p256dh||!u.endpoint)return;t={token:u.fcmToken,createTime:u.createTime??Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Qt(u.vapidKey)}}}else if(l===3){const u=o;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Qt(u.auth),p256dh:Qt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Qt(u.vapidKey)}}}else if(l===4){const u=o;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Qt(u.auth),p256dh:Qt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Qt(u.vapidKey)}}}}}})).close(),await au(_u),await au("fcm_vapid_details_db"),await au("undefined"),U2(t)?t:null}function U2(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="firebase-messaging-database",H2=1,Va="firebase-messaging-store";let yu=null;function Tv(){return yu||(yu=lo(B2,H2,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Va)}}})),yu}async function q2(e){const t=xv(e),i=await(await Tv()).transaction(Va).objectStore(Va).get(t);if(i)return i;{const l=await I2(e.appConfig.senderId);if(l)return await Oh(e,l),l}}async function Oh(e,t){const n=xv(e),l=(await Tv()).transaction(Va,"readwrite");return await l.objectStore(Va).put(t,n),await l.done,t}function xv({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},qe=new no("messaging","Messaging",V2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(e,t){const n=await zh(e),i=Nv(t),l={method:"POST",headers:n,body:JSON.stringify(i)};let a;try{a=await(await fetch(Mh(e.appConfig),l)).json()}catch(s){throw qe.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(a.error){const s=a.error.message;throw qe.create("token-subscribe-failed",{errorInfo:s})}if(!a.token)throw qe.create("token-subscribe-no-token");return a.token}async function Y2(e,t){const n=await zh(e),i=Nv(t.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(i)};let a;try{a=await(await fetch(`${Mh(e.appConfig)}/${t.token}`,l)).json()}catch(s){throw qe.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(a.error){const s=a.error.message;throw qe.create("token-update-failed",{errorInfo:s})}if(!a.token)throw qe.create("token-update-no-token");return a.token}async function Q2(e,t){const i={method:"DELETE",headers:await zh(e)};try{const a=await(await fetch(`${Mh(e.appConfig)}/${t}`,i)).json();if(a.error){const s=a.error.message;throw qe.create("token-unsubscribe-failed",{errorInfo:s})}}catch(l){throw qe.create("token-unsubscribe-failed",{errorInfo:l==null?void 0:l.toString()})}}function Mh({projectId:e}){return`${O2}/projects/${e}/registrations`}async function zh({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Nv({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const l={web:{endpoint:n,auth:t,p256dh:e}};return i!==Cv&&(l.web.applicationPubKey=i),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=7*24*60*60*1e3;async function K2(e){const t=await Z2(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Qt(t.getKey("auth")),p256dh:Qt(t.getKey("p256dh"))},i=await q2(e.firebaseDependencies);if(i){if(W2(i.subscriptionOptions,n))return Date.now()>=i.createTime+F2?X2(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await Q2(e.firebaseDependencies,i.token)}catch(l){console.warn(l)}return hp(e.firebaseDependencies,n)}else return hp(e.firebaseDependencies,n)}async function X2(e,t){try{const n=await Y2(e.firebaseDependencies,t),i={...t,token:n,createTime:Date.now()};return await Oh(e.firebaseDependencies,i),n}catch(n){throw n}}async function hp(e,t){const i={token:await G2(e,t),createTime:Date.now(),subscriptionOptions:t};return await Oh(e,i),i.token}async function Z2(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:L2(t)})}function W2(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,l=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&i&&l&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return P2(t,e),$2(t,e),J2(t,e),t}function P2(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const l=t.notification.image;l&&(e.notification.image=l);const a=t.notification.icon;a&&(e.notification.icon=a)}function $2(e,t){t.data&&(e.data=t.data)}function J2(e,t){var l,a,s,r;if(!t.fcmOptions&&!((l=t.notification)!=null&&l.click_action))return;e.fcmOptions={};const n=((a=t.fcmOptions)==null?void 0:a.link)??((s=t.notification)==null?void 0:s.click_action);n&&(e.fcmOptions.link=n);const i=(r=t.fcmOptions)==null?void 0:r.analytics_label;i&&(e.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(e){return typeof e=="object"&&!!e&&wv in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e){if(!e||!e.options)throw vu("App Configuration Object");if(!e.name)throw vu("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw vu(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function vu(e){return qe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=tN(t);this.firebaseDependencies={app:t,appConfig:l,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(e){try{e.swRegistration=await navigator.serviceWorker.register(R2,{scope:D2}),e.swRegistration.update().catch(()=>{}),await lN(e.swRegistration)}catch(t){throw qe.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function lN(e){return new Promise((t,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${up} ms`)),up),l=e.installing||e.waiting;e.active?(clearTimeout(i),t()):l?l.onstatechange=a=>{var s;((s=a.target)==null?void 0:s.state)==="activated"&&(l.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(e,t){if(!t&&!e.swRegistration&&await iN(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw qe.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Cv)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Av(e,t){if(!navigator)throw qe.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw qe.create("permission-blocked");return await sN(e,t==null?void 0:t.vapidKey),await aN(e,t==null?void 0:t.serviceWorkerRegistration),K2(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(e,t,n){const i=oN(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[wv],message_name:n[M2],message_time:n[z2],message_device_time:Math.floor(Date.now()/1e3)})}function oN(e){switch(e){case qa.NOTIFICATION_CLICKED:return"notification_open";case qa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===qa.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(dp(n)):e.onMessageHandler.next(dp(n)));const i=n.data;eN(i)&&i[j2]==="1"&&await rN(e,n.messageType,i)}const mp="@firebase/messaging",pp="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=e=>{const t=new nN(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>uN(t,n)),t},fN=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:i=>Av(t,i)}};function hN(){Vn(new un("messaging",cN,"PUBLIC")),Vn(new un("messaging-internal",fN,"PRIVATE")),It(mp,pp),It(mp,pp,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(){try{await Iy()}catch{return!1}return typeof window<"u"&&ky()&&mE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(e=Yy()){return Rv().then(t=>{if(!t)throw qe.create("unsupported-browser")},t=>{throw qe.create("indexed-db-unsupported")}),ao(Ai(e),"messaging").getImmediate()}async function dN(e,t){return e=Ai(e),Av(e,t)}hN();const mN=Object.freeze(Object.defineProperty({__proto__:null,getMessaging:Dv,getToken:dN,isSupported:Rv},Symbol.toStringTag,{value:"Module"})),pN={apiKey:"AIzaSyA0GXc2SsjtbsDYzf1agK4zbTJ5IvxPFxs",authDomain:"fb-hub-ed9de.firebaseapp.com",databaseURL:"https://fb-hub-ed9de-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"fb-hub-ed9de",storageBucket:"fb-hub-ed9de.firebasestorage.app",messagingSenderId:"426764789152",appId:"1:426764789152:web:9e989667bda7568059f0c5",measurementId:"G-HCN8XBJNN9"},Ov=Gy(pN),Bc=Bx(Ov);let Mv=null;try{Mv=Dv(Ov),console.log(" Firebase Messaging initialized")}catch(e){console.error(" Firebase Messaging initialization failed:",e)}const gN=Object.freeze(Object.defineProperty({__proto__:null,database:Bc,get messaging(){return Mv}},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),gp=e=>{const t=yN(e);return t.charAt(0).toUpperCase()+t.slice(1)},zv=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),vN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:a,iconNode:s,...r},o)=>D.createElement("svg",{ref:o,...bN,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:zv("lucide",l),...!a&&!vN(r)&&{"aria-hidden":"true"},...r},[...s.map(([u,h])=>D.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=(e,t)=>{const n=D.forwardRef(({className:i,...l},a)=>D.createElement(SN,{ref:a,iconNode:t,className:zv(`lucide-${_N(gp(e))}`,`lucide-${e}`,i),...l}));return n.displayName=gp(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],wN=EN("chart-column",CN),TN=({opponentName:e="Rakip Takm"})=>{const[t,n]=D.useState({home:0,away:0,draw:0}),[i,l]=D.useState(!1),[a,s]=D.useState(!0),[r,o]=D.useState(null),u={home:"Fenerbahe",away:e};D.useEffect(()=>{localStorage.getItem("fenerbahce_poll_voted")&&l(!0);const x=sp(Bc,"match_poll"),g=lv(x,d=>{const _=d.val();n(_?{home:_.home||0,away:_.away||0,draw:_.draw||0}:{home:0,away:0,draw:0}),s(!1)},d=>{console.error("Firebase read error:",d),o("Anket verileri yklenemedi. Firebase ayarlarn kontrol edin."),s(!1)});return()=>g()},[]);const h=E=>{if(i)return;const x=sp(Bc,"match_poll/"+E);Gx(x,g=>(g||0)+1).then(()=>{localStorage.setItem("fenerbahce_poll_voted","true"),l(!0)}).catch(g=>{console.error("Vote failed:",g),alert("Oy verilemedi. Ltfen tekrar deneyin.")})},f=(t.home||0)+(t.away||0)+(t.draw||0),c=E=>!f||f===0?0:Math.round((E||0)/f*100),[m,y]=D.useState(!1);return a||r?null:p.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-xl overflow-hidden transition-all duration-500",children:[p.jsxs("button",{onClick:()=>y(!m),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-full bg-yellow-400/10 text-yellow-400",children:p.jsx(wN,{className:"w-5 h-5"})}),p.jsxs("div",{className:"text-left",children:[p.jsx("h3",{className:"text-base font-bold text-white",children:"Ma Kim Kazanr?"}),p.jsxs("p",{className:"text-xs text-slate-400",children:[i?"Oyunuzu kullandnz":"Tahminini yap","  ",f," oy"]})]})]}),p.jsx("div",{className:`transform transition-transform duration-300 ${m?"rotate-180":""}`,children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),p.jsx("div",{className:`transition-all duration-500 ease-in-out ${m?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:p.jsxs("div",{className:"p-4 pt-0 space-y-3 border-t border-white/5 mt-2",children:[p.jsx(bu,{label:u.home,count:t.home,percentage:c(t.home),onClick:()=>h("home"),disabled:i,isWinner:i&&t.home>=t.away&&t.home>=t.draw}),p.jsx(bu,{label:"Beraberlik",count:t.draw,percentage:c(t.draw),onClick:()=>h("draw"),disabled:i,isWinner:i&&t.draw>=t.home&&t.draw>=t.away}),p.jsx(bu,{label:u.away,count:t.away,percentage:c(t.away),onClick:()=>h("away"),disabled:i,isWinner:i&&t.away>=t.home&&t.away>=t.draw})]})})]})},bu=({label:e,count:t,percentage:n,onClick:i,disabled:l,isWinner:a})=>p.jsxs("button",{onClick:i,disabled:l,className:`relative w-full h-12 rounded-xl overflow-hidden transition-all duration-300 group ${l?"cursor-default":"hover:scale-[1.02] active:scale-[0.98] cursor-pointer"}`,children:[p.jsx("div",{className:"absolute inset-0 bg-white/5"}),p.jsx("div",{className:`absolute inset-y-0 left-0 transition-all duration-1000 ease-out ${a?"bg-yellow-400/20":"bg-blue-600/30"}`,style:{width:`${n}%`}}),p.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[p.jsx("span",{className:`font-medium transition-colors ${a?"text-yellow-400":"text-white"}`,children:e}),p.jsxs("div",{className:"flex items-center gap-2",children:[l&&p.jsxs("span",{className:"text-sm font-bold text-white/90",children:[n,"%"]}),!l&&p.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white/20 group-hover:border-yellow-400 transition-colors"})]})]})]}),Hc=()=>({threeHours:!1,oneHour:!1,thirtyMinutes:!1,fifteenMinutes:!1,dailyCheck:!1}),_p=(e={})=>({...Hc(),...e}),xN=({matchData:e,next3Matches:t=[],loading:n,onRetry:i,errorMessage:l,lastUpdated:a,isRefreshing:s})=>{const[r,o]=D.useState({days:0,hours:0,minutes:0,seconds:0}),[u,h]=D.useState(!1),[f,c]=D.useState(()=>{const Q=localStorage.getItem("fb_notification_options");if(Q)try{return _p(JSON.parse(Q))}catch{return Hc()}return Hc()}),[m,y]=D.useState(null),[E,x]=D.useState(()=>localStorage.getItem("fb_has_notifications")==="true");if(D.useEffect(()=>{if(!e)return;const Q=setInterval(()=>{const C=new Date(e.startTimestamp*1e3)-new Date;if(C>0){const R=Math.floor(C/864e5),B=Math.floor(C/(1e3*60*60)%24),X=Math.floor(C/1e3/60%60),Ge=Math.floor(C/1e3%60);o({days:R,hours:B,minutes:X,seconds:Ge})}else o({days:0,hours:0,minutes:0,seconds:0})},1e3);return()=>clearInterval(Q)},[e]),D.useEffect(()=>(u?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[u]),n)return p.jsx("div",{className:"flex items-center justify-center h-64 text-yellow-400 animate-pulse",children:"Ykleniyor..."});if(!e)return p.jsxs("div",{className:"text-center text-slate-400 mt-10 space-y-4",children:[p.jsx("p",{children:"Ma bilgisi bulunamad."}),l&&p.jsx("p",{className:"text-sm text-slate-300",children:l}),i&&p.jsx("button",{onClick:i,className:"px-4 py-2 rounded-full bg-yellow-400/20 text-yellow-300 border border-yellow-400/30 hover:bg-yellow-400 hover:text-black transition-colors",children:"Tekrar Dene"})]});const g=new Date(e.startTimestamp*1e3),d=3052,_=e.homeTeam.id===3052,v=_?e.awayTeam:e.homeTeam,N=Q=>{y(A=>{const S=A??f;return{...S,[Q]:!(S!=null&&S[Q])}})},k=async()=>{const Q=_p(j),A=Object.values(Q).filter(S=>S).length;try{let S=null;try{if(!("Notification"in window)){alert(" Bu tarayc bildirimleri desteklemiyor.");return}if(await Notification.requestPermission()==="granted"){const{messaging:X}=await yc(async()=>{const{messaging:tt}=await Promise.resolve().then(()=>gN);return{messaging:tt}},void 0),{getToken:Ge}=await yc(async()=>{const{getToken:tt}=await Promise.resolve().then(()=>mN);return{getToken:tt}},void 0),Zn="/fenerbahce-fan-hub/firebase-messaging-sw.js";console.log("Service Worker registering at:",Zn);try{const tt=await navigator.serviceWorker.register(Zn,{scope:"/fenerbahce-fan-hub/"});console.log(" Service Worker registered:",tt),S=await Ge(X,{vapidKey:"BL36u1e0V4xvIyP8n_Nh1Uc_EZTquN1vNv58E3wm_q3IsQ916MfhsbF1NATwfeoitmAIyhMTC5TdhB7CSBRAz-4",serviceWorkerRegistration:tt})}catch(tt){console.error("Service Worker registration failed:",tt),alert(` Service Worker hatas: ${tt.message}`);return}}else{alert(" Bildirim izni reddedildi! Tarayc ayarlarndan izin vermelisiniz.");return}}catch(B){console.error("Token alnamad:",B),alert(` Bildirim hatas: ${B.message}`);return}if(!S){alert(" Bildirim tokeni alnamad. Ltfen tekrar deneyin.");return}const C=await fetch(`${Ml}/api/reminder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:S,matchId:e.id,options:Q})});if(!C.ok)throw new Error(`Backend error: ${C.status}`);const R=await C.json();console.log("Backend response:",R),A===0?(x(!1),localStorage.removeItem("fb_has_notifications"),localStorage.removeItem("fb_notification_options"),alert(" Tm bildirimler temizlendi!")):(x(!0),localStorage.setItem("fb_has_notifications","true"),localStorage.setItem("fb_notification_options",JSON.stringify(Q)),alert(` ${A} bildirim ayarland!`)),c(Q),y(null),h(!1)}catch(S){console.error("Bildirim kaydetme hatas:",S),alert(" Balant hatas! Ltfen tekrar deneyin.")}},T=[{id:"threeHours",label:"Matan 3 saat nce",description:"Hazrlk yapmaya zamann olsun"},{id:"oneHour",label:"Matan 1 saat nce",description:"Heyecan zaman!"},{id:"thirtyMinutes",label:"Matan 30 dakika nce",description:"Son hazrlk"},{id:"fifteenMinutes",label:"Matan 15 dakika nce",description:"Ma balyor!"}],M=()=>{y({...f}),h(!0)},L=()=>{y(null),h(!1)},j=m??f,ye=JSON.stringify(j)!==JSON.stringify(f),mt=Object.values(j).filter(Boolean).length,Xn=Object.values(f).filter(Boolean).length;return p.jsxs("div",{className:"space-y-6 pb-20",children:[p.jsxs("div",{className:"glass-card rounded-3xl p-6 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-yellow-400 to-transparent opacity-50"}),p.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[p.jsx("span",{className:"text-xs font-bold tracking-wider text-yellow-400 uppercase bg-yellow-400/10 px-3 py-1 rounded-full border border-yellow-400/20",children:e.tournament.name}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-xs text-slate-400 font-medium",children:g.toLocaleDateString("tr-TR",{day:"numeric",month:"long"})}),p.jsxs("button",{onClick:M,className:`relative p-2.5 rounded-full transition-all duration-300 group ${E?"bg-yellow-400 text-black shadow-[0_0_20px_rgba(234,179,8,0.5)]":"bg-white/5 text-slate-400 hover:bg-white/10 hover:text-yellow-400 hover:scale-110"}`,title:"Bildirim ayarlar",children:[E?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 animate-pulse",viewBox:"0 0 24 24",fill:"currentColor",children:p.jsx("path",{d:"M10 20h4c0 1.1-.9 2-2 2s-2-.9-2-2zm8-6V9c0-3.07-1.64-5.64-4.5-6.32V2c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 3.36 6 5.92 6 9v5l-2 2v1h16v-1l-2-2z"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:animate-bounce",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),E&&Xn>0&&p.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center border-2 border-slate-950 animate-pulse",children:Xn})]})]})]}),p.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[p.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:p.jsx(zi,{teamId:_?d:v.id,name:_?"Fenerbahe":v.name,wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),p.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:_?"Fenerbahe":v.name})]}),p.jsxs("div",{className:"flex flex-col items-center justify-center w-1/3 -mt-4",children:[p.jsx("span",{className:"text-2xl font-black text-slate-700/50",children:"VS"}),p.jsx("div",{className:"mt-2 text-center",children:p.jsx("span",{className:"text-3xl font-bold text-white tracking-tighter text-glow",children:g.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})})]}),p.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:p.jsx(zi,{teamId:_?v.id:d,name:_?v.name:"Fenerbahe",wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),p.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:_?v.name:"Fenerbahe"})]})]}),p.jsx("div",{className:"mt-8 pt-6 border-t border-white/5",children:p.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[p.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[p.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:r.days}),p.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Gn"})]}),p.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[p.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:r.hours}),p.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Saat"})]}),p.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[p.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:r.minutes}),p.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Dk"})]}),p.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[p.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:r.seconds}),p.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Sn"})]})]})})]}),p.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[p.jsx("div",{className:"flex items-center gap-2 mb-4",children:p.jsx("span",{className:"text-sm font-bold",children:"Sonraki Malar"})}),p.jsx("div",{className:"space-y-3",children:t.length>0?t.map((Q,A)=>{const S=new Date(Q.startTimestamp*1e3),C=Q.homeTeam,R=Q.awayTeam,B=C.id===d;return p.jsxs("div",{className:"glass-panel rounded-xl p-3 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx(zi,{teamId:B?d:C.id,name:C.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"}),p.jsx("span",{className:"text-xs font-medium truncate",children:C.name})]}),p.jsxs("div",{className:"flex flex-col items-center px-3",children:[p.jsx("span",{className:"text-[10px] text-slate-400",children:S.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),p.jsx("span",{className:"text-xs font-bold",children:S.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[p.jsx("span",{className:"text-xs font-medium truncate text-right",children:R.name}),p.jsx(zi,{teamId:B?R.id:d,name:R.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"})]})]},A)}):p.jsx("div",{className:"text-center text-slate-500 text-xs py-4",children:"Ma bilgisi ykleniyor..."})})]}),p.jsx("div",{className:"mb-6",children:p.jsx("div",{className:"mb-6",children:p.jsx(TN,{opponentName:v.name})})}),u&&p.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:L,children:p.jsxs("div",{className:"bg-[#0f172a] border border-white/10 rounded-2xl p-6 max-w-md w-full max-h-[85vh] overflow-y-auto animate-slideUp shadow-2xl",onClick:Q=>Q.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold text-white",children:"Bildirim Ayarlar"}),p.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Ne zaman hatrlatmak istersin?"})]}),p.jsx("button",{onClick:L,className:"text-slate-400 hover:text-white hover:rotate-90 transition-all duration-300",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx("div",{className:"glass-panel rounded-xl p-4 mb-6 border border-yellow-400/20",children:p.jsxs("div",{className:"flex items-center justify-between gap-3",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-white/5 p-2 flex-shrink-0",children:p.jsx(zi,{teamId:d,name:"Fenerbahe",wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),p.jsx("div",{className:"w-10 h-10 rounded-full bg-white/5 p-2 flex-shrink-0",children:p.jsx(zi,{teamId:v.id,name:v.name,wrapperClassName:"w-full h-full",imageClassName:"object-contain"})})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-yellow-400 font-semibold",children:"Fenerbahe"}),p.jsx("p",{className:"text-[10px] text-slate-400",children:"vs"}),p.jsx("p",{className:"text-xs text-white font-semibold",children:v.name})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-slate-400",children:g.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),p.jsx("p",{className:"text-lg font-bold text-yellow-400",children:g.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})]})]})}),p.jsxs("div",{className:"space-y-3 mb-6",children:[T.map(Q=>p.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${j[Q.id]?"bg-yellow-400/20 border-yellow-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[p.jsx("input",{type:"checkbox",checked:j[Q.id],onChange:()=>N(Q.id),className:"mt-1 w-5 h-5 rounded border-2 border-yellow-400 bg-transparent checked:bg-yellow-400 cursor-pointer accent-yellow-400"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"font-semibold text-white",children:Q.label}),Q.time&&p.jsxs("span",{className:"text-xs text-slate-400",children:["(",Q.time,")"]})]}),p.jsx("p",{className:"text-xs text-slate-400",children:Q.description})]})]},Q.id)),p.jsx("div",{className:"pt-3 border-t border-white/10",children:p.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${j.dailyCheck?"bg-blue-400/20 border-blue-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[p.jsx("input",{type:"checkbox",checked:j.dailyCheck,onChange:()=>N("dailyCheck"),className:"mt-1 w-5 h-5 rounded border-2 border-blue-400 bg-transparent checked:bg-blue-400 cursor-pointer accent-blue-400"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"font-semibold text-white",children:"Gnlk Ma Kontrol"}),p.jsx("span",{className:"text-[10px] bg-blue-500/20 text-blue-300 px-2 py-0.5 rounded-full font-bold",children:"ZEL"})]}),p.jsx("p",{className:"text-xs text-slate-400",children:"Her sabah 09:00'da kontrol et, o gn ma varsa bildir"}),p.jsx("p",{className:"text-[10px] text-blue-300/60 mt-1 italic",children:"* Tm malar iin geerli (sadece bu maa zel deil)"})]})]})})]}),Object.values(j).some(Q=>Q)&&p.jsx("div",{className:"bg-yellow-400/10 border border-yellow-400/30 rounded-lg p-3 mb-4 animate-fadeIn",children:p.jsxs("p",{className:"text-xs text-yellow-200",children:[p.jsx("strong",{className:"text-yellow-400",children:mt})," bildirim setiniz"]})}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:Q=>{Q.stopPropagation(),L()},className:"flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 transition-all duration-200 font-medium border border-white/10 hover:border-white/20",children:"ptal"}),p.jsx("button",{onClick:k,disabled:!ye,className:`flex-1 py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-all duration-200 ${ye?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-300 hover:to-yellow-400 shadow-[0_0_20px_rgba(234,179,8,0.3)] hover:shadow-[0_0_30px_rgba(234,179,8,0.5)] hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed opacity-50"}`,children:"Kaydet"})]})]})})]})};function NN(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),l=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(l),t&&(i.href=t),l.href=e,l.href}const AN=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function In(e){const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}let Li=null;function jv(e={}){return Li||(e.includeStyleProperties?(Li=e.includeStyleProperties,Li):(Li=In(window.getComputedStyle(document.documentElement)),Li))}function jr(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function RN(e){const t=jr(e,"border-left-width"),n=jr(e,"border-right-width");return e.clientWidth+t+n}function DN(e){const t=jr(e,"border-top-width"),n=jr(e,"border-bottom-width");return e.clientHeight+t+n}function Lv(e,t={}){const n=t.width||RN(e),i=t.height||DN(e);return{width:n,height:i}}function ON(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const nt=16384;function MN(e){(e.width>nt||e.height>nt)&&(e.width>nt&&e.height>nt?e.width>e.height?(e.height*=nt/e.width,e.width=nt):(e.width*=nt/e.height,e.height=nt):e.width>nt?(e.height*=nt/e.width,e.width=nt):(e.width*=nt/e.height,e.height=nt))}function Lr(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>t(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function zN(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function jN(e,t,n){const i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return l.setAttribute("width",`${t}`),l.setAttribute("height",`${n}`),l.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),l.appendChild(a),a.appendChild(e),zN(l)}const Pe=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Pe(n,t)};function LN(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function kN(e,t){return jv(t).map(n=>{const i=e.getPropertyValue(n),l=e.getPropertyPriority(n);return`${n}: ${i}${l?" !important":""};`}).join(" ")}function IN(e,t,n,i){const l=`.${e}:${t}`,a=n.cssText?LN(n):kN(n,i);return document.createTextNode(`${l}{${a}}`)}function yp(e,t,n,i){const l=window.getComputedStyle(e,n),a=l.getPropertyValue("content");if(a===""||a==="none")return;const s=AN();try{t.className=`${t.className} ${s}`}catch{return}const r=document.createElement("style");r.appendChild(IN(s,n,l,i)),t.appendChild(r)}function UN(e,t,n){yp(e,t,":before",n),yp(e,t,":after",n)}const vp="application/font-woff",bp="image/jpeg",BN={woff:vp,woff2:vp,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:bp,jpeg:bp,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function HN(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function jh(e){const t=HN(e).toLowerCase();return BN[t]||""}function qN(e){return e.split(/,/)[1]}function qc(e){return e.search(/^(data:)/)!==-1}function VN(e,t){return`data:${t};base64,${e}`}async function kv(e,t,n){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const l=await i.blob();return new Promise((a,s)=>{const r=new FileReader;r.onerror=s,r.onloadend=()=>{try{a(n({res:i,result:r.result}))}catch(o){s(o)}},r.readAsDataURL(l)})}const Su={};function GN(e,t,n){let i=e.replace(/\?.*/,"");return n&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function Lh(e,t,n){const i=GN(e,t,n.includeQueryParams);if(Su[i]!=null)return Su[i];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let l;try{const a=await kv(e,n.fetchRequestInit,({res:s,result:r})=>(t||(t=s.headers.get("Content-Type")||""),qN(r)));l=VN(a,t)}catch(a){l=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return Su[i]=l,l}async function YN(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Lr(t)}async function QN(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const r=a.toDataURL();return Lr(r)}const n=e.poster,i=jh(n),l=await Lh(n,i,t);return Lr(l)}async function FN(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await yo(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function KN(e,t){return Pe(e,HTMLCanvasElement)?YN(e):Pe(e,HTMLVideoElement)?QN(e,t):Pe(e,HTMLIFrameElement)?FN(e,t):e.cloneNode(Iv(e))}const XN=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Iv=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function ZN(e,t,n){var i,l;if(Iv(t))return t;let a=[];return XN(e)&&e.assignedNodes?a=In(e.assignedNodes()):Pe(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?a=In(e.contentDocument.body.childNodes):a=In(((l=e.shadowRoot)!==null&&l!==void 0?l:e).childNodes),a.length===0||Pe(e,HTMLVideoElement)||await a.reduce((s,r)=>s.then(()=>yo(r,n)).then(o=>{o&&t.appendChild(o)}),Promise.resolve()),t}function WN(e,t,n){const i=t.style;if(!i)return;const l=window.getComputedStyle(e);l.cssText?(i.cssText=l.cssText,i.transformOrigin=l.transformOrigin):jv(n).forEach(a=>{let s=l.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),Pe(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),i.setProperty(a,s,l.getPropertyPriority(a))})}function PN(e,t){Pe(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Pe(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function $N(e,t){if(Pe(e,HTMLSelectElement)){const n=t,i=Array.from(n.children).find(l=>e.value===l.getAttribute("value"));i&&i.setAttribute("selected","")}}function JN(e,t,n){return Pe(t,Element)&&(WN(e,t,n),UN(e,t,n),PN(e,t),$N(e,t)),t}async function eA(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const i={};for(let a=0;a<n.length;a++){const r=n[a].getAttribute("xlink:href");if(r){const o=e.querySelector(r),u=document.querySelector(r);!o&&u&&!i[r]&&(i[r]=await yo(u,t,!0))}}const l=Object.values(i);if(l.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const r=document.createElementNS(a,"defs");s.appendChild(r);for(let o=0;o<l.length;o++)r.appendChild(l[o]);e.appendChild(s)}return e}async function yo(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>KN(i,t)).then(i=>ZN(e,i,t)).then(i=>JN(e,i,t)).then(i=>eA(i,t))}const Uv=/url\((['"]?)([^'"]+?)\1\)/g,tA=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,nA=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function iA(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function lA(e){const t=[];return e.replace(Uv,(n,i,l)=>(t.push(l),n)),t.filter(n=>!qc(n))}async function aA(e,t,n,i,l){try{const a=n?NN(t,n):t,s=jh(t);let r;return l||(r=await Lh(a,s,i)),e.replace(iA(t),`$1${r}$3`)}catch{}return e}function sA(e,{preferredFontFormat:t}){return t?e.replace(nA,n=>{for(;;){const[i,,l]=tA.exec(n)||[];if(!l)return"";if(l===t)return`src: ${i};`}}):e}function Bv(e){return e.search(Uv)!==-1}async function Hv(e,t,n){if(!Bv(e))return e;const i=sA(e,n);return lA(i).reduce((a,s)=>a.then(r=>aA(r,s,t,n)),Promise.resolve(i))}async function ki(e,t,n){var i;const l=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(l){const a=await Hv(l,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function rA(e,t){await ki("background",e,t)||await ki("background-image",e,t),await ki("mask",e,t)||await ki("-webkit-mask",e,t)||await ki("mask-image",e,t)||await ki("-webkit-mask-image",e,t)}async function oA(e,t){const n=Pe(e,HTMLImageElement);if(!(n&&!qc(e.src))&&!(Pe(e,SVGImageElement)&&!qc(e.href.baseVal)))return;const i=n?e.src:e.href.baseVal,l=await Lh(i,jh(i),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...o)=>{try{a(t.onImageErrorHandler(...o))}catch(u){s(u)}}:s;const r=e;r.decode&&(r.decode=a),r.loading==="lazy"&&(r.loading="eager"),n?(e.srcset="",e.src=l):e.href.baseVal=l})}async function uA(e,t){const i=In(e.childNodes).map(l=>qv(l,t));await Promise.all(i).then(()=>e)}async function qv(e,t){Pe(e,Element)&&(await rA(e,t),await oA(e,t),await uA(e,t))}function cA(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(l=>{n[l]=i[l]}),e}const Sp={};async function Ep(e){let t=Sp[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},Sp[e]=t,t}async function Cp(e,t){let n=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let r=s.replace(i,"$1");return r.startsWith("https://")||(r=new URL(r,e.url).href),kv(r,t.fetchRequestInit,({result:o})=>(n=n.replace(s,`url(${o})`),[s,o]))});return Promise.all(a).then(()=>n)}function wp(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(n,"");const l=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const o=l.exec(i);if(o===null)break;t.push(o[0])}i=i.replace(l,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",r=new RegExp(s,"gi");for(;;){let o=a.exec(i);if(o===null){if(o=r.exec(i),o===null)break;a.lastIndex=r.lastIndex}else r.lastIndex=a.lastIndex;t.push(o[0])}return t}async function fA(e,t){const n=[],i=[];return e.forEach(l=>{if("cssRules"in l)try{In(l.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let r=s+1;const o=a.href,u=Ep(o).then(h=>Cp(h,t)).then(h=>wp(h).forEach(f=>{try{l.insertRule(f,f.startsWith("@import")?r+=1:l.cssRules.length)}catch(c){console.error("Error inserting rule from remote css",{rule:f,error:c})}})).catch(h=>{console.error("Error loading remote css",h.toString())});i.push(u)}})}catch(a){const s=e.find(r=>r.href==null)||document.styleSheets[0];l.href!=null&&i.push(Ep(l.href).then(r=>Cp(r,t)).then(r=>wp(r).forEach(o=>{s.insertRule(o,s.cssRules.length)})).catch(r=>{console.error("Error loading remote stylesheet",r)})),console.error("Error inlining remote css file",a)}}),Promise.all(i).then(()=>(e.forEach(l=>{if("cssRules"in l)try{In(l.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${l.href}`,a)}}),n))}function hA(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Bv(t.style.getPropertyValue("src")))}async function dA(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=In(e.ownerDocument.styleSheets),i=await fA(n,t);return hA(i)}function Vv(e){return e.trim().replace(/["']/g,"")}function mA(e){const t=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(a=>{t.add(Vv(a))}),Array.from(i.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function pA(e,t){const n=await dA(e,t),i=mA(e);return(await Promise.all(n.filter(a=>i.has(Vv(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return Hv(a.cssText,s,t)}))).join(`
`)}async function gA(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await pA(e,t);if(n){const i=document.createElement("style"),l=document.createTextNode(n);i.appendChild(l),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function _A(e,t={}){const{width:n,height:i}=Lv(e,t),l=await yo(e,t,!0);return await gA(l,t),await qv(l,t),cA(l,t),await jN(l,n,i)}async function yA(e,t={}){const{width:n,height:i}=Lv(e,t),l=await _A(e,t),a=await Lr(l),s=document.createElement("canvas"),r=s.getContext("2d"),o=t.pixelRatio||ON(),u=t.canvasWidth||n,h=t.canvasHeight||i;return s.width=u*o,s.height=h*o,t.skipAutoScale||MN(s),s.style.width=`${u}`,s.style.height=`${h}`,t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(0,0,s.width,s.height)),r.drawImage(a,0,0,s.width,s.height),s}async function vA(e,t={}){return(await yA(e,t)).toDataURL()}const bA=()=>{const[e,t]=D.useState([]),[n,i]=D.useState({}),[l,a]=D.useState("4-2-3-1"),[s,r]=D.useState(!0),[o,u]=D.useState(!1),[h,f]=D.useState(null),[c,m]=D.useState(""),[y,E]=D.useState(!1),[x,g]=D.useState(!1),d=D.useRef(null);D.useEffect(()=>{(async()=>{const S=await KS();t(S),r(!1)})()},[]),D.useEffect(()=>{if(typeof window<"u"){const A="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;g(A)}},[]);const _=(A,S)=>{A.dataTransfer.setData("player",JSON.stringify(S))},v=(A,S)=>{A.preventDefault();const C=JSON.parse(A.dataTransfer.getData("player")),R=A.dataTransfer.getData("sourcePosition");if(R){const B=n[S];i(X=>{const Ge={...X};return B?(Ge[R]=B,Ge[S]=C):(delete Ge[R],Ge[S]=C),Ge})}else{if(Object.values(n).some(X=>X.id===C.id))return;i(X=>({...X,[S]:C}))}},N=A=>{A.preventDefault()},k=A=>{i(S=>{const C={...S};return delete C[A],C})},T=A=>{n[A]||(f(A),u(!0))},M=A=>{h&&(Object.values(n).some(C=>C.id===A.id)||i(C=>({...C,[h]:A}))),u(!1),f(null),m("")},L={"4-3-3":{GK:{top:"92%",left:"50%"},LB:{top:"75%",left:"15%"},CB1:{top:"75%",left:"37%"},CB2:{top:"75%",left:"63%"},RB:{top:"75%",left:"85%"},CM1:{top:"48%",left:"30%"},CM2:{top:"48%",left:"50%"},CM3:{top:"48%",left:"70%"},LW:{top:"25%",left:"15%"},ST:{top:"18%",left:"50%"},RW:{top:"25%",left:"85%"}},"4-4-2":{GK:{top:"92%",left:"50%"},LB:{top:"75%",left:"15%"},CB1:{top:"75%",left:"37%"},CB2:{top:"75%",left:"63%"},RB:{top:"75%",left:"85%"},LM:{top:"48%",left:"15%"},CM1:{top:"48%",left:"37%"},CM2:{top:"48%",left:"63%"},RM:{top:"48%",left:"85%"},ST1:{top:"20%",left:"37%"},ST2:{top:"20%",left:"63%"}},"4-2-3-1":{GK:{top:"92%",left:"50%"},LB:{top:"75%",left:"15%"},CB1:{top:"75%",left:"37%"},CB2:{top:"75%",left:"63%"},RB:{top:"75%",left:"85%"},CDM1:{top:"58%",left:"37%"},CDM2:{top:"58%",left:"63%"},LAM:{top:"35%",left:"15%"},CAM:{top:"30%",left:"50%"},RAM:{top:"35%",left:"85%"},ST:{top:"18%",left:"50%"}},"4-1-4-1":{GK:{top:"92%",left:"50%"},LB:{top:"75%",left:"15%"},CB1:{top:"75%",left:"37%"},CB2:{top:"75%",left:"63%"},RB:{top:"75%",left:"85%"},CDM:{top:"60%",left:"50%"},LM:{top:"42%",left:"15%"},CM1:{top:"42%",left:"37%"},CM2:{top:"42%",left:"63%"},RM:{top:"42%",left:"85%"},ST:{top:"18%",left:"50%"}},"3-5-2":{GK:{top:"92%",left:"50%"},CB1:{top:"75%",left:"25%"},CB2:{top:"75%",left:"50%"},CB3:{top:"75%",left:"75%"},LWB:{top:"52%",left:"10%"},CM1:{top:"48%",left:"30%"},CM2:{top:"48%",left:"50%"},CM3:{top:"48%",left:"70%"},RWB:{top:"52%",left:"90%"},ST1:{top:"20%",left:"37%"},ST2:{top:"20%",left:"63%"}}},j=L[l],ye=Object.keys(n).length,mt=Object.keys(j).length,Xn=async()=>{if(!(!ye||y||!d.current)){E(!0);try{const A=new Date().toISOString().split("T")[0],S=await vA(d.current,{quality:1,pixelRatio:2,backgroundColor:"#030712",style:{transform:"scale(1)"}}),C=document.createElement("a");C.download=`fenerbahce-${l.replace(/[^0-9a-z-]/gi,"")}-lineup-${A}.png`,C.href=S,C.click()}catch(A){console.error("Kadro kart indirilirken hata olutu:",A),window.alert(`Kart indirilirken bir hata olutu: ${A.message}`)}finally{E(!1)}}},Q=Object.entries(j).sort(([,A],[,S])=>parseFloat(A.top)-parseFloat(S.top));return p.jsxs("div",{className:"h-full flex flex-col pb-20",children:[p.jsxs("div",{className:"flex flex-col gap-3 mb-4 px-2",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("select",{value:l,onChange:A=>a(A.target.value),className:"bg-slate-800 text-white text-sm rounded-lg px-3 py-2 border border-slate-700 focus:outline-none focus:border-yellow-400",children:Object.keys(L).map(A=>p.jsx("option",{value:A,children:A},A))}),p.jsx("button",{onClick:()=>i({}),className:"text-xs text-red-400 hover:text-red-300 font-medium px-3 py-2 bg-red-400/10 rounded-lg border border-red-400/20",children:"Temizle"})]}),p.jsx("div",{className:"glass-panel rounded-xl p-4 flex flex-col gap-3 border border-white/5",children:p.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-white",children:"Kadro Payla"}),p.jsxs("p",{className:"text-[11px] text-slate-400",children:["Tamamlanan kadro: ",p.jsxs("span",{className:"font-semibold text-white",children:[ye,"/",mt]})]})]}),p.jsxs("button",{onClick:Xn,disabled:!ye||y,className:`px-3 py-2 rounded-lg text-xs font-semibold flex items-center gap-2 transition-colors ${ye&&!y?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/40 hover:bg-emerald-500/30":"bg-white/5 text-slate-500 border border-white/10 cursor-not-allowed"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y?"Hazrlanyor...":"Ekran Grnts Al"]})]})})]}),p.jsx("div",{ref:d,className:"relative w-full aspect-[2/3] overflow-hidden mx-auto max-w-sm rounded-xl mb-6",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 100 150' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='grass' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23166534'/%3E%3Cstop offset='100%25' style='stop-color:%231e7e34'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='100' height='150' fill='url(%23grass)'/%3E%3Cg stroke='white' stroke-width='0.5' fill='none' opacity='0.4'%3E%3Crect x='5' y='5' width='90' height='140'/%3E%3Cline x1='5' x2='95' y1='75' y2='75'/%3E%3Ccircle cx='50' cy='75' r='10'/%3E%3Ccircle cx='50' cy='75' r='0.5' fill='white'/%3E%3Crect x='30' y='5' width='40' height='18'/%3E%3Crect x='40' y='5' width='20' height='7'/%3E%3Ccircle cx='50' cy='0.5' r='0.5' fill='white'/%3E%3Cpath d='M 35 23 A 10 10 0 0 0 65 23' /%3E%3Crect x='30' y='127' width='40' height='18'/%3E%3Crect x='40' y='138' width='20' height='7'/%3E%3Ccircle cx='50' cy='149.5' r='0.5' fill='white'/%3E%3Cpath d='M 35 127 A 10 10 0 0 1 65 127' /%3E%3Cpath d='M 5 5 Q 7 7 5 9' /%3E%3Cpath d='M 95 5 Q 93 7 95 9' /%3E%3Cpath d='M 5 145 Q 7 143 5 141' /%3E%3Cpath d='M 95 145 Q 93 143 95 141' /%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"cover",backgroundPosition:"center"},children:Q.map(([A,S])=>{const C=n[A];return p.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 flex items-center justify-center transition-all duration-200",style:S,onDrop:R=>v(R,A),onDragOver:N,onClick:()=>T(A),children:C?p.jsxs("div",{className:"relative w-full h-full flex flex-col items-center group",draggable:!y&&!x,onDragStart:R=>{R.dataTransfer.setData("player",JSON.stringify(C)),R.dataTransfer.setData("sourcePosition",A)},children:[p.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-yellow-400 overflow-hidden bg-slate-800 shadow-lg relative cursor-move z-10 group-hover:scale-110 transition-transform",children:C.photo?p.jsx("img",{src:C.photo,alt:C.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold",children:C.number})}),!y&&p.jsx("button",{type:"button","aria-label":`${C.name} pozisyonundan kar`,onClick:R=>{R.stopPropagation(),k(A)},className:"absolute top-0 right-0 w-4 h-4 rounded-full bg-slate-900/90 backdrop-blur-sm border border-slate-600/50 flex items-center justify-center shadow-md active:scale-90 transition-all z-20 hover:border-yellow-400/60 hover:bg-slate-800",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-2.5 h-2.5 text-slate-400 group-hover:text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),p.jsx("div",{className:"mt-1 bg-slate-900/90 px-2 py-0.5 rounded text-[9px] text-white font-medium truncate w-20 text-center border border-white/10 backdrop-blur-sm shadow-sm z-20",children:C.name.split(" ").pop()})]}):p.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-dashed border-white/40 bg-white/5 flex items-center justify-center hover:bg-white/10 hover:border-yellow-400/50 transition-all cursor-pointer",children:p.jsx("span",{className:"text-2xl text-white/50 hover:text-yellow-400",children:"+"})})},A)})}),p.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[p.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-2 px-2 uppercase tracking-wider",children:"Oyuncular"}),p.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar px-2 pb-20 touch-pan-y",children:p.jsx("div",{className:"grid grid-cols-4 gap-2",children:s?p.jsx("div",{className:"col-span-4 text-center text-slate-500 py-4",children:"Ykleniyor..."}):e.map(A=>p.jsxs("div",{draggable:!x,onDragStart:S=>_(S,A),className:"glass-panel rounded-lg p-2 flex flex-col items-center gap-1 cursor-move active:scale-95 transition-transform hover:bg-white/5",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 overflow-hidden border border-white/10",children:A.photo?p.jsx("img",{src:A.photo,alt:A.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:A.number})}),p.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center",children:A.name.split(" ").slice(-1)[0]}),p.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded",children:A.position})]},A.id))})})]}),o&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{u(!1),m("")},children:p.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm max-h-[75vh] overflow-hidden flex flex-col",onClick:A=>A.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center mb-4 gap-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-bold text-white",children:"Oyuncu Se"}),p.jsxs("div",{className:"mt-3 relative",children:[p.jsx("input",{type:"text",value:c,onChange:A=>m(A.target.value),placeholder:"sim ya da forma no ile ara...",className:"w-full bg-slate-900/60 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-yellow-400"}),c&&p.jsx("button",{onClick:()=>m(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white text-xs",children:"Temizle"})]})]}),p.jsx("button",{onClick:()=>{u(!1),m("")},className:"text-slate-400 hover:text-white",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:p.jsx("div",{className:"grid grid-cols-3 gap-2",children:(()=>{const A=c.trim().toLowerCase(),S=A?e.filter(C=>{var X;const R=(X=C.name)==null?void 0:X.toLowerCase().includes(A),B=String(C.number??"").includes(A);return R||B}):e;return S.length?S.map(C=>{const R=Object.values(n).some(B=>B.id===C.id);return p.jsxs("button",{onClick:()=>M(C),disabled:R,className:`glass-panel rounded-lg p-2 flex flex-col items-center gap-1 transition-all ${R?"opacity-50 cursor-not-allowed":"hover:bg-yellow-400/20 hover:border-yellow-400/30 cursor-pointer"}`,children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 overflow-hidden border border-white/10",children:C.photo?p.jsx("img",{src:C.photo,alt:C.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:C.number})}),p.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center",children:C.name.split(" ").slice(-1)[0]}),p.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded",children:C.position})]},C.id)}):p.jsx("div",{className:"col-span-3 text-center text-slate-500 text-xs py-6",children:"Oyuncu bulunamad"})})()})})]})})]})},SA=()=>{if(typeof window>"u")return null;const e=localStorage.getItem("fb_last_match");if(!e)return null;try{return JSON.parse(e)}catch(t){return console.warn("fb_last_match parse error:",t),null}};function EA(){const[e,t]=D.useState("dashboard"),n=D.useMemo(()=>typeof window>"u"?null:SA(),[]),[i,l]=D.useState((n==null?void 0:n.nextMatch)??null),[a,s]=D.useState((n==null?void 0:n.next3Matches)??[]),[r,o]=D.useState((n==null?void 0:n.timestamp)??null),[u,h]=D.useState(!n),[f,c]=D.useState(!1),[m,y]=D.useState(null),E=D.useRef(!!(n!=null&&n.nextMatch));D.useEffect(()=>{E.current=!!i},[i]);const x=D.useCallback(async()=>{const g=E.current;y(null),g?c(!0):h(!0);try{const[d,_]=await Promise.all([FS(),XS()]),v=Array.isArray(_)?_:[];if(s(v),d){l(d);const N={nextMatch:d,next3Matches:v,timestamp:Date.now()};typeof window<"u"&&localStorage.setItem("fb_last_match",JSON.stringify(N)),o(N.timestamp)}else l(null),y("Ma verisi alnamad. Ltfen balantn kontrol edip tekrar dene.")}catch(d){console.error("loadMatchData error:",d),l(null),s([]),y("Beklenmeyen bir hata olutu. Tekrar dene veya biraz sonra gel.")}finally{h(!1),c(!1)}},[]);return D.useEffect(()=>{x()},[x]),p.jsxs("div",{className:"min-h-screen bg-slate-950 text-white pb-24 relative overflow-hidden",children:[p.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",children:[p.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-yellow-500/10 rounded-full blur-[100px]"}),p.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/20 rounded-full blur-[100px]"})]}),p.jsxs("div",{className:"relative z-10 max-w-md mx-auto h-full min-h-screen flex flex-col",children:[p.jsxs("header",{className:"p-6 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-yellow-200",children:"Fenerbahe Hub"}),p.jsx("p",{className:"text-slate-400 text-xs",children:"Taraftarn Sesi"})]}),p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 p-0.5 shadow-lg shadow-yellow-500/20",children:p.jsx("div",{className:"w-full h-full rounded-full bg-slate-900 flex items-center justify-center overflow-hidden",children:p.jsx("img",{src:"https://media.api-sports.io/football/teams/611.png",alt:"FB Logo",className:"w-8 h-8 object-contain"})})})]}),p.jsxs("main",{className:"flex-1 px-4 overflow-y-auto no-scrollbar",children:[e==="dashboard"&&p.jsx(xN,{matchData:i,next3Matches:a,loading:u&&!i,onRetry:x,errorMessage:m,lastUpdated:r,isRefreshing:f}),e==="builder"&&p.jsx(bA,{})]}),p.jsxs("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[70%] max-w-xs glass-panel rounded-2xl p-2 flex justify-around items-center z-50",children:[p.jsxs("button",{onClick:()=>t("dashboard"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="dashboard"?"bg-white/10 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.3)]":"text-slate-400 hover:text-white"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),p.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Pano"})]}),p.jsxs("button",{onClick:()=>t("builder"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="builder"?"bg-yellow-500 text-white shadow-[0_0_20px_rgba(234,179,8,0.5)] scale-110":"bg-slate-800 text-slate-400 hover:text-white"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),p.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Kadro Kur"})]})]})]})]})}"serviceWorker"in navigator&&YS({immediate:!0});qS.createRoot(document.getElementById("root")).render(p.jsx(rb.StrictMode,{children:p.jsx(EA,{})}));
