(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Up(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bp={exports:{}},Fr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb=Symbol.for("react.transitional.element"),sb=Symbol.for("react.fragment");function Hp(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var l in t)l!=="key"&&(n[l]=t[l])}else n=t;return t=n.ref,{$$typeof:lb,type:e,key:i,ref:t!==void 0?t:null,props:n}}Fr.Fragment=sb;Fr.jsx=Hp;Fr.jsxs=Hp;Bp.exports=Fr;var u=Bp.exports,qp={exports:{}},B={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju=Symbol.for("react.transitional.element"),ab=Symbol.for("react.portal"),rb=Symbol.for("react.fragment"),ob=Symbol.for("react.strict_mode"),cb=Symbol.for("react.profiler"),ub=Symbol.for("react.consumer"),fb=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),hb=Symbol.for("react.suspense"),mb=Symbol.for("react.memo"),Vp=Symbol.for("react.lazy"),pb=Symbol.for("react.activity"),Fd=Symbol.iterator;function gb(e){return e===null||typeof e!="object"?null:(e=Fd&&e[Fd]||e["@@iterator"],typeof e=="function"?e:null)}var Gp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yp=Object.assign,Fp={};function Cl(e,t,n){this.props=e,this.context=t,this.refs=Fp,this.updater=n||Gp}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qp(){}Qp.prototype=Cl.prototype;function ef(e,t,n){this.props=e,this.context=t,this.refs=Fp,this.updater=n||Gp}var tf=ef.prototype=new Qp;tf.constructor=ef;Yp(tf,Cl.prototype);tf.isPureReactComponent=!0;var Qd=Array.isArray;function zc(){}var he={H:null,A:null,T:null,S:null},Kp=Object.prototype.hasOwnProperty;function nf(e,t,n){var i=n.ref;return{$$typeof:Ju,type:e,key:t,ref:i!==void 0?i:null,props:n}}function yb(e,t){return nf(e.type,t,e.props)}function lf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ju}function _b(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kd=/\/+/g;function Oo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_b(""+e.key):t.toString(36)}function vb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(zc,zc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Hi(e,t,n,i,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ju:case ab:a=!0;break;case Vp:return a=e._init,Hi(a(e._payload),t,n,i,l)}}if(a)return l=l(e),a=i===""?"."+Oo(e,0):i,Qd(l)?(n="",a!=null&&(n=a.replace(Kd,"$&/")+"/"),Hi(l,t,n,"",function(c){return c})):l!=null&&(lf(l)&&(l=yb(l,n+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(Kd,"$&/")+"/")+a)),t.push(l)),1;a=0;var r=i===""?".":i+":";if(Qd(e))for(var o=0;o<e.length;o++)i=e[o],s=r+Oo(i,o),a+=Hi(i,t,n,s,l);else if(o=gb(e),typeof o=="function")for(e=o.call(e),o=0;!(i=e.next()).done;)i=i.value,s=r+Oo(i,o++),a+=Hi(i,t,n,s,l);else if(s==="object"){if(typeof e.then=="function")return Hi(vb(e),t,n,i,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function ha(e,t,n){if(e==null)return e;var i=[],l=0;return Hi(e,i,"","",function(s){return t.call(n,s,l++)}),i}function bb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xb={map:ha,forEach:function(e,t,n){ha(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ha(e,function(){t++}),t},toArray:function(e){return ha(e,function(t){return t})||[]},only:function(e){if(!lf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Activity=pb;B.Children=xb;B.Component=Cl;B.Fragment=rb;B.Profiler=cb;B.PureComponent=ef;B.StrictMode=ob;B.Suspense=hb;B.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he;B.__COMPILER_RUNTIME={__proto__:null,c:function(e){return he.H.useMemoCache(e)}};B.cache=function(e){return function(){return e.apply(null,arguments)}};B.cacheSignal=function(){return null};B.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Yp({},e.props),l=e.key;if(t!=null)for(s in t.key!==void 0&&(l=""+t.key),t)!Kp.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),r=0;r<s;r++)a[r]=arguments[r+2];i.children=a}return nf(e.type,l,i)};B.createContext=function(e){return e={$$typeof:fb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ub,_context:e},e};B.createElement=function(e,t,n){var i,l={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)Kp.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=t[i]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var r=Array(a),o=0;o<a;o++)r[o]=arguments[o+2];l.children=r}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)l[i]===void 0&&(l[i]=a[i]);return nf(e,s,l)};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:db,render:e}};B.isValidElement=lf;B.lazy=function(e){return{$$typeof:Vp,_payload:{_status:-1,_result:e},_init:bb}};B.memo=function(e,t){return{$$typeof:mb,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=he.T,n={};he.T=n;try{var i=e(),l=he.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(zc,Xd)}catch(s){Xd(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),he.T=t}};B.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()};B.use=function(e){return he.H.use(e)};B.useActionState=function(e,t,n){return he.H.useActionState(e,t,n)};B.useCallback=function(e,t){return he.H.useCallback(e,t)};B.useContext=function(e){return he.H.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e,t){return he.H.useDeferredValue(e,t)};B.useEffect=function(e,t){return he.H.useEffect(e,t)};B.useEffectEvent=function(e){return he.H.useEffectEvent(e)};B.useId=function(){return he.H.useId()};B.useImperativeHandle=function(e,t,n){return he.H.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return he.H.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return he.H.useLayoutEffect(e,t)};B.useMemo=function(e,t){return he.H.useMemo(e,t)};B.useOptimistic=function(e,t){return he.H.useOptimistic(e,t)};B.useReducer=function(e,t,n){return he.H.useReducer(e,t,n)};B.useRef=function(e){return he.H.useRef(e)};B.useState=function(e){return he.H.useState(e)};B.useSyncExternalStore=function(e,t,n){return he.H.useSyncExternalStore(e,t,n)};B.useTransition=function(){return he.H.useTransition()};B.version="19.2.0";qp.exports=B;var C=qp.exports;const Sb=Up(C);var Xp={exports:{}},Qr={},Zp={exports:{}},Pp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,w){var M=A.length;A.push(w);e:for(;0<M;){var k=M-1>>>1,q=A[k];if(0<l(q,w))A[k]=w,A[M]=q,M=k;else break e}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var w=A[0],M=A.pop();if(M!==w){A[0]=M;e:for(var k=0,q=A.length,Qe=q>>>1;k<Qe;){var lt=2*(k+1)-1,Gt=A[lt],ti=lt+1,da=A[ti];if(0>l(Gt,M))ti<q&&0>l(da,Gt)?(A[k]=da,A[ti]=M,k=ti):(A[k]=Gt,A[lt]=M,k=lt);else if(ti<q&&0>l(da,M))A[k]=da,A[ti]=M,k=ti;else break e}}return w}function l(A,w){var M=A.sortIndex-w.sortIndex;return M!==0?M:A.id-w.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,r=a.now();e.unstable_now=function(){return a.now()-r}}var o=[],c=[],h=1,f=null,d=3,m=!1,_=!1,b=!1,S=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function v(A){for(var w=n(c);w!==null;){if(w.callback===null)i(c);else if(w.startTime<=A)i(c),w.sortIndex=w.expirationTime,t(o,w);else break;w=n(c)}}function N(A){if(b=!1,v(A),!_)if(n(o)!==null)_=!0,D||(D=!0,Z());else{var w=n(c);w!==null&&ae(N,w.startTime-A)}}var D=!1,E=-1,O=5,j=-1;function L(){return S?!0:!(e.unstable_now()-j<O)}function T(){if(S=!1,D){var A=e.unstable_now();j=A;var w=!0;try{e:{_=!1,b&&(b=!1,p(E),E=-1),m=!0;var M=d;try{t:{for(v(A),f=n(o);f!==null&&!(f.expirationTime>A&&L());){var k=f.callback;if(typeof k=="function"){f.callback=null,d=f.priorityLevel;var q=k(f.expirationTime<=A);if(A=e.unstable_now(),typeof q=="function"){f.callback=q,v(A),w=!0;break t}f===n(o)&&i(o),v(A)}else i(o);f=n(o)}if(f!==null)w=!0;else{var Qe=n(c);Qe!==null&&ae(N,Qe.startTime-A),w=!1}}break e}finally{f=null,d=M,m=!1}w=void 0}}finally{w?Z():D=!1}}}var Z;if(typeof y=="function")Z=function(){y(T)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,P=U.port2;U.port1.onmessage=T,Z=function(){P.postMessage(null)}}else Z=function(){g(T,0)};function ae(A,w){E=g(function(){A(e.unstable_now())},w)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(A){switch(d){case 1:case 2:case 3:var w=3;break;default:w=d}var M=d;d=w;try{return A()}finally{d=M}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(A,w){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=d;d=A;try{return w()}finally{d=M}},e.unstable_scheduleCallback=function(A,w,M){var k=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?k+M:k):M=k,A){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=M+q,A={id:h++,callback:w,priorityLevel:A,startTime:M,expirationTime:q,sortIndex:-1},M>k?(A.sortIndex=M,t(c,A),n(o)===null&&A===n(c)&&(b?(p(E),E=-1):b=!0,ae(N,M-k))):(A.sortIndex=q,t(o,A),_||m||(_=!0,D||(D=!0,Z()))),A},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(A){var w=d;return function(){var M=d;d=w;try{return A.apply(this,arguments)}finally{d=M}}}})(Pp);Zp.exports=Pp;var wb=Zp.exports,$p={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb=C;function Wp(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bn(){}var Ve={d:{f:bn,r:function(){throw Error(Wp(522))},D:bn,C:bn,L:bn,m:bn,X:bn,S:bn,M:bn},p:0,findDOMNode:null},Tb=Symbol.for("react.portal");function Cb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var ts=Eb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Kr(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ve;Fe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Wp(299));return Cb(e,t,null,n)};Fe.flushSync=function(e){var t=ts.T,n=Ve.p;try{if(ts.T=null,Ve.p=2,e)return e()}finally{ts.T=t,Ve.p=n,Ve.d.f()}};Fe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ve.d.C(e,t))};Fe.prefetchDNS=function(e){typeof e=="string"&&Ve.d.D(e)};Fe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Kr(n,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ve.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:s}):n==="script"&&Ve.d.X(e,{crossOrigin:i,integrity:l,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Fe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Kr(t.as,t.crossOrigin);Ve.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ve.d.M(e)};Fe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Kr(n,t.crossOrigin);Ve.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Fe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Kr(t.as,t.crossOrigin);Ve.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ve.d.m(e)};Fe.requestFormReset=function(e){Ve.d.r(e)};Fe.unstable_batchedUpdates=function(e,t){return e(t)};Fe.useFormState=function(e,t,n){return ts.H.useFormState(e,t,n)};Fe.useFormStatus=function(){return ts.H.useHostTransitionStatus()};Fe.version="19.2.0";function Jp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jp)}catch(e){console.error(e)}}Jp(),$p.exports=Fe;var Nb=$p.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re=wb,eg=C,Ab=Nb;function x(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function tg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ng(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ig(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zd(e){if(Qs(e)!==e)throw Error(x(188))}function Rb(e){var t=e.alternate;if(!t){if(t=Qs(e),t===null)throw Error(x(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Zd(l),e;if(s===i)return Zd(l),t;s=s.sibling}throw Error(x(188))}if(n.return!==i.return)n=l,i=s;else{for(var a=!1,r=l.child;r;){if(r===n){a=!0,n=l,i=s;break}if(r===i){a=!0,i=l,n=s;break}r=r.sibling}if(!a){for(r=s.child;r;){if(r===n){a=!0,n=s,i=l;break}if(r===i){a=!0,i=s,n=l;break}r=r.sibling}if(!a)throw Error(x(189))}}if(n.alternate!==i)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?e:t}function lg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=lg(e),t!==null)return t;e=e.sibling}return null}var me=Object.assign,Mb=Symbol.for("react.element"),ma=Symbol.for("react.transitional.element"),Zl=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),Lc=Symbol.for("react.profiler"),ag=Symbol.for("react.consumer"),Jt=Symbol.for("react.context"),sf=Symbol.for("react.forward_ref"),Ic=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),af=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),Bc=Symbol.for("react.activity"),Db=Symbol.for("react.memo_cache_sentinel"),Pd=Symbol.iterator;function Ul(e){return e===null||typeof e!="object"?null:(e=Pd&&e[Pd]||e["@@iterator"],typeof e=="function"?e:null)}var Ob=Symbol.for("react.client.reference");function Hc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ob?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gi:return"Fragment";case Lc:return"Profiler";case sg:return"StrictMode";case Ic:return"Suspense";case Uc:return"SuspenseList";case Bc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Zl:return"Portal";case Jt:return e.displayName||"Context";case ag:return(e._context.displayName||"Context")+".Consumer";case sf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case af:return t=e.displayName||null,t!==null?t:Hc(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Hc(e(t))}catch{}}return null}var Pl=Array.isArray,I=eg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=Ab.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,di={pending:!1,data:null,method:null,action:null},qc=[],Yi=-1;function Ht(e){return{current:e}}function ke(e){0>Yi||(e.current=qc[Yi],qc[Yi]=null,Yi--)}function ce(e,t){Yi++,qc[Yi]=e.current,e.current=t}var Ut=Ht(null),xs=Ht(null),On=Ht(null),Pa=Ht(null);function $a(e,t){switch(ce(On,t),ce(xs,e),ce(Ut,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=nm(t),e=Cy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ke(Ut),ce(Ut,e)}function fl(){ke(Ut),ke(xs),ke(On)}function Vc(e){e.memoizedState!==null&&ce(Pa,e);var t=Ut.current,n=Cy(t,e.type);t!==n&&(ce(xs,e),ce(Ut,n))}function Wa(e){xs.current===e&&(ke(Ut),ke(xs)),Pa.current===e&&(ke(Pa),Os._currentValue=di)}var jo,$d;function ii(e){if(jo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jo=t&&t[1]||"",$d=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jo+e+$d}var ko=!1;function zo(e,t){if(!e||ko)return"";ko=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var d=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){d=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){d=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&d&&typeof m.stack=="string")return[m.stack,d.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],r=s[1];if(a&&r){var o=a.split(`
`),c=r.split(`
`);for(l=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;l<c.length&&!c[l].includes("DetermineComponentFrameRoot");)l++;if(i===o.length||l===c.length)for(i=o.length-1,l=c.length-1;1<=i&&0<=l&&o[i]!==c[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==c[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==c[l]){var h=`
`+o[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=l);break}}}finally{ko=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ii(n):""}function jb(e,t){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==t&&t!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return zo(e.type,!1);case 11:return zo(e.type.render,!1);case 1:return zo(e.type,!0);case 31:return ii("Activity");default:return""}}function Wd(e){try{var t="",n=null;do t+=jb(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Gc=Object.prototype.hasOwnProperty,rf=Re.unstable_scheduleCallback,Lo=Re.unstable_cancelCallback,kb=Re.unstable_shouldYield,zb=Re.unstable_requestPaint,ut=Re.unstable_now,Lb=Re.unstable_getCurrentPriorityLevel,rg=Re.unstable_ImmediatePriority,og=Re.unstable_UserBlockingPriority,Ja=Re.unstable_NormalPriority,Ib=Re.unstable_LowPriority,cg=Re.unstable_IdlePriority,Ub=Re.log,Bb=Re.unstable_setDisableYieldValue,Ks=null,ft=null;function Nn(e){if(typeof Ub=="function"&&Bb(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Ks,e)}catch{}}var dt=Math.clz32?Math.clz32:Vb,Hb=Math.log,qb=Math.LN2;function Vb(e){return e>>>=0,e===0?32:31-(Hb(e)/qb|0)|0}var pa=256,ga=262144,ya=4194304;function li(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xr(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var r=i&134217727;return r!==0?(i=r&~s,i!==0?l=li(i):(a&=r,a!==0?l=li(a):n||(n=r&~e,n!==0&&(l=li(n))))):(r=i&~s,r!==0?l=li(r):a!==0?l=li(a):n||(n=i&~e,n!==0&&(l=li(n)))),l===0?0:t!==0&&t!==l&&!(t&s)&&(s=l&-l,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:l}function Xs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Gb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ug(){var e=ya;return ya<<=1,!(ya&62914560)&&(ya=4194304),e}function Io(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yb(e,t,n,i,l,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-dt(n),f=1<<h;r[h]=0,o[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var m=d[h];m!==null&&(m.lane&=-536870913)}n&=~f}i!==0&&fg(e,i,0),s!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function fg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-dt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function dg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-dt(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}function hg(e,t){var n=t&-t;return n=n&42?1:of(n),n&(e.suspendedLanes|t)?0:n}function of(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function mg(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Iy(e.type))}function Jd(e,t){var n=J.p;try{return J.p=e,t()}finally{J.p=n}}var Jn=Math.random().toString(36).slice(2),Le="__reactFiber$"+Jn,tt="__reactProps$"+Jn,Nl="__reactContainer$"+Jn,Yc="__reactEvents$"+Jn,Fb="__reactListeners$"+Jn,Qb="__reactHandles$"+Jn,eh="__reactResources$"+Jn,Ps="__reactMarker$"+Jn;function uf(e){delete e[Le],delete e[tt],delete e[Yc],delete e[Fb],delete e[Qb]}function Fi(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nl]||n[Le]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rm(e);e!==null;){if(n=e[Le])return n;e=rm(e)}return t}e=n,n=e.parentNode}return null}function Al(e){if(e=e[Le]||e[Nl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function $l(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(x(33))}function nl(e){var t=e[eh];return t||(t=e[eh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function je(e){e[Ps]=!0}var pg=new Set,gg={};function Ai(e,t){dl(e,t),dl(e+"Capture",t)}function dl(e,t){for(gg[e]=t,e=0;e<t.length;e++)pg.add(t[e])}var Kb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),th={},nh={};function Xb(e){return Gc.call(nh,e)?!0:Gc.call(th,e)?!1:Kb.test(e)?nh[e]=!0:(th[e]=!0,!1)}function ka(e,t,n){if(Xb(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function _a(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Yt(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zb(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fc(e){if(!e._valueTracker){var t=yg(e)?"checked":"value";e._valueTracker=Zb(e,t,""+e[t])}}function _g(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=yg(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pb=/[\n"\\]/g;function bt(e){return e.replace(Pb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qc(e,t,n,i,l,s,a,r){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yt(t)):e.value!==""+yt(t)&&(e.value=""+yt(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Kc(e,a,yt(t)):n!=null?Kc(e,a,yt(n)):i!=null&&e.removeAttribute("value"),l==null&&s!=null&&(e.defaultChecked=!!s),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+yt(r):e.removeAttribute("name")}function vg(e,t,n,i,l,s,a,r){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Fc(e);return}n=n!=null?""+yt(n):"",t=t!=null?""+yt(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=r?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Fc(e)}function Kc(e,t,n){t==="number"&&er(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function il(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function bg(e,t,n){if(t!=null&&(t=""+yt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+yt(n):""}function xg(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(x(92));if(Pl(i)){if(1<i.length)throw Error(x(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=yt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Fc(e)}function hl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $b=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ih(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||$b.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Sg(e,t,n){if(t!=null&&typeof t!="object")throw Error(x(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var l in t)i=t[l],t.hasOwnProperty(l)&&n[l]!==i&&ih(e,l,i)}else for(var s in t)t.hasOwnProperty(s)&&ih(e,s,t[s])}function ff(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(e){return Jb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function en(){}var Xc=null;function df(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,ll=null;function lh(e){var t=Al(e);if(t&&(e=t.stateNode)){var n=e[tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=i[tt]||null;if(!l)throw Error(x(90));Qc(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&_g(i)}break e;case"textarea":bg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&il(e,!!n.multiple,t,!1)}}}var Uo=!1;function wg(e,t,n){if(Uo)return e(t,n);Uo=!0;try{var i=e(t);return i}finally{if(Uo=!1,(Qi!==null||ll!==null)&&(ao(),Qi&&(t=Qi,e=ll,ll=Qi=null,lh(t),e)))for(t=0;t<e.length;t++)lh(e[t])}}function Ss(e,t){var n=e.stateNode;if(n===null)return null;var i=n[tt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(x(231,t,typeof n));return n}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zc=!1;if(cn)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Zc=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Zc=!1}var An=null,hf=null,La=null;function Eg(){if(La)return La;var e,t=hf,n=t.length,i,l="value"in An?An.value:An.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===l[s-i];i++);return La=l.slice(e,1<i?1-i:void 0)}function Ia(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function va(){return!0}function sh(){return!1}function it(e){function t(n,i,l,s,a){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(s):s[r]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?va:sh,this.isPropagationStopped=sh,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),t}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zr=it(Ri),$s=me({},Ri,{view:0,detail:0}),e1=it($s),Bo,Ho,Hl,Pr=me({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hl&&(Hl&&e.type==="mousemove"?(Bo=e.screenX-Hl.screenX,Ho=e.screenY-Hl.screenY):Ho=Bo=0,Hl=e),Bo)},movementY:function(e){return"movementY"in e?e.movementY:Ho}}),ah=it(Pr),t1=me({},Pr,{dataTransfer:0}),n1=it(t1),i1=me({},$s,{relatedTarget:0}),qo=it(i1),l1=me({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),s1=it(l1),a1=me({},Ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r1=it(a1),o1=me({},Ri,{data:0}),rh=it(o1),c1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=f1[e])?!!t[e]:!1}function mf(){return d1}var h1=me({},$s,{key:function(e){if(e.key){var t=c1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?u1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mf,charCode:function(e){return e.type==="keypress"?Ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),m1=it(h1),p1=me({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oh=it(p1),g1=me({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mf}),y1=it(g1),_1=me({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),v1=it(_1),b1=me({},Pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x1=it(b1),S1=me({},Ri,{newState:0,oldState:0}),w1=it(S1),E1=[9,13,27,32],pf=cn&&"CompositionEvent"in window,ns=null;cn&&"documentMode"in document&&(ns=document.documentMode);var T1=cn&&"TextEvent"in window&&!ns,Tg=cn&&(!pf||ns&&8<ns&&11>=ns),ch=" ",uh=!1;function Cg(e,t){switch(e){case"keyup":return E1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ng(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function C1(e,t){switch(e){case"compositionend":return Ng(t);case"keypress":return t.which!==32?null:(uh=!0,ch);case"textInput":return e=t.data,e===ch&&uh?null:e;default:return null}}function N1(e,t){if(Ki)return e==="compositionend"||!pf&&Cg(e,t)?(e=Eg(),La=hf=An=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tg&&t.locale!=="ko"?null:t.data;default:return null}}var A1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!A1[e.type]:t==="textarea"}function Ag(e,t,n,i){Qi?ll?ll.push(i):ll=[i]:Qi=i,t=_r(t,"onChange"),0<t.length&&(n=new Zr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var is=null,ws=null;function R1(e){wy(e,0)}function $r(e){var t=$l(e);if(_g(t))return e}function dh(e,t){if(e==="change")return t}var Rg=!1;if(cn){var Vo;if(cn){var Go="oninput"in document;if(!Go){var hh=document.createElement("div");hh.setAttribute("oninput","return;"),Go=typeof hh.oninput=="function"}Vo=Go}else Vo=!1;Rg=Vo&&(!document.documentMode||9<document.documentMode)}function mh(){is&&(is.detachEvent("onpropertychange",Mg),ws=is=null)}function Mg(e){if(e.propertyName==="value"&&$r(ws)){var t=[];Ag(t,ws,e,df(e)),wg(R1,t)}}function M1(e,t,n){e==="focusin"?(mh(),is=t,ws=n,is.attachEvent("onpropertychange",Mg)):e==="focusout"&&mh()}function D1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $r(ws)}function O1(e,t){if(e==="click")return $r(t)}function j1(e,t){if(e==="input"||e==="change")return $r(t)}function k1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:k1;function Es(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!Gc.call(t,l)||!mt(e[l],t[l]))return!1}return!0}function ph(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gh(e,t){var n=ph(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ph(n)}}function Dg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=er(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=er(e.document)}return t}function gf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var z1=cn&&"documentMode"in document&&11>=document.documentMode,Xi=null,Pc=null,ls=null,$c=!1;function yh(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$c||Xi==null||Xi!==er(i)||(i=Xi,"selectionStart"in i&&gf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ls&&Es(ls,i)||(ls=i,i=_r(Pc,"onSelect"),0<i.length&&(t=new Zr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Xi)))}function ni(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zi={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionrun:ni("Transition","TransitionRun"),transitionstart:ni("Transition","TransitionStart"),transitioncancel:ni("Transition","TransitionCancel"),transitionend:ni("Transition","TransitionEnd")},Yo={},jg={};cn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function Mi(e){if(Yo[e])return Yo[e];if(!Zi[e])return e;var t=Zi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jg)return Yo[e]=t[n];return e}var kg=Mi("animationend"),zg=Mi("animationiteration"),Lg=Mi("animationstart"),L1=Mi("transitionrun"),I1=Mi("transitionstart"),U1=Mi("transitioncancel"),Ig=Mi("transitionend"),Ug=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function jt(e,t){Ug.set(e,t),Ai(t,[e])}var tr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},gt=[],Pi=0,yf=0;function Wr(){for(var e=Pi,t=yf=Pi=0;t<e;){var n=gt[t];gt[t++]=null;var i=gt[t];gt[t++]=null;var l=gt[t];gt[t++]=null;var s=gt[t];if(gt[t++]=null,i!==null&&l!==null){var a=i.pending;a===null?l.next=l:(l.next=a.next,a.next=l),i.pending=l}s!==0&&Bg(n,l,s)}}function Jr(e,t,n,i){gt[Pi++]=e,gt[Pi++]=t,gt[Pi++]=n,gt[Pi++]=i,yf|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function _f(e,t,n,i){return Jr(e,t,n,i),nr(e)}function Di(e,t){return Jr(e,null,null,t),nr(e)}function Bg(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var l=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(l=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,l&&t!==null&&(l=31-dt(n),e=s.hiddenUpdates,i=e[l],i===null?e[l]=[t]:i.push(t),t.lane=n|536870912),s):null}function nr(e){if(50<hs)throw hs=0,vu=null,Error(x(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $i={};function B1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,i){return new B1(e,t,n,i)}function vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hg(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ua(e,t,n,i,l,s){var a=0;if(i=e,typeof e=="function")vf(e)&&(a=1);else if(typeof e=="string")a=Yx(e,n,Ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Bc:return e=ot(31,n,t,l),e.elementType=Bc,e.lanes=s,e;case Gi:return hi(n.children,l,s,t);case sg:a=8,l|=24;break;case Lc:return e=ot(12,n,t,l|2),e.elementType=Lc,e.lanes=s,e;case Ic:return e=ot(13,n,t,l),e.elementType=Ic,e.lanes=s,e;case Uc:return e=ot(19,n,t,l),e.elementType=Uc,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jt:a=10;break e;case ag:a=9;break e;case sf:a=11;break e;case af:a=14;break e;case xn:a=16,i=null;break e}a=29,n=Error(x(130,e===null?"null":typeof e,"")),i=null}return t=ot(a,n,t,l),t.elementType=e,t.type=i,t.lanes=s,t}function hi(e,t,n,i){return e=ot(7,e,i,t),e.lanes=n,e}function Fo(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function qg(e){var t=ot(18,null,null,0);return t.stateNode=e,t}function Qo(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _h=new WeakMap;function xt(e,t){if(typeof e=="object"&&e!==null){var n=_h.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Wd(t)},_h.set(e,t),t)}return{value:e,source:t,stack:Wd(t)}}var Wi=[],Ji=0,ir=null,Ts=0,_t=[],vt=0,Fn=null,zt=1,Lt="";function Pt(e,t){Wi[Ji++]=Ts,Wi[Ji++]=ir,ir=e,Ts=t}function Vg(e,t,n){_t[vt++]=zt,_t[vt++]=Lt,_t[vt++]=Fn,Fn=e;var i=zt;e=Lt;var l=32-dt(i)-1;i&=~(1<<l),n+=1;var s=32-dt(t)+l;if(30<s){var a=l-l%5;s=(i&(1<<a)-1).toString(32),i>>=a,l-=a,zt=1<<32-dt(t)+l|n<<l|i,Lt=s+e}else zt=1<<s|n<<l|i,Lt=e}function bf(e){e.return!==null&&(Pt(e,1),Vg(e,1,0))}function xf(e){for(;e===ir;)ir=Wi[--Ji],Wi[Ji]=null,Ts=Wi[--Ji],Wi[Ji]=null;for(;e===Fn;)Fn=_t[--vt],_t[vt]=null,Lt=_t[--vt],_t[vt]=null,zt=_t[--vt],_t[vt]=null}function Gg(e,t){_t[vt++]=zt,_t[vt++]=Lt,_t[vt++]=Fn,zt=t.id,Lt=t.overflow,Fn=e}var Ie=null,de=null,X=!1,jn=null,St=!1,Jc=Error(x(519));function Qn(e){var t=Error(x(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cs(xt(t,e)),Jc}function vh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Le]=e,t[tt]=i,n){case"dialog":Y("cancel",t),Y("close",t);break;case"iframe":case"object":case"embed":Y("load",t);break;case"video":case"audio":for(n=0;n<Ms.length;n++)Y(Ms[n],t);break;case"source":Y("error",t);break;case"img":case"image":case"link":Y("error",t),Y("load",t);break;case"details":Y("toggle",t);break;case"input":Y("invalid",t),vg(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Y("invalid",t);break;case"textarea":Y("invalid",t),xg(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Ty(t.textContent,n)?(i.popover!=null&&(Y("beforetoggle",t),Y("toggle",t)),i.onScroll!=null&&Y("scroll",t),i.onScrollEnd!=null&&Y("scrollend",t),i.onClick!=null&&(t.onclick=en),t=!0):t=!1,t||Qn(e,!0)}function bh(e){for(Ie=e.return;Ie;)switch(Ie.tag){case 5:case 31:case 13:St=!1;return;case 27:case 3:St=!0;return;default:Ie=Ie.return}}function zi(e){if(e!==Ie)return!1;if(!X)return bh(e),X=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Eu(e.type,e.memoizedProps)),n=!n),n&&de&&Qn(e),bh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));de=am(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));de=am(e)}else t===27?(t=de,ei(e.type)?(e=Au,Au=null,de=e):de=t):de=Ie?Et(e.stateNode.nextSibling):null;return!0}function yi(){de=Ie=null,X=!1}function Ko(){var e=jn;return e!==null&&(Pe===null?Pe=e:Pe.push.apply(Pe,e),jn=null),e}function Cs(e){jn===null?jn=[e]:jn.push(e)}var eu=Ht(null),Oi=null,tn=null;function wn(e,t,n){ce(eu,t._currentValue),t._currentValue=n}function sn(e){e._currentValue=eu.current,ke(eu)}function tu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function nu(e,t,n,i){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var s=l.dependencies;if(s!==null){var a=l.child;s=s.firstContext;e:for(;s!==null;){var r=s;s=l;for(var o=0;o<t.length;o++)if(r.context===t[o]){s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),tu(s.return,n,e),i||(a=null);break e}s=r.next}}else if(l.tag===18){if(a=l.return,a===null)throw Error(x(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),tu(a,n,e),a=null}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}}function Rl(e,t,n,i){e=null;for(var l=t,s=!1;l!==null;){if(!s){if(l.flags&524288)s=!0;else if(l.flags&262144)break}if(l.tag===10){var a=l.alternate;if(a===null)throw Error(x(387));if(a=a.memoizedProps,a!==null){var r=l.type;mt(l.pendingProps.value,a.value)||(e!==null?e.push(r):e=[r])}}else if(l===Pa.current){if(a=l.alternate,a===null)throw Error(x(387));a.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Os):e=[Os])}l=l.return}e!==null&&nu(t,e,n,i),t.flags|=262144}function lr(e){for(e=e.firstContext;e!==null;){if(!mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){Oi=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ue(e){return Yg(Oi,e)}function ba(e,t){return Oi===null&&_i(e),Yg(e,t)}function Yg(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},tn===null){if(e===null)throw Error(x(308));tn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tn=tn.next=t;return n}var H1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},q1=Re.unstable_scheduleCallback,V1=Re.unstable_NormalPriority,we={$$typeof:Jt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new H1,data:new Map,refCount:0}}function Ws(e){e.refCount--,e.refCount===0&&q1(V1,function(){e.controller.abort()})}var ss=null,iu=0,ml=0,sl=null;function G1(e,t){if(ss===null){var n=ss=[];iu=0,ml=Kf(),sl={status:"pending",value:void 0,then:function(i){n.push(i)}}}return iu++,t.then(xh,xh),t}function xh(){if(--iu===0&&ss!==null){sl!==null&&(sl.status="fulfilled");var e=ss;ss=null,ml=0,sl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Y1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var Sh=I.S;I.S=function(e,t){ly=ut(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&G1(e,t),Sh!==null&&Sh(e,t)};var mi=Ht(null);function wf(){var e=mi.current;return e!==null?e:le.pooledCache}function Ba(e,t){t===null?ce(mi,mi.current):ce(mi,t.pool)}function Fg(){var e=wf();return e===null?null:{parent:we._currentValue,pool:e}}var Ml=Error(x(460)),Ef=Error(x(474)),eo=Error(x(542)),sr={then:function(){}};function wh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qg(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(en,en),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Th(e),e;default:if(typeof t.status=="string")t.then(en,en);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(x(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=i}},function(i){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Th(e),e}throw pi=t,Ml}}function si(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(pi=n,Ml):n}}var pi=null;function Eh(){if(pi===null)throw Error(x(459));var e=pi;return pi=null,e}function Th(e){if(e===Ml||e===eo)throw Error(x(483))}var al=null,Ns=0;function xa(e){var t=Ns;return Ns+=1,al===null&&(al=[]),Qg(al,e,t)}function ql(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sa(e,t){throw t.$$typeof===Mb?Error(x(525)):(e=Object.prototype.toString.call(t),Error(x(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Kg(e){function t(g,p){if(e){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function i(g){for(var p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function l(g,p){return g=ln(g,p),g.index=0,g.sibling=null,g}function s(g,p,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=67108866,p):y):(g.flags|=67108866,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function r(g,p,y,v){return p===null||p.tag!==6?(p=Fo(y,g.mode,v),p.return=g,p):(p=l(p,y),p.return=g,p)}function o(g,p,y,v){var N=y.type;return N===Gi?h(g,p,y.props.children,v,y.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xn&&si(N)===p.type)?(p=l(p,y.props),ql(p,y),p.return=g,p):(p=Ua(y.type,y.key,y.props,null,g.mode,v),ql(p,y),p.return=g,p)}function c(g,p,y,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Qo(y,g.mode,v),p.return=g,p):(p=l(p,y.children||[]),p.return=g,p)}function h(g,p,y,v,N){return p===null||p.tag!==7?(p=hi(y,g.mode,v,N),p.return=g,p):(p=l(p,y),p.return=g,p)}function f(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Fo(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ma:return y=Ua(p.type,p.key,p.props,null,g.mode,y),ql(y,p),y.return=g,y;case Zl:return p=Qo(p,g.mode,y),p.return=g,p;case xn:return p=si(p),f(g,p,y)}if(Pl(p)||Ul(p))return p=hi(p,g.mode,y,null),p.return=g,p;if(typeof p.then=="function")return f(g,xa(p),y);if(p.$$typeof===Jt)return f(g,ba(g,p),y);Sa(g,p)}return null}function d(g,p,y,v){var N=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return N!==null?null:r(g,p,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ma:return y.key===N?o(g,p,y,v):null;case Zl:return y.key===N?c(g,p,y,v):null;case xn:return y=si(y),d(g,p,y,v)}if(Pl(y)||Ul(y))return N!==null?null:h(g,p,y,v,null);if(typeof y.then=="function")return d(g,p,xa(y),v);if(y.$$typeof===Jt)return d(g,p,ba(g,y),v);Sa(g,y)}return null}function m(g,p,y,v,N){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return g=g.get(y)||null,r(p,g,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ma:return g=g.get(v.key===null?y:v.key)||null,o(p,g,v,N);case Zl:return g=g.get(v.key===null?y:v.key)||null,c(p,g,v,N);case xn:return v=si(v),m(g,p,y,v,N)}if(Pl(v)||Ul(v))return g=g.get(y)||null,h(p,g,v,N,null);if(typeof v.then=="function")return m(g,p,y,xa(v),N);if(v.$$typeof===Jt)return m(g,p,y,ba(p,v),N);Sa(p,v)}return null}function _(g,p,y,v){for(var N=null,D=null,E=p,O=p=0,j=null;E!==null&&O<y.length;O++){E.index>O?(j=E,E=null):j=E.sibling;var L=d(g,E,y[O],v);if(L===null){E===null&&(E=j);break}e&&E&&L.alternate===null&&t(g,E),p=s(L,p,O),D===null?N=L:D.sibling=L,D=L,E=j}if(O===y.length)return n(g,E),X&&Pt(g,O),N;if(E===null){for(;O<y.length;O++)E=f(g,y[O],v),E!==null&&(p=s(E,p,O),D===null?N=E:D.sibling=E,D=E);return X&&Pt(g,O),N}for(E=i(E);O<y.length;O++)j=m(E,g,O,y[O],v),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?O:j.key),p=s(j,p,O),D===null?N=j:D.sibling=j,D=j);return e&&E.forEach(function(T){return t(g,T)}),X&&Pt(g,O),N}function b(g,p,y,v){if(y==null)throw Error(x(151));for(var N=null,D=null,E=p,O=p=0,j=null,L=y.next();E!==null&&!L.done;O++,L=y.next()){E.index>O?(j=E,E=null):j=E.sibling;var T=d(g,E,L.value,v);if(T===null){E===null&&(E=j);break}e&&E&&T.alternate===null&&t(g,E),p=s(T,p,O),D===null?N=T:D.sibling=T,D=T,E=j}if(L.done)return n(g,E),X&&Pt(g,O),N;if(E===null){for(;!L.done;O++,L=y.next())L=f(g,L.value,v),L!==null&&(p=s(L,p,O),D===null?N=L:D.sibling=L,D=L);return X&&Pt(g,O),N}for(E=i(E);!L.done;O++,L=y.next())L=m(E,g,O,L.value,v),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?O:L.key),p=s(L,p,O),D===null?N=L:D.sibling=L,D=L);return e&&E.forEach(function(Z){return t(g,Z)}),X&&Pt(g,O),N}function S(g,p,y,v){if(typeof y=="object"&&y!==null&&y.type===Gi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ma:e:{for(var N=y.key;p!==null;){if(p.key===N){if(N=y.type,N===Gi){if(p.tag===7){n(g,p.sibling),v=l(p,y.props.children),v.return=g,g=v;break e}}else if(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xn&&si(N)===p.type){n(g,p.sibling),v=l(p,y.props),ql(v,y),v.return=g,g=v;break e}n(g,p);break}else t(g,p);p=p.sibling}y.type===Gi?(v=hi(y.props.children,g.mode,v,y.key),v.return=g,g=v):(v=Ua(y.type,y.key,y.props,null,g.mode,v),ql(v,y),v.return=g,g=v)}return a(g);case Zl:e:{for(N=y.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),v=l(p,y.children||[]),v.return=g,g=v;break e}else{n(g,p);break}else t(g,p);p=p.sibling}v=Qo(y,g.mode,v),v.return=g,g=v}return a(g);case xn:return y=si(y),S(g,p,y,v)}if(Pl(y))return _(g,p,y,v);if(Ul(y)){if(N=Ul(y),typeof N!="function")throw Error(x(150));return y=N.call(y),b(g,p,y,v)}if(typeof y.then=="function")return S(g,p,xa(y),v);if(y.$$typeof===Jt)return S(g,p,ba(g,y),v);Sa(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),v=l(p,y),v.return=g,g=v):(n(g,p),v=Fo(y,g.mode,v),v.return=g,g=v),a(g)):n(g,p)}return function(g,p,y,v){try{Ns=0;var N=S(g,p,y,v);return al=null,N}catch(E){if(E===Ml||E===eo)throw E;var D=ot(29,E,null,g.mode);return D.lanes=v,D.return=g,D}finally{}}}var vi=Kg(!0),Xg=Kg(!1),Sn=!1;function Tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,W&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,t=nr(e),Bg(e,null,n),t}return Jr(e,i,t,n),nr(e)}function as(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,dg(e,n)}}function Xo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var su=!1;function rs(){if(su){var e=sl;if(e!==null)throw e}}function os(e,t,n,i){su=!1;var l=e.updateQueue;Sn=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var o=r,c=o.next;o.next=null,a===null?s=c:a.next=c,a=o;var h=e.alternate;h!==null&&(h=h.updateQueue,r=h.lastBaseUpdate,r!==a&&(r===null?h.firstBaseUpdate=c:r.next=c,h.lastBaseUpdate=o))}if(s!==null){var f=l.baseState;a=0,h=c=o=null,r=s;do{var d=r.lane&-536870913,m=d!==r.lane;if(m?(K&d)===d:(i&d)===d){d!==0&&d===ml&&(su=!0),h!==null&&(h=h.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var _=e,b=r;d=t;var S=n;switch(b.tag){case 1:if(_=b.payload,typeof _=="function"){f=_.call(S,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,d=typeof _=="function"?_.call(S,f,d):_,d==null)break e;f=me({},f,d);break e;case 2:Sn=!0}}d=r.callback,d!==null&&(e.flags|=64,m&&(e.flags|=8192),m=l.callbacks,m===null?l.callbacks=[d]:m.push(d))}else m={lane:d,tag:r.tag,payload:r.payload,callback:r.callback,next:null},h===null?(c=h=m,o=f):h=h.next=m,a|=d;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;m=r,r=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);h===null&&(o=f),l.baseState=o,l.firstBaseUpdate=c,l.lastBaseUpdate=h,s===null&&(l.shared.lanes=0),Xn|=a,e.lanes=a,e.memoizedState=f}}function Zg(e,t){if(typeof e!="function")throw Error(x(191,e));e.call(t)}function Pg(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Zg(n[e],t)}var pl=Ht(null),ar=Ht(0);function Ch(e,t){e=hn,ce(ar,e),ce(pl,t),hn=e|t.baseLanes}function au(){ce(ar,hn),ce(pl,pl.current)}function Cf(){hn=ar.current,ke(pl),ke(ar)}var pt=Ht(null),wt=null;function En(e){var t=e.alternate;ce(ve,ve.current&1),ce(pt,e),wt===null&&(t===null||pl.current!==null||t.memoizedState!==null)&&(wt=e)}function ru(e){ce(ve,ve.current),ce(pt,e),wt===null&&(wt=e)}function $g(e){e.tag===22?(ce(ve,ve.current),ce(pt,e),wt===null&&(wt=e)):Tn()}function Tn(){ce(ve,ve.current),ce(pt,pt.current)}function rt(e){ke(pt),wt===e&&(wt=null),ke(ve)}var ve=Ht(0);function rr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Cu(n)||Nu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var un=0,H=null,ie=null,xe=null,or=!1,rl=!1,bi=!1,cr=0,As=0,ol=null,F1=0;function ye(){throw Error(x(321))}function Nf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0}function Af(e,t,n,i,l,s){return un=s,H=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?A0:Bf,bi=!1,s=n(i,l),bi=!1,rl&&(s=Jg(t,n,i,l)),Wg(e),s}function Wg(e){I.H=Rs;var t=ie!==null&&ie.next!==null;if(un=0,xe=ie=H=null,or=!1,As=0,ol=null,t)throw Error(x(300));e===null||Ee||(e=e.dependencies,e!==null&&lr(e)&&(Ee=!0))}function Jg(e,t,n,i){H=e;var l=0;do{if(rl&&(ol=null),As=0,rl=!1,25<=l)throw Error(x(301));if(l+=1,xe=ie=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}I.H=R0,s=t(n,i)}while(rl);return s}function Q1(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?Js(t):t,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(H.flags|=1024),t}function Rf(){var e=cr!==0;return cr=0,e}function Mf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Df(e){if(or){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}or=!1}un=0,xe=ie=H=null,rl=!1,As=cr=0,ol=null}function qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?H.memoizedState=xe=e:xe=xe.next=e,xe}function be(){if(ie===null){var e=H.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=xe===null?H.memoizedState:xe.next;if(t!==null)xe=t,ie=e;else{if(e===null)throw H.alternate===null?Error(x(467)):Error(x(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},xe===null?H.memoizedState=xe=e:xe=xe.next=e}return xe}function to(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Js(e){var t=As;return As+=1,ol===null&&(ol=[]),e=Qg(ol,e,t),t=H,(xe===null?t.memoizedState:xe.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?A0:Bf),e}function no(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Js(e);if(e.$$typeof===Jt)return Ue(e)}throw Error(x(438,String(e)))}function Of(e){var t=null,n=H.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=H.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=to(),H.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Db;return t.index++,n}function fn(e,t){return typeof t=="function"?t(e):t}function Ha(e){var t=be();return jf(t,ie,e)}function jf(e,t,n){var i=e.queue;if(i===null)throw Error(x(311));i.lastRenderedReducer=n;var l=e.baseQueue,s=i.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}t.baseQueue=l=s,i.pending=null}if(s=e.baseState,l===null)e.memoizedState=s;else{t=l.next;var r=a=null,o=null,c=t,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(K&f)===f:(un&f)===f){var d=c.revertLane;if(d===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===ml&&(h=!0);else if((un&d)===d){c=c.next,d===ml&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(r=o=f,a=s):o=o.next=f,H.lanes|=d,Xn|=d;f=c.action,bi&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else d={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(r=o=d,a=s):o=o.next=d,H.lanes|=f,Xn|=f;c=c.next}while(c!==null&&c!==t);if(o===null?a=s:o.next=r,!mt(s,e.memoizedState)&&(Ee=!0,h&&(n=sl,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=o,i.lastRenderedState=s}return l===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Zo(e){var t=be(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);mt(s,t.memoizedState)||(Ee=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function e0(e,t,n){var i=H,l=be(),s=X;if(s){if(n===void 0)throw Error(x(407));n=n()}else n=t();var a=!mt((ie||l).memoizedState,n);if(a&&(l.memoizedState=n,Ee=!0),l=l.queue,kf(i0.bind(null,i,l,e),[e]),l.getSnapshot!==t||a||xe!==null&&xe.memoizedState.tag&1){if(i.flags|=2048,gl(9,{destroy:void 0},n0.bind(null,i,l,n,t),null),le===null)throw Error(x(349));s||un&127||t0(i,t,n)}return n}function t0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=H.updateQueue,t===null?(t=to(),H.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function n0(e,t,n,i){t.value=n,t.getSnapshot=i,l0(t)&&s0(e)}function i0(e,t,n){return n(function(){l0(t)&&s0(e)})}function l0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mt(e,n)}catch{return!0}}function s0(e){var t=Di(e,2);t!==null&&We(t,e,2)}function ou(e){var t=qe();if(typeof e=="function"){var n=e;if(e=n(),bi){Nn(!0);try{n()}finally{Nn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},t}function a0(e,t,n,i){return e.baseState=n,jf(e,ie,typeof i=="function"?i:fn)}function K1(e,t,n,i,l){if(lo(e))throw Error(x(485));if(e=t.action,e!==null){var s={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};I.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,r0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function r0(e,t){var n=t.action,i=t.payload,l=e.state;if(t.isTransition){var s=I.T,a={};I.T=a;try{var r=n(l,i),o=I.S;o!==null&&o(a,r),Nh(e,t,r)}catch(c){cu(e,t,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),I.T=s}}else try{s=n(l,i),Nh(e,t,s)}catch(c){cu(e,t,c)}}function Nh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ah(e,t,i)},function(i){return cu(e,t,i)}):Ah(e,t,n)}function Ah(e,t,n){t.status="fulfilled",t.value=n,o0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,r0(e,n)))}function cu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,o0(t),t=t.next;while(t!==i)}e.action=null}function o0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function c0(e,t){return t}function Rh(e,t){if(X){var n=le.formState;if(n!==null){e:{var i=H;if(X){if(de){t:{for(var l=de,s=St;l.nodeType!==8;){if(!s){l=null;break t}if(l=Et(l.nextSibling),l===null){l=null;break t}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){de=Et(l.nextSibling),i=l.data==="F!";break e}}Qn(i)}i=!1}i&&(t=n[0])}}return n=qe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c0,lastRenderedState:t},n.queue=i,n=T0.bind(null,H,i),i.dispatch=n,i=ou(!1),s=Uf.bind(null,H,!1,i.queue),i=qe(),l={state:t,dispatch:null,action:e,pending:null},i.queue=l,n=K1.bind(null,H,l,s,n),l.dispatch=n,i.memoizedState=e,[t,n,!1]}function Mh(e){var t=be();return u0(t,ie,e)}function u0(e,t,n){if(t=jf(e,t,c0)[0],e=Ha(fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Js(t)}catch(a){throw a===Ml?eo:a}else i=t;t=be();var l=t.queue,s=l.dispatch;return n!==t.memoizedState&&(H.flags|=2048,gl(9,{destroy:void 0},X1.bind(null,l,n),null)),[i,s,e]}function X1(e,t){e.action=t}function Dh(e){var t=be(),n=ie;if(n!==null)return u0(t,n,e);be(),t=t.memoizedState,n=be();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function gl(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=H.updateQueue,t===null&&(t=to(),H.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function f0(){return be().memoizedState}function qa(e,t,n,i){var l=qe();H.flags|=e,l.memoizedState=gl(1|t,{destroy:void 0},n,i===void 0?null:i)}function io(e,t,n,i){var l=be();i=i===void 0?null:i;var s=l.memoizedState.inst;ie!==null&&i!==null&&Nf(i,ie.memoizedState.deps)?l.memoizedState=gl(t,s,n,i):(H.flags|=e,l.memoizedState=gl(1|t,s,n,i))}function Oh(e,t){qa(8390656,8,e,t)}function kf(e,t){io(2048,8,e,t)}function Z1(e){H.flags|=4;var t=H.updateQueue;if(t===null)t=to(),H.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function d0(e){var t=be().memoizedState;return Z1({ref:t,nextImpl:e}),function(){if(W&2)throw Error(x(440));return t.impl.apply(void 0,arguments)}}function h0(e,t){return io(4,2,e,t)}function m0(e,t){return io(4,4,e,t)}function p0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function g0(e,t,n){n=n!=null?n.concat([e]):null,io(4,4,p0.bind(null,t,e),n)}function zf(){}function y0(e,t){var n=be();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Nf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function _0(e,t){var n=be();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Nf(t,i[1]))return i[0];if(i=e(),bi){Nn(!0);try{e()}finally{Nn(!1)}}return n.memoizedState=[i,t],i}function Lf(e,t,n){return n===void 0||un&1073741824&&!(K&261930)?e.memoizedState=t:(e.memoizedState=n,e=ay(),H.lanes|=e,Xn|=e,n)}function v0(e,t,n,i){return mt(n,t)?n:pl.current!==null?(e=Lf(e,n,i),mt(e,t)||(Ee=!0),e):!(un&42)||un&1073741824&&!(K&261930)?(Ee=!0,e.memoizedState=n):(e=ay(),H.lanes|=e,Xn|=e,t)}function b0(e,t,n,i,l){var s=J.p;J.p=s!==0&&8>s?s:8;var a=I.T,r={};I.T=r,Uf(e,!1,t,n);try{var o=l(),c=I.S;if(c!==null&&c(r,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=Y1(o,i);cs(e,t,h,ht(e))}else cs(e,t,i,ht(e))}catch(f){cs(e,t,{then:function(){},status:"rejected",reason:f},ht())}finally{J.p=s,a!==null&&r.types!==null&&(a.types=r.types),I.T=a}}function P1(){}function uu(e,t,n,i){if(e.tag!==5)throw Error(x(476));var l=x0(e).queue;b0(e,l,t,di,n===null?P1:function(){return S0(e),n(i)})}function x0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:di,baseState:di,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:di},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function S0(e){var t=x0(e);t.next===null&&(t=e.alternate.memoizedState),cs(e,t.next.queue,{},ht())}function If(){return Ue(Os)}function w0(){return be().memoizedState}function E0(){return be().memoizedState}function $1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ht();e=kn(n);var i=zn(t,e,n);i!==null&&(We(i,t,n),as(i,t,n)),t={cache:Sf()},e.payload=t;return}t=t.return}}function W1(e,t,n){var i=ht();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},lo(e)?C0(t,n):(n=_f(e,t,n,i),n!==null&&(We(n,e,i),N0(n,t,i)))}function T0(e,t,n){var i=ht();cs(e,t,n,i)}function cs(e,t,n,i){var l={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(lo(e))C0(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,r=s(a,n);if(l.hasEagerState=!0,l.eagerState=r,mt(r,a))return Jr(e,t,l,0),le===null&&Wr(),!1}catch{}finally{}if(n=_f(e,t,l,i),n!==null)return We(n,e,i),N0(n,t,i),!0}return!1}function Uf(e,t,n,i){if(i={lane:2,revertLane:Kf(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},lo(e)){if(t)throw Error(x(479))}else t=_f(e,n,i,2),t!==null&&We(t,e,2)}function lo(e){var t=e.alternate;return e===H||t!==null&&t===H}function C0(e,t){rl=or=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function N0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,dg(e,n)}}var Rs={readContext:Ue,use:no,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Rs.useEffectEvent=ye;var A0={readContext:Ue,use:no,useCallback:function(e,t){return qe().memoizedState=[e,t===void 0?null:t],e},useContext:Ue,useEffect:Oh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,qa(4194308,4,p0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qa(4194308,4,e,t)},useInsertionEffect:function(e,t){qa(4,2,e,t)},useMemo:function(e,t){var n=qe();t=t===void 0?null:t;var i=e();if(bi){Nn(!0);try{e()}finally{Nn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=qe();if(n!==void 0){var l=n(t);if(bi){Nn(!0);try{n(t)}finally{Nn(!1)}}}else l=t;return i.memoizedState=i.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},i.queue=e,e=e.dispatch=W1.bind(null,H,e),[i.memoizedState,e]},useRef:function(e){var t=qe();return e={current:e},t.memoizedState=e},useState:function(e){e=ou(e);var t=e.queue,n=T0.bind(null,H,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:zf,useDeferredValue:function(e,t){var n=qe();return Lf(n,e,t)},useTransition:function(){var e=ou(!1);return e=b0.bind(null,H,e.queue,!0,!1),qe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=H,l=qe();if(X){if(n===void 0)throw Error(x(407));n=n()}else{if(n=t(),le===null)throw Error(x(349));K&127||t0(i,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Oh(i0.bind(null,i,s,e),[e]),i.flags|=2048,gl(9,{destroy:void 0},n0.bind(null,i,s,n,t),null),n},useId:function(){var e=qe(),t=le.identifierPrefix;if(X){var n=Lt,i=zt;n=(i&~(1<<32-dt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=cr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=F1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:If,useFormState:Rh,useActionState:Rh,useOptimistic:function(e){var t=qe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Uf.bind(null,H,!0,n),n.dispatch=t,[e,t]},useMemoCache:Of,useCacheRefresh:function(){return qe().memoizedState=$1.bind(null,H)},useEffectEvent:function(e){var t=qe(),n={impl:e};return t.memoizedState=n,function(){if(W&2)throw Error(x(440));return n.impl.apply(void 0,arguments)}}},Bf={readContext:Ue,use:no,useCallback:y0,useContext:Ue,useEffect:kf,useImperativeHandle:g0,useInsertionEffect:h0,useLayoutEffect:m0,useMemo:_0,useReducer:Ha,useRef:f0,useState:function(){return Ha(fn)},useDebugValue:zf,useDeferredValue:function(e,t){var n=be();return v0(n,ie.memoizedState,e,t)},useTransition:function(){var e=Ha(fn)[0],t=be().memoizedState;return[typeof e=="boolean"?e:Js(e),t]},useSyncExternalStore:e0,useId:w0,useHostTransitionStatus:If,useFormState:Mh,useActionState:Mh,useOptimistic:function(e,t){var n=be();return a0(n,ie,e,t)},useMemoCache:Of,useCacheRefresh:E0};Bf.useEffectEvent=d0;var R0={readContext:Ue,use:no,useCallback:y0,useContext:Ue,useEffect:kf,useImperativeHandle:g0,useInsertionEffect:h0,useLayoutEffect:m0,useMemo:_0,useReducer:Zo,useRef:f0,useState:function(){return Zo(fn)},useDebugValue:zf,useDeferredValue:function(e,t){var n=be();return ie===null?Lf(n,e,t):v0(n,ie.memoizedState,e,t)},useTransition:function(){var e=Zo(fn)[0],t=be().memoizedState;return[typeof e=="boolean"?e:Js(e),t]},useSyncExternalStore:e0,useId:w0,useHostTransitionStatus:If,useFormState:Dh,useActionState:Dh,useOptimistic:function(e,t){var n=be();return ie!==null?a0(n,ie,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Of,useCacheRefresh:E0};R0.useEffectEvent=d0;function Po(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fu={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ht(),l=kn(i);l.payload=t,n!=null&&(l.callback=n),t=zn(e,l,i),t!==null&&(We(t,e,i),as(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ht(),l=kn(i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=zn(e,l,i),t!==null&&(We(t,e,i),as(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),i=kn(n);i.tag=2,t!=null&&(i.callback=t),t=zn(e,i,n),t!==null&&(We(t,e,n),as(t,e,n))}};function jh(e,t,n,i,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Es(n,i)||!Es(l,s):!0}function kh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&fu.enqueueReplaceState(t,t.state,null)}function xi(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=me({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function M0(e){tr(e)}function D0(e){console.error(e)}function O0(e){tr(e)}function ur(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function zh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function du(e,t,n){return n=kn(n),n.tag=3,n.payload={element:null},n.callback=function(){ur(e,t)},n}function j0(e){return e=kn(e),e.tag=3,e}function k0(e,t,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=i.value;e.payload=function(){return l(s)},e.callback=function(){zh(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){zh(t,n,i),typeof l!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function J1(e,t,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Rl(t,n,l,!0),n=pt.current,n!==null){switch(n.tag){case 31:case 13:return wt===null?pr():n.alternate===null&&_e===0&&(_e=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===sr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),rc(e,i,l)),!1;case 22:return n.flags|=65536,i===sr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),rc(e,i,l)),!1}throw Error(x(435,n.tag))}return rc(e,i,l),pr(),!1}if(X)return t=pt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,i!==Jc&&(e=Error(x(422),{cause:i}),Cs(xt(e,n)))):(i!==Jc&&(t=Error(x(423),{cause:i}),Cs(xt(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,i=xt(i,n),l=du(e.stateNode,i,l),Xo(e,l),_e!==4&&(_e=2)),!1;var s=Error(x(520),{cause:i});if(s=xt(s,n),ds===null?ds=[s]:ds.push(s),_e!==4&&(_e=2),t===null)return!0;i=xt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=du(n.stateNode,i,e),Xo(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ln===null||!Ln.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=j0(l),k0(l,e,n,i),Xo(n,l),!1}n=n.return}while(n!==null);return!1}var Hf=Error(x(461)),Ee=!1;function ze(e,t,n,i){t.child=e===null?Xg(t,null,n,i):vi(t,e.child,n,i)}function Lh(e,t,n,i,l){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}else a=i;return _i(t),i=Af(e,t,n,a,s,l),r=Rf(),e!==null&&!Ee?(Mf(e,t,l),dn(e,t,l)):(X&&r&&bf(t),t.flags|=1,ze(e,t,i,l),t.child)}function Ih(e,t,n,i,l){if(e===null){var s=n.type;return typeof s=="function"&&!vf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,z0(e,t,s,i,l)):(e=Ua(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!qf(e,l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Es,n(a,i)&&e.ref===t.ref)return dn(e,t,l)}return t.flags|=1,e=ln(s,i),e.ref=t.ref,e.return=t,t.child=e}function z0(e,t,n,i,l){if(e!==null){var s=e.memoizedProps;if(Es(s,i)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=i=s,qf(e,l))e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,dn(e,t,l)}return hu(e,t,n,i,l)}function L0(e,t,n,i){var l=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;i=l&~s}else i=0,t.child=null;return Uh(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ba(t,s!==null?s.cachePool:null),s!==null?Ch(t,s):au(),$g(t);else return i=t.lanes=536870912,Uh(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Ba(t,s.cachePool),Ch(t,s),Tn(),t.memoizedState=null):(e!==null&&Ba(t,null),au(),Tn());return ze(e,t,l,n),t.child}function Wl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uh(e,t,n,i,l){var s=wf();return s=s===null?null:{parent:we._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Ba(t,null),au(),$g(t),e!==null&&Rl(e,t,i,!0),t.childLanes=l,null}function Va(e,t){return t=fr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Bh(e,t,n){return vi(t,e.child,null,n),e=Va(t,t.pendingProps),e.flags|=2,rt(t),t.memoizedState=null,e}function ex(e,t,n){var i=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(X){if(i.mode==="hidden")return e=Va(t,i),t.lanes=536870912,Wl(null,e);if(ru(t),(e=de)?(e=Ay(e,St),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Fn!==null?{id:zt,overflow:Lt}:null,retryLane:536870912,hydrationErrors:null},n=qg(e),n.return=t,t.child=n,Ie=t,de=null)):e=null,e===null)throw Qn(t);return t.lanes=536870912,null}return Va(t,i)}var s=e.memoizedState;if(s!==null){var a=s.dehydrated;if(ru(t),l)if(t.flags&256)t.flags&=-257,t=Bh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(x(558));else if(Ee||Rl(e,t,n,!1),l=(n&e.childLanes)!==0,Ee||l){if(i=le,i!==null&&(a=hg(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Di(e,a),We(i,e,a),Hf;pr(),t=Bh(e,t,n)}else e=s.treeContext,de=Et(a.nextSibling),Ie=t,X=!0,jn=null,St=!1,e!==null&&Gg(t,e),t=Va(t,i),t.flags|=4096;return t}return e=ln(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ga(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(x(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function hu(e,t,n,i,l){return _i(t),n=Af(e,t,n,i,void 0,l),i=Rf(),e!==null&&!Ee?(Mf(e,t,l),dn(e,t,l)):(X&&i&&bf(t),t.flags|=1,ze(e,t,n,l),t.child)}function Hh(e,t,n,i,l,s){return _i(t),t.updateQueue=null,n=Jg(t,i,n,l),Wg(e),i=Rf(),e!==null&&!Ee?(Mf(e,t,s),dn(e,t,s)):(X&&i&&bf(t),t.flags|=1,ze(e,t,n,s),t.child)}function qh(e,t,n,i,l){if(_i(t),t.stateNode===null){var s=$i,a=n.contextType;typeof a=="object"&&a!==null&&(s=Ue(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=fu,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Tf(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Ue(a):$i,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Po(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&fu.enqueueReplaceState(s,s.state,null),os(t,i,s,l),rs(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var r=t.memoizedProps,o=xi(n,r);s.props=o;var c=s.context,h=n.contextType;a=$i,typeof h=="object"&&h!==null&&(a=Ue(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r||c!==a)&&kh(t,s,i,a),Sn=!1;var d=t.memoizedState;s.state=d,os(t,i,s,l),rs(),c=t.memoizedState,r||d!==c||Sn?(typeof f=="function"&&(Po(t,n,f,i),c=t.memoizedState),(o=Sn||jh(t,n,o,i,d,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=a,i=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,lu(e,t),a=t.memoizedProps,h=xi(n,a),s.props=h,f=t.pendingProps,d=s.context,c=n.contextType,o=$i,typeof c=="object"&&c!==null&&(o=Ue(c)),r=n.getDerivedStateFromProps,(c=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==o)&&kh(t,s,i,o),Sn=!1,d=t.memoizedState,s.state=d,os(t,i,s,l),rs();var m=t.memoizedState;a!==f||d!==m||Sn||e!==null&&e.dependencies!==null&&lr(e.dependencies)?(typeof r=="function"&&(Po(t,n,r,i),m=t.memoizedState),(h=Sn||jh(t,n,h,i,d,m,o)||e!==null&&e.dependencies!==null&&lr(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),s.props=i,s.state=m,s.context=o,i=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Ga(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=vi(t,e.child,null,l),t.child=vi(t,null,n,l)):ze(e,t,n,l),t.memoizedState=s.state,e=t.child):e=dn(e,t,l),e}function Vh(e,t,n,i){return yi(),t.flags|=256,ze(e,t,n,i),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wo(e){return{baseLanes:e,cachePool:Fg()}}function Jo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ct),e}function I0(e,t,n){var i=t.pendingProps,l=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),a&&(l=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(X){if(l?En(t):Tn(),(e=de)?(e=Ay(e,St),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Fn!==null?{id:zt,overflow:Lt}:null,retryLane:536870912,hydrationErrors:null},n=qg(e),n.return=t,t.child=n,Ie=t,de=null)):e=null,e===null)throw Qn(t);return Nu(e)?t.lanes=32:t.lanes=536870912,null}var r=i.children;return i=i.fallback,l?(Tn(),l=t.mode,r=fr({mode:"hidden",children:r},l),i=hi(i,l,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i=t.child,i.memoizedState=Wo(n),i.childLanes=Jo(e,a,n),t.memoizedState=$o,Wl(null,i)):(En(t),mu(t,r))}var o=e.memoizedState;if(o!==null&&(r=o.dehydrated,r!==null)){if(s)t.flags&256?(En(t),t.flags&=-257,t=ec(e,t,n)):t.memoizedState!==null?(Tn(),t.child=e.child,t.flags|=128,t=null):(Tn(),r=i.fallback,l=t.mode,i=fr({mode:"visible",children:i.children},l),r=hi(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,vi(t,e.child,null,n),i=t.child,i.memoizedState=Wo(n),i.childLanes=Jo(e,a,n),t.memoizedState=$o,t=Wl(null,i));else if(En(t),Nu(r)){if(a=r.nextSibling&&r.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(x(419)),i.stack="",i.digest=a,Cs({value:i,source:null,stack:null}),t=ec(e,t,n)}else if(Ee||Rl(e,t,n,!1),a=(n&e.childLanes)!==0,Ee||a){if(a=le,a!==null&&(i=hg(a,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,Di(e,i),We(a,e,i),Hf;Cu(r)||pr(),t=ec(e,t,n)}else Cu(r)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,de=Et(r.nextSibling),Ie=t,X=!0,jn=null,St=!1,e!==null&&Gg(t,e),t=mu(t,i.children),t.flags|=4096);return t}return l?(Tn(),r=i.fallback,l=t.mode,o=e.child,c=o.sibling,i=ln(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,c!==null?r=ln(c,r):(r=hi(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,Wl(null,i),i=t.child,r=e.child.memoizedState,r===null?r=Wo(n):(l=r.cachePool,l!==null?(o=we._currentValue,l=l.parent!==o?{parent:o,pool:o}:l):l=Fg(),r={baseLanes:r.baseLanes|n,cachePool:l}),i.memoizedState=r,i.childLanes=Jo(e,a,n),t.memoizedState=$o,Wl(e.child,i)):(En(t),n=e.child,e=n.sibling,n=ln(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function mu(e,t){return t=fr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fr(e,t){return e=ot(22,e,null,t),e.lanes=0,e}function ec(e,t,n){return vi(t,e.child,null,n),e=mu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),tu(e.return,t,n)}function tc(e,t,n,i,l,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=l,a.treeForkCount=s)}function U0(e,t,n){var i=t.pendingProps,l=i.revealOrder,s=i.tail;i=i.children;var a=ve.current,r=(a&2)!==0;if(r?(a=a&1|2,t.flags|=128):a&=1,ce(ve,a),ze(e,t,i,n),i=X?Ts:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gh(e,n,t);else if(e.tag===19)Gh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&rr(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),tc(t,!1,l,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&rr(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}tc(t,!0,n,null,s,i);break;case"together":tc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,!(n&t.childLanes))if(e!==null){if(Rl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(x(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&lr(e)))}function tx(e,t,n){switch(t.tag){case 3:$a(t,t.stateNode.containerInfo),wn(t,we,e.memoizedState.cache),yi();break;case 27:case 5:Vc(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ru(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(En(t),t.flags|=128,null):n&t.child.childLanes?I0(e,t,n):(En(t),e=dn(e,t,n),e!==null?e.sibling:null);En(t);break;case 19:var l=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Rl(e,t,n,!1),i=(n&t.childLanes)!==0),l){if(i)return U0(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ce(ve,ve.current),i)break;return null;case 22:return t.lanes=0,L0(e,t,n,t.pendingProps);case 24:wn(t,we,e.memoizedState.cache)}return dn(e,t,n)}function B0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ee=!0;else{if(!qf(e,n)&&!(t.flags&128))return Ee=!1,tx(e,t,n);Ee=!!(e.flags&131072)}else Ee=!1,X&&t.flags&1048576&&Vg(t,Ts,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=si(t.elementType),t.type=e,typeof e=="function")vf(e)?(i=xi(e,i),t.tag=1,t=qh(null,t,e,i,n)):(t.tag=0,t=hu(null,t,e,i,n));else{if(e!=null){var l=e.$$typeof;if(l===sf){t.tag=11,t=Lh(null,t,e,i,n);break e}else if(l===af){t.tag=14,t=Ih(null,t,e,i,n);break e}}throw t=Hc(e)||e,Error(x(306,t,""))}}return t;case 0:return hu(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,l=xi(i,t.pendingProps),qh(e,t,i,l,n);case 3:e:{if($a(t,t.stateNode.containerInfo),e===null)throw Error(x(387));i=t.pendingProps;var s=t.memoizedState;l=s.element,lu(e,t),os(t,i,null,n);var a=t.memoizedState;if(i=a.cache,wn(t,we,i),i!==s.cache&&nu(t,[we],n,!0),rs(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Vh(e,t,i,n);break e}else if(i!==l){l=xt(Error(x(424)),t),Cs(l),t=Vh(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=Et(e.firstChild),Ie=t,X=!0,jn=null,St=!0,n=Xg(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(yi(),i===l){t=dn(e,t,n);break e}ze(e,t,i,n)}t=t.child}return t;case 26:return Ga(e,t),e===null?(n=cm(t.type,null,t.pendingProps,null))?t.memoizedState=n:X||(n=t.type,e=t.pendingProps,i=vr(On.current).createElement(n),i[Le]=t,i[tt]=e,Be(i,n,e),je(i),t.stateNode=i):t.memoizedState=cm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vc(t),e===null&&X&&(i=t.stateNode=Ry(t.type,t.pendingProps,On.current),Ie=t,St=!0,l=de,ei(t.type)?(Au=l,de=Et(i.firstChild)):de=l),ze(e,t,t.pendingProps.children,n),Ga(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&X&&((l=i=de)&&(i=Dx(i,t.type,t.pendingProps,St),i!==null?(t.stateNode=i,Ie=t,de=Et(i.firstChild),St=!1,l=!0):l=!1),l||Qn(t)),Vc(t),l=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Eu(l,s)?i=null:a!==null&&Eu(l,a)&&(t.flags|=32),t.memoizedState!==null&&(l=Af(e,t,Q1,null,null,n),Os._currentValue=l),Ga(e,t),ze(e,t,i,n),t.child;case 6:return e===null&&X&&((e=n=de)&&(n=Ox(n,t.pendingProps,St),n!==null?(t.stateNode=n,Ie=t,de=null,e=!0):e=!1),e||Qn(t)),null;case 13:return I0(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=vi(t,null,i,n):ze(e,t,i,n),t.child;case 11:return Lh(e,t,t.type,t.pendingProps,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,wn(t,t.type,i.value),ze(e,t,i.children,n),t.child;case 9:return l=t.type._context,i=t.pendingProps.children,_i(t),l=Ue(l),i=i(l),t.flags|=1,ze(e,t,i,n),t.child;case 14:return Ih(e,t,t.type,t.pendingProps,n);case 15:return z0(e,t,t.type,t.pendingProps,n);case 19:return U0(e,t,n);case 31:return ex(e,t,n);case 22:return L0(e,t,n,t.pendingProps);case 24:return _i(t),i=Ue(we),e===null?(l=wf(),l===null&&(l=le,s=Sf(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),t.memoizedState={parent:i,cache:l},Tf(t),wn(t,we,l)):(e.lanes&n&&(lu(e,t),os(t,null,null,n),rs()),l=e.memoizedState,s=t.memoizedState,l.parent!==i?(l={parent:i,cache:i},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),wn(t,we,i)):(i=s.cache,wn(t,we,i),i!==l.cache&&nu(t,[we],n,!0))),ze(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(x(156,t.tag))}function Ft(e){e.flags|=4}function nc(e,t,n,i,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(cy())e.flags|=8192;else throw pi=sr,Ef}else e.flags&=-16777217}function Yh(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Oy(t))if(cy())e.flags|=8192;else throw pi=sr,Ef}function wa(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ug():536870912,e.lanes|=t,yl|=t)}function Vl(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function nx(e,t,n){var i=t.pendingProps;switch(xf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(t),null;case 1:return ue(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),sn(we),fl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zi(t)?Ft(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ko())),ue(t),null;case 26:var l=t.type,s=t.memoizedState;return e===null?(Ft(t),s!==null?(ue(t),Yh(t,s)):(ue(t),nc(t,l,null,i,n))):s?s!==e.memoizedState?(Ft(t),ue(t),Yh(t,s)):(ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Ft(t),ue(t),nc(t,l,e,i,n)),null;case 27:if(Wa(t),n=On.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ft(t);else{if(!i){if(t.stateNode===null)throw Error(x(166));return ue(t),null}e=Ut.current,zi(t)?vh(t):(e=Ry(l,i,n),t.stateNode=e,Ft(t))}return ue(t),null;case 5:if(Wa(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ft(t);else{if(!i){if(t.stateNode===null)throw Error(x(166));return ue(t),null}if(s=Ut.current,zi(t))vh(t);else{var a=vr(On.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(l,{is:i.is}):a.createElement(l)}}s[Le]=t,s[tt]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(Be(s,l,i),l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ft(t)}}return ue(t),nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ft(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(x(166));if(e=On.current,zi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,l=Ie,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}e[Le]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Ty(e.nodeValue,n)),e||Qn(t,!0)}else e=vr(e).createTextNode(i),e[Le]=t,t.stateNode=e}return ue(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=zi(t),n!==null){if(e===null){if(!i)throw Error(x(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(557));e[Le]=t}else yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ue(t),e=!1}else n=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(rt(t),t):(rt(t),null);if(t.flags&128)throw Error(x(558))}return ue(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=zi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(x(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(x(317));l[Le]=t}else yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ue(t),l=!1}else l=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(rt(t),t):(rt(t),null)}return rt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),wa(t,t.updateQueue),ue(t),null);case 4:return fl(),e===null&&Xf(t.stateNode.containerInfo),ue(t),null;case 10:return sn(t.type),ue(t),null;case 19:if(ke(ve),i=t.memoizedState,i===null)return ue(t),null;if(l=(t.flags&128)!==0,s=i.rendering,s===null)if(l)Vl(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=rr(e),s!==null){for(t.flags|=128,Vl(i,!1),e=s.updateQueue,t.updateQueue=e,wa(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Hg(n,e),n=n.sibling;return ce(ve,ve.current&1|2),X&&Pt(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ut()>hr&&(t.flags|=128,l=!0,Vl(i,!1),t.lanes=4194304)}else{if(!l)if(e=rr(s),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,wa(t,e),Vl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!X)return ue(t),null}else 2*ut()-i.renderingStartTime>hr&&n!==536870912&&(t.flags|=128,l=!0,Vl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=ve.current,ce(ve,l?n&1|2:n&1),X&&Pt(t,i.treeForkCount),e):(ue(t),null);case 22:case 23:return rt(t),Cf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(ue(t),t.subtreeFlags&6&&(t.flags|=8192)):ue(t),n=t.updateQueue,n!==null&&wa(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ke(mi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sn(we),ue(t),null;case 25:return null;case 30:return null}throw Error(x(156,t.tag))}function ix(e,t){switch(xf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sn(we),fl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Wa(t),null;case 31:if(t.memoizedState!==null){if(rt(t),t.alternate===null)throw Error(x(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(x(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(ve),null;case 4:return fl(),null;case 10:return sn(t.type),null;case 22:case 23:return rt(t),Cf(),e!==null&&ke(mi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sn(we),null;case 25:return null;default:return null}}function H0(e,t){switch(xf(t),t.tag){case 3:sn(we),fl();break;case 26:case 27:case 5:Wa(t);break;case 4:fl();break;case 31:t.memoizedState!==null&&rt(t);break;case 13:rt(t);break;case 19:ke(ve);break;case 10:sn(t.type);break;case 22:case 23:rt(t),Cf(),e!==null&&ke(mi);break;case 24:sn(we)}}function ea(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==l)}}catch(r){te(t,t.return,r)}}function Kn(e,t,n){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var s=l.next;i=s;do{if((i.tag&e)===e){var a=i.inst,r=a.destroy;if(r!==void 0){a.destroy=void 0,l=t;var o=n,c=r;try{c()}catch(h){te(l,o,h)}}}i=i.next}while(i!==s)}}catch(h){te(t,t.return,h)}}function q0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Pg(t,n)}catch(i){te(e,e.return,i)}}}function V0(e,t,n){n.props=xi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){te(e,t,i)}}function us(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(l){te(e,t,l)}}function It(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){te(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){te(e,t,l)}else n.current=null}function G0(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){te(e,e.return,l)}}function ic(e,t,n){try{var i=e.stateNode;Tx(i,e.type,n,t),i[tt]=t}catch(l){te(e,e.return,l)}}function Y0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ei(e.type)||e.tag===4}function lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Y0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ei(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=en));else if(i!==4&&(i===27&&ei(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(pu(e,t,n),e=e.sibling;e!==null;)pu(e,t,n),e=e.sibling}function dr(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&ei(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(dr(e,t,n),e=e.sibling;e!==null;)dr(e,t,n),e=e.sibling}function F0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Be(t,i,n),t[Le]=e,t[tt]=n}catch(s){te(e,e.return,s)}}var $t=!1,Se=!1,sc=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,De=null;function lx(e,t){if(e=e.containerInfo,Su=wr,e=Og(e),gf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,r=-1,o=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var m;f!==n||l!==0&&f.nodeType!==3||(r=a+l),f!==s||i!==0&&f.nodeType!==3||(o=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++c===l&&(r=a),d===s&&++h===i&&(o=a),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=r===-1||o===-1?null:{start:r,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(wu={focusedElem:e,selectionRange:n},wr=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){switch(t=De,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,l=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var _=xi(n.type,l);e=i.getSnapshotBeforeUpdate(_,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(b){te(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Tu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(x(163))}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}}function Q0(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Kt(e,n),i&4&&ea(5,n);break;case 1:if(Kt(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){te(n,n.return,a)}else{var l=xi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){te(n,n.return,a)}}i&64&&q0(n),i&512&&us(n,n.return);break;case 3:if(Kt(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Pg(e,t)}catch(a){te(n,n.return,a)}}break;case 27:t===null&&i&4&&F0(n);case 26:case 5:Kt(e,n),t===null&&i&4&&G0(n),i&512&&us(n,n.return);break;case 12:Kt(e,n);break;case 31:Kt(e,n),i&4&&Z0(e,n);break;case 13:Kt(e,n),i&4&&P0(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=hx.bind(null,n),jx(e,n))));break;case 22:if(i=n.memoizedState!==null||$t,!i){t=t!==null&&t.memoizedState!==null||Se,l=$t;var s=Se;$t=i,(Se=t)&&!s?Xt(e,n,(n.subtreeFlags&8772)!==0):Kt(e,n),$t=l,Se=s}break;case 30:break;default:Kt(e,n)}}function K0(e){var t=e.alternate;t!==null&&(e.alternate=null,K0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&uf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,Ze=!1;function Qt(e,t,n){for(n=n.child;n!==null;)X0(e,t,n),n=n.sibling}function X0(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ks,n)}catch{}switch(n.tag){case 26:Se||It(n,t),Qt(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Se||It(n,t);var i=pe,l=Ze;ei(n.type)&&(pe=n.stateNode,Ze=!1),Qt(e,t,n),ms(n.stateNode),pe=i,Ze=l;break;case 5:Se||It(n,t);case 6:if(i=pe,l=Ze,pe=null,Qt(e,t,n),pe=i,Ze=l,pe!==null)if(Ze)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(n.stateNode)}catch(s){te(n,t,s)}else try{pe.removeChild(n.stateNode)}catch(s){te(n,t,s)}break;case 18:pe!==null&&(Ze?(e=pe,lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),xl(e)):lm(pe,n.stateNode));break;case 4:i=pe,l=Ze,pe=n.stateNode.containerInfo,Ze=!0,Qt(e,t,n),pe=i,Ze=l;break;case 0:case 11:case 14:case 15:Kn(2,n,t),Se||Kn(4,n,t),Qt(e,t,n);break;case 1:Se||(It(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&V0(n,t,i)),Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:Se=(i=Se)||n.memoizedState!==null,Qt(e,t,n),Se=i;break;default:Qt(e,t,n)}}function Z0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xl(e)}catch(n){te(t,t.return,n)}}}function P0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xl(e)}catch(n){te(t,t.return,n)}}function sx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fh),t;default:throw Error(x(435,e.tag))}}function Ea(e,t){var n=sx(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var l=mx.bind(null,e,i);i.then(l,l)}})}function Ke(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],s=e,a=t,r=a;e:for(;r!==null;){switch(r.tag){case 27:if(ei(r.type)){pe=r.stateNode,Ze=!1;break e}break;case 5:pe=r.stateNode,Ze=!1;break e;case 3:case 4:pe=r.stateNode.containerInfo,Ze=!0;break e}r=r.return}if(pe===null)throw Error(x(160));X0(s,a,l),pe=null,Ze=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$0(t,e),t=t.sibling}var Nt=null;function $0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ke(t,e),Xe(e),i&4&&(Kn(3,e,e.return),ea(3,e),Kn(5,e,e.return));break;case 1:Ke(t,e),Xe(e),i&512&&(Se||n===null||It(n,n.return)),i&64&&$t&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=Nt;if(Ke(t,e),Xe(e),i&512&&(Se||n===null||It(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":s=l.getElementsByTagName("title")[0],(!s||s[Ps]||s[Le]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(i),l.head.insertBefore(s,l.querySelector("head > title"))),Be(s,i,n),s[Le]=e,je(s),i=s;break e;case"link":var a=fm("link","href",l).get(i+(n.href||""));if(a){for(var r=0;r<a.length;r++)if(s=a[r],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(r,1);break t}}s=l.createElement(i),Be(s,i,n),l.head.appendChild(s);break;case"meta":if(a=fm("meta","content",l).get(i+(n.content||""))){for(r=0;r<a.length;r++)if(s=a[r],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(r,1);break t}}s=l.createElement(i),Be(s,i,n),l.head.appendChild(s);break;default:throw Error(x(468,i))}s[Le]=e,je(s),i=s}e.stateNode=i}else dm(l,e.type,e.stateNode);else e.stateNode=um(l,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?dm(l,e.type,e.stateNode):um(l,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ic(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ke(t,e),Xe(e),i&512&&(Se||n===null||It(n,n.return)),n!==null&&i&4&&ic(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ke(t,e),Xe(e),i&512&&(Se||n===null||It(n,n.return)),e.flags&32){l=e.stateNode;try{hl(l,"")}catch(_){te(e,e.return,_)}}i&4&&e.stateNode!=null&&(l=e.memoizedProps,ic(e,l,n!==null?n.memoizedProps:l)),i&1024&&(sc=!0);break;case 6:if(Ke(t,e),Xe(e),i&4){if(e.stateNode===null)throw Error(x(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){te(e,e.return,_)}}break;case 3:if(Qa=null,l=Nt,Nt=br(t.containerInfo),Ke(t,e),Nt=l,Xe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{xl(t.containerInfo)}catch(_){te(e,e.return,_)}sc&&(sc=!1,W0(e));break;case 4:i=Nt,Nt=br(e.stateNode.containerInfo),Ke(t,e),Xe(e),Nt=i;break;case 12:Ke(t,e),Xe(e);break;case 31:Ke(t,e),Xe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ea(e,i)));break;case 13:Ke(t,e),Xe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(so=ut()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ea(e,i)));break;case 22:l=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=$t,h=Se;if($t=c||l,Se=h||o,Ke(t,e),Se=h,$t=c,Xe(e),i&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||o||$t||Se||ai(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,l)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{r=o.stateNode;var f=o.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;r.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(_){te(o,o.return,_)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=l?"":o.memoizedProps}catch(_){te(o,o.return,_)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;l?sm(m,!0):sm(o.stateNode,!1)}catch(_){te(o,o.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ea(e,n))));break;case 19:Ke(t,e),Xe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ea(e,i)));break;case 30:break;case 21:break;default:Ke(t,e),Xe(e)}}function Xe(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Y0(i)){n=i;break}i=i.return}if(n==null)throw Error(x(160));switch(n.tag){case 27:var l=n.stateNode,s=lc(e);dr(e,s,l);break;case 5:var a=n.stateNode;n.flags&32&&(hl(a,""),n.flags&=-33);var r=lc(e);dr(e,r,a);break;case 3:case 4:var o=n.stateNode.containerInfo,c=lc(e);pu(e,c,o);break;default:throw Error(x(161))}}catch(h){te(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;W0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Kt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Q0(e,t.alternate,t),t=t.sibling}function ai(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kn(4,t,t.return),ai(t);break;case 1:It(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&V0(t,t.return,n),ai(t);break;case 27:ms(t.stateNode);case 26:case 5:It(t,t.return),ai(t);break;case 22:t.memoizedState===null&&ai(t);break;case 30:ai(t);break;default:ai(t)}e=e.sibling}}function Xt(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,l=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Xt(l,s,n),ea(4,s);break;case 1:if(Xt(l,s,n),i=s,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(c){te(i,i.return,c)}if(i=s,l=i.updateQueue,l!==null){var r=i.stateNode;try{var o=l.shared.hiddenCallbacks;if(o!==null)for(l.shared.hiddenCallbacks=null,l=0;l<o.length;l++)Zg(o[l],r)}catch(c){te(i,i.return,c)}}n&&a&64&&q0(s),us(s,s.return);break;case 27:F0(s);case 26:case 5:Xt(l,s,n),n&&i===null&&a&4&&G0(s),us(s,s.return);break;case 12:Xt(l,s,n);break;case 31:Xt(l,s,n),n&&a&4&&Z0(l,s);break;case 13:Xt(l,s,n),n&&a&4&&P0(l,s);break;case 22:s.memoizedState===null&&Xt(l,s,n),us(s,s.return);break;case 30:break;default:Xt(l,s,n)}t=t.sibling}}function Vf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ws(n))}function Gf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ws(e))}function Ct(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)J0(e,t,n,i),t=t.sibling}function J0(e,t,n,i){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Ct(e,t,n,i),l&2048&&ea(9,t);break;case 1:Ct(e,t,n,i);break;case 3:Ct(e,t,n,i),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ws(e)));break;case 12:if(l&2048){Ct(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,r=s.onPostCommit;typeof r=="function"&&r(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){te(t,t.return,o)}}else Ct(e,t,n,i);break;case 31:Ct(e,t,n,i);break;case 13:Ct(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?Ct(e,t,n,i):fs(e,t):s._visibility&2?Ct(e,t,n,i):(s._visibility|=2,qi(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Vf(a,t);break;case 24:Ct(e,t,n,i),l&2048&&Gf(t.alternate,t);break;default:Ct(e,t,n,i)}}function qi(e,t,n,i,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,a=t,r=n,o=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:qi(s,a,r,o,l),ea(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?qi(s,a,r,o,l):fs(s,a):(h._visibility|=2,qi(s,a,r,o,l)),l&&c&2048&&Vf(a.alternate,a);break;case 24:qi(s,a,r,o,l),l&&c&2048&&Gf(a.alternate,a);break;default:qi(s,a,r,o,l)}t=t.sibling}}function fs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,l=i.flags;switch(i.tag){case 22:fs(n,i),l&2048&&Vf(i.alternate,i);break;case 24:fs(n,i),l&2048&&Gf(i.alternate,i);break;default:fs(n,i)}t=t.sibling}}var Jl=8192;function Li(e,t,n){if(e.subtreeFlags&Jl)for(e=e.child;e!==null;)ey(e,t,n),e=e.sibling}function ey(e,t,n){switch(e.tag){case 26:Li(e,t,n),e.flags&Jl&&e.memoizedState!==null&&Fx(n,Nt,e.memoizedState,e.memoizedProps);break;case 5:Li(e,t,n);break;case 3:case 4:var i=Nt;Nt=br(e.stateNode.containerInfo),Li(e,t,n),Nt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Jl,Jl=16777216,Li(e,t,n),Jl=i):Li(e,t,n));break;default:Li(e,t,n)}}function ty(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];De=i,iy(i,e)}ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:Gl(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:Gl(e);break;case 12:Gl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ya(e)):Gl(e);break;default:Gl(e)}}function Ya(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];De=i,iy(i,e)}ty(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kn(8,t,t.return),Ya(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ya(t));break;default:Ya(t)}e=e.sibling}}function iy(e,t){for(;De!==null;){var n=De;switch(n.tag){case 0:case 11:case 15:Kn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ws(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,De=i;else e:for(n=e;De!==null;){i=De;var l=i.sibling,s=i.return;if(K0(i),i===n){De=null;break e}if(l!==null){l.return=s,De=l;break e}De=s}}}var ax={getCacheForType:function(e){var t=Ue(we),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ue(we).controller.signal}},rx=typeof WeakMap=="function"?WeakMap:Map,W=0,le=null,F=null,K=0,ee=0,at=null,Rn=!1,Dl=!1,Yf=!1,hn=0,_e=0,Xn=0,gi=0,Ff=0,ct=0,yl=0,ds=null,Pe=null,gu=!1,so=0,ly=0,hr=1/0,mr=null,Ln=null,Ce=0,In=null,_l=null,an=0,yu=0,_u=null,sy=null,hs=0,vu=null;function ht(){return W&2&&K!==0?K&-K:I.T!==null?Kf():mg()}function ay(){if(ct===0)if(!(K&536870912)||X){var e=ga;ga<<=1,!(ga&3932160)&&(ga=262144),ct=e}else ct=536870912;return e=pt.current,e!==null&&(e.flags|=32),ct}function We(e,t,n){(e===le&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&(vl(e,0),Mn(e,K,ct,!1)),Zs(e,n),(!(W&2)||e!==le)&&(e===le&&(!(W&2)&&(gi|=n),_e===4&&Mn(e,K,ct,!1)),qt(e))}function ry(e,t,n){if(W&6)throw Error(x(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Xs(e,t),l=i?ux(e,t):ac(e,t,!0),s=i;do{if(l===0){Dl&&!i&&Mn(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!ox(n)){l=ac(e,t,!1),s=!1;continue}if(l===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var r=e;l=ds;var o=r.current.memoizedState.isDehydrated;if(o&&(vl(r,a).flags|=256),a=ac(r,a,!1),a!==2){if(Yf&&!o){r.errorRecoveryDisabledLanes|=s,gi|=s,l=4;break e}s=Pe,Pe=l,s!==null&&(Pe===null?Pe=s:Pe.push.apply(Pe,s))}l=a}if(s=!1,l!==2)continue}}if(l===1){vl(e,0),Mn(e,t,0,!0);break}e:{switch(i=e,s=l,s){case 0:case 1:throw Error(x(345));case 4:if((t&4194048)!==t)break;case 6:Mn(i,t,ct,!Rn);break e;case 2:Pe=null;break;case 3:case 5:break;default:throw Error(x(329))}if((t&62914560)===t&&(l=so+300-ut(),10<l)){if(Mn(i,t,ct,!Rn),Xr(i,0,!0)!==0)break e;an=t,i.timeoutHandle=Ny(Qh.bind(null,i,n,Pe,mr,gu,t,ct,gi,yl,Rn,s,"Throttled",-0,0),l);break e}Qh(i,n,Pe,mr,gu,t,ct,gi,yl,Rn,s,null,-0,0)}}break}while(!0);qt(e)}function Qh(e,t,n,i,l,s,a,r,o,c,h,f,d,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:en},ey(t,s,f);var _=(s&62914560)===s?so-ut():(s&4194048)===s?ly-ut():0;if(_=Qx(f,_),_!==null){an=s,e.cancelPendingCommit=_(Xh.bind(null,e,t,s,n,i,l,a,r,o,h,f,null,d,m)),Mn(e,s,a,!c);return}}Xh(e,t,s,n,i,l,a,r,o)}function ox(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],s=l.getSnapshot;l=l.value;try{if(!mt(s(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t,n,i){t&=~Ff,t&=~gi,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var l=t;0<l;){var s=31-dt(l),a=1<<s;i[s]=-1,l&=~a}n!==0&&fg(e,n,t)}function ao(){return W&6?!0:(ta(0),!1)}function Qf(){if(F!==null){if(ee===0)var e=F.return;else e=F,tn=Oi=null,Df(e),al=null,Ns=0,e=F;for(;e!==null;)H0(e.alternate,e),e=e.return;F=null}}function vl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Ax(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),an=0,Qf(),le=e,F=n=ln(e.current,null),K=t,ee=0,at=null,Rn=!1,Dl=Xs(e,t),Yf=!1,yl=ct=Ff=gi=Xn=_e=0,Pe=ds=null,gu=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var l=31-dt(i),s=1<<l;t|=e[l],i&=~s}return hn=t,Wr(),n}function oy(e,t){H=null,I.H=Rs,t===Ml||t===eo?(t=Eh(),ee=3):t===Ef?(t=Eh(),ee=4):ee=t===Hf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,at=t,F===null&&(_e=1,ur(e,xt(t,e.current)))}function cy(){var e=pt.current;return e===null?!0:(K&4194048)===K?wt===null:(K&62914560)===K||K&536870912?e===wt:!1}function uy(){var e=I.H;return I.H=Rs,e===null?Rs:e}function fy(){var e=I.A;return I.A=ax,e}function pr(){_e=4,Rn||(K&4194048)!==K&&pt.current!==null||(Dl=!0),!(Xn&134217727)&&!(gi&134217727)||le===null||Mn(le,K,ct,!1)}function ac(e,t,n){var i=W;W|=2;var l=uy(),s=fy();(le!==e||K!==t)&&(mr=null,vl(e,t)),t=!1;var a=_e;e:do try{if(ee!==0&&F!==null){var r=F,o=at;switch(ee){case 8:Qf(),a=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(t=!0);var c=ee;if(ee=0,at=null,el(e,r,o,c),n&&Dl){a=0;break e}break;default:c=ee,ee=0,at=null,el(e,r,o,c)}}cx(),a=_e;break}catch(h){oy(e,h)}while(!0);return t&&e.shellSuspendCounter++,tn=Oi=null,W=i,I.H=l,I.A=s,F===null&&(le=null,K=0,Wr()),a}function cx(){for(;F!==null;)dy(F)}function ux(e,t){var n=W;W|=2;var i=uy(),l=fy();le!==e||K!==t?(mr=null,hr=ut()+500,vl(e,t)):Dl=Xs(e,t);e:do try{if(ee!==0&&F!==null){t=F;var s=at;t:switch(ee){case 1:ee=0,at=null,el(e,t,s,1);break;case 2:case 9:if(wh(s)){ee=0,at=null,Kh(t);break}t=function(){ee!==2&&ee!==9||le!==e||(ee=7),qt(e)},s.then(t,t);break e;case 3:ee=7;break e;case 4:ee=5;break e;case 7:wh(s)?(ee=0,at=null,Kh(t)):(ee=0,at=null,el(e,t,s,7));break;case 5:var a=null;switch(F.tag){case 26:a=F.memoizedState;case 5:case 27:var r=F;if(a?Oy(a):r.stateNode.complete){ee=0,at=null;var o=r.sibling;if(o!==null)F=o;else{var c=r.return;c!==null?(F=c,ro(c)):F=null}break t}}ee=0,at=null,el(e,t,s,5);break;case 6:ee=0,at=null,el(e,t,s,6);break;case 8:Qf(),_e=6;break e;default:throw Error(x(462))}}fx();break}catch(h){oy(e,h)}while(!0);return tn=Oi=null,I.H=i,I.A=l,W=n,F!==null?0:(le=null,K=0,Wr(),_e)}function fx(){for(;F!==null&&!kb();)dy(F)}function dy(e){var t=B0(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?ro(e):F=t}function Kh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hh(n,t,t.pendingProps,t.type,void 0,K);break;case 11:t=Hh(n,t,t.pendingProps,t.type.render,t.ref,K);break;case 5:Df(t);default:H0(n,t),t=F=Hg(t,hn),t=B0(n,t,hn)}e.memoizedProps=e.pendingProps,t===null?ro(e):F=t}function el(e,t,n,i){tn=Oi=null,Df(t),al=null,Ns=0;var l=t.return;try{if(J1(e,l,t,n,K)){_e=1,ur(e,xt(n,e.current)),F=null;return}}catch(s){if(l!==null)throw F=l,s;_e=1,ur(e,xt(n,e.current)),F=null;return}t.flags&32768?(X||i===1?e=!0:Dl||K&536870912?e=!1:(Rn=e=!0,(i===2||i===9||i===3||i===6)&&(i=pt.current,i!==null&&i.tag===13&&(i.flags|=16384))),hy(t,e)):ro(t)}function ro(e){var t=e;do{if(t.flags&32768){hy(t,Rn);return}e=t.return;var n=nx(t.alternate,t,hn);if(n!==null){F=n;return}if(t=t.sibling,t!==null){F=t;return}F=t=e}while(t!==null);_e===0&&(_e=5)}function hy(e,t){do{var n=ix(e.alternate,e);if(n!==null){n.flags&=32767,F=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){F=e;return}F=e=n}while(e!==null);_e=6,F=null}function Xh(e,t,n,i,l,s,a,r,o){e.cancelPendingCommit=null;do oo();while(Ce!==0);if(W&6)throw Error(x(327));if(t!==null){if(t===e.current)throw Error(x(177));if(s=t.lanes|t.childLanes,s|=yf,Yb(e,n,s,a,r,o),e===le&&(F=le=null,K=0),_l=t,In=e,an=n,yu=s,_u=l,sy=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,px(Ja,function(){return _y(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=I.T,I.T=null,l=J.p,J.p=2,a=W,W|=4;try{lx(e,t,n)}finally{W=a,J.p=l,I.T=i}}Ce=1,my(),py(),gy()}}function my(){if(Ce===1){Ce=0;var e=In,t=_l,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=I.T,I.T=null;var i=J.p;J.p=2;var l=W;W|=4;try{$0(t,e);var s=wu,a=Og(e.containerInfo),r=s.focusedElem,o=s.selectionRange;if(a!==r&&r&&r.ownerDocument&&Dg(r.ownerDocument.documentElement,r)){if(o!==null&&gf(r)){var c=o.start,h=o.end;if(h===void 0&&(h=c),"selectionStart"in r)r.selectionStart=c,r.selectionEnd=Math.min(h,r.value.length);else{var f=r.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var m=d.getSelection(),_=r.textContent.length,b=Math.min(o.start,_),S=o.end===void 0?b:Math.min(o.end,_);!m.extend&&b>S&&(a=S,S=b,b=a);var g=gh(r,b),p=gh(r,S);if(g&&p&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==p.node||m.focusOffset!==p.offset)){var y=f.createRange();y.setStart(g.node,g.offset),m.removeAllRanges(),b>S?(m.addRange(y),m.extend(p.node,p.offset)):(y.setEnd(p.node,p.offset),m.addRange(y))}}}}for(f=[],m=r;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<f.length;r++){var v=f[r];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}wr=!!Su,wu=Su=null}finally{W=l,J.p=i,I.T=n}}e.current=t,Ce=2}}function py(){if(Ce===2){Ce=0;var e=In,t=_l,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=I.T,I.T=null;var i=J.p;J.p=2;var l=W;W|=4;try{Q0(e,t.alternate,t)}finally{W=l,J.p=i,I.T=n}}Ce=3}}function gy(){if(Ce===4||Ce===3){Ce=0,zb();var e=In,t=_l,n=an,i=sy;t.subtreeFlags&10256||t.flags&10256?Ce=5:(Ce=0,_l=In=null,yy(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Ln=null),cf(n),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ks,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=I.T,l=J.p,J.p=2,I.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var r=i[a];s(r.value,{componentStack:r.stack})}}finally{I.T=t,J.p=l}}an&3&&oo(),qt(e),l=e.pendingLanes,n&261930&&l&42?e===vu?hs++:(hs=0,vu=e):hs=0,ta(0)}}function yy(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ws(t)))}function oo(){return my(),py(),gy(),_y()}function _y(){if(Ce!==5)return!1;var e=In,t=yu;yu=0;var n=cf(an),i=I.T,l=J.p;try{J.p=32>n?32:n,I.T=null,n=_u,_u=null;var s=In,a=an;if(Ce=0,_l=In=null,an=0,W&6)throw Error(x(331));var r=W;if(W|=4,ny(s.current),J0(s,s.current,a,n),W=r,ta(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ks,s)}catch{}return!0}finally{J.p=l,I.T=i,yy(e,t)}}function Zh(e,t,n){t=xt(n,t),t=du(e.stateNode,t,2),e=zn(e,t,2),e!==null&&(Zs(e,2),qt(e))}function te(e,t,n){if(e.tag===3)Zh(e,e,n);else for(;t!==null;){if(t.tag===3){Zh(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ln===null||!Ln.has(i))){e=xt(n,e),n=j0(2),i=zn(t,n,2),i!==null&&(k0(n,i,t,e),Zs(i,2),qt(i));break}}t=t.return}}function rc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new rx;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(Yf=!0,l.add(n),e=dx.bind(null,e,t,n),t.then(e,e))}function dx(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,le===e&&(K&n)===n&&(_e===4||_e===3&&(K&62914560)===K&&300>ut()-so?!(W&2)&&vl(e,0):Ff|=n,yl===K&&(yl=0)),qt(e)}function vy(e,t){t===0&&(t=ug()),e=Di(e,t),e!==null&&(Zs(e,t),qt(e))}function hx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vy(e,n)}function mx(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(x(314))}i!==null&&i.delete(t),vy(e,n)}function px(e,t){return rf(e,t)}var gr=null,Vi=null,bu=!1,yr=!1,oc=!1,Dn=0;function qt(e){e!==Vi&&e.next===null&&(Vi===null?gr=Vi=e:Vi=Vi.next=e),yr=!0,bu||(bu=!0,yx())}function ta(e,t){if(!oc&&yr){oc=!0;do for(var n=!1,i=gr;i!==null;){if(e!==0){var l=i.pendingLanes;if(l===0)var s=0;else{var a=i.suspendedLanes,r=i.pingedLanes;s=(1<<31-dt(42|e)+1)-1,s&=l&~(a&~r),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Ph(i,s))}else s=K,s=Xr(i,i===le?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Xs(i,s)||(n=!0,Ph(i,s));i=i.next}while(n);oc=!1}}function gx(){by()}function by(){yr=bu=!1;var e=0;Dn!==0&&Nx()&&(e=Dn);for(var t=ut(),n=null,i=gr;i!==null;){var l=i.next,s=xy(i,t);s===0?(i.next=null,n===null?gr=l:n.next=l,l===null&&(Vi=n)):(n=i,(e!==0||s&3)&&(yr=!0)),i=l}Ce!==0&&Ce!==5||ta(e),Dn!==0&&(Dn=0)}function xy(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-dt(s),r=1<<a,o=l[a];o===-1?(!(r&n)||r&i)&&(l[a]=Gb(r,t)):o<=t&&(e.expiredLanes|=r),s&=~r}if(t=le,n=K,n=Xr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Lo(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Xs(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Lo(i),cf(n)){case 2:case 8:n=og;break;case 32:n=Ja;break;case 268435456:n=cg;break;default:n=Ja}return i=Sy.bind(null,e),n=rf(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Lo(i),e.callbackPriority=2,e.callbackNode=null,2}function Sy(e,t){if(Ce!==0&&Ce!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(oo()&&e.callbackNode!==n)return null;var i=K;return i=Xr(e,e===le?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(ry(e,i,t),xy(e,ut()),e.callbackNode!=null&&e.callbackNode===n?Sy.bind(null,e):null)}function Ph(e,t){if(oo())return null;ry(e,t,!0)}function yx(){Rx(function(){W&6?rf(rg,gx):by()})}function Kf(){if(Dn===0){var e=ml;e===0&&(e=pa,pa<<=1,!(pa&261888)&&(pa=256)),Dn=e}return Dn}function $h(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:za(""+e)}function Wh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function _x(e,t,n,i,l){if(t==="submit"&&n&&n.stateNode===l){var s=$h((l[tt]||null).action),a=i.submitter;a&&(t=(t=a[tt]||null)?$h(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var r=new Zr("action","action",null,i,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Dn!==0){var o=a?Wh(l,a):new FormData(l);uu(n,{pending:!0,data:o,method:l.method,action:s},null,o)}}else typeof s=="function"&&(r.preventDefault(),o=a?Wh(l,a):new FormData(l),uu(n,{pending:!0,data:o,method:l.method,action:s},s,o))},currentTarget:l}]})}}for(var cc=0;cc<Wc.length;cc++){var uc=Wc[cc],vx=uc.toLowerCase(),bx=uc[0].toUpperCase()+uc.slice(1);jt(vx,"on"+bx)}jt(kg,"onAnimationEnd");jt(zg,"onAnimationIteration");jt(Lg,"onAnimationStart");jt("dblclick","onDoubleClick");jt("focusin","onFocus");jt("focusout","onBlur");jt(L1,"onTransitionRun");jt(I1,"onTransitionStart");jt(U1,"onTransitionCancel");jt(Ig,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ms));function wy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var r=i[a],o=r.instance,c=r.currentTarget;if(r=r.listener,o!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=c;try{s(l)}catch(h){tr(h)}l.currentTarget=null,s=o}else for(a=0;a<i.length;a++){if(r=i[a],o=r.instance,c=r.currentTarget,r=r.listener,o!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=c;try{s(l)}catch(h){tr(h)}l.currentTarget=null,s=o}}}}function Y(e,t){var n=t[Yc];n===void 0&&(n=t[Yc]=new Set);var i=e+"__bubble";n.has(i)||(Ey(t,e,2,!1),n.add(i))}function fc(e,t,n){var i=0;t&&(i|=4),Ey(n,e,i,t)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Xf(e){if(!e[Ta]){e[Ta]=!0,pg.forEach(function(n){n!=="selectionchange"&&(xx.has(n)||fc(n,!1,e),fc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ta]||(t[Ta]=!0,fc("selectionchange",!1,t))}}function Ey(e,t,n,i){switch(Iy(t)){case 2:var l=Zx;break;case 8:l=Px;break;default:l=Wf}n=l.bind(null,t,n,e),l=void 0,!Zc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function dc(e,t,n,i,l){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var r=i.stateNode.containerInfo;if(r===l)break;if(a===4)for(a=i.return;a!==null;){var o=a.tag;if((o===3||o===4)&&a.stateNode.containerInfo===l)return;a=a.return}for(;r!==null;){if(a=Fi(r),a===null)return;if(o=a.tag,o===5||o===6||o===26||o===27){i=s=a;continue e}r=r.parentNode}}i=i.return}wg(function(){var c=s,h=df(n),f=[];e:{var d=Ug.get(e);if(d!==void 0){var m=Zr,_=e;switch(e){case"keypress":if(Ia(n)===0)break e;case"keydown":case"keyup":m=m1;break;case"focusin":_="focus",m=qo;break;case"focusout":_="blur",m=qo;break;case"beforeblur":case"afterblur":m=qo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=n1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=y1;break;case kg:case zg:case Lg:m=s1;break;case Ig:m=v1;break;case"scroll":case"scrollend":m=e1;break;case"wheel":m=x1;break;case"copy":case"cut":case"paste":m=r1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=oh;break;case"toggle":case"beforetoggle":m=w1}var b=(t&4)!==0,S=!b&&(e==="scroll"||e==="scrollend"),g=b?d!==null?d+"Capture":null:d;b=[];for(var p=c,y;p!==null;){var v=p;if(y=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||y===null||g===null||(v=Ss(p,g),v!=null&&b.push(Ds(p,v,y))),S)break;p=p.return}0<b.length&&(d=new m(d,_,null,n,h),f.push({event:d,listeners:b}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==Xc&&(_=n.relatedTarget||n.fromElement)&&(Fi(_)||_[Nl]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=c,_=_?Fi(_):null,_!==null&&(S=Qs(_),b=_.tag,_!==S||b!==5&&b!==27&&b!==6)&&(_=null)):(m=null,_=c),m!==_)){if(b=ah,v="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(b=oh,v="onPointerLeave",g="onPointerEnter",p="pointer"),S=m==null?d:$l(m),y=_==null?d:$l(_),d=new b(v,p+"leave",m,n,h),d.target=S,d.relatedTarget=y,v=null,Fi(h)===c&&(b=new b(g,p+"enter",_,n,h),b.target=y,b.relatedTarget=S,v=b),S=v,m&&_)t:{for(b=Sx,g=m,p=_,y=0,v=g;v;v=b(v))y++;v=0;for(var N=p;N;N=b(N))v++;for(;0<y-v;)g=b(g),y--;for(;0<v-y;)p=b(p),v--;for(;y--;){if(g===p||p!==null&&g===p.alternate){b=g;break t}g=b(g),p=b(p)}b=null}else b=null;m!==null&&Jh(f,d,m,b,!1),_!==null&&S!==null&&Jh(f,S,_,b,!0)}}e:{if(d=c?$l(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var D=dh;else if(fh(d))if(Rg)D=j1;else{D=D1;var E=M1}else m=d.nodeName,!m||m.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&ff(c.elementType)&&(D=dh):D=O1;if(D&&(D=D(e,c))){Ag(f,D,n,h);break e}E&&E(e,d,c),e==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Kc(d,"number",d.value)}switch(E=c?$l(c):window,e){case"focusin":(fh(E)||E.contentEditable==="true")&&(Xi=E,Pc=c,ls=null);break;case"focusout":ls=Pc=Xi=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,yh(f,n,h);break;case"selectionchange":if(z1)break;case"keydown":case"keyup":yh(f,n,h)}var O;if(pf)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ki?Cg(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Tg&&n.locale!=="ko"&&(Ki||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ki&&(O=Eg()):(An=h,hf="value"in An?An.value:An.textContent,Ki=!0)),E=_r(c,j),0<E.length&&(j=new rh(j,e,null,n,h),f.push({event:j,listeners:E}),O?j.data=O:(O=Ng(n),O!==null&&(j.data=O)))),(O=T1?C1(e,n):N1(e,n))&&(j=_r(c,"onBeforeInput"),0<j.length&&(E=new rh("onBeforeInput","beforeinput",null,n,h),f.push({event:E,listeners:j}),E.data=O)),_x(f,e,c,n,h)}wy(f,t)})}function Ds(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _r(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=Ss(e,n),l!=null&&i.unshift(Ds(e,l,s)),l=Ss(e,t),l!=null&&i.push(Ds(e,l,s))),e.tag===3)return i;e=e.return}return[]}function Sx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jh(e,t,n,i,l){for(var s=t._reactName,a=[];n!==null&&n!==i;){var r=n,o=r.alternate,c=r.stateNode;if(r=r.tag,o!==null&&o===i)break;r!==5&&r!==26&&r!==27||c===null||(o=c,l?(c=Ss(n,s),c!=null&&a.unshift(Ds(n,c,o))):l||(c=Ss(n,s),c!=null&&a.push(Ds(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var wx=/\r\n?/g,Ex=/\u0000|\uFFFD/g;function em(e){return(typeof e=="string"?e:""+e).replace(wx,`
`).replace(Ex,"")}function Ty(e,t){return t=em(t),em(e)===t}function ne(e,t,n,i,l,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||hl(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&hl(e,""+i);break;case"className":_a(e,"class",i);break;case"tabIndex":_a(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":_a(e,n,i);break;case"style":Sg(e,i,s);break;case"data":if(t!=="object"){_a(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=za(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ne(e,t,"name",l.name,l,null),ne(e,t,"formEncType",l.formEncType,l,null),ne(e,t,"formMethod",l.formMethod,l,null),ne(e,t,"formTarget",l.formTarget,l,null)):(ne(e,t,"encType",l.encType,l,null),ne(e,t,"method",l.method,l,null),ne(e,t,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=za(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=en);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(x(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=za(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Y("beforetoggle",e),Y("toggle",e),ka(e,"popover",i);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ka(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Wb.get(n)||n,ka(e,n,i))}}function xu(e,t,n,i,l,s){switch(n){case"style":Sg(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(x(60));e.innerHTML=n}}break;case"children":typeof i=="string"?hl(e,i):(typeof i=="number"||typeof i=="bigint")&&hl(e,""+i);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"onClick":i!=null&&(e.onclick=en);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gg.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),s=e[tt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,l),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,l);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):ka(e,n,i)}}}function Be(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y("error",e),Y("load",e);var i=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(x(137,t));default:ne(e,t,s,a,n,null)}}l&&ne(e,t,"srcSet",n.srcSet,n,null),i&&ne(e,t,"src",n.src,n,null);return;case"input":Y("invalid",e);var r=s=a=l=null,o=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":l=h;break;case"type":a=h;break;case"checked":o=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(x(137,t));break;default:ne(e,t,i,h,n,null)}}vg(e,s,r,o,c,a,l,!1);return;case"select":Y("invalid",e),i=a=s=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":s=r;break;case"defaultValue":a=r;break;case"multiple":i=r;default:ne(e,t,l,r,n,null)}t=s,n=a,e.multiple=!!i,t!=null?il(e,!!i,t,!1):n!=null&&il(e,!!i,n,!0);return;case"textarea":Y("invalid",e),s=l=i=null;for(a in n)if(n.hasOwnProperty(a)&&(r=n[a],r!=null))switch(a){case"value":i=r;break;case"defaultValue":l=r;break;case"children":s=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(x(91));break;default:ne(e,t,a,r,n,null)}xg(e,i,l,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ne(e,t,o,i,n,null)}return;case"dialog":Y("beforetoggle",e),Y("toggle",e),Y("cancel",e),Y("close",e);break;case"iframe":case"object":Y("load",e);break;case"video":case"audio":for(i=0;i<Ms.length;i++)Y(Ms[i],e);break;case"image":Y("error",e),Y("load",e);break;case"details":Y("toggle",e);break;case"embed":case"source":case"link":Y("error",e),Y("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(x(137,t));default:ne(e,t,c,i,n,null)}return;default:if(ff(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&xu(e,t,h,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&ne(e,t,r,i,n,null))}function Tx(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,a=null,r=null,o=null,c=null,h=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=f;default:i.hasOwnProperty(m)||ne(e,t,m,null,i,f)}}for(var d in i){var m=i[d];if(f=n[d],i.hasOwnProperty(d)&&(m!=null||f!=null))switch(d){case"type":s=m;break;case"name":l=m;break;case"checked":c=m;break;case"defaultChecked":h=m;break;case"value":a=m;break;case"defaultValue":r=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(x(137,t));break;default:m!==f&&ne(e,t,d,m,i,f)}}Qc(e,a,r,o,c,h,s,l);return;case"select":m=a=r=d=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:i.hasOwnProperty(s)||ne(e,t,s,null,i,o)}for(l in i)if(s=i[l],o=n[l],i.hasOwnProperty(l)&&(s!=null||o!=null))switch(l){case"value":d=s;break;case"defaultValue":r=s;break;case"multiple":a=s;default:s!==o&&ne(e,t,l,s,i,o)}t=r,n=a,i=m,d!=null?il(e,!!n,d,!1):!!i!=!!n&&(t!=null?il(e,!!n,t,!0):il(e,!!n,n?[]:"",!1));return;case"textarea":m=d=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:ne(e,t,r,null,i,l)}for(a in i)if(l=i[a],s=n[a],i.hasOwnProperty(a)&&(l!=null||s!=null))switch(a){case"value":d=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(x(91));break;default:l!==s&&ne(e,t,a,l,i,s)}bg(e,d,m);return;case"option":for(var _ in n)if(d=n[_],n.hasOwnProperty(_)&&d!=null&&!i.hasOwnProperty(_))switch(_){case"selected":e.selected=!1;break;default:ne(e,t,_,null,i,d)}for(o in i)if(d=i[o],m=n[o],i.hasOwnProperty(o)&&d!==m&&(d!=null||m!=null))switch(o){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ne(e,t,o,d,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)d=n[b],n.hasOwnProperty(b)&&d!=null&&!i.hasOwnProperty(b)&&ne(e,t,b,null,i,d);for(c in i)if(d=i[c],m=n[c],i.hasOwnProperty(c)&&d!==m&&(d!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(x(137,t));break;default:ne(e,t,c,d,i,m)}return;default:if(ff(t)){for(var S in n)d=n[S],n.hasOwnProperty(S)&&d!==void 0&&!i.hasOwnProperty(S)&&xu(e,t,S,void 0,i,d);for(h in i)d=i[h],m=n[h],!i.hasOwnProperty(h)||d===m||d===void 0&&m===void 0||xu(e,t,h,d,i,m);return}}for(var g in n)d=n[g],n.hasOwnProperty(g)&&d!=null&&!i.hasOwnProperty(g)&&ne(e,t,g,null,i,d);for(f in i)d=i[f],m=n[f],!i.hasOwnProperty(f)||d===m||d==null&&m==null||ne(e,t,f,d,i,m)}function tm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var l=n[i],s=l.transferSize,a=l.initiatorType,r=l.duration;if(s&&r&&tm(a)){for(a=0,r=l.responseEnd,i+=1;i<n.length;i++){var o=n[i],c=o.startTime;if(c>r)break;var h=o.transferSize,f=o.initiatorType;h&&tm(f)&&(o=o.responseEnd,a+=h*(o<r?1:(r-c)/(o-c)))}if(--i,t+=8*(s+a)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Su=null,wu=null;function vr(e){return e.nodeType===9?e:e.ownerDocument}function nm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hc=null;function Nx(){var e=window.event;return e&&e.type==="popstate"?e===hc?!1:(hc=e,!0):(hc=null,!1)}var Ny=typeof setTimeout=="function"?setTimeout:void 0,Ax=typeof clearTimeout=="function"?clearTimeout:void 0,im=typeof Promise=="function"?Promise:void 0,Rx=typeof queueMicrotask=="function"?queueMicrotask:typeof im<"u"?function(e){return im.resolve(null).then(e).catch(Mx)}:Ny;function Mx(e){setTimeout(function(){throw e})}function ei(e){return e==="head"}function lm(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(l),xl(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ms(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ms(n);for(var s=n.firstChild;s;){var a=s.nextSibling,r=s.nodeName;s[Ps]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&ms(e.ownerDocument.body);n=l}while(n);xl(t)}function sm(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Tu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Tu(n),uf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Dx(e,t,n,i){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ps])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Et(e.nextSibling),e===null)break}return null}function Ox(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Et(e.nextSibling),e===null))return null;return e}function Ay(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Et(e.nextSibling),e===null))return null;return e}function Cu(e){return e.data==="$?"||e.data==="$~"}function Nu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function jx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Et(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Au=null;function am(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Et(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Ry(e,t,n){switch(t=vr(n),e){case"html":if(e=t.documentElement,!e)throw Error(x(452));return e;case"head":if(e=t.head,!e)throw Error(x(453));return e;case"body":if(e=t.body,!e)throw Error(x(454));return e;default:throw Error(x(451))}}function ms(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);uf(e)}var Tt=new Map,om=new Set;function br(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yn=J.d;J.d={f:kx,r:zx,D:Lx,C:Ix,L:Ux,m:Bx,X:qx,S:Hx,M:Vx};function kx(){var e=yn.f(),t=ao();return e||t}function zx(e){var t=Al(e);t!==null&&t.tag===5&&t.type==="form"?S0(t):yn.r(e)}var Ol=typeof document>"u"?null:document;function My(e,t,n){var i=Ol;if(i&&typeof t=="string"&&t){var l=bt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),om.has(l)||(om.add(l),e={rel:e,crossOrigin:n,href:t},i.querySelector(l)===null&&(t=i.createElement("link"),Be(t,"link",e),je(t),i.head.appendChild(t)))}}function Lx(e){yn.D(e),My("dns-prefetch",e,null)}function Ix(e,t){yn.C(e,t),My("preconnect",e,t)}function Ux(e,t,n){yn.L(e,t,n);var i=Ol;if(i&&e&&t){var l='link[rel="preload"][as="'+bt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+bt(n.imageSizes)+'"]')):l+='[href="'+bt(e)+'"]';var s=l;switch(t){case"style":s=bl(e);break;case"script":s=jl(e)}Tt.has(s)||(e=me({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Tt.set(s,e),i.querySelector(l)!==null||t==="style"&&i.querySelector(na(s))||t==="script"&&i.querySelector(ia(s))||(t=i.createElement("link"),Be(t,"link",e),je(t),i.head.appendChild(t)))}}function Bx(e,t){yn.m(e,t);var n=Ol;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+bt(i)+'"][href="'+bt(e)+'"]',s=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=jl(e)}if(!Tt.has(s)&&(e=me({rel:"modulepreload",href:e},t),Tt.set(s,e),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ia(s)))return}i=n.createElement("link"),Be(i,"link",e),je(i),n.head.appendChild(i)}}}function Hx(e,t,n){yn.S(e,t,n);var i=Ol;if(i&&e){var l=nl(i).hoistableStyles,s=bl(e);t=t||"default";var a=l.get(s);if(!a){var r={loading:0,preload:null};if(a=i.querySelector(na(s)))r.loading=5;else{e=me({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Tt.get(s))&&Zf(e,n);var o=a=i.createElement("link");je(o),Be(o,"link",e),o._p=new Promise(function(c,h){o.onload=c,o.onerror=h}),o.addEventListener("load",function(){r.loading|=1}),o.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Fa(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:r},l.set(s,a)}}}function qx(e,t){yn.X(e,t);var n=Ol;if(n&&e){var i=nl(n).hoistableScripts,l=jl(e),s=i.get(l);s||(s=n.querySelector(ia(l)),s||(e=me({src:e,async:!0},t),(t=Tt.get(l))&&Pf(e,t),s=n.createElement("script"),je(s),Be(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(l,s))}}function Vx(e,t){yn.M(e,t);var n=Ol;if(n&&e){var i=nl(n).hoistableScripts,l=jl(e),s=i.get(l);s||(s=n.querySelector(ia(l)),s||(e=me({src:e,async:!0,type:"module"},t),(t=Tt.get(l))&&Pf(e,t),s=n.createElement("script"),je(s),Be(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(l,s))}}function cm(e,t,n,i){var l=(l=On.current)?br(l):null;if(!l)throw Error(x(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=bl(n.href),n=nl(l).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=bl(n.href);var s=nl(l).hoistableStyles,a=s.get(e);if(a||(l=l.ownerDocument||l,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=l.querySelector(na(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Tt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tt.set(e,n),s||Gx(l,e,n,a.state))),t&&i===null)throw Error(x(528,""));return a}if(t&&i!==null)throw Error(x(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=jl(n),n=nl(l).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(x(444,e))}}function bl(e){return'href="'+bt(e)+'"'}function na(e){return'link[rel="stylesheet"]['+e+"]"}function Dy(e){return me({},e,{"data-precedence":e.precedence,precedence:null})}function Gx(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Be(t,"link",n),je(t),e.head.appendChild(t))}function jl(e){return'[src="'+bt(e)+'"]'}function ia(e){return"script[async]"+e}function um(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(i)return t.instance=i,je(i),i;var l=me({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),je(i),Be(i,"style",l),Fa(i,n.precedence,e),t.instance=i;case"stylesheet":l=bl(n.href);var s=e.querySelector(na(l));if(s)return t.state.loading|=4,t.instance=s,je(s),s;i=Dy(n),(l=Tt.get(l))&&Zf(i,l),s=(e.ownerDocument||e).createElement("link"),je(s);var a=s;return a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),Be(s,"link",i),t.state.loading|=4,Fa(s,n.precedence,e),t.instance=s;case"script":return s=jl(n.src),(l=e.querySelector(ia(s)))?(t.instance=l,je(l),l):(i=n,(l=Tt.get(s))&&(i=me({},n),Pf(i,l)),e=e.ownerDocument||e,l=e.createElement("script"),je(l),Be(l,"link",i),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(x(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Fa(i,n.precedence,e));return t.instance}function Fa(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,s=l,a=0;a<i.length;a++){var r=i[a];if(r.dataset.precedence===t)s=r;else if(s!==l)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Zf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Pf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Qa=null;function fm(e,t,n){if(Qa===null){var i=new Map,l=Qa=new Map;l.set(n,i)}else l=Qa,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var s=n[l];if(!(s[Ps]||s[Le]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var r=i.get(a);r?r.push(s):i.set(a,[s])}}return i}function dm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Yx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Oy(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Fx(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var l=bl(i.href),s=t.querySelector(na(l));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=xr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,je(s);return}s=t.ownerDocument||t,i=Dy(i),(l=Tt.get(l))&&Zf(i,l),s=s.createElement("link"),je(s);var a=s;a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),Be(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=xr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var mc=0;function Qx(e,t){return e.stylesheets&&e.count===0&&Ka(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Ka(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&mc===0&&(mc=62500*Cx());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ka(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>mc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(l)}}:null}function xr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ka(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sr=null;function Ka(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sr=new Map,t.forEach(Kx,e),Sr=null,xr.call(e))}function Kx(e,t){if(!(t.state.loading&4)){var n=Sr.get(e);if(n)var i=n.get(null);else{n=new Map,Sr.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var a=l[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}l=t.instance,a=l.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,l),n.set(a,l),this.count++,i=xr.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),s?s.parentNode.insertBefore(l,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Os={$$typeof:Jt,Provider:null,Consumer:null,_currentValue:di,_currentValue2:di,_threadCount:0};function Xx(e,t,n,i,l,s,a,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Io(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Io(0),this.hiddenUpdates=Io(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function jy(e,t,n,i,l,s,a,r,o,c,h,f){return e=new Xx(e,t,n,a,o,c,h,f,r),t=1,s===!0&&(t|=24),s=ot(3,null,null,t),e.current=s,s.stateNode=e,t=Sf(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Tf(s),e}function ky(e){return e?(e=$i,e):$i}function zy(e,t,n,i,l,s){l=ky(l),i.context===null?i.context=l:i.pendingContext=l,i=kn(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=zn(e,i,t),n!==null&&(We(n,e,t),as(n,e,t))}function hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $f(e,t){hm(e,t),(e=e.alternate)&&hm(e,t)}function Ly(e){if(e.tag===13||e.tag===31){var t=Di(e,67108864);t!==null&&We(t,e,67108864),$f(e,67108864)}}function mm(e){if(e.tag===13||e.tag===31){var t=ht();t=of(t);var n=Di(e,t);n!==null&&We(n,e,t),$f(e,t)}}var wr=!0;function Zx(e,t,n,i){var l=I.T;I.T=null;var s=J.p;try{J.p=2,Wf(e,t,n,i)}finally{J.p=s,I.T=l}}function Px(e,t,n,i){var l=I.T;I.T=null;var s=J.p;try{J.p=8,Wf(e,t,n,i)}finally{J.p=s,I.T=l}}function Wf(e,t,n,i){if(wr){var l=Ru(i);if(l===null)dc(e,t,i,Er,n),pm(e,i);else if(Wx(l,e,t,n,i))i.stopPropagation();else if(pm(e,i),t&4&&-1<$x.indexOf(e)){for(;l!==null;){var s=Al(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=li(s.pendingLanes);if(a!==0){var r=s;for(r.pendingLanes|=2,r.entangledLanes|=2;a;){var o=1<<31-dt(a);r.entanglements[1]|=o,a&=~o}qt(s),!(W&6)&&(hr=ut()+500,ta(0))}}break;case 31:case 13:r=Di(s,2),r!==null&&We(r,s,2),ao(),$f(s,2)}if(s=Ru(i),s===null&&dc(e,t,i,Er,n),s===l)break;l=s}l!==null&&i.stopPropagation()}else dc(e,t,i,null,n)}}function Ru(e){return e=df(e),Jf(e)}var Er=null;function Jf(e){if(Er=null,e=Fi(e),e!==null){var t=Qs(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ng(t),e!==null)return e;e=null}else if(n===31){if(e=ig(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Er=e,null}function Iy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lb()){case rg:return 2;case og:return 8;case Ja:case Ib:return 32;case cg:return 268435456;default:return 32}default:return 32}}var Mu=!1,Un=null,Bn=null,Hn=null,js=new Map,ks=new Map,Cn=[],$x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pm(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function Yl(e,t,n,i,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Al(t),t!==null&&Ly(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Wx(e,t,n,i,l){switch(t){case"focusin":return Un=Yl(Un,e,t,n,i,l),!0;case"dragenter":return Bn=Yl(Bn,e,t,n,i,l),!0;case"mouseover":return Hn=Yl(Hn,e,t,n,i,l),!0;case"pointerover":var s=l.pointerId;return js.set(s,Yl(js.get(s)||null,e,t,n,i,l)),!0;case"gotpointercapture":return s=l.pointerId,ks.set(s,Yl(ks.get(s)||null,e,t,n,i,l)),!0}return!1}function Uy(e){var t=Fi(e.target);if(t!==null){var n=Qs(t);if(n!==null){if(t=n.tag,t===13){if(t=ng(n),t!==null){e.blockedOn=t,Jd(e.priority,function(){mm(n)});return}}else if(t===31){if(t=ig(n),t!==null){e.blockedOn=t,Jd(e.priority,function(){mm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ru(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Xc=i,n.target.dispatchEvent(i),Xc=null}else return t=Al(n),t!==null&&Ly(t),e.blockedOn=n,!1;t.shift()}return!0}function gm(e,t,n){Xa(e)&&n.delete(t)}function Jx(){Mu=!1,Un!==null&&Xa(Un)&&(Un=null),Bn!==null&&Xa(Bn)&&(Bn=null),Hn!==null&&Xa(Hn)&&(Hn=null),js.forEach(gm),ks.forEach(gm)}function Ca(e,t){e.blockedOn===t&&(e.blockedOn=null,Mu||(Mu=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,Jx)))}var Na=null;function ym(e){Na!==e&&(Na=e,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,function(){Na===e&&(Na=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],l=e[t+2];if(typeof i!="function"){if(Jf(i||n)===null)continue;break}var s=Al(n);s!==null&&(e.splice(t,3),t-=3,uu(s,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function xl(e){function t(o){return Ca(o,e)}Un!==null&&Ca(Un,e),Bn!==null&&Ca(Bn,e),Hn!==null&&Ca(Hn,e),js.forEach(t),ks.forEach(t);for(var n=0;n<Cn.length;n++){var i=Cn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)Uy(n),n.blockedOn===null&&Cn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],s=n[i+1],a=l[tt]||null;if(typeof s=="function")a||ym(n);else if(a){var r=null;if(s&&s.hasAttribute("formAction")){if(l=s,a=s[tt]||null)r=a.formAction;else if(Jf(l)!==null)continue}else r=a.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),ym(n)}}}function By(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return l=a})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function ed(e){this._internalRoot=e}co.prototype.render=ed.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(x(409));var n=t.current,i=ht();zy(n,i,e,t,null,null)};co.prototype.unmount=ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zy(e.current,2,null,e,null,null),ao(),t[Nl]=null}};function co(e){this._internalRoot=e}co.prototype.unstable_scheduleHydration=function(e){if(e){var t=mg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cn.length&&t!==0&&t<Cn[n].priority;n++);Cn.splice(n,0,e),n===0&&Uy(e)}};var _m=eg.version;if(_m!=="19.2.0")throw Error(x(527,_m,"19.2.0"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(x(188)):(e=Object.keys(e).join(","),Error(x(268,e)));return e=Rb(t),e=e!==null?lg(e):null,e=e===null?null:e.stateNode,e};var eS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{Ks=Aa.inject(eS),ft=Aa}catch{}}Qr.createRoot=function(e,t){if(!tg(e))throw Error(x(299));var n=!1,i="",l=M0,s=D0,a=O0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=jy(e,1,!1,null,null,n,i,null,l,s,a,By),e[Nl]=t.current,Xf(e),new ed(t)};Qr.hydrateRoot=function(e,t,n){if(!tg(e))throw Error(x(299));var i=!1,l="",s=M0,a=D0,r=O0,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=jy(e,1,!0,t,n??null,i,l,o,s,a,r,By),t.context=ky(null),n=t.current,i=ht(),i=of(i),l=kn(i),l.callback=null,zn(n,l,i),n=i,t.current.lanes=n,Zs(t,n),qt(t),e[Nl]=t.current,Xf(e),new co(t)};Qr.version="19.2.0";function Hy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hy)}catch(e){console.error(e)}}Hy(),Xp.exports=Qr;var tS=Xp.exports;const nS=Up(tS),iS="modulepreload",lS=function(e){return"/fenerbahce-fan-hub/"+e},vm={},Du=function(t,n,i){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));l=Promise.allSettled(n.map(o=>{if(o=lS(o),o in vm)return;vm[o]=!0;const c=o.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":iS,c||(f.as="script"),f.crossOrigin="",f.href=o,r&&f.setAttribute("nonce",r),document.head.appendChild(f),c)return new Promise((d,m)=>{f.addEventListener("load",d),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(a){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=a,window.dispatchEvent(r),!r.defaultPrevented)throw a}return l.then(a=>{for(const r of a||[])r.status==="rejected"&&s(r.reason);return t().catch(s)})};function sS(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:l,onRegisteredSW:s,onRegisterError:a}=e;let r,o;const c=async(f=!0)=>{await o};async function h(){if("serviceWorker"in navigator){if(r=await Du(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/fenerbahce-fan-hub/sw.js",{scope:"/fenerbahce-fan-hub/",type:"classic"})).catch(f=>{a==null||a(f)}),!r)return;r.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),r.addEventListener("installed",f=>{f.isUpdate||i==null||i()}),r.register({immediate:t}).then(f=>{s?s("/fenerbahce-fan-hub/sw.js",f):l==null||l(f)}).catch(f=>{a==null||a(f)})}}return o=h(),c}function qy(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=qy(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function bm(){for(var e,t,n=0,i="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=qy(e))&&(i&&(i+=" "),i+=t);return i}const _n="https://us-central1-fb-hub-ed9de.cloudfunctions.net/api",aS=(e={})=>{const t=`/player-image/${e.id??""}`,n=e.photo||t;if(n.startsWith("http://")&&!n.includes("localhost"))return n.replace(/^http:\/\//i,"https://");if(n.startsWith("http://")||n.startsWith("https://"))return n;const i=n.startsWith("/")?n:`/${n}`;return`${_n}${i}`},rS=async()=>{try{const e=await fetch(`${_n}/next-match`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next match from backend:",e),null}},oS=async()=>{try{const e=await fetch(`${_n}/squad`);if(!e.ok)throw new Error("Backend fetch failed");return(await e.json()).map(n=>({...n,photo:aS(n)}))}catch(e){return console.error("Error fetching squad from backend:",e),[]}},cS=async()=>{try{const e=await fetch(`${_n}/next-3-matches`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next 3 matches from backend:",e),[]}},Vy="436",uS="https://site.api.espn.com/apis/site/v2/sports/soccer",fS=[{slug:"tur.1",group:"superlig",label:"Sper Lig"},{slug:"uefa.europa",group:"europe",label:"Avrupa"}],dS=(e=new Date)=>{const t=e.getMonth(),n=e.getFullYear();return t>=6?n:n-1},xm=(e,t={})=>{const n=new URLSearchParams(t);return`${uS}/${e}/teams/${Vy}/schedule?${n.toString()}`},Sm=e=>{var t,n,i,l,s,a,r,o,c,h,f;return{id:((t=e==null?void 0:e.team)==null?void 0:t.id)??(e==null?void 0:e.id)??null,name:((n=e==null?void 0:e.team)==null?void 0:n.displayName)??((i=e==null?void 0:e.team)==null?void 0:i.name)??"Takm",shortName:((l=e==null?void 0:e.team)==null?void 0:l.shortDisplayName)??((s=e==null?void 0:e.team)==null?void 0:s.displayName)??((a=e==null?void 0:e.team)==null?void 0:a.name)??"Takm",abbreviation:((r=e==null?void 0:e.team)==null?void 0:r.abbreviation)??null,logo:((h=(c=(o=e==null?void 0:e.team)==null?void 0:o.logos)==null?void 0:c[0])==null?void 0:h.href)??null,score:((f=e==null?void 0:e.score)==null?void 0:f.displayValue)??null,winner:!!(e!=null&&e.winner)}},hS=(e,t=null)=>{var g,p,y,v,N,D,E,O,j,L;const n=(g=e==null?void 0:e.competitions)==null?void 0:g[0],i=(n==null?void 0:n.competitors)??[],l=i.find(T=>T.homeAway==="home"),s=i.find(T=>T.homeAway==="away");if(!n||!l||!s)return null;const a=Sm(l),r=Sm(s),o=a.id===Vy,c=o?a:r,h=o?r:a,f=((p=n==null?void 0:n.status)==null?void 0:p.type)??{},d=Number((y=l==null?void 0:l.score)==null?void 0:y.value),m=Number((v=s==null?void 0:s.score)==null?void 0:v.value),_=Number.isFinite(d)&&Number.isFinite(m);let b=null,S=null;if(f.completed&&_){const T=o?d:m,Z=o?m:d;T>Z?(b="G",S="Galibiyet"):T<Z?(b="M",S="Malubiyet"):(b="B",S="Beraberlik")}return{id:String(e.id??n.id??`${e.date}-${a.id}-${r.id}`),date:e.date??n.date,competitionName:((N=e==null?void 0:e.season)==null?void 0:N.displayName)??((D=e==null?void 0:e.seasonType)==null?void 0:D.name)??"Sper Lig",competitionKey:(t==null?void 0:t.slug)??null,competitionGroup:(t==null?void 0:t.group)??null,competitionLabel:(t==null?void 0:t.label)??null,roundLabel:((E=n==null?void 0:n.type)==null?void 0:E.text)??null,venueName:((O=n==null?void 0:n.venue)==null?void 0:O.fullName)??null,venueCity:((L=(j=n==null?void 0:n.venue)==null?void 0:j.address)==null?void 0:L.city)??null,status:{state:f.state??"pre",completed:!!f.completed,description:f.description??null,detail:f.detail??null,shortDetail:f.shortDetail??null},homeTeam:a,awayTeam:r,isFbHome:o,fbTeam:c,opponentTeam:h,resultCode:b,resultLabel:S}},wm=async(e=dS())=>{var t,n,i,l;try{const s=await Promise.all(fS.map(async h=>{const[f,d]=await Promise.all([fetch(xm(h.slug,{season:String(e)})),fetch(xm(h.slug,{season:String(e),fixture:"true"}))]);if(!f.ok&&!d.ok)return{competition:h,resultsJson:{},fixturesJson:{}};const[m,_]=await Promise.all([f.ok?f.json():Promise.resolve({}),d.ok?d.json():Promise.resolve({})]);return{competition:h,resultsJson:m,fixturesJson:_}})),a=s.flatMap(({competition:h,resultsJson:f,fixturesJson:d})=>{const m=Array.isArray(f==null?void 0:f.events)?f.events:[],_=Array.isArray(d==null?void 0:d.events)?d.events:[];return[...m,..._].map(b=>({event:b,sourceCompetition:h}))});if(a.length===0)throw new Error("ESPN fixture fetch failed");const o=Array.from(new Map(a.map(({event:h,sourceCompetition:f})=>[String((h==null?void 0:h.id)??`${f==null?void 0:f.slug}-${h==null?void 0:h.date}`),{event:h,sourceCompetition:f}])).values()).map(({event:h,sourceCompetition:f})=>hS(h,f)).filter(Boolean).sort((h,f)=>new Date(h.date)-new Date(f.date)),c=s.find(({resultsJson:h,fixturesJson:f})=>Array.isArray(h==null?void 0:h.events)&&h.events.length>0||Array.isArray(f==null?void 0:f.events)&&f.events.length>0);return{source:"ESPN",seasonStartYear:e,season:((t=c==null?void 0:c.fixturesJson)==null?void 0:t.season)??((n=c==null?void 0:c.resultsJson)==null?void 0:n.season)??null,team:((i=c==null?void 0:c.fixturesJson)==null?void 0:i.team)??((l=c==null?void 0:c.resultsJson)==null?void 0:l.team)??null,matches:o}}catch(s){return console.error("Error fetching ESPN Fenerbahce fixtures:",s),{source:"ESPN",seasonStartYear:e,season:null,team:null,matches:[],error:!0}}},pc=e=>`${_n}/team-image/${e}`,Ra=({teamId:e,name:t="Takm",wrapperClassName:n="",imageClassName:i=""})=>{const[l,s]=C.useState(()=>e?pc(e):null),[a,r]=C.useState(e?"loading":"idle"),[o,c]=C.useState(0);C.useEffect(()=>{if(!e){s(null),r("idle");return}s(pc(e)),c(0),r("loading")},[e]);const h=()=>{if(e)if(o<2){const d=`${Date.now()}-${o+1}`;c(m=>m+1),s(`${pc(e)}?retry=${d}`)}else r("error")},f=(t==null?void 0:t.split(" ").filter(Boolean).map(d=>d[0]).join("").slice(0,2).toUpperCase())||"??";return u.jsxs("div",{className:bm("relative overflow-hidden",n),children:[l&&a!=="error"?u.jsx("img",{src:l,alt:`${t} logosu`,crossOrigin:"anonymous",className:bm("w-full h-full object-contain transition-opacity duration-300",i),onLoad:()=>r("ready"),onError:h}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400 uppercase font-bold bg-white/5 rounded-full",children:f}),a==="loading"&&u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer rounded-full",style:{backgroundSize:"200% 100%"}})]})},mS=()=>{};var Em={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R=function(e,t){if(!e)throw kl(t)},kl=function(e){return new Error("Firebase Database ("+Gy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},pS=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const l=e[n++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const s=e[n++];t[i++]=String.fromCharCode((l&31)<<6|s&63)}else if(l>239&&l<365){const s=e[n++],a=e[n++],r=e[n++],o=((l&7)<<18|(s&63)<<12|(a&63)<<6|r&63)-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(o&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((l&15)<<12|(s&63)<<6|a&63)}}return t.join("")},td={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<e.length;l+=3){const s=e[l],a=l+1<e.length,r=a?e[l+1]:0,o=l+2<e.length,c=o?e[l+2]:0,h=s>>2,f=(s&3)<<4|r>>4;let d=(r&15)<<2|c>>6,m=c&63;o||(m=64,a||(d=64)),i.push(n[h],n[f],n[d],n[m])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):pS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<e.length;){const s=n[e.charAt(l++)],r=l<e.length?n[e.charAt(l)]:0;++l;const c=l<e.length?n[e.charAt(l)]:64;++l;const f=l<e.length?n[e.charAt(l)]:64;if(++l,s==null||r==null||c==null||f==null)throw new gS;const d=s<<2|r>>4;if(i.push(d),c!==64){const m=r<<4&240|c>>2;if(i.push(m),f!==64){const _=c<<6&192|f;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class gS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fy=function(e){const t=Yy(e);return td.encodeByteArray(t,!0)},Tr=function(e){return Fy(e).replace(/\./g,"")},Ou=function(e){try{return td.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(e){return Qy(void 0,e)}function Qy(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!_S(n)||(e[n]=Qy(e[n],t[n]));return e}function _S(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=()=>vS().__FIREBASE_DEFAULTS__,xS=()=>{if(typeof process>"u"||typeof Em>"u")return;const e=Em.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},SS=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ou(e[1]);return t&&JSON.parse(t)},Ky=()=>{try{return mS()||bS()||xS()||SS()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},wS=e=>{var t,n;return(n=(t=Ky())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},ES=e=>{const t=wS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Xy=()=>{var e;return(e=Ky())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TS(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",l=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Tr(JSON.stringify(n)),Tr(JSON.stringify(a)),""].join(".")}const ps={};function NS(){const e={prod:[],emulator:[]};for(const t of Object.keys(ps))ps[t]?e.emulator.push(t):e.prod.push(t);return e}function AS(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Tm=!1;function RS(e,t){if(typeof window>"u"||typeof document>"u"||!nd(window.location.host)||ps[e]===t||ps[e]||Tm)return;ps[e]=t;function n(d){return`__firebase__banner__${d}`}const i="__firebase__banner",s=NS().prod.length>0;function a(){const d=document.getElementById(i);d&&d.remove()}function r(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function o(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{Tm=!0,a()},d}function h(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=AS(i),m=n("text"),_=document.getElementById(m)||document.createElement("span"),b=n("learnmore"),S=document.getElementById(b)||document.createElement("a"),g=n("preprendIcon"),p=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const y=d.element;r(y),h(S,b);const v=c();o(p,g),y.append(p,_,S,v),document.body.appendChild(y)}s?(_.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(MS())}function DS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OS(){return Gy.NODE_ADMIN===!0}function Py(){try{return typeof indexedDB=="object"}catch{return!1}}function $y(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var s;t(((s=l.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}function jS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="FirebaseError";class zl extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=kS,Object.setPrototypeOf(this,zl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uo.prototype.create)}}class uo{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},l=`${this.service}/${t}`,s=this.errors[t],a=s?zS(s,i):"Error",r=`${this.serviceName}: ${a} (${l}).`;return new zl(l,r,i)}}function zS(e,t){return e.replace(LS,(n,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const LS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(e){return JSON.parse(e)}function Ne(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=function(e){let t={},n={},i={},l="";try{const s=e.split(".");t=zs(Ou(s[0])||""),n=zs(Ou(s[1])||""),l=s[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:l}},IS=function(e){const t=Wy(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},US=function(e){const t=Wy(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Si(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Cm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Cr(e,t,n){const i={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=t.call(n,e[l],l,e));return i}function Nr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const l of n){if(!i.includes(l))return!1;const s=e[l],a=t[l];if(Nm(s)&&Nm(a)){if(!Nr(s,a))return!1}else if(s!==a)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function Nm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)i[f]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let f=16;f<80;f++){const d=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(d<<1|d>>>31)&4294967295}let l=this.chain_[0],s=this.chain_[1],a=this.chain_[2],r=this.chain_[3],o=this.chain_[4],c,h;for(let f=0;f<80;f++){f<40?f<20?(c=r^s&(a^r),h=1518500249):(c=s^a^r,h=1859775393):f<60?(c=s&a|r&(s|a),h=2400959708):(c=s^a^r,h=3395469782);const d=(l<<5|l>>>27)+c+o+h+i[f]&4294967295;o=r,r=a,a=(s<<30|s>>>2)&4294967295,s=l,l=d}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+r&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let l=0;const s=this.buf_;let a=this.inbuf_;for(;l<n;){if(a===0)for(;l<=i;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<n;)if(s[a]=t.charCodeAt(l),++a,++l,a===this.blockSize){this.compress_(s),a=0;break}}else for(;l<n;)if(s[a]=t[l],++a,++l,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let l=0;l<5;l++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[l]>>s&255,++i;return t}}function id(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);if(l>=55296&&l<=56319){const s=l-55296;i++,R(i<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(i)-56320;l=65536+(s<<10)+a}l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):l<65536?(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},fo=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(e){return e&&e._delegate?e._delegate:e}class mn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new la;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YS(t))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:l});i.resolve(s)}catch{}}}}clearInstance(t=ri){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ri){return this.instances.has(t)}getOptions(t=ri){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(s);i===r&&a.resolve(l)}return l}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(t),this.onInitCallbacks.set(i,l);const s=this.instances.get(i);return s&&t(s,i),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GS(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ri){return this.component?this.component.multipleInstances?t:ri:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(e){return e===ri?void 0:e}function YS(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(re||(re={}));const QS={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},KS=re.INFO,XS={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},ZS=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),l=XS[t];if(l)console[l](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jy{constructor(t){this.name=t,this._logLevel=KS,this._logHandler=ZS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const PS=(e,t)=>t.some(n=>e instanceof n);let Am,Rm;function $S(){return Am||(Am=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WS(){return Rm||(Rm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,ju=new WeakMap,t_=new WeakMap,gc=new WeakMap,ld=new WeakMap;function JS(e){const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(rn(e.result)),l()},a=()=>{i(e.error),l()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&e_.set(n,e)}).catch(()=>{}),ld.set(t,e),t}function ew(e){if(ju.has(e))return;const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),l()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});ju.set(e,t)}let ku={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ju.get(e);if(t==="objectStoreNames")return e.objectStoreNames||t_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function tw(e){ku=e(ku)}function nw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(yc(this),t,...n);return t_.set(i,t.sort?t.sort():[t]),rn(i)}:WS().includes(e)?function(...t){return e.apply(yc(this),t),rn(e_.get(this))}:function(...t){return rn(e.apply(yc(this),t))}}function iw(e){return typeof e=="function"?nw(e):(e instanceof IDBTransaction&&ew(e),PS(e,$S())?new Proxy(e,ku):e)}function rn(e){if(e instanceof IDBRequest)return JS(e);if(gc.has(e))return gc.get(e);const t=iw(e);return t!==e&&(gc.set(e,t),ld.set(t,e)),t}const yc=e=>ld.get(e);function ho(e,t,{blocked:n,upgrade:i,blocking:l,terminated:s}={}){const a=indexedDB.open(e,t),r=rn(a);return i&&a.addEventListener("upgradeneeded",o=>{i(rn(a.result),o.oldVersion,o.newVersion,rn(a.transaction),o)}),n&&a.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),r.then(o=>{s&&o.addEventListener("close",()=>s()),l&&o.addEventListener("versionchange",c=>l(c.oldVersion,c.newVersion,c))}).catch(()=>{}),r}function _c(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",i=>t(i.oldVersion,i)),rn(n).then(()=>{})}const lw=["get","getKey","getAll","getAllKeys","count"],sw=["put","add","delete","clear"],vc=new Map;function Mm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(vc.get(t))return vc.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,l=sw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||lw.includes(n)))return;const s=async function(a,...r){const o=this.transaction(a,l?"readwrite":"readonly");let c=o.store;return i&&(c=c.index(r.shift())),(await Promise.all([c[n](...r),l&&o.done]))[0]};return vc.set(t,s),s}tw(e=>({...e,get:(t,n,i)=>Mm(t,n)||e.get(t,n,i),has:(t,n)=>!!Mm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rw(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function rw(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zu="@firebase/app",Dm="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn=new Jy("@firebase/app"),ow="@firebase/app-compat",cw="@firebase/analytics-compat",uw="@firebase/analytics",fw="@firebase/app-check-compat",dw="@firebase/app-check",hw="@firebase/auth",mw="@firebase/auth-compat",pw="@firebase/database",gw="@firebase/data-connect",yw="@firebase/database-compat",_w="@firebase/functions",vw="@firebase/functions-compat",bw="@firebase/installations",xw="@firebase/installations-compat",Sw="@firebase/messaging",ww="@firebase/messaging-compat",Ew="@firebase/performance",Tw="@firebase/performance-compat",Cw="@firebase/remote-config",Nw="@firebase/remote-config-compat",Aw="@firebase/storage",Rw="@firebase/storage-compat",Mw="@firebase/firestore",Dw="@firebase/ai",Ow="@firebase/firestore-compat",jw="firebase",kw="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="[DEFAULT]",zw={[zu]:"fire-core",[ow]:"fire-core-compat",[uw]:"fire-analytics",[cw]:"fire-analytics-compat",[dw]:"fire-app-check",[fw]:"fire-app-check-compat",[hw]:"fire-auth",[mw]:"fire-auth-compat",[pw]:"fire-rtdb",[gw]:"fire-data-connect",[yw]:"fire-rtdb-compat",[_w]:"fire-fn",[vw]:"fire-fn-compat",[bw]:"fire-iid",[xw]:"fire-iid-compat",[Sw]:"fire-fcm",[ww]:"fire-fcm-compat",[Ew]:"fire-perf",[Tw]:"fire-perf-compat",[Cw]:"fire-rc",[Nw]:"fire-rc-compat",[Aw]:"fire-gcs",[Rw]:"fire-gcs-compat",[Mw]:"fire-fst",[Ow]:"fire-fst-compat",[Dw]:"fire-vertex","fire-js":"fire-js",[jw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new Map,Lw=new Map,Iu=new Map;function Om(e,t){try{e.container.addComponent(t)}catch(n){pn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zn(e){const t=e.name;if(Iu.has(t))return pn.debug(`There were multiple attempts to register component ${t}.`),!1;Iu.set(t,e);for(const n of Ar.values())Om(n,e);for(const n of Lw.values())Om(n,e);return!0}function mo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Iw(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qn=new uo("app","Firebase",Uw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=kw;function n_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Lu,automaticDataCollectionEnabled:!0,...t},l=i.name;if(typeof l!="string"||!l)throw qn.create("bad-app-name",{appName:String(l)});if(n||(n=Xy()),!n)throw qn.create("no-options");const s=Ar.get(l);if(s){if(Nr(n,s.options)&&Nr(i,s.config))return s;throw qn.create("duplicate-app",{appName:l})}const a=new FS(l);for(const o of Iu.values())a.addComponent(o);const r=new Bw(n,i,a);return Ar.set(l,r),r}function i_(e=Lu){const t=Ar.get(e);if(!t&&e===Lu&&Xy())return n_();if(!t)throw qn.create("no-app",{appName:e});return t}function Bt(e,t,n){let i=zw[e]??e;n&&(i+=`-${n}`);const l=i.match(/\s|\//),s=t.match(/\s|\//);if(l||s){const a=[`Unable to register library "${i}" with version "${t}":`];l&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pn.warn(a.join(" "));return}Zn(new mn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="firebase-heartbeat-database",Vw=1,Ls="firebase-heartbeat-store";let bc=null;function l_(){return bc||(bc=ho(qw,Vw,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ls)}catch(n){console.warn(n)}}}}).catch(e=>{throw qn.create("idb-open",{originalErrorMessage:e.message})})),bc}async function Gw(e){try{const n=(await l_()).transaction(Ls),i=await n.objectStore(Ls).get(s_(e));return await n.done,i}catch(t){if(t instanceof zl)pn.warn(t.message);else{const n=qn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pn.warn(n.message)}}}async function jm(e,t){try{const i=(await l_()).transaction(Ls,"readwrite");await i.objectStore(Ls).put(t,s_(e)),await i.done}catch(n){if(n instanceof zl)pn.warn(n.message);else{const i=qn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pn.warn(i.message)}}}function s_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=1024,Fw=30;class Qw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xw(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=km();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:l}),this._heartbeatsCache.heartbeats.length>Fw){const a=Zw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){pn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=km(),{heartbeatsToSend:i,unsentEntries:l}=Kw(this._heartbeatsCache.heartbeats),s=Tr(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return pn.warn(n),""}}}function km(){return new Date().toISOString().substring(0,10)}function Kw(e,t=Yw){const n=[];let i=e.slice();for(const l of e){const s=n.find(a=>a.agent===l.agent);if(s){if(s.dates.push(l.date),zm(n)>t){s.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),zm(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Xw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Py()?$y().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return jm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return jm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function zm(e){return Tr(JSON.stringify({version:2,heartbeats:e})).length}function Zw(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e){Zn(new mn("platform-logger",t=>new aw(t),"PRIVATE")),Zn(new mn("heartbeat",t=>new Qw(t),"PRIVATE")),Bt(zu,Dm,e),Bt(zu,Dm,"esm2020"),Bt("fire-js","")}Pw("");var $w="firebase",Ww="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt($w,Ww,"app");var Lm={};const Im="@firebase/database",Um="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a_="";function Jw(e){a_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ne(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:zs(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return kt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new eE(t)}}catch{}return new tE},ci=r_("localStorage"),nE=r_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new Jy("@firebase/database"),o_=function(){let e=1;return function(){return e++}}(),c_=function(e){const t=qS(e),n=new HS;n.update(t);const i=n.digest();return td.encodeByteArray(i)},sa=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=sa.apply(null,i):typeof i=="object"?t+=Ne(i):t+=i,t+=" "}return t};let gs=null,Bm=!0;const iE=function(e,t){R(!0,"Can't turn on custom loggers persistently."),cl.logLevel=re.VERBOSE,gs=cl.log.bind(cl)},He=function(...e){if(Bm===!0&&(Bm=!1,gs===null&&nE.get("logging_enabled")===!0&&iE()),gs){const t=sa.apply(null,e);gs(t)}},aa=function(e){return function(...t){He(e,...t)}},Uu=function(...e){const t="FIREBASE INTERNAL ERROR: "+sa(...e);cl.error(t)},gn=function(...e){const t=`FIREBASE FATAL ERROR: ${sa(...e)}`;throw cl.error(t),new Error(t)},Je=function(...e){const t="FIREBASE WARNING: "+sa(...e);cl.warn(t)},lE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sd=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},sE=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Sl="[MIN_NAME]",wi="[MAX_NAME]",Ll=function(e,t){if(e===t)return 0;if(e===Sl||t===wi)return-1;if(t===Sl||e===wi)return 1;{const n=Hm(e),i=Hm(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},aE=function(e,t){return e===t?0:e<t?-1:1},Fl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ne(t))},ad=function(e){if(typeof e!="object"||e===null)return Ne(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=Ne(t[i]),n+=":",n+=ad(e[t[i]]);return n+="}",n},u_=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let l=0;l<n;l+=t)l+t>n?i.push(e.substring(l,n)):i.push(e.substring(l,l+t));return i};function nt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const f_=function(e){R(!sd(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let l,s,a,r,o;e===0?(s=0,a=0,l=1/e===-1/0?1:0):(l=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=r+i,a=Math.round(e*Math.pow(2,n-r)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-i-n))));const c=[];for(o=n;o;o-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(o=t;o;o-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(l?1:0),c.reverse();const h=c.join("");let f="";for(o=0;o<64;o+=8){let d=parseInt(h.substr(o,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},rE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},oE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cE(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const uE=new RegExp("^-?(0*)\\d{1,10}$"),fE=-2147483648,dE=2147483647,Hm=function(e){if(uE.test(e)){const t=Number(e);if(t>=fE&&t<=dE)return t}return null},Il=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Je("Exception was thrown by user callback.",n),t},Math.floor(0))}},hE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ys=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Iw(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Je(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(He("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Je(t)}}class Za{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Za.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="5",d_="v",h_="s",m_="r",p_="f",g_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,y_="ls",__="p",Bu="ac",v_="websocket",b_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(t,n,i,l,s=!1,a="",r=!1,o=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=l,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=r,this.isUsingEmulator=o,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ci.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ci.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function gE(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function S_(e,t,n){R(typeof t=="string","typeof type must == string"),R(typeof n=="object","typeof params must == object");let i;if(t===v_)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===b_)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);gE(e)&&(n.ns=e.namespace);const l=[];return nt(n,(s,a)=>{l.push(s+"="+a)}),i+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.counters_={}}incrementCounter(t,n=1){kt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return yS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc={},Sc={};function od(e){const t=e.toString();return xc[t]||(xc[t]=new yE),xc[t]}function _E(e,t){const n=e.toString();return Sc[n]||(Sc[n]=t()),Sc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<i.length;++l)i[l]&&Il(()=>{this.onMessage_(i[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="start",bE="close",xE="pLPCommand",SE="pRTLPCB",w_="id",E_="pw",T_="ser",wE="cb",EE="seg",TE="ts",CE="d",NE="dframe",C_=1870,N_=30,AE=C_-N_,RE=25e3,ME=3e4;class tl{constructor(t,n,i,l,s,a,r){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=l,this.authToken=s,this.transportSessionId=a,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aa(t),this.stats_=od(n),this.urlFn=o=>(this.appCheckToken&&(o[Bu]=this.appCheckToken),S_(n,b_,o))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new vE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ME)),sE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cd((...s)=>{const[a,r,o,c,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===qm)this.id=r,this.password=o;else if(a===bE)r?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(r,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,r]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,r)},()=>{this.onClosed_()},this.urlFn);const i={};i[qm]="t",i[T_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[wE]=this.scriptTagHolder.uniqueCallbackIdentifier),i[d_]=rd,this.transportSessionId&&(i[h_]=this.transportSessionId),this.lastSessionId&&(i[y_]=this.lastSessionId),this.applicationId&&(i[__]=this.applicationId),this.appCheckToken&&(i[Bu]=this.appCheckToken),typeof location<"u"&&location.hostname&&g_.test(location.hostname)&&(i[m_]=p_);const l=this.urlFn(i);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tl.forceAllow_=!0}static forceDisallow(){tl.forceDisallow_=!0}static isAvailable(){return tl.forceAllow_?!0:!tl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rE()&&!oE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Ne(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Fy(n),l=u_(i,AE);for(let s=0;s<l.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[NE]="t",i[w_]=t,i[E_]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Ne(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class cd{constructor(t,n,i,l){this.onDisconnect=i,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=o_(),window[xE+this.uniqueCallbackIdentifier]=t,window[SE+this.uniqueCallbackIdentifier]=n,this.myIFrame=cd.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(r){He("frame writing exception"),r.stack&&He(r.stack),He(r)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||He("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[w_]=this.myID,t[E_]=this.myPW,t[T_]=this.currentSerial;let n=this.urlFn(t),i="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+N_+i.length<=C_;){const a=this.pendingSegs.shift();i=i+"&"+EE+l+"="+a.seg+"&"+TE+l+"="+a.ts+"&"+CE+l+"="+a.d,l++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(i,Math.floor(RE)),s=()=>{clearTimeout(l),i()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const l=i.readyState;(!l||l==="loaded"||l==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{He("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=16384,OE=45e3;let Rr=null;typeof MozWebSocket<"u"?Rr=MozWebSocket:typeof WebSocket<"u"&&(Rr=WebSocket);class At{constructor(t,n,i,l,s,a,r){this.connId=t,this.applicationId=i,this.appCheckToken=l,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aa(this.connId),this.stats_=od(n),this.connURL=At.connectionURL_(n,a,r,l,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,l,s){const a={};return a[d_]=rd,typeof location<"u"&&location.hostname&&g_.test(location.hostname)&&(a[m_]=p_),n&&(a[h_]=n),i&&(a[y_]=i),l&&(a[Bu]=l),s&&(a[__]=s),S_(t,v_,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ci.set("previous_websocket_failure",!0);try{let i;OS(),this.mySock=new Rr(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){At.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Rr!==null&&!At.forceDisallow_}static previouslyFailed(){return ci.isInMemoryStorage||ci.get("previous_websocket_failure")===!0}markConnectionHealthy(){ci.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=zs(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(R(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=Ne(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=u_(n,DE);i.length>1&&this.sendString_(String(i.length));for(let l=0;l<i.length;l++)this.sendString_(i[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OE))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}At.responsesRequiredToBeHealthy=2;At.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static get ALL_TRANSPORTS(){return[tl,At]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=At&&At.isAvailable();let i=n&&!At.previouslyFailed();if(t.webSocketOnly&&(n||Je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[At];else{const l=this.transports_=[];for(const s of Is.ALL_TRANSPORTS)s&&s.isAvailable()&&l.push(s);Is.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Is.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=6e4,kE=5e3,zE=10*1024,LE=100*1024,wc="t",Vm="d",IE="s",Gm="r",UE="e",Ym="o",Fm="a",Qm="n",Km="p",BE="h";class HE{constructor(t,n,i,l,s,a,r,o,c,h){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=l,this.authToken_=s,this.onMessage_=a,this.onReady_=r,this.onDisconnect_=o,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aa("c:"+this.id+":"),this.transportManager_=new Is(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=ys(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(wc in t){const n=t[wc];n===Fm?this.upgradeIfSecondaryHealthy_():n===Gm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ym&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Fl("t",t),i=Fl("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Km,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Fm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Qm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Fl("t",t),i=Fl("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Fl(wc,t);if(Vm in t){const i=t[Vm];if(n===BE){const l={...i};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===Qm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===IE?this.onConnectionShutdown_(i):n===Gm?this.onReset_(i):n===UE?Uu("Server Error: "+i):n===Ym?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Uu("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),rd!==i&&Je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),ys(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ys(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Km,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ci.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{put(t,n,i,l){}merge(t,n,i,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(t){this.allowedEvents_=t,this.listeners_={},R(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let l=0;l<i.length;l++)i[l].callback.apply(i[l].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const l=this.getInitialEvent(t);l&&n.apply(i,l)}off(t,n,i){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let s=0;s<l.length;s++)if(l[s].callback===n&&(!i||i===l[s].context)){l.splice(s,1);return}}validateEventType_(t){R(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends R_{static getInstance(){return new Mr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return R(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=32,Zm=768;class se{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[i]=this.pieces_[l],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function $(){return new se("")}function V(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Pn(e){return e.pieces_.length-e.pieceNum_}function oe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new se(e.pieces_,t)}function M_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function qE(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function D_(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function O_(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new se(t,0)}function Ae(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof se)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let l=0;l<i.length;l++)i[l].length>0&&n.push(i[l])}return new se(n,0)}function Q(e){return e.pieceNum_>=e.pieces_.length}function Ge(e,t){const n=V(e),i=V(t);if(n===null)return t;if(n===i)return Ge(oe(e),oe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ud(e,t){if(Pn(e)!==Pn(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Rt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Pn(e)>Pn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class VE{constructor(t,n){this.errorPrefix_=n,this.parts_=D_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=fo(this.parts_[i]);j_(this)}}function GE(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=fo(t),j_(e)}function YE(e){const t=e.parts_.pop();e.byteLength_-=fo(t),e.parts_.length>0&&(e.byteLength_-=1)}function j_(e){if(e.byteLength_>Zm)throw new Error(e.errorPrefix_+"has a key path longer than "+Zm+" bytes ("+e.byteLength_+").");if(e.parts_.length>Xm)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Xm+") or object contains a cycle "+oi(e))}function oi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends R_{static getInstance(){return new fd}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return R(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=1e3,FE=60*5*1e3,Pm=30*1e3,QE=1.3,KE=3e4,XE="server_kill",$m=3;class on extends A_{constructor(t,n,i,l,s,a,r,o){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=l,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=r,this.authOverride_=o,this.id=on.nextPersistentConnectionId_++,this.log_=aa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ql,this.maxReconnectDelay_=FE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Mr.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const l=++this.requestNumber_,s={r:l,a:t,b:n};this.log_(Ne(s)),R(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[l]=i)}get(t){this.initConnection_();const n=new la,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const r=a.d;a.s==="ok"?n.resolve(r):n.reject(r)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,i,l){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),R(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),R(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const r={onComplete:l,hashFn:n,query:t,tag:i};this.listens.get(a).set(s,r),this.connected_&&this.sendListen_(r)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+i+" for "+l);const s={p:i},a="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,r=>{const o=r.d,c=r.s;on.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(l))===t&&(this.log_("listen response",r),c!=="ok"&&this.removeListen_(i,l),t.onComplete&&t.onComplete(c,o))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&kt(t,"w")){const i=Si(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||US(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Pm)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=IS(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,l=>{const s=l.s,a=l.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+l),R(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,l)&&this.connected_&&this.sendUnlisten_(i,l,t._queryObject,n)}sendUnlisten_(t,n,i,l){this.log_("Unlisten on "+t+" for "+n);const s={p:t},a="n";l&&(s.q=i,s.t=l),this.sendRequest(a,s)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,l){const s={p:n,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{l&&setTimeout(()=>{l(a.s,a.d)},Math.floor(0))})}put(t,n,i,l){this.putInternal("p",t,n,i,l)}merge(t,n,i,l){this.putInternal("m",t,n,i,l)}putInternal(t,n,i,l,s){this.initConnection_();const a={p:n,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:l}),this.outstandingPutCount_++;const r=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(r):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ne(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Uu("Unrecognized action received from server: "+Ne(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){R(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>KE&&(this.reconnectDelay_=Ql),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*QE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+on.nextConnectionId_++,s=this.lastSessionId;let a=!1,r=null;const o=function(){r?r.close():(a=!0,i())},c=function(f){R(r,"sendRequest call when we're not connected not allowed."),r.sendRequest(f)};this.realtime_={close:o,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?He("getToken() completed but was canceled"):(He("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,r=new HE(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,m=>{Je(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(XE)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Je(f),o())}}}interrupt(t){He("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){He("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Cm(this.interruptReasons_)&&(this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(s=>ad(s)).join("$"):i="default";const l=this.removeListen_(t,i);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,n){const i=new se(t).toString();let l;if(this.listens.has(i)){const s=this.listens.get(i);l=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else l=void 0;return l}onAuthRevoked_(t,n){He("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$m&&(this.reconnectDelay_=Pm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){He("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$m&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+a_.replace(/\./g,"-")]=1,Zy()?t["framework.cordova"]=1:DS()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Mr.getInstance().currentlyOnline();return Cm(this.interruptReasons_)&&t}}on.nextPersistentConnectionId_=0;on.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new G(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new G(Sl,t),l=new G(Sl,n);return this.compare(i,l)!==0}minPost(){return G.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma;class k_ extends po{static get __EMPTY_NODE(){return Ma}static set __EMPTY_NODE(t){Ma=t}compare(t,n){return Ll(t.name,n.name)}isDefinedOn(t){throw kl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return G.MIN}maxPost(){return new G(wi,Ma)}makePost(t,n){return R(typeof t=="string","KeyIndex indexValue must always be a string."),new G(t,Ma)}toString(){return".key"}}const ul=new k_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,n,i,l,s=null){this.isReverse_=l,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?i(t.key,n):1,l&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Oe{constructor(t,n,i,l,s){this.key=t,this.value=n,this.color=i??Oe.RED,this.left=l??$e.EMPTY_NODE,this.right=s??$e.EMPTY_NODE}copy(t,n,i,l,s){return new Oe(t??this.key,n??this.value,i??this.color,l??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let l=this;const s=i(t,l.key);return s<0?l=l.copy(null,null,null,l.left.insert(t,n,i),null):s===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,n,i)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return $e.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,l;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return $e.EMPTY_NODE;l=i.right.min_(),i=i.copy(l.key,l.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Oe.RED=!0;Oe.BLACK=!1;class ZE{copy(t,n,i,l,s){return this}insert(t,n,i){return new Oe(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $e{constructor(t,n=$e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new $e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Oe.BLACK,null,null))}remove(t){return new $e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Oe.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,l=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return l?l.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(l=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Da(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Da(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Da(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Da(this.root_,null,this.comparator_,!0,t)}}$e.EMPTY_NODE=new ZE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e,t){return Ll(e.name,t.name)}function dd(e,t){return Ll(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;function $E(e){Hu=e}const z_=function(e){return typeof e=="number"?"number:"+f_(e):"string:"+e},L_=function(e){if(e.isLeafNode()){const t=e.val();R(typeof t=="string"||typeof t=="number"||typeof t=="object"&&kt(t,".sv"),"Priority must be a string or number.")}else R(e===Hu||e.isEmpty(),"priority of unexpected type.");R(e===Hu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm;class Me{static set __childrenNodeConstructor(t){Wm=t}static get __childrenNodeConstructor(){return Wm}constructor(t,n=Me.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,R(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),L_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Me(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Q(t)?this:V(t)===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Me.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=V(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(R(i!==".priority"||Pn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Me.__childrenNodeConstructor.EMPTY_NODE.updateChild(oe(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+z_(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=f_(this.value_):t+=this.value_,this.lazyHash_=c_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Me.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Me.__childrenNodeConstructor?-1:(R(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,l=Me.VALUE_TYPE_ORDER.indexOf(n),s=Me.VALUE_TYPE_ORDER.indexOf(i);return R(l>=0,"Unknown leaf type: "+n),R(s>=0,"Unknown leaf type: "+i),l===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Me.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I_,U_;function WE(e){I_=e}function JE(e){U_=e}class eT extends po{compare(t,n){const i=t.node.getPriority(),l=n.node.getPriority(),s=i.compareTo(l);return s===0?Ll(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return G.MIN}maxPost(){return new G(wi,new Me("[PRIORITY-POST]",U_))}makePost(t,n){const i=I_(t);return new G(n,new Me("[PRIORITY-POST]",i))}toString(){return".priority"}}const ge=new eT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=Math.log(2);class nT{constructor(t){const n=s=>parseInt(Math.log(s)/tT,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const l=i(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Dr=function(e,t,n,i){e.sort(t);const l=function(o,c){const h=c-o;let f,d;if(h===0)return null;if(h===1)return f=e[o],d=n?n(f):f,new Oe(d,f.node,Oe.BLACK,null,null);{const m=parseInt(h/2,10)+o,_=l(o,m),b=l(m+1,c);return f=e[m],d=n?n(f):f,new Oe(d,f.node,Oe.BLACK,_,b)}},s=function(o){let c=null,h=null,f=e.length;const d=function(_,b){const S=f-_,g=f;f-=_;const p=l(S+1,g),y=e[S],v=n?n(y):y;m(new Oe(v,y.node,b,null,p))},m=function(_){c?(c.left=_,c=_):(h=_,c=_)};for(let _=0;_<o.count;++_){const b=o.nextBitIsOne(),S=Math.pow(2,o.count-(_+1));b?d(S,Oe.BLACK):(d(S,Oe.BLACK),d(S,Oe.RED))}return h},a=new nT(e.length),r=s(a);return new $e(i||t,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec;const Ii={};class nn{static get Default(){return R(Ii&&ge,"ChildrenNode.ts has not been loaded"),Ec=Ec||new nn({".priority":Ii},{".priority":ge}),Ec}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Si(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof $e?n:null}hasIndex(t){return kt(this.indexSet_,t.toString())}addIndex(t,n){R(t!==ul,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let l=!1;const s=n.getIterator(G.Wrap);let a=s.getNext();for(;a;)l=l||t.isDefinedOn(a.node),i.push(a),a=s.getNext();let r;l?r=Dr(i,t.getCompare()):r=Ii;const o=t.toString(),c={...this.indexSet_};c[o]=t;const h={...this.indexes_};return h[o]=r,new nn(h,c)}addToIndexes(t,n){const i=Cr(this.indexes_,(l,s)=>{const a=Si(this.indexSet_,s);if(R(a,"Missing index implementation for "+s),l===Ii)if(a.isDefinedOn(t.node)){const r=[],o=n.getIterator(G.Wrap);let c=o.getNext();for(;c;)c.name!==t.name&&r.push(c),c=o.getNext();return r.push(t),Dr(r,a.getCompare())}else return Ii;else{const r=n.get(t.name);let o=l;return r&&(o=o.remove(new G(t.name,r))),o.insert(t,t.node)}});return new nn(i,this.indexSet_)}removeFromIndexes(t,n){const i=Cr(this.indexes_,l=>{if(l===Ii)return l;{const s=n.get(t.name);return s?l.remove(new G(t.name,s)):l}});return new nn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl;class z{static get EMPTY_NODE(){return Kl||(Kl=new z(new $e(dd),null,nn.Default))}constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&L_(this.priorityNode_),this.children_.isEmpty()&&R(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Kl}updatePriority(t){return this.children_.isEmpty()?this:new z(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Kl:n}}getChild(t){const n=V(t);return n===null?this:this.getImmediateChild(n).getChild(oe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(R(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new G(t,n);let l,s;n.isEmpty()?(l=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(l=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_));const a=l.isEmpty()?Kl:this.priorityNode_;return new z(l,a,s)}}updateChild(t,n){const i=V(t);if(i===null)return n;{R(V(t)!==".priority"||Pn(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(i).updateChild(oe(t),n);return this.updateImmediateChild(i,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,l=0,s=!0;if(this.forEachChild(ge,(a,r)=>{n[a]=r.val(t),i++,s&&z.INTEGER_REGEXP_.test(a)?l=Math.max(l,Number(a)):s=!1}),!t&&s&&l<2*i){const a=[];for(const r in n)a[r]=n[r];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+z_(this.getPriority().val())+":"),this.forEachChild(ge,(n,i)=>{const l=i.hash();l!==""&&(t+=":"+n+":"+l)}),this.lazyHash_=t===""?"":c_(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const l=this.resolveIndex_(i);if(l){const s=l.getPredecessorKey(new G(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new G(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new G(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,G.Wrap);let s=l.peek();for(;s!=null&&n.compare(s,t)<0;)l.getNext(),s=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,G.Wrap);let s=l.peek();for(;s!=null&&n.compare(s,t)>0;)l.getNext(),s=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ra?-1:0}withIndex(t){if(t===ul||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===ul||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ge),l=n.getIterator(ge);let s=i.getNext(),a=l.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=l.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===ul?null:this.indexMap_.get(t.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class iT extends z{constructor(){super(new $e(dd),z.EMPTY_NODE,nn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return z.EMPTY_NODE}isEmpty(){return!1}}const ra=new iT;Object.defineProperties(G,{MIN:{value:new G(Sl,z.EMPTY_NODE)},MAX:{value:new G(wi,ra)}});k_.__EMPTY_NODE=z.EMPTY_NODE;Me.__childrenNodeConstructor=z;$E(ra);JE(ra);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=!0;function Te(e,t=null){if(e===null)return z.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),R(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Me(n,Te(t))}if(!(e instanceof Array)&&lT){const n=[];let i=!1;if(nt(e,(a,r)=>{if(a.substring(0,1)!=="."){const o=Te(r);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new G(a,o)))}}),n.length===0)return z.EMPTY_NODE;const s=Dr(n,PE,a=>a.name,dd);if(i){const a=Dr(n,ge.getCompare());return new z(s,Te(t),new nn({".priority":a},{".priority":ge}))}else return new z(s,Te(t),nn.Default)}else{let n=z.EMPTY_NODE;return nt(e,(i,l)=>{if(kt(e,i)&&i.substring(0,1)!=="."){const s=Te(l);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Te(t))}}WE(Te);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends po{constructor(t){super(),this.indexPath_=t,R(!Q(t)&&V(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),l=this.extractChild(n.node),s=i.compareTo(l);return s===0?Ll(t.name,n.name):s}makePost(t,n){const i=Te(t),l=z.EMPTY_NODE.updateChild(this.indexPath_,i);return new G(n,l)}maxPost(){const t=z.EMPTY_NODE.updateChild(this.indexPath_,ra);return new G(wi,t)}toString(){return D_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends po{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Ll(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return G.MIN}maxPost(){return G.MAX}makePost(t,n){const i=Te(t);return new G(n,i)}toString(){return".value"}}const rT=new aT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(e){return{type:"value",snapshotNode:e}}function wl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Us(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Bs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function oT(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t){this.index_=t}updateChild(t,n,i,l,s,a){R(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const r=t.getImmediateChild(n);return r.getChild(l).equals(i.getChild(l))&&r.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?t.hasChild(n)?a.trackChildChange(Us(n,r)):R(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):r.isEmpty()?a.trackChildChange(wl(n,i)):a.trackChildChange(Bs(n,i,r))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(ge,(l,s)=>{n.hasChild(l)||i.trackChildChange(Us(l,s))}),n.isLeafNode()||n.forEachChild(ge,(l,s)=>{if(t.hasChild(l)){const a=t.getImmediateChild(l);a.equals(s)||i.trackChildChange(Bs(l,s,a))}else i.trackChildChange(wl(l,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?z.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.indexedFilter_=new hd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Hs.getStartPost_(t),this.endPost_=Hs.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,l,s,a){return this.matches(new G(n,i))||(i=z.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,l,s,a)}updateFullNode(t,n,i){n.isLeafNode()&&(n=z.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(z.EMPTY_NODE);const s=this;return n.forEachChild(ge,(a,r)=>{s.matches(new G(a,r))||(l=l.updateImmediateChild(a,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Hs(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,l,s,a){return this.rangedFilter_.matches(new G(n,i))||(i=z.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,l,s,a):this.fullLimitUpdateChild_(t,n,i,s,a)}updateFullNode(t,n,i){let l;if(n.isLeafNode()||n.isEmpty())l=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const r=s.getNext();if(this.withinDirectionalStart(r))if(this.withinDirectionalEnd(r))l=l.updateImmediateChild(r.name,r.node),a++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(z.EMPTY_NODE);let s;this.reverse_?s=l.getReverseIterator(this.index_):s=l.getIterator(this.index_);let a=0;for(;s.hasNext();){const r=s.getNext();a<this.limit_&&this.withinDirectionalStart(r)&&this.withinDirectionalEnd(r)?a++:l=l.updateImmediateChild(r.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,l,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(d,m)=>f(m,d)}else a=this.index_.getCompare();const r=t;R(r.numChildren()===this.limit_,"");const o=new G(n,i),c=this.reverse_?r.getFirstChild(this.index_):r.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(r.hasChild(n)){const f=r.getImmediateChild(n);let d=l.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||r.hasChild(d.name));)d=l.getChildAfterChild(this.index_,d,this.reverse_);const m=d==null?1:a(d,o);if(h&&!i.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(Bs(n,i,f)),r.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(Us(n,f));const b=r.updateImmediateChild(n,z.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(wl(d.name,d.node)),b.updateImmediateChild(d.name,d.node)):b}}else return i.isEmpty()?t:h&&a(c,o)>=0?(s!=null&&(s.trackChildChange(Us(c.name,c.node)),s.trackChildChange(wl(n,i))),r.updateImmediateChild(n,i).updateImmediateChild(c.name,z.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return R(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return R(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sl}hasEnd(){return this.endSet_}getIndexEndValue(){return R(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return R(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return R(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ge}copy(){const t=new md;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function uT(e){return e.loadsAllData()?new hd(e.getIndex()):e.hasLimit()?new cT(e):new Hs(e)}function Jm(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ge?n="$priority":e.index_===rT?n="$value":e.index_===ul?n="$key":(R(e.index_ instanceof sT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ne(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=Ne(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+Ne(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=Ne(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+Ne(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ep(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ge&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends A_{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(R(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,l){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=l,this.log_=aa("p:rest:"),this.listens_={}}listen(t,n,i,l){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=Or.getListenId_(t,i),r={};this.listens_[a]=r;const o=Jm(t._queryParams);this.restRequest_(s+".json",o,(c,h)=>{let f=h;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,i),Si(this.listens_,a)===r){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",l(d,null)}})}unlisten(t,n){const i=Or.getListenId_(t,n);delete this.listens_[i]}get(t){const n=Jm(t._queryParams),i=t._path.toString(),l=new la;return this.restRequest_(i+".json",n,(s,a)=>{let r=a;s===404&&(r=null,s=null),s===null?(this.onDataUpdate_(i,r,!1,null),l.resolve(r)):l.reject(new Error(r))}),l.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,s])=>{l&&l.accessToken&&(n.auth=l.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+BS(n);this.log_("Sending REST request for "+a);const r=new XMLHttpRequest;r.onreadystatechange=()=>{if(i&&r.readyState===4){this.log_("REST Response for "+a+" received. status:",r.status,"response:",r.responseText);let o=null;if(r.status>=200&&r.status<300){try{o=zs(r.responseText)}catch{Je("Failed to parse JSON response for "+a+": "+r.responseText)}i(null,o)}else r.status!==401&&r.status!==404&&Je("Got unsuccessful REST response for "+a+" Status: "+r.status),i(r.status);i=null}},r.open("GET",a,!0),r.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return{value:null,children:new Map}}function H_(e,t,n){if(Q(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=V(t);e.children.has(i)||e.children.set(i,jr());const l=e.children.get(i);t=oe(t),H_(l,t,n)}}function qu(e,t,n){e.value!==null?n(t,e.value):dT(e,(i,l)=>{const s=new se(t.toString()+"/"+i);qu(l,s,n)})}function dT(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&nt(this.last_,(i,l)=>{n[i]=n[i]-l}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=10*1e3,mT=30*1e3,pT=5*60*1e3;class gT{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new hT(t);const i=tp+(mT-tp)*Math.random();ys(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;nt(t,(l,s)=>{s>0&&kt(this.statsToReport_,l)&&(n[l]=s,i=!0)}),i&&this.server_.reportStats(n),ys(this.reportStats_.bind(this),Math.floor(Math.random()*2*pT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mt||(Mt={}));function q_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function pd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function gd(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Mt.ACK_USER_WRITE,this.source=q_()}operationForChild(t){if(Q(this.path)){if(this.affectedTree.value!=null)return R(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new se(t));return new kr($(),n,this.revert)}}else return R(V(this.path)===t,"operationForChild called for unrelated child."),new kr(oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n){this.source=t,this.path=n,this.type=Mt.LISTEN_COMPLETE}operationForChild(t){return Q(this.path)?new qs(this.source,$()):new qs(this.source,oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Mt.OVERWRITE}operationForChild(t){return Q(this.path)?new Ei(this.source,$(),this.snap.getImmediateChild(t)):new Ei(this.source,oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Mt.MERGE}operationForChild(t){if(Q(this.path)){const n=this.children.subtree(new se(t));return n.isEmpty()?null:n.value?new Ei(this.source,$(),n.value):new Vs(this.source,$(),n)}else return R(V(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Vs(this.source,oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Q(t))return this.isFullyInitialized()&&!this.filtered_;const n=V(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function _T(e,t,n,i){const l=[],s=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(oT(a.childName,a.snapshotNode))}),Xl(e,l,"child_removed",t,i,n),Xl(e,l,"child_added",t,i,n),Xl(e,l,"child_moved",s,i,n),Xl(e,l,"child_changed",t,i,n),Xl(e,l,"value",t,i,n),l}function Xl(e,t,n,i,l,s){const a=i.filter(r=>r.type===n);a.sort((r,o)=>bT(e,r,o)),a.forEach(r=>{const o=vT(e,r,s);l.forEach(c=>{c.respondsTo(r.type)&&t.push(c.createEvent(o,e.query_))})})}function vT(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function bT(e,t,n){if(t.childName==null||n.childName==null)throw kl("Should only compare child_ events.");const i=new G(t.childName,t.snapshotNode),l=new G(n.childName,n.snapshotNode);return e.index_.compare(i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(e,t){return{eventCache:e,serverCache:t}}function _s(e,t,n,i){return go(new $n(t,n,i),e.serverCache)}function V_(e,t,n,i){return go(e.eventCache,new $n(t,n,i))}function zr(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ti(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;const xT=()=>(Tc||(Tc=new $e(aE)),Tc);class fe{static fromObject(t){let n=new fe(null);return nt(t,(i,l)=>{n=n.set(new se(i),l)}),n}constructor(t,n=xT()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:$(),value:this.value};if(Q(t))return null;{const i=V(t),l=this.children.get(i);if(l!==null){const s=l.findRootMostMatchingPathAndValue(oe(t),n);return s!=null?{path:Ae(new se(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Q(t))return this;{const n=V(t),i=this.children.get(n);return i!==null?i.subtree(oe(t)):new fe(null)}}set(t,n){if(Q(t))return new fe(n,this.children);{const i=V(t),s=(this.children.get(i)||new fe(null)).set(oe(t),n),a=this.children.insert(i,s);return new fe(this.value,a)}}remove(t){if(Q(t))return this.children.isEmpty()?new fe(null):new fe(null,this.children);{const n=V(t),i=this.children.get(n);if(i){const l=i.remove(oe(t));let s;return l.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,l),this.value===null&&s.isEmpty()?new fe(null):new fe(this.value,s)}else return this}}get(t){if(Q(t))return this.value;{const n=V(t),i=this.children.get(n);return i?i.get(oe(t)):null}}setTree(t,n){if(Q(t))return n;{const i=V(t),s=(this.children.get(i)||new fe(null)).setTree(oe(t),n);let a;return s.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,s),new fe(this.value,a)}}fold(t){return this.fold_($(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((l,s)=>{i[l]=s.fold_(Ae(t,l),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,$(),n)}findOnPath_(t,n,i){const l=this.value?i(n,this.value):!1;if(l)return l;if(Q(t))return null;{const s=V(t),a=this.children.get(s);return a?a.findOnPath_(oe(t),Ae(n,s),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,$(),n)}foreachOnPath_(t,n,i){if(Q(t))return this;{this.value&&i(n,this.value);const l=V(t),s=this.children.get(l);return s?s.foreachOnPath_(oe(t),Ae(n,l),i):new fe(null)}}foreach(t){this.foreach_($(),t)}foreach_(t,n){this.children.inorderTraversal((i,l)=>{l.foreach_(Ae(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.writeTree_=t}static empty(){return new Dt(new fe(null))}}function vs(e,t,n){if(Q(t))return new Dt(new fe(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const l=i.path;let s=i.value;const a=Ge(l,t);return s=s.updateChild(a,n),new Dt(e.writeTree_.set(l,s))}else{const l=new fe(n),s=e.writeTree_.setTree(t,l);return new Dt(s)}}}function np(e,t,n){let i=e;return nt(n,(l,s)=>{i=vs(i,Ae(t,l),s)}),i}function ip(e,t){if(Q(t))return Dt.empty();{const n=e.writeTree_.setTree(t,new fe(null));return new Dt(n)}}function Vu(e,t){return ji(e,t)!=null}function ji(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ge(n.path,t)):null}function lp(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ge,(i,l)=>{t.push(new G(i,l))}):e.writeTree_.children.inorderTraversal((i,l)=>{l.value!=null&&t.push(new G(i,l.value))}),t}function Vn(e,t){if(Q(t))return e;{const n=ji(e,t);return n!=null?new Dt(new fe(n)):new Dt(e.writeTree_.subtree(t))}}function Gu(e){return e.writeTree_.isEmpty()}function El(e,t){return G_($(),e.writeTree_,t)}function G_(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((l,s)=>{l===".priority"?(R(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=G_(Ae(e,l),s,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(Ae(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(e,t){return K_(t,e)}function ST(e,t,n,i,l){R(i>e.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:l}),l&&(e.visibleWrites=vs(e.visibleWrites,t,n)),e.lastWriteId=i}function wT(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function ET(e,t){const n=e.allWrites.findIndex(r=>r.writeId===t);R(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let l=i.visible,s=!1,a=e.allWrites.length-1;for(;l&&a>=0;){const r=e.allWrites[a];r.visible&&(a>=n&&TT(r,i.path)?l=!1:Rt(i.path,r.path)&&(s=!0)),a--}if(l){if(s)return CT(e),!0;if(i.snap)e.visibleWrites=ip(e.visibleWrites,i.path);else{const r=i.children;nt(r,o=>{e.visibleWrites=ip(e.visibleWrites,Ae(i.path,o))})}return!0}else return!1}function TT(e,t){if(e.snap)return Rt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Rt(Ae(e.path,n),t))return!0;return!1}function CT(e){e.visibleWrites=Y_(e.allWrites,NT,$()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function NT(e){return e.visible}function Y_(e,t,n){let i=Dt.empty();for(let l=0;l<e.length;++l){const s=e[l];if(t(s)){const a=s.path;let r;if(s.snap)Rt(n,a)?(r=Ge(n,a),i=vs(i,r,s.snap)):Rt(a,n)&&(r=Ge(a,n),i=vs(i,$(),s.snap.getChild(r)));else if(s.children){if(Rt(n,a))r=Ge(n,a),i=np(i,r,s.children);else if(Rt(a,n))if(r=Ge(a,n),Q(r))i=np(i,$(),s.children);else{const o=Si(s.children,V(r));if(o){const c=o.getChild(oe(r));i=vs(i,$(),c)}}}else throw kl("WriteRecord should have .snap or .children")}}return i}function F_(e,t,n,i,l){if(!i&&!l){const s=ji(e.visibleWrites,t);if(s!=null)return s;{const a=Vn(e.visibleWrites,t);if(Gu(a))return n;if(n==null&&!Vu(a,$()))return null;{const r=n||z.EMPTY_NODE;return El(a,r)}}}else{const s=Vn(e.visibleWrites,t);if(!l&&Gu(s))return n;if(!l&&n==null&&!Vu(s,$()))return null;{const a=function(c){return(c.visible||l)&&(!i||!~i.indexOf(c.writeId))&&(Rt(c.path,t)||Rt(t,c.path))},r=Y_(e.allWrites,a,t),o=n||z.EMPTY_NODE;return El(r,o)}}}function AT(e,t,n){let i=z.EMPTY_NODE;const l=ji(e.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(ge,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(n){const s=Vn(e.visibleWrites,t);return n.forEachChild(ge,(a,r)=>{const o=El(Vn(s,new se(a)),r);i=i.updateImmediateChild(a,o)}),lp(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const s=Vn(e.visibleWrites,t);return lp(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function RT(e,t,n,i,l){R(i||l,"Either existingEventSnap or existingServerSnap must exist");const s=Ae(t,n);if(Vu(e.visibleWrites,s))return null;{const a=Vn(e.visibleWrites,s);return Gu(a)?l.getChild(n):El(a,l.getChild(n))}}function MT(e,t,n,i){const l=Ae(t,n),s=ji(e.visibleWrites,l);if(s!=null)return s;if(i.isCompleteForChild(n)){const a=Vn(e.visibleWrites,l);return El(a,i.getNode().getImmediateChild(n))}else return null}function DT(e,t){return ji(e.visibleWrites,t)}function OT(e,t,n,i,l,s,a){let r;const o=Vn(e.visibleWrites,t),c=ji(o,$());if(c!=null)r=c;else if(n!=null)r=El(o,n);else return[];if(r=r.withIndex(a),!r.isEmpty()&&!r.isLeafNode()){const h=[],f=a.getCompare(),d=s?r.getReverseIteratorFrom(i,a):r.getIteratorFrom(i,a);let m=d.getNext();for(;m&&h.length<l;)f(m,i)!==0&&h.push(m),m=d.getNext();return h}else return[]}function jT(){return{visibleWrites:Dt.empty(),allWrites:[],lastWriteId:-1}}function Lr(e,t,n,i){return F_(e.writeTree,e.treePath,t,n,i)}function yd(e,t){return AT(e.writeTree,e.treePath,t)}function sp(e,t,n,i){return RT(e.writeTree,e.treePath,t,n,i)}function Ir(e,t){return DT(e.writeTree,Ae(e.treePath,t))}function kT(e,t,n,i,l,s){return OT(e.writeTree,e.treePath,t,n,i,l,s)}function _d(e,t,n){return MT(e.writeTree,e.treePath,t,n)}function Q_(e,t){return K_(Ae(e.treePath,t),e.writeTree)}function K_(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;R(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),R(i!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(i);if(l){const s=l.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Bs(i,t.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Us(i,l.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,wl(i,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Bs(i,t.snapshotNode,l.oldSnap));else throw kl("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const X_=new LT;class vd{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new $n(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _d(this.writes_,t,i)}}getChildAfterChild(t,n,i){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ti(this.viewCache_),s=kT(this.writes_,l,n,1,i,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(e){return{filter:e}}function UT(e,t){R(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),R(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function BT(e,t,n,i,l){const s=new zT;let a,r;if(n.type===Mt.OVERWRITE){const c=n;c.source.fromUser?a=Yu(e,t,c.path,c.snap,i,l,s):(R(c.source.fromServer,"Unknown source."),r=c.source.tagged||t.serverCache.isFiltered()&&!Q(c.path),a=Ur(e,t,c.path,c.snap,i,l,r,s))}else if(n.type===Mt.MERGE){const c=n;c.source.fromUser?a=qT(e,t,c.path,c.children,i,l,s):(R(c.source.fromServer,"Unknown source."),r=c.source.tagged||t.serverCache.isFiltered(),a=Fu(e,t,c.path,c.children,i,l,r,s))}else if(n.type===Mt.ACK_USER_WRITE){const c=n;c.revert?a=YT(e,t,c.path,i,l,s):a=VT(e,t,c.path,c.affectedTree,i,l,s)}else if(n.type===Mt.LISTEN_COMPLETE)a=GT(e,t,n.path,i,s);else throw kl("Unknown operation type: "+n.type);const o=s.getChanges();return HT(t,a,o),{viewCache:a,changes:o}}function HT(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const l=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=zr(e);(n.length>0||!e.eventCache.isFullyInitialized()||l&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(B_(zr(t)))}}function Z_(e,t,n,i,l,s){const a=t.eventCache;if(Ir(i,n)!=null)return t;{let r,o;if(Q(n))if(R(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Ti(t),h=c instanceof z?c:z.EMPTY_NODE,f=yd(i,h);r=e.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const c=Lr(i,Ti(t));r=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const c=V(n);if(c===".priority"){R(Pn(n)===1,"Can't have a priority with additional path components");const h=a.getNode();o=t.serverCache.getNode();const f=sp(i,n,h,o);f!=null?r=e.filter.updatePriority(h,f):r=a.getNode()}else{const h=oe(n);let f;if(a.isCompleteForChild(c)){o=t.serverCache.getNode();const d=sp(i,n,a.getNode(),o);d!=null?f=a.getNode().getImmediateChild(c).updateChild(h,d):f=a.getNode().getImmediateChild(c)}else f=_d(i,c,t.serverCache);f!=null?r=e.filter.updateChild(a.getNode(),c,f,h,l,s):r=a.getNode()}}return _s(t,r,a.isFullyInitialized()||Q(n),e.filter.filtersNodes())}}function Ur(e,t,n,i,l,s,a,r){const o=t.serverCache;let c;const h=a?e.filter:e.filter.getIndexedFilter();if(Q(n))c=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const m=o.getNode().updateChild(n,i);c=h.updateFullNode(o.getNode(),m,null)}else{const m=V(n);if(!o.isCompleteForPath(n)&&Pn(n)>1)return t;const _=oe(n),S=o.getNode().getImmediateChild(m).updateChild(_,i);m===".priority"?c=h.updatePriority(o.getNode(),S):c=h.updateChild(o.getNode(),m,S,_,X_,null)}const f=V_(t,c,o.isFullyInitialized()||Q(n),h.filtersNodes()),d=new vd(l,f,s);return Z_(e,f,n,l,d,r)}function Yu(e,t,n,i,l,s,a){const r=t.eventCache;let o,c;const h=new vd(l,t,s);if(Q(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,a),o=_s(t,c,!0,e.filter.filtersNodes());else{const f=V(n);if(f===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),o=_s(t,c,r.isFullyInitialized(),r.isFiltered());else{const d=oe(n),m=r.getNode().getImmediateChild(f);let _;if(Q(d))_=i;else{const b=h.getCompleteChild(f);b!=null?M_(d)===".priority"&&b.getChild(O_(d)).isEmpty()?_=b:_=b.updateChild(d,i):_=z.EMPTY_NODE}if(m.equals(_))o=t;else{const b=e.filter.updateChild(r.getNode(),f,_,d,h,a);o=_s(t,b,r.isFullyInitialized(),e.filter.filtersNodes())}}}return o}function ap(e,t){return e.eventCache.isCompleteForChild(t)}function qT(e,t,n,i,l,s,a){let r=t;return i.foreach((o,c)=>{const h=Ae(n,o);ap(t,V(h))&&(r=Yu(e,r,h,c,l,s,a))}),i.foreach((o,c)=>{const h=Ae(n,o);ap(t,V(h))||(r=Yu(e,r,h,c,l,s,a))}),r}function rp(e,t,n){return n.foreach((i,l)=>{t=t.updateChild(i,l)}),t}function Fu(e,t,n,i,l,s,a,r){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let o=t,c;Q(n)?c=i:c=new fe(null).setTree(n,i);const h=t.serverCache.getNode();return c.children.inorderTraversal((f,d)=>{if(h.hasChild(f)){const m=t.serverCache.getNode().getImmediateChild(f),_=rp(e,m,d);o=Ur(e,o,new se(f),_,l,s,a,r)}}),c.children.inorderTraversal((f,d)=>{const m=!t.serverCache.isCompleteForChild(f)&&d.value===null;if(!h.hasChild(f)&&!m){const _=t.serverCache.getNode().getImmediateChild(f),b=rp(e,_,d);o=Ur(e,o,new se(f),b,l,s,a,r)}}),o}function VT(e,t,n,i,l,s,a){if(Ir(l,n)!=null)return t;const r=t.serverCache.isFiltered(),o=t.serverCache;if(i.value!=null){if(Q(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return Ur(e,t,n,o.getNode().getChild(n),l,s,r,a);if(Q(n)){let c=new fe(null);return o.getNode().forEachChild(ul,(h,f)=>{c=c.set(new se(h),f)}),Fu(e,t,n,c,l,s,r,a)}else return t}else{let c=new fe(null);return i.foreach((h,f)=>{const d=Ae(n,h);o.isCompleteForPath(d)&&(c=c.set(h,o.getNode().getChild(d)))}),Fu(e,t,n,c,l,s,r,a)}}function GT(e,t,n,i,l){const s=t.serverCache,a=V_(t,s.getNode(),s.isFullyInitialized()||Q(n),s.isFiltered());return Z_(e,a,n,i,X_,l)}function YT(e,t,n,i,l,s){let a;if(Ir(i,n)!=null)return t;{const r=new vd(i,t,l),o=t.eventCache.getNode();let c;if(Q(n)||V(n)===".priority"){let h;if(t.serverCache.isFullyInitialized())h=Lr(i,Ti(t));else{const f=t.serverCache.getNode();R(f instanceof z,"serverChildren would be complete if leaf node"),h=yd(i,f)}h=h,c=e.filter.updateFullNode(o,h,s)}else{const h=V(n);let f=_d(i,h,t.serverCache);f==null&&t.serverCache.isCompleteForChild(h)&&(f=o.getImmediateChild(h)),f!=null?c=e.filter.updateChild(o,h,f,oe(n),r,s):t.eventCache.getNode().hasChild(h)?c=e.filter.updateChild(o,h,z.EMPTY_NODE,oe(n),r,s):c=o,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Lr(i,Ti(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,s)))}return a=t.serverCache.isFullyInitialized()||Ir(i,$())!=null,_s(t,c,a,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,l=new hd(i.getIndex()),s=uT(i);this.processor_=IT(s);const a=n.serverCache,r=n.eventCache,o=l.updateFullNode(z.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(z.EMPTY_NODE,r.getNode(),null),h=new $n(o,a.isFullyInitialized(),l.filtersNodes()),f=new $n(c,r.isFullyInitialized(),s.filtersNodes());this.viewCache_=go(f,h),this.eventGenerator_=new yT(this.query_)}get query(){return this.query_}}function QT(e){return e.viewCache_.serverCache.getNode()}function KT(e){return zr(e.viewCache_)}function XT(e,t){const n=Ti(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Q(t)&&!n.getImmediateChild(V(t)).isEmpty())?n.getChild(t):null}function op(e){return e.eventRegistrations_.length===0}function ZT(e,t){e.eventRegistrations_.push(t)}function cp(e,t,n){const i=[];if(n){R(t==null,"A cancel should cancel all event registrations.");const l=e.query._path;e.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,l);a&&i.push(a)})}if(t){let l=[];for(let s=0;s<e.eventRegistrations_.length;++s){const a=e.eventRegistrations_[s];if(!a.matches(t))l.push(a);else if(t.hasAnyCallback()){l=l.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=l}else e.eventRegistrations_=[];return i}function up(e,t,n,i){t.type===Mt.MERGE&&t.source.queryId!==null&&(R(Ti(e.viewCache_),"We should always have a full cache before handling merges"),R(zr(e.viewCache_),"Missing event cache, even though we have a server cache"));const l=e.viewCache_,s=BT(e.processor_,l,t,n,i);return UT(e.processor_,s.viewCache),R(s.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,P_(e,s.changes,s.viewCache.eventCache.getNode(),null)}function PT(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ge,(s,a)=>{i.push(wl(s,a))}),n.isFullyInitialized()&&i.push(B_(n.getNode())),P_(e,i,n.getNode(),t)}function P_(e,t,n,i){const l=i?[i]:e.eventRegistrations_;return _T(e.eventGenerator_,t,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Br;class $_{constructor(){this.views=new Map}}function $T(e){R(!Br,"__referenceConstructor has already been defined"),Br=e}function WT(){return R(Br,"Reference.ts has not been loaded"),Br}function JT(e){return e.views.size===0}function bd(e,t,n,i){const l=t.source.queryId;if(l!==null){const s=e.views.get(l);return R(s!=null,"SyncTree gave us an op for an invalid query."),up(s,t,n,i)}else{let s=[];for(const a of e.views.values())s=s.concat(up(a,t,n,i));return s}}function W_(e,t,n,i,l){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let r=Lr(n,l?i:null),o=!1;r?o=!0:i instanceof z?(r=yd(n,i),o=!1):(r=z.EMPTY_NODE,o=!1);const c=go(new $n(r,o,!1),new $n(i,l,!1));return new FT(t,c)}return a}function e2(e,t,n,i,l,s){const a=W_(e,t,i,l,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),ZT(a,n),PT(a,n)}function t2(e,t,n,i){const l=t._queryIdentifier,s=[];let a=[];const r=Wn(e);if(l==="default")for(const[o,c]of e.views.entries())a=a.concat(cp(c,n,i)),op(c)&&(e.views.delete(o),c.query._queryParams.loadsAllData()||s.push(c.query));else{const o=e.views.get(l);o&&(a=a.concat(cp(o,n,i)),op(o)&&(e.views.delete(l),o.query._queryParams.loadsAllData()||s.push(o.query)))}return r&&!Wn(e)&&s.push(new(WT())(t._repo,t._path)),{removed:s,events:a}}function J_(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Gn(e,t){let n=null;for(const i of e.views.values())n=n||XT(i,t);return n}function ev(e,t){if(t._queryParams.loadsAllData())return _o(e);{const i=t._queryIdentifier;return e.views.get(i)}}function tv(e,t){return ev(e,t)!=null}function Wn(e){return _o(e)!=null}function _o(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr;function n2(e){R(!Hr,"__referenceConstructor has already been defined"),Hr=e}function i2(){return R(Hr,"Reference.ts has not been loaded"),Hr}let l2=1;class fp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new fe(null),this.pendingWriteTree_=jT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xd(e,t,n,i,l){return ST(e.pendingWriteTree_,t,n,i,l),l?ca(e,new Ei(q_(),t,n)):[]}function ui(e,t,n=!1){const i=wT(e.pendingWriteTree_,t);if(ET(e.pendingWriteTree_,t)){let s=new fe(null);return i.snap!=null?s=s.set($(),!0):nt(i.children,a=>{s=s.set(new se(a),!0)}),ca(e,new kr(i.path,s,n))}else return[]}function oa(e,t,n){return ca(e,new Ei(pd(),t,n))}function s2(e,t,n){const i=fe.fromObject(n);return ca(e,new Vs(pd(),t,i))}function a2(e,t){return ca(e,new qs(pd(),t))}function r2(e,t,n){const i=Sd(e,n);if(i){const l=wd(i),s=l.path,a=l.queryId,r=Ge(s,t),o=new qs(gd(a),r);return Ed(e,s,o)}else return[]}function qr(e,t,n,i,l=!1){const s=t._path,a=e.syncPointTree_.get(s);let r=[];if(a&&(t._queryIdentifier==="default"||tv(a,t))){const o=t2(a,t,n,i);JT(a)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=o.removed;if(r=o.events,!l){const h=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=e.syncPointTree_.findOnPath(s,(d,m)=>Wn(m));if(h&&!f){const d=e.syncPointTree_.subtree(s);if(!d.isEmpty()){const m=u2(d);for(let _=0;_<m.length;++_){const b=m[_],S=b.query,g=sv(e,b);e.listenProvider_.startListening(bs(S),Gs(e,S),g.hashFn,g.onComplete)}}}!f&&c.length>0&&!i&&(h?e.listenProvider_.stopListening(bs(t),null):c.forEach(d=>{const m=e.queryToTagMap.get(bo(d));e.listenProvider_.stopListening(bs(d),m)}))}f2(e,c)}return r}function nv(e,t,n,i){const l=Sd(e,i);if(l!=null){const s=wd(l),a=s.path,r=s.queryId,o=Ge(a,t),c=new Ei(gd(r),o,n);return Ed(e,a,c)}else return[]}function o2(e,t,n,i){const l=Sd(e,i);if(l){const s=wd(l),a=s.path,r=s.queryId,o=Ge(a,t),c=fe.fromObject(n),h=new Vs(gd(r),o,c);return Ed(e,a,h)}else return[]}function Qu(e,t,n,i=!1){const l=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(l,(d,m)=>{const _=Ge(d,l);s=s||Gn(m,_),a=a||Wn(m)});let r=e.syncPointTree_.get(l);r?(a=a||Wn(r),s=s||Gn(r,$())):(r=new $_,e.syncPointTree_=e.syncPointTree_.set(l,r));let o;s!=null?o=!0:(o=!1,s=z.EMPTY_NODE,e.syncPointTree_.subtree(l).foreachChild((m,_)=>{const b=Gn(_,$());b&&(s=s.updateImmediateChild(m,b))}));const c=tv(r,t);if(!c&&!t._queryParams.loadsAllData()){const d=bo(t);R(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");const m=d2();e.queryToTagMap.set(d,m),e.tagToQueryMap.set(m,d)}const h=yo(e.pendingWriteTree_,l);let f=e2(r,t,n,h,s,o);if(!c&&!a&&!i){const d=ev(r,t);f=f.concat(h2(e,t,d))}return f}function vo(e,t,n){const l=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(a,r)=>{const o=Ge(a,t),c=Gn(r,o);if(c)return c});return F_(l,t,s,n,!0)}function c2(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(c,h)=>{const f=Ge(c,n);i=i||Gn(h,f)});let l=e.syncPointTree_.get(n);l?i=i||Gn(l,$()):(l=new $_,e.syncPointTree_=e.syncPointTree_.set(n,l));const s=i!=null,a=s?new $n(i,!0,!1):null,r=yo(e.pendingWriteTree_,t._path),o=W_(l,t,r,s?a.getNode():z.EMPTY_NODE,s);return KT(o)}function ca(e,t){return iv(t,e.syncPointTree_,null,yo(e.pendingWriteTree_,$()))}function iv(e,t,n,i){if(Q(e.path))return lv(e,t,n,i);{const l=t.get($());n==null&&l!=null&&(n=Gn(l,$()));let s=[];const a=V(e.path),r=e.operationForChild(a),o=t.children.get(a);if(o&&r){const c=n?n.getImmediateChild(a):null,h=Q_(i,a);s=s.concat(iv(r,o,c,h))}return l&&(s=s.concat(bd(l,e,i,n))),s}}function lv(e,t,n,i){const l=t.get($());n==null&&l!=null&&(n=Gn(l,$()));let s=[];return t.children.inorderTraversal((a,r)=>{const o=n?n.getImmediateChild(a):null,c=Q_(i,a),h=e.operationForChild(a);h&&(s=s.concat(lv(h,r,o,c)))}),l&&(s=s.concat(bd(l,e,i,n))),s}function sv(e,t){const n=t.query,i=Gs(e,n);return{hashFn:()=>(QT(t)||z.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return i?r2(e,n._path,i):a2(e,n._path);{const s=cE(l,n);return qr(e,n,null,s)}}}}function Gs(e,t){const n=bo(t);return e.queryToTagMap.get(n)}function bo(e){return e._path.toString()+"$"+e._queryIdentifier}function Sd(e,t){return e.tagToQueryMap.get(t)}function wd(e){const t=e.indexOf("$");return R(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new se(e.substr(0,t))}}function Ed(e,t,n){const i=e.syncPointTree_.get(t);R(i,"Missing sync point for query tag that we're tracking");const l=yo(e.pendingWriteTree_,t);return bd(i,n,l,null)}function u2(e){return e.fold((t,n,i)=>{if(n&&Wn(n))return[_o(n)];{let l=[];return n&&(l=J_(n)),nt(i,(s,a)=>{l=l.concat(a)}),l}})}function bs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(i2())(e._repo,e._path):e}function f2(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const l=bo(i),s=e.queryToTagMap.get(l);e.queryToTagMap.delete(l),e.tagToQueryMap.delete(s)}}}function d2(){return l2++}function h2(e,t,n){const i=t._path,l=Gs(e,t),s=sv(e,n),a=e.listenProvider_.startListening(bs(t),l,s.hashFn,s.onComplete),r=e.syncPointTree_.subtree(i);if(l)R(!Wn(r.value),"If we're adding a query, it shouldn't be shadowed");else{const o=r.fold((c,h,f)=>{if(!Q(c)&&h&&Wn(h))return[_o(h).query];{let d=[];return h&&(d=d.concat(J_(h).map(m=>m.query))),nt(f,(m,_)=>{d=d.concat(_)}),d}});for(let c=0;c<o.length;++c){const h=o[c];e.listenProvider_.stopListening(bs(h),Gs(e,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Td(n)}node(){return this.node_}}class Cd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ae(this.path_,t);return new Cd(this.syncTree_,n)}node(){return vo(this.syncTree_,this.path_)}}const m2=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},dp=function(e,t,n){if(!e||typeof e!="object")return e;if(R(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return p2(e[".sv"],t,n);if(typeof e[".sv"]=="object")return g2(e[".sv"],t);R(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},p2=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:R(!1,"Unexpected server value: "+e)}},g2=function(e,t,n){e.hasOwnProperty("increment")||R(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&R(!1,"Unexpected increment value: "+i);const l=t.node();if(R(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return i;const a=l.getValue();return typeof a!="number"?i:a+i},y2=function(e,t,n,i){return Ad(t,new Cd(n,e),i)},Nd=function(e,t,n){return Ad(e,new Td(t),n)};function Ad(e,t,n){const i=e.getPriority().val(),l=dp(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const a=e,r=dp(a.getValue(),t,n);return r!==a.getValue()||l!==a.getPriority().val()?new Me(r,Te(l)):e}else{const a=e;return s=a,l!==a.getPriority().val()&&(s=s.updatePriority(new Me(l))),a.forEachChild(ge,(r,o)=>{const c=Ad(o,t.getImmediateChild(r),n);c!==o&&(s=s.updateImmediateChild(r,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function xo(e,t){let n=t instanceof se?t:new se(t),i=e,l=V(n);for(;l!==null;){const s=Si(i.node.children,l)||{children:{},childCount:0};i=new Rd(l,i,s),n=oe(n),l=V(n)}return i}function ki(e){return e.node.value}function Md(e,t){e.node.value=t,Ku(e)}function av(e){return e.node.childCount>0}function _2(e){return ki(e)===void 0&&!av(e)}function So(e,t){nt(e.node.children,(n,i)=>{t(new Rd(n,e,i))})}function rv(e,t,n,i){n&&t(e),So(e,l=>{rv(l,t,!0)})}function v2(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function ua(e){return new se(e.parent===null?e.name:ua(e.parent)+"/"+e.name)}function Ku(e){e.parent!==null&&b2(e.parent,e.name,e)}function b2(e,t,n){const i=_2(n),l=kt(e.node.children,t);i&&l?(delete e.node.children[t],e.node.childCount--,Ku(e)):!i&&!l&&(e.node.children[t]=n.node,e.node.childCount++,Ku(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=/[\[\].#$\/\u0000-\u001F\u007F]/,S2=/[\[\].#$\u0000-\u001F\u007F]/,Cc=10*1024*1024,ov=function(e){return typeof e=="string"&&e.length!==0&&!x2.test(e)},cv=function(e){return typeof e=="string"&&e.length!==0&&!S2.test(e)},w2=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),cv(e)},E2=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!sd(e)||e&&typeof e=="object"&&kt(e,".sv")},T2=function(e,t,n,i){wo(id(e,"value"),t,n)},wo=function(e,t,n){const i=n instanceof se?new VE(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+oi(i));if(typeof t=="function")throw new Error(e+"contains a function "+oi(i)+" with contents = "+t.toString());if(sd(t))throw new Error(e+"contains "+t.toString()+" "+oi(i));if(typeof t=="string"&&t.length>Cc/3&&fo(t)>Cc)throw new Error(e+"contains a string greater than "+Cc+" utf8 bytes "+oi(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,s=!1;if(nt(t,(a,r)=>{if(a===".value")l=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!ov(a)))throw new Error(e+" contains an invalid key ("+a+") "+oi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GE(i,a),wo(e,r,i),YE(i)}),l&&s)throw new Error(e+' contains ".value" child '+oi(i)+" in addition to actual children.")}},uv=function(e,t,n,i){if(!cv(n))throw new Error(id(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},C2=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),uv(e,t,n)},fv=function(e,t){if(V(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},N2=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!ov(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!w2(n))throw new Error(id(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dd(e,t){let n=null;for(let i=0;i<t.length;i++){const l=t[i],s=l.getPath();n!==null&&!ud(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(l)}n&&e.eventLists_.push(n)}function dv(e,t,n){Dd(e,n),hv(e,i=>ud(i,t))}function Ot(e,t,n){Dd(e,n),hv(e,i=>Rt(i,t)||Rt(t,i))}function hv(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const l=e.eventLists_[i];if(l){const s=l.path;t(s)?(R2(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function R2(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();gs&&He("event: "+n.toString()),Il(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="repo_interrupt",D2=25;class O2{constructor(t,n,i,l){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new A2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jr(),this.transactionQueueTree_=new Rd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function j2(e,t,n){if(e.stats_=od(e.repoInfo_),e.forceRestClient_||hE())e.server_=new Or(e.repoInfo_,(i,l,s,a)=>{hp(e,i,l,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>mp(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ne(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new on(e.repoInfo_,t,(i,l,s,a)=>{hp(e,i,l,s,a)},i=>{mp(e,i)},i=>{z2(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=_E(e.repoInfo_,()=>new gT(e.stats_,e.server_)),e.infoData_=new fT,e.infoSyncTree_=new fp({startListening:(i,l,s,a)=>{let r=[];const o=e.infoData_.getNode(i._path);return o.isEmpty()||(r=oa(e.infoSyncTree_,i._path,o),setTimeout(()=>{a("ok")},0)),r},stopListening:()=>{}}),Od(e,"connected",!1),e.serverSyncTree_=new fp({startListening:(i,l,s,a)=>(e.server_.listen(i,s,l,(r,o)=>{const c=a(r,o);Ot(e.eventQueue_,i._path,c)}),[]),stopListening:(i,l)=>{e.server_.unlisten(i,l)}})}function k2(e){const n=e.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Eo(e){return m2({timestamp:k2(e)})}function hp(e,t,n,i,l){e.dataUpdateCount++;const s=new se(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(l)if(i){const o=Cr(n,c=>Te(c));a=o2(e.serverSyncTree_,s,o,l)}else{const o=Te(n);a=nv(e.serverSyncTree_,s,o,l)}else if(i){const o=Cr(n,c=>Te(c));a=s2(e.serverSyncTree_,s,o)}else{const o=Te(n);a=oa(e.serverSyncTree_,s,o)}let r=s;a.length>0&&(r=Co(e,s)),Ot(e.eventQueue_,r,a)}function mp(e,t){Od(e,"connected",t),t===!1&&U2(e)}function z2(e,t){nt(t,(n,i)=>{Od(e,n,i)})}function Od(e,t,n){const i=new se("/.info/"+t),l=Te(n);e.infoData_.updateSnapshot(i,l);const s=oa(e.infoSyncTree_,i,l);Ot(e.eventQueue_,i,s)}function jd(e){return e.nextWriteId_++}function L2(e,t,n){const i=c2(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(l=>{const s=Te(l).withIndex(t._queryParams.getIndex());Qu(e.serverSyncTree_,t,n,!0);let a;if(t._queryParams.loadsAllData())a=oa(e.serverSyncTree_,t._path,s);else{const r=Gs(e.serverSyncTree_,t);a=nv(e.serverSyncTree_,t._path,s,r)}return Ot(e.eventQueue_,t._path,a),qr(e.serverSyncTree_,t,n,null,!0),s},l=>(fa(e,"get for query "+Ne(t)+" failed: "+l),Promise.reject(new Error(l))))}function I2(e,t,n,i,l){fa(e,"set",{path:t.toString(),value:n,priority:i});const s=Eo(e),a=Te(n,i),r=vo(e.serverSyncTree_,t),o=Nd(a,r,s),c=jd(e),h=xd(e.serverSyncTree_,t,o,c,!0);Dd(e.eventQueue_,h),e.server_.put(t.toString(),a.val(!0),(d,m)=>{const _=d==="ok";_||Je("set at "+t+" failed: "+d);const b=ui(e.serverSyncTree_,c,!_);Ot(e.eventQueue_,t,b),q2(e,l,d,m)});const f=yv(e,t);Co(e,f),Ot(e.eventQueue_,f,[])}function U2(e){fa(e,"onDisconnectEvents");const t=Eo(e),n=jr();qu(e.onDisconnect_,$(),(l,s)=>{const a=y2(l,s,e.serverSyncTree_,t);H_(n,l,a)});let i=[];qu(n,$(),(l,s)=>{i=i.concat(oa(e.serverSyncTree_,l,s));const a=yv(e,l);Co(e,a)}),e.onDisconnect_=jr(),Ot(e.eventQueue_,$(),i)}function B2(e,t,n){let i;V(t._path)===".info"?i=Qu(e.infoSyncTree_,t,n):i=Qu(e.serverSyncTree_,t,n),dv(e.eventQueue_,t._path,i)}function pp(e,t,n){let i;V(t._path)===".info"?i=qr(e.infoSyncTree_,t,n):i=qr(e.serverSyncTree_,t,n),dv(e.eventQueue_,t._path,i)}function H2(e){e.persistentConnection_&&e.persistentConnection_.interrupt(M2)}function fa(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),He(n,...t)}function q2(e,t,n,i){t&&Il(()=>{if(n==="ok")t(null);else{const l=(n||"error").toUpperCase();let s=l;i&&(s+=": "+i);const a=new Error(s);a.code=l,t(a)}})}function V2(e,t,n,i,l,s){fa(e,"transaction on "+t);const a={path:t,update:n,onComplete:i,status:null,order:o_(),applyLocally:s,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},r=kd(e,t,void 0);a.currentInputSnapshot=r;const o=a.update(r.val());if(o===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{wo("transaction failed: Data returned ",o,a.path),a.status=0;const c=xo(e.transactionQueueTree_,t),h=ki(c)||[];h.push(a),Md(c,h);let f;typeof o=="object"&&o!==null&&kt(o,".priority")?(f=Si(o,".priority"),R(E2(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(vo(e.serverSyncTree_,t)||z.EMPTY_NODE).getPriority().val();const d=Eo(e),m=Te(o,f),_=Nd(m,r,d);a.currentOutputSnapshotRaw=m,a.currentOutputSnapshotResolved=_,a.currentWriteId=jd(e);const b=xd(e.serverSyncTree_,t,_,a.currentWriteId,a.applyLocally);Ot(e.eventQueue_,t,b),To(e,e.transactionQueueTree_)}}function kd(e,t,n){return vo(e.serverSyncTree_,t,n)||z.EMPTY_NODE}function To(e,t=e.transactionQueueTree_){if(t||No(e,t),ki(t)){const n=pv(e,t);R(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&G2(e,ua(t),n)}else av(t)&&So(t,n=>{To(e,n)})}function G2(e,t,n){const i=n.map(c=>c.currentWriteId),l=kd(e,t,i);let s=l;const a=l.hash();for(let c=0;c<n.length;c++){const h=n[c];R(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Ge(t,h.path);s=s.updateChild(f,h.currentOutputSnapshotRaw)}const r=s.val(!0),o=t;e.server_.put(o.toString(),r,c=>{fa(e,"transaction put response",{path:o.toString(),status:c});let h=[];if(c==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(ui(e.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();No(e,xo(e.transactionQueueTree_,t)),To(e,e.transactionQueueTree_),Ot(e.eventQueue_,t,h);for(let d=0;d<f.length;d++)Il(f[d])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Je("transaction at "+o.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Co(e,t)}},a)}function Co(e,t){const n=mv(e,t),i=ua(n),l=pv(e,n);return Y2(e,l,i),i}function Y2(e,t,n){if(t.length===0)return;const i=[];let l=[];const a=t.filter(r=>r.status===0).map(r=>r.currentWriteId);for(let r=0;r<t.length;r++){const o=t[r],c=Ge(n,o.path);let h=!1,f;if(R(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,f=o.abortReason,l=l.concat(ui(e.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=D2)h=!0,f="maxretry",l=l.concat(ui(e.serverSyncTree_,o.currentWriteId,!0));else{const d=kd(e,o.path,a);o.currentInputSnapshot=d;const m=t[r].update(d.val());if(m!==void 0){wo("transaction failed: Data returned ",m,o.path);let _=Te(m);typeof m=="object"&&m!=null&&kt(m,".priority")||(_=_.updatePriority(d.getPriority()));const S=o.currentWriteId,g=Eo(e),p=Nd(_,d,g);o.currentOutputSnapshotRaw=_,o.currentOutputSnapshotResolved=p,o.currentWriteId=jd(e),a.splice(a.indexOf(S),1),l=l.concat(xd(e.serverSyncTree_,o.path,p,o.currentWriteId,o.applyLocally)),l=l.concat(ui(e.serverSyncTree_,S,!0))}else h=!0,f="nodata",l=l.concat(ui(e.serverSyncTree_,o.currentWriteId,!0))}Ot(e.eventQueue_,n,l),l=[],h&&(t[r].status=2,function(d){setTimeout(d,Math.floor(0))}(t[r].unwatcher),t[r].onComplete&&(f==="nodata"?i.push(()=>t[r].onComplete(null,!1,t[r].currentInputSnapshot)):i.push(()=>t[r].onComplete(new Error(f),!1,null))))}No(e,e.transactionQueueTree_);for(let r=0;r<i.length;r++)Il(i[r]);To(e,e.transactionQueueTree_)}function mv(e,t){let n,i=e.transactionQueueTree_;for(n=V(t);n!==null&&ki(i)===void 0;)i=xo(i,n),t=oe(t),n=V(t);return i}function pv(e,t){const n=[];return gv(e,t,n),n.sort((i,l)=>i.order-l.order),n}function gv(e,t,n){const i=ki(t);if(i)for(let l=0;l<i.length;l++)n.push(i[l]);So(t,l=>{gv(e,l,n)})}function No(e,t){const n=ki(t);if(n){let i=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[i]=n[l],i++);n.length=i,Md(t,n.length>0?n:void 0)}So(t,i=>{No(e,i)})}function yv(e,t){const n=ua(mv(e,t)),i=xo(e.transactionQueueTree_,t);return v2(i,l=>{Nc(e,l)}),Nc(e,i),rv(i,l=>{Nc(e,l)}),n}function Nc(e,t){const n=ki(t);if(n){const i=[];let l=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(R(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(R(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),l=l.concat(ui(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Md(t,void 0):n.length=s+1,Ot(e.eventQueue_,ua(t),l);for(let a=0;a<i.length;a++)Il(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let l=n[i];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function Q2(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Je(`Invalid query segment '${n}' in query '${e}'`)}return t}const gp=function(e,t){const n=K2(e),i=n.namespace;n.domain==="firebase.com"&&gn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||lE();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new x_(n.host,n.secure,i,l,t,"",i!==n.subdomain),path:new se(n.pathString)}},K2=function(e){let t="",n="",i="",l="",s="",a=!0,r="https",o=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(r=e.substring(0,c-1),e=e.substring(c+2));let h=e.indexOf("/");h===-1&&(h=e.length);let f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(l=F2(e.substring(h,f)));const d=Q2(e.substring(Math.min(e.length,f)));c=t.indexOf(":"),c>=0?(a=r==="https"||r==="wss",o=parseInt(t.substring(c+1),10)):c=t.length;const m=t.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const _=t.indexOf(".");i=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=i}"ns"in d&&(s=d.ns)}return{host:t,port:o,domain:n,subdomain:i,secure:a,scheme:r,pathString:l,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t,n,i,l){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ne(this.snapshot.exportVal())}}class Z2{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return R(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,n,i,l){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=l}get key(){return Q(this._path)?null:M_(this._path)}get ref(){return new Vt(this._repo,this._path)}get _queryIdentifier(){const t=ep(this._queryParams),n=ad(t);return n==="{}"?"default":n}get _queryObject(){return ep(this._queryParams)}isEqual(t){if(t=vn(t),!(t instanceof zd))return!1;const n=this._repo===t._repo,i=ud(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return n&&i&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+qE(this._path)}}class Vt extends zd{constructor(t,n){super(t,n,new md,!1)}get parent(){const t=O_(this._path);return t===null?null:new Vt(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Tl{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new se(t),i=Xu(this.ref,t);return new Tl(this._node.getChild(n),i,ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,l)=>t(new Tl(l,Xu(this.ref,i),ge)))}hasChild(t){const n=new se(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Oa(e,t){return e=vn(e),e._checkNotDeleted("ref"),t!==void 0?Xu(e._root,t):e._root}function Xu(e,t){return e=vn(e),V(e._path)===null?C2("child","path",t):uv("child","path",t),new Vt(e._repo,Ae(e._path,t))}function P2(e,t){e=vn(e),fv("set",e._path),T2("set",t,e._path);const n=new la;return I2(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function yp(e){e=vn(e);const t=new _v(()=>{}),n=new Ao(t);return L2(e._repo,e,n).then(i=>new Tl(i,new Vt(e._repo,e._path),e._queryParams.getIndex()))}class Ao{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new X2("value",this,new Tl(t.snapshotNode,new Vt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Z2(this,t,n):null}matches(t){return t instanceof Ao?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function $2(e,t,n,i,l){let s;if(typeof i=="object"&&(s=void 0,l=i),typeof i=="function"&&(s=i),l&&l.onlyOnce){const o=n,c=(h,f)=>{pp(e._repo,e,r),o(h,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new _v(n,s||void 0),r=new Ao(a);return B2(e._repo,e,r),()=>pp(e._repo,e,r)}function vv(e,t,n,i){return $2(e,"value",t,n,i)}$T(Vt);n2(Vt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="FIREBASE_DATABASE_EMULATOR_HOST",Zu={};let J2=!1;function eC(e,t,n,i){const l=t.lastIndexOf(":"),s=t.substring(0,l),a=nd(s);e.repoInfo_=new x_(t,a,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function tC(e,t,n,i,l){let s=i||e.options.databaseURL;s===void 0&&(e.options.projectId||gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),He("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=gp(s,l),r=a.repoInfo,o;typeof process<"u"&&Lm&&(o=Lm[W2]),o?(s=`http://${o}?ns=${r.namespace}`,a=gp(s,l),r=a.repoInfo):a.repoInfo.secure;const c=new pE(e.name,e.options,t);N2("Invalid Firebase Database URL",a),Q(a.path)||gn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=iC(r,e,c,new mE(e,n));return new lC(h,e)}function nC(e,t){const n=Zu[t];(!n||n[e.key]!==e)&&gn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),H2(e),delete n[e.key]}function iC(e,t,n,i){let l=Zu[t.name];l||(l={},Zu[t.name]=l);let s=l[e.toURLString()];return s&&gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new O2(e,J2,n,i),l[e.toURLString()]=s,s}class lC{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(j2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vt(this._repo,$())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&gn("Cannot call "+t+" on a deleted database.")}}function sC(e=i_(),t){const n=mo(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const i=ES("database");i&&aC(n,...i)}return n}function aC(e,t,n,i={}){e=vn(e),e._checkNotDeleted("useEmulator");const l=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(l===e._repoInternal.repoInfo_.host&&Nr(i,s.repoInfo_.emulatorOptions))return;gn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Za(Za.OWNER);else if(i.mockUserToken){const r=typeof i.mockUserToken=="string"?i.mockUserToken:CS(i.mockUserToken,e.app.options.projectId);a=new Za(r)}nd(t)&&(TS(t),RS("Database",!0)),eC(s,l,i,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(e){Jw(Hw),Zn(new mn("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return tC(i,l,s,n)},"PUBLIC").setMultipleInstances(!0)),Bt(Im,Um,e),Bt(Im,Um,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function cC(e,t,n){if(e=vn(e),fv("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=!0,l=new la,s=(r,o,c)=>{let h=null;r?l.reject(r):(h=new Tl(c,new Vt(e._repo,e._path),ge),l.resolve(new oC(o,h)))},a=vv(e,()=>{});return V2(e._repo,e._path,t,s,a,i),l.promise}on.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};on.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};rC();const bv="@firebase/installations",Ld="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=1e4,Sv=`w:${Ld}`,wv="FIS_v2",uC="https://firebaseinstallations.googleapis.com/v1",fC=60*60*1e3,dC="installations",hC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ci=new uo(dC,hC,mC);function Ev(e){return e instanceof zl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv({projectId:e}){return`${uC}/projects/${e}/installations`}function Cv(e){return{token:e.token,requestStatus:2,expiresIn:gC(e.expiresIn),creationTime:Date.now()}}async function Nv(e,t){const i=(await t.json()).error;return Ci.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Av({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function pC(e,{refreshToken:t}){const n=Av(e);return n.append("Authorization",yC(t)),n}async function Rv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function gC(e){return Number(e.replace("s","000"))}function yC(e){return`${wv} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=Tv(e),l=Av(e),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&l.append("x-firebase-client",c)}const a={fid:n,authVersion:wv,appId:e.appId,sdkVersion:Sv},r={method:"POST",headers:l,body:JSON.stringify(a)},o=await Rv(()=>fetch(i,r));if(o.ok){const c=await o.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Cv(c.authToken)}}else throw await Nv("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=/^[cdef][\w-]{21}$/,Pu="";function xC(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=SC(e);return bC.test(n)?n:Pu}catch{return Pu}}function SC(e){return vC(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function Ov(e,t){const n=Ro(e);jv(n,t),wC(n,t)}function jv(e,t){const n=Dv.get(e);if(n)for(const i of n)i(t)}function wC(e,t){const n=EC();n&&n.postMessage({key:e,fid:t}),TC()}let fi=null;function EC(){return!fi&&"BroadcastChannel"in self&&(fi=new BroadcastChannel("[Firebase] FID Change"),fi.onmessage=e=>{jv(e.data.key,e.data.fid)}),fi}function TC(){Dv.size===0&&fi&&(fi.close(),fi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebase-installations-database",NC=1,Ni="firebase-installations-store";let Ac=null;function Id(){return Ac||(Ac=ho(CC,NC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ni)}}})),Ac}async function Vr(e,t){const n=Ro(e),l=(await Id()).transaction(Ni,"readwrite"),s=l.objectStore(Ni),a=await s.get(n);return await s.put(t,n),await l.done,(!a||a.fid!==t.fid)&&Ov(e,t.fid),t}async function kv(e){const t=Ro(e),i=(await Id()).transaction(Ni,"readwrite");await i.objectStore(Ni).delete(t),await i.done}async function Mo(e,t){const n=Ro(e),l=(await Id()).transaction(Ni,"readwrite"),s=l.objectStore(Ni),a=await s.get(n),r=t(a);return r===void 0?await s.delete(n):await s.put(r,n),await l.done,r&&(!a||a.fid!==r.fid)&&Ov(e,r.fid),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(e){let t;const n=await Mo(e.appConfig,i=>{const l=AC(i),s=RC(e,l);return t=s.registrationPromise,s.installationEntry});return n.fid===Pu?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function AC(e){const t=e||{fid:xC(),registrationStatus:0};return zv(t)}function RC(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ci.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=MC(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:DC(e)}:{installationEntry:t}}async function MC(e,t){try{const n=await _C(e,t);return Vr(e.appConfig,n)}catch(n){throw Ev(n)&&n.customData.serverCode===409?await kv(e.appConfig):await Vr(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function DC(e){let t=await _p(e.appConfig);for(;t.registrationStatus===1;)await Mv(100),t=await _p(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Ud(e);return i||n}return t}function _p(e){return Mo(e,t=>{if(!t)throw Ci.create("installation-not-found");return zv(t)})}function zv(e){return OC(e)?{fid:e.fid,registrationStatus:0}:e}function OC(e){return e.registrationStatus===1&&e.registrationTime+xv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC({appConfig:e,heartbeatServiceProvider:t},n){const i=kC(e,n),l=pC(e,n),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&l.append("x-firebase-client",c)}const a={installation:{sdkVersion:Sv,appId:e.appId}},r={method:"POST",headers:l,body:JSON.stringify(a)},o=await Rv(()=>fetch(i,r));if(o.ok){const c=await o.json();return Cv(c)}else throw await Nv("Generate Auth Token",o)}function kC(e,{fid:t}){return`${Tv(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(e,t=!1){let n;const i=await Mo(e.appConfig,s=>{if(!Lv(s))throw Ci.create("not-registered");const a=s.authToken;if(!t&&IC(a))return s;if(a.requestStatus===1)return n=zC(e,t),s;{if(!navigator.onLine)throw Ci.create("app-offline");const r=BC(s);return n=LC(e,r),r}});return n?await n:i.authToken}async function zC(e,t){let n=await vp(e.appConfig);for(;n.authToken.requestStatus===1;)await Mv(100),n=await vp(e.appConfig);const i=n.authToken;return i.requestStatus===0?Bd(e,t):i}function vp(e){return Mo(e,t=>{if(!Lv(t))throw Ci.create("not-registered");const n=t.authToken;return HC(n)?{...t,authToken:{requestStatus:0}}:t})}async function LC(e,t){try{const n=await jC(e,t),i={...t,authToken:n};return await Vr(e.appConfig,i),n}catch(n){if(Ev(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kv(e.appConfig);else{const i={...t,authToken:{requestStatus:0}};await Vr(e.appConfig,i)}throw n}}function Lv(e){return e!==void 0&&e.registrationStatus===2}function IC(e){return e.requestStatus===2&&!UC(e)}function UC(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+fC}function BC(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function HC(e){return e.requestStatus===1&&e.requestTime+xv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(e){const t=e,{installationEntry:n,registrationPromise:i}=await Ud(t);return i?i.catch(console.error):Bd(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(e,t=!1){const n=e;return await GC(n),(await Bd(n,t)).token}async function GC(e){const{registrationPromise:t}=await Ud(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(e){if(!e||!e.options)throw Rc("App Configuration");if(!e.name)throw Rc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Rc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Rc(e){return Ci.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="installations",FC="installations-internal",QC=e=>{const t=e.getProvider("app").getImmediate(),n=YC(t),i=mo(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},KC=e=>{const t=e.getProvider("app").getImmediate(),n=mo(t,Iv).getImmediate();return{getId:()=>qC(n),getToken:l=>VC(n,l)}};function XC(){Zn(new mn(Iv,QC,"PUBLIC")),Zn(new mn(FC,KC,"PRIVATE"))}XC();Bt(bv,Ld);Bt(bv,Ld,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="/firebase-messaging-sw.js",PC="/firebase-cloud-messaging-push-scope",Uv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$C="https://fcmregistrations.googleapis.com/v1",Bv="google.c.a.c_id",WC="google.c.a.c_l",JC="google.c.a.ts",eN="google.c.a.e",bp=1e4;var xp;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(xp||(xp={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ys;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Ys||(Ys={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tN(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),l=new Uint8Array(i.length);for(let s=0;s<i.length;++s)l[s]=i.charCodeAt(s);return l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc="fcm_token_details_db",nN=5,Sp="fcm_token_object_Store";async function iN(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Mc))return null;let t=null;return(await ho(Mc,nN,{upgrade:async(i,l,s,a)=>{if(l<2||!i.objectStoreNames.contains(Sp))return;const r=a.objectStore(Sp),o=await r.index("fcmSenderId").get(e);if(await r.clear(),!!o){if(l===2){const c=o;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Zt(c.vapidKey)}}}else if(l===3){const c=o;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Zt(c.auth),p256dh:Zt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Zt(c.vapidKey)}}}else if(l===4){const c=o;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Zt(c.auth),p256dh:Zt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Zt(c.vapidKey)}}}}}})).close(),await _c(Mc),await _c("fcm_vapid_details_db"),await _c("undefined"),lN(t)?t:null}function lN(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebase-messaging-database",aN=1,Fs="firebase-messaging-store";let Dc=null;function Hv(){return Dc||(Dc=ho(sN,aN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Fs)}}})),Dc}async function rN(e){const t=qv(e),i=await(await Hv()).transaction(Fs).objectStore(Fs).get(t);if(i)return i;{const l=await iN(e.appConfig.senderId);if(l)return await Hd(e,l),l}}async function Hd(e,t){const n=qv(e),l=(await Hv()).transaction(Fs,"readwrite");return await l.objectStore(Fs).put(t,n),await l.done,t}function qv({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ye=new uo("messaging","Messaging",oN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(e,t){const n=await Vd(e),i=Vv(t),l={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(qd(e.appConfig),l)).json()}catch(a){throw Ye.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Ye.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw Ye.create("token-subscribe-no-token");return s.token}async function uN(e,t){const n=await Vd(e),i=Vv(t.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${qd(e.appConfig)}/${t.token}`,l)).json()}catch(a){throw Ye.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Ye.create("token-update-failed",{errorInfo:a})}if(!s.token)throw Ye.create("token-update-no-token");return s.token}async function fN(e,t){const i={method:"DELETE",headers:await Vd(e)};try{const s=await(await fetch(`${qd(e.appConfig)}/${t}`,i)).json();if(s.error){const a=s.error.message;throw Ye.create("token-unsubscribe-failed",{errorInfo:a})}}catch(l){throw Ye.create("token-unsubscribe-failed",{errorInfo:l==null?void 0:l.toString()})}}function qd({projectId:e}){return`${$C}/projects/${e}/registrations`}async function Vd({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Vv({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const l={web:{endpoint:n,auth:t,p256dh:e}};return i!==Uv&&(l.web.applicationPubKey=i),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=7*24*60*60*1e3;async function hN(e){const t=await pN(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Zt(t.getKey("auth")),p256dh:Zt(t.getKey("p256dh"))},i=await rN(e.firebaseDependencies);if(i){if(gN(i.subscriptionOptions,n))return Date.now()>=i.createTime+dN?mN(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await fN(e.firebaseDependencies,i.token)}catch(l){console.warn(l)}return wp(e.firebaseDependencies,n)}else return wp(e.firebaseDependencies,n)}async function mN(e,t){try{const n=await uN(e.firebaseDependencies,t),i={...t,token:n,createTime:Date.now()};return await Hd(e.firebaseDependencies,i),n}catch(n){throw n}}async function wp(e,t){const i={token:await cN(e,t),createTime:Date.now(),subscriptionOptions:t};return await Hd(e,i),i.token}async function pN(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tN(t)})}function gN(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,l=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&i&&l&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return yN(t,e),_N(t,e),vN(t,e),t}function yN(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const l=t.notification.image;l&&(e.notification.image=l);const s=t.notification.icon;s&&(e.notification.icon=s)}function _N(e,t){t.data&&(e.data=t.data)}function vN(e,t){var l,s,a,r;if(!t.fcmOptions&&!((l=t.notification)!=null&&l.click_action))return;e.fcmOptions={};const n=((s=t.fcmOptions)==null?void 0:s.link)??((a=t.notification)==null?void 0:a.click_action);n&&(e.fcmOptions.link=n);const i=(r=t.fcmOptions)==null?void 0:r.analytics_label;i&&(e.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(e){return typeof e=="object"&&!!e&&Bv in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(e){if(!e||!e.options)throw Oc("App Configuration Object");if(!e.name)throw Oc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw Oc(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Oc(e){return Ye.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=xN(t);this.firebaseDependencies={app:t,appConfig:l,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(e){try{e.swRegistration=await navigator.serviceWorker.register(ZC,{scope:PC}),e.swRegistration.update().catch(()=>{}),await EN(e.swRegistration)}catch(t){throw Ye.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function EN(e){return new Promise((t,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${bp} ms`)),bp),l=e.installing||e.waiting;e.active?(clearTimeout(i),t()):l?l.onstatechange=s=>{var a;((a=s.target)==null?void 0:a.state)==="activated"&&(l.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(e,t){if(!t&&!e.swRegistration&&await wN(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Ye.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Uv)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gv(e,t){if(!navigator)throw Ye.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ye.create("permission-blocked");return await CN(e,t==null?void 0:t.vapidKey),await TN(e,t==null?void 0:t.serviceWorkerRegistration),hN(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(e,t,n){const i=AN(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[Bv],message_name:n[WC],message_time:n[JC],message_device_time:Math.floor(Date.now()/1e3)})}function AN(e){switch(e){case Ys.NOTIFICATION_CLICKED:return"notification_open";case Ys.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Ys.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Ep(n)):e.onMessageHandler.next(Ep(n)));const i=n.data;bN(i)&&i[eN]==="1"&&await NN(e,n.messageType,i)}const Tp="@firebase/messaging",Cp="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=e=>{const t=new SN(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>RN(t,n)),t},DN=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:i=>Gv(t,i)}};function ON(){Zn(new mn("messaging",MN,"PUBLIC")),Zn(new mn("messaging-internal",DN,"PRIVATE")),Bt(Tp,Cp),Bt(Tp,Cp,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(){try{await $y()}catch{return!1}return typeof window<"u"&&Py()&&jS()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(e=i_()){return Yv().then(t=>{if(!t)throw Ye.create("unsupported-browser")},t=>{throw Ye.create("indexed-db-unsupported")}),mo(vn(e),"messaging").getImmediate()}async function jN(e,t){return e=vn(e),Gv(e,t)}ON();const kN=Object.freeze(Object.defineProperty({__proto__:null,getMessaging:Fv,getToken:jN,isSupported:Yv},Symbol.toStringTag,{value:"Module"})),zN={apiKey:"AIzaSyA0GXc2SsjtbsDYzf1agK4zbTJ5IvxPFxs",authDomain:"fb-hub-ed9de.firebaseapp.com",databaseURL:"https://fb-hub-ed9de-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"fb-hub-ed9de",storageBucket:"fb-hub-ed9de.firebasestorage.app",messagingSenderId:"426764789152",appId:"1:426764789152:web:9e989667bda7568059f0c5",measurementId:"G-HCN8XBJNN9"},Qv=n_(zN),es=sC(Qv);let Kv=null;try{Kv=Fv(Qv),console.log(" Firebase Messaging initialized")}catch(e){console.error(" Firebase Messaging initialization failed:",e)}const LN=Object.freeze(Object.defineProperty({__proto__:null,database:es,get messaging(){return Kv}},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),Np=e=>{const t=UN(e);return t.charAt(0).toUpperCase()+t.slice(1)},Xv=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),BN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:s,iconNode:a,...r},o)=>C.createElement("svg",{ref:o,...HN,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:Xv("lucide",l),...!s&&!BN(r)&&{"aria-hidden":"true"},...r},[...a.map(([c,h])=>C.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=(e,t)=>{const n=C.forwardRef(({className:i,...l},s)=>C.createElement(qN,{ref:s,iconNode:t,className:Xv(`lucide-${IN(Np(e))}`,`lucide-${e}`,i),...l}));return n.displayName=Np(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],YN=VN("chart-column",GN),FN=()=>{let e=localStorage.getItem("fenerbahce_user_id");return e||(e=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("fenerbahce_user_id",e)),e},QN=({opponentName:e="Rakip Takm",matchId:t})=>{const[n,i]=C.useState({home:0,away:0,draw:0}),[l,s]=C.useState(!1),[a,r]=C.useState(null),[o,c]=C.useState(!0),[h,f]=C.useState(null),d={home:"Fenerbahe",away:e},m=FN();C.useEffect(()=>{if(!t){c(!1),f("Match ID eksik");return}const y=Oa(es,`match_polls/${t}/votes`),v=vv(y,D=>{const E=D.val();i(E?{home:E.home||0,away:E.away||0,draw:E.draw||0}:{home:0,away:0,draw:0}),c(!1)},D=>{console.error("Firebase read error:",D),f("Anket verileri yklenemedi."),c(!1)}),N=Oa(es,`match_polls/${t}/users/${m}`);return yp(N).then(D=>{D.exists()?(s(!0),r(D.val())):(s(!1),r(null))}).catch(D=>{console.error("Error checking user vote:",D)}),()=>{v()}},[t,m]);const _=async y=>{if(!(l||!t))try{const v=Oa(es,`match_polls/${t}/users/${m}`),N=await yp(v);if(N.exists()){s(!0),r(N.val());return}const D=Oa(es,`match_polls/${t}/votes/${y}`);await cC(D,E=>(E||0)+1),await P2(v,y),s(!0),r(y)}catch(v){console.error("Vote failed:",v),alert("Oy verilemedi. Ltfen tekrar deneyin.")}},b=(n.home||0)+(n.away||0)+(n.draw||0),S=y=>!b||b===0?0:Math.round((y||0)/b*100),[g,p]=C.useState(!1);return o||h||!t?null:u.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-xl overflow-hidden transition-all duration-500",children:[u.jsxs("button",{onClick:()=>p(!g),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-full bg-yellow-400/10 text-yellow-400",children:u.jsx(YN,{className:"w-5 h-5"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h3",{className:"text-base font-bold text-white",children:"Ma Kim Kazanr?"}),u.jsxs("p",{className:"text-xs text-slate-400",children:[l?"Oyunuzu kullandnz":"Tahminini yap","  ",b," oy"]})]})]}),u.jsx("div",{className:`transform transition-transform duration-300 ${g?"rotate-180":""}`,children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsx("div",{className:`transition-all duration-500 ease-in-out ${g?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:u.jsxs("div",{className:"p-4 pt-0 space-y-3 border-t border-white/5 mt-2",children:[u.jsx(jc,{label:d.home,count:n.home,percentage:S(n.home),onClick:()=>_("home"),disabled:l,isWinner:l&&n.home>=n.away&&n.home>=n.draw,isUserChoice:a==="home"}),u.jsx(jc,{label:"Beraberlik",count:n.draw,percentage:S(n.draw),onClick:()=>_("draw"),disabled:l,isWinner:l&&n.draw>=n.home&&n.draw>=n.away,isUserChoice:a==="draw"}),u.jsx(jc,{label:d.away,count:n.away,percentage:S(n.away),onClick:()=>_("away"),disabled:l,isWinner:l&&n.away>=n.home&&n.away>=n.draw,isUserChoice:a==="away"})]})})]})},jc=({label:e,count:t,percentage:n,onClick:i,disabled:l,isWinner:s,isUserChoice:a})=>u.jsxs("button",{onClick:i,disabled:l,className:`relative w-full h-12 rounded-xl overflow-hidden transition-all duration-300 group ${l?"cursor-default":"hover:scale-[1.02] active:scale-[0.98] cursor-pointer"}`,children:[u.jsx("div",{className:"absolute inset-0 bg-white/5"}),u.jsx("div",{className:`absolute inset-y-0 left-0 transition-all duration-1000 ease-out ${a?"bg-green-500/30":s?"bg-yellow-400/20":"bg-blue-600/30"}`,style:{width:`${n}%`}}),u.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[u.jsxs("span",{className:`font-medium transition-colors ${a?"text-green-400":s?"text-yellow-400":"text-white"}`,children:[e," ",a&&""]}),u.jsxs("div",{className:"flex items-center gap-2",children:[l&&u.jsxs("span",{className:"text-sm font-bold text-white/90",children:[n,"%"]}),!l&&u.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white/20 group-hover:border-yellow-400 transition-colors"})]})]})]}),KN=({league:e})=>{const[t,n]=C.useState([]),[i,l]=C.useState(!0),[s,a]=C.useState(null);C.useEffect(()=>{r()},[e]);const r=async()=>{l(!0),a(null);try{const o=await fetch(`${_n}/standings`);if(!o.ok)throw new Error("Failed to fetch standings");const c=await o.json(),h=e==="superlig"?c.find(f=>f.id==="super-lig"):c.find(f=>f.id==="europa-league");if(h&&h.rows)n(h.rows);else throw new Error("League data not found")}catch(o){console.error("Error fetching standings:",o),a("Puan durumu yklenemedi")}finally{l(!1)}};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})}):s?u.jsx("div",{className:"text-center text-red-400 py-8",children:u.jsx("p",{children:s})}):u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto custom-scrollbar",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"sticky top-0 bg-[#0f172a] z-10",children:u.jsxs("tr",{className:"text-[11px] text-slate-400 border-b border-yellow-400/20",children:[u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"#"}),u.jsx("th",{className:"p-3 font-medium",children:"Takm"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"O"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"G"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"B"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"M"}),u.jsx("th",{className:"p-3 font-medium w-16 text-center",children:"AV"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center text-yellow-400",children:"P"})]})}),u.jsx("tbody",{className:"text-sm",children:t.map((o,c)=>{const h=o.team.name.toLowerCase().includes("fenerbahce")||o.team.name.toLowerCase().includes("fener"),f=o.rank<=3,d=o.rank>=t.length-2;return u.jsxs("tr",{className:`border-b border-white/5 last:border-0 transition-all duration-200 ${h?"bg-yellow-400/10 text-yellow-100 font-semibold shadow-[0_0_10px_rgba(234,179,8,0.3)]":"hover:bg-white/5 text-slate-300"}`,children:[u.jsx("td",{className:"p-3 text-center",children:u.jsx("span",{className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-[11px] font-bold ${f?"bg-green-500/20 text-green-400":d?"bg-red-500/20 text-red-400":"text-slate-500"}`,children:o.rank})}),u.jsx("td",{className:"p-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:o.team.logo?u.jsx("img",{src:o.team.logo,alt:o.team.name,className:"w-full h-full object-contain",onError:m=>{m.target.style.display="none"}}):null}),u.jsx("span",{className:"truncate max-w-[200px]",children:o.team.name})]})}),u.jsx("td",{className:"p-3 text-center font-medium",children:o.matches||0}),u.jsx("td",{className:"p-3 text-center text-green-400",children:o.wins||0}),u.jsx("td",{className:"p-3 text-center text-slate-400",children:o.draws||0}),u.jsx("td",{className:"p-3 text-center text-red-400",children:o.losses||0}),u.jsxs("td",{className:"p-3 text-center text-slate-400",children:[o.goalDiff>0?"+":"",o.goalDiff||0]}),u.jsx("td",{className:`p-3 text-center font-bold ${h?"text-yellow-400":"text-white"}`,children:o.points||0})]},o.team.id)})})]})}),u.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    width: 6px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: rgba(250, 204, 21, 0.3);
                    border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: rgba(250, 204, 21, 0.5);
                }
            `})]})},XN=()=>{var o,c,h,f,d,m;const[e,t]=C.useState(null),[n,i]=C.useState(!0),[l,s]=C.useState(null);C.useEffect(()=>{a();const _=setInterval(a,3e4);return()=>clearInterval(_)},[]);const a=async()=>{try{const _=await fetch(`${_n}/live-match`);if(!_.ok)throw new Error("Canl ma verisi alnamad");const b=await _.json();b.matchState==="no-match"?(s("u anda canl ma yok"),t(null)):(t(b),s(null))}catch(_){console.error("Error fetching live score:",_),s(_.message||"Canl ma bilgisi yklenemedi")}finally{i(!1)}};if(n)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})});if(l||!e)return u.jsx("div",{className:"text-center text-red-400 py-8",children:u.jsx("p",{children:l||"Veri bulunamad"})});const r={possessionPct:"Topla Oynama %",totalShots:"Toplam ut",shotsOnTarget:"sabetli ut",wonCorners:"Korner",foulsCommitted:"Faul",totalGoals:"Gol",goalAssists:"Asist"};return u.jsxs("div",{className:"w-full space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[u.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("span",{className:"text-xs font-bold text-yellow-400 uppercase",children:e.statusDetail||(e.matchState==="in"?"Canl":"Ma Bitti")}),e.matchState==="in"&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("span",{className:"text-sm font-bold text-red-400",children:"CANLI"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 p-3 border border-white/10",children:((o=e.homeTeam)==null?void 0:o.logo)&&u.jsx("img",{src:e.homeTeam.logo,alt:e.homeTeam.name,className:"w-full h-full object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center",children:(c=e.homeTeam)==null?void 0:c.name})]}),u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-5xl font-black text-white",children:((h=e.homeTeam)==null?void 0:h.score)||"0"}),u.jsx("span",{className:"text-3xl font-bold text-slate-600",children:"-"}),u.jsx("span",{className:"text-5xl font-black text-white",children:((f=e.awayTeam)==null?void 0:f.score)||"0"})]}),u.jsx("span",{className:"text-xs text-slate-400",children:e.displayClock||""})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 p-3 border border-white/10",children:((d=e.awayTeam)==null?void 0:d.logo)&&u.jsx("img",{src:e.awayTeam.logo,alt:e.awayTeam.name,className:"w-full h-full object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center",children:(m=e.awayTeam)==null?void 0:m.name})]})]})]}),e.events&&e.events.length>0&&u.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-3",children:"Ma Olaylar"}),u.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:e.events.map((_,b)=>u.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg transition-colors ${_.isGoal?"bg-yellow-400/10":_.isRedCard?"bg-red-500/10":"bg-white/5"}`,children:[u.jsx("span",{className:"text-xs text-yellow-400 font-mono w-12",children:_.clock}),u.jsxs("span",{className:"w-5 h-5 flex-shrink-0 flex items-center justify-center",children:[_.isGoal&&u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-4 h-4",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),_.isYellowCard&&!_.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3.5 h-5",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#eab308"})}),_.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3.5 h-5",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#ef4444"})})]}),u.jsxs("span",{className:`text-sm flex-1 ${_.isGoal?"text-yellow-400 font-bold":_.isRedCard?"text-red-400 font-semibold":"text-slate-300"}`,children:[_.player,_.type&&!_.isGoal&&!_.isYellowCard&&!_.isRedCard&&u.jsxs("span",{className:"text-slate-500 ml-1",children:["(",_.type,")"]})]})]},b))})]}),e.stats&&e.stats.length>0&&u.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-3",children:"statistikler"}),u.jsx("div",{className:"space-y-3",children:e.stats.filter(_=>r[_.name]).map((_,b)=>{const S=parseFloat(_.homeValue)||0,g=parseFloat(_.awayValue)||0,p=S+g||1;return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[u.jsx("span",{className:"font-medium text-white",children:_.homeValue}),u.jsx("span",{children:r[_.name]}),u.jsx("span",{className:"font-medium text-white",children:_.awayValue})]}),u.jsxs("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden flex",children:[u.jsx("div",{className:"bg-yellow-400 h-full transition-all duration-500",style:{width:`${S/p*100}%`}}),u.jsx("div",{className:"bg-slate-600 h-full flex-1"})]})]},b)})})]})]})},ZN=({matchData:e,next3Matches:t=[],loading:n,onRetry:i,errorMessage:l,lastUpdated:s,isRefreshing:a,liveMatchState:r="countdown",liveMatchData:o=null,onCountdownEnd:c})=>{var j,L,T,Z;const[h,f]=C.useState({days:0,hours:0,minutes:0,seconds:0}),[d,m]=C.useState(!1),[_,b]=C.useState(!1),[S,g]=C.useState(""),[p,y]=C.useState(30),v=C.useRef(!1);if(C.useEffect(()=>{v.current=!1},[e==null?void 0:e.id]),C.useEffect(()=>{if(!e||r!=="countdown")return;const U=setInterval(()=>{const A=new Date(e.startTimestamp*1e3)-new Date;if(A>0){const w=Math.floor(A/864e5),M=Math.floor(A/(1e3*60*60)%24),k=Math.floor(A/1e3/60%60),q=Math.floor(A/1e3%60);f({days:w,hours:M,minutes:k,seconds:q})}else!v.current&&c&&(v.current=!0,c()),f({days:0,hours:0,minutes:0,seconds:0})},1e3);return()=>clearInterval(U)},[e,r,c]),C.useEffect(()=>{if(r!=="post"){y(30);return}const U=setInterval(()=>{y(P=>P<=1?0:P-1)},1e3);return()=>clearInterval(U)},[r]),C.useEffect(()=>(d||_?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[d,_]),n)return u.jsx("div",{className:"flex items-center justify-center h-64 text-yellow-400 animate-pulse",children:"Ykleniyor..."});if(!e)return u.jsxs("div",{className:"text-center text-slate-400 mt-10 space-y-4",children:[u.jsx("p",{children:"Ma bilgisi bulunamad."}),l&&u.jsx("p",{className:"text-sm text-slate-300",children:l}),i&&u.jsx("button",{onClick:i,className:"px-4 py-2 rounded-full bg-yellow-400/20 text-yellow-300 border border-yellow-400/30 hover:bg-yellow-400 hover:text-black transition-colors",children:"Tekrar Dene"})]});const N=new Date(e.startTimestamp*1e3),D=3052,E=e.homeTeam.id===3052,O=E?e.awayTeam:e.homeTeam;return u.jsxs("div",{className:"min-h-screen pb-20",children:[u.jsxs("div",{className:"glass-card rounded-3xl p-6 relative overflow-hidden group mb-6",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-yellow-400 to-transparent opacity-50"}),u.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[u.jsx("span",{className:"text-xs font-bold tracking-wider text-yellow-400 uppercase bg-yellow-400/10 px-3 py-1 rounded-full border border-yellow-400/20",children:e.tournament.name}),u.jsx("span",{className:"text-xs text-slate-400 font-medium",children:N.toLocaleDateString("tr-TR",{day:"numeric",month:"long"})})]}),u.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:u.jsx(Ra,{teamId:E?D:O.id,name:E?"Fenerbahe":O.name,wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:E?"Fenerbahe":O.name})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center w-1/3 -mt-4",children:[u.jsx("span",{className:"text-2xl font-black text-slate-700/50",children:"VS"}),u.jsx("div",{className:"mt-2 text-center",children:u.jsx("span",{className:"text-3xl font-bold text-white tracking-tighter text-glow",children:N.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:u.jsx(Ra,{teamId:E?O.id:D,name:E?O.name:"Fenerbahe",wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:E?O.name:"Fenerbahe"})]})]}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5",children:[r==="countdown"&&u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.days}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Gn"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.hours}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Saat"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.minutes}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Dk"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.seconds}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Sn"})]})]}),r==="pre"&&u.jsxs("div",{className:"text-center py-4",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-yellow-400"})]}),u.jsx("span",{className:"text-sm font-bold text-yellow-400 uppercase",children:"Ma Birazdan Balyor!"})]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Takmlar sahaya kyor..."})]}),r==="in"&&o&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("span",{className:"text-sm font-bold text-red-400 uppercase",children:"Canl"}),u.jsx("span",{className:"text-xs text-slate-400 ml-1",children:o.displayClock})]}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[u.jsx("span",{className:"text-4xl font-black text-white",children:((j=o.homeTeam)==null?void 0:j.score)||"0"}),u.jsx("span",{className:"text-lg text-slate-500",children:""}),u.jsx("span",{className:"text-4xl font-black text-white",children:((L=o.awayTeam)==null?void 0:L.score)||"0"})]}),o.events&&o.events.length>0&&u.jsx("div",{className:"space-y-1 mb-4 max-h-32 overflow-y-auto",children:o.events.map((U,P)=>u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("span",{className:"text-slate-500 w-10 text-right",children:U.clock}),u.jsxs("span",{className:"w-4 h-4 flex-shrink-0 flex items-center justify-center",children:[U.isGoal&&u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-4 h-4",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),U.isYellowCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3 h-4",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#eab308"})}),U.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3 h-4",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#ef4444"})})]}),u.jsx("span",{className:`${U.isGoal?"text-yellow-400 font-bold":U.isRedCard?"text-red-400":"text-slate-300"}`,children:U.player})]},P))}),u.jsx("button",{onClick:()=>m(!0),className:"w-full px-4 py-2 bg-yellow-400/10 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 rounded-lg text-xs font-bold transition-all duration-300",children:"Detayl statistikler"})]}),r==="post"&&o&&u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:u.jsx("span",{className:"text-sm font-bold text-green-400 uppercase",children:"Ma Bitti"})}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[u.jsx("span",{className:"text-4xl font-black text-white",children:((T=o.homeTeam)==null?void 0:T.score)||"0"}),u.jsx("span",{className:"text-lg text-slate-500",children:""}),u.jsx("span",{className:"text-4xl font-black text-white",children:((Z=o.awayTeam)==null?void 0:Z.score)||"0"})]}),o.events&&o.events.filter(U=>U.isGoal).length>0&&u.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:o.events.filter(U=>U.isGoal).map((U,P)=>u.jsxs("span",{className:"text-xs text-slate-300 bg-white/5 px-2 py-1 rounded-full flex items-center gap-1",children:[u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-3 h-3 inline",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),U.clock," ",U.player]},P))}),u.jsxs("div",{className:"glass-panel rounded-lg p-3 text-center",children:[u.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["Sonraki maa geiliyor... ",p,"sn"]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-1",children:u.jsx("div",{className:"bg-yellow-400/50 h-1 rounded-full transition-all duration-1000",style:{width:`${(30-p)/30*100}%`}})})]})]})]})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6",children:[u.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.jsx("span",{className:"text-sm font-bold",children:"Sonraki Malar"})}),u.jsx("div",{className:"space-y-3",children:t.length>0?t.map((U,P)=>{const ae=new Date(U.startTimestamp*1e3),A=U.homeTeam,w=U.awayTeam,M=A.id===D;return u.jsxs("div",{className:"glass-panel rounded-xl p-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(Ra,{teamId:M?D:A.id,name:A.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"}),u.jsx("span",{className:"text-xs font-medium truncate",children:A.name})]}),u.jsxs("div",{className:"flex flex-col items-center px-3",children:[u.jsx("span",{className:"text-[10px] text-slate-400",children:ae.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),u.jsx("span",{className:"text-xs font-bold",children:ae.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[u.jsx("span",{className:"text-xs font-medium truncate text-right",children:w.name}),u.jsx(Ra,{teamId:M?w.id:D,name:w.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"})]})]},P)}):u.jsx("div",{className:"text-center text-slate-500 text-xs py-4",children:"Ma bilgisi ykleniyor..."})})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Puan Durumu"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:()=>{g("superlig"),b(!0)},className:"px-4 py-3 bg-yellow-400/5 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 hover:border-yellow-400 rounded-xl text-sm font-bold transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",children:"Sper Lig"}),u.jsx("button",{onClick:()=>{g("europa"),b(!0)},className:"px-4 py-3 bg-yellow-400/5 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 hover:border-yellow-400 rounded-xl text-sm font-bold transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",children:"Avrupa Ligi"})]})]}),u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"mb-6",children:u.jsx(QN,{opponentName:O.name,matchId:e.id})})}),d&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:()=>m(!1),children:u.jsxs("div",{className:"bg-[#0f172a] border-2 border-yellow-400/30 rounded-2xl p-6 max-w-4xl w-full max-h-[85vh] overflow-hidden animate-slideUp shadow-[0_0_40px_rgba(234,179,8,0.2)]",onClick:U=>U.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-yellow-400/20",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:"Canl Ma Detaylar"})]}),u.jsx("button",{onClick:()=>m(!1),className:"text-yellow-400 hover:text-white transition-all duration-300 hover:rotate-90",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"w-full",children:u.jsx(XN,{})})]})}),_&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:()=>b(!1),children:u.jsxs("div",{className:"bg-[#0f172a] border-2 border-yellow-400/30 rounded-2xl p-6 max-w-4xl w-full max-h-[85vh] overflow-hidden animate-slideUp shadow-[0_0_40px_rgba(234,179,8,0.2)]",onClick:U=>U.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-yellow-400/20",children:[u.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:S==="superlig"?"Sper Lig Puan Durumu":"UEFA Avrupa Ligi Puan Durumu"}),u.jsx("button",{onClick:()=>b(!1),className:"text-yellow-400 hover:text-white hover:rotate-90 transition-all duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"w-full",children:u.jsx(KN,{league:S})})]})})]})};function PN(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),l=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(l),t&&(i.href=t),l.href=e,l.href}const $N=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Yn(e){const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}let Ui=null;function Zv(e={}){return Ui||(e.includeStyleProperties?(Ui=e.includeStyleProperties,Ui):(Ui=Yn(window.getComputedStyle(document.documentElement)),Ui))}function Gr(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function WN(e){const t=Gr(e,"border-left-width"),n=Gr(e,"border-right-width");return e.clientWidth+t+n}function JN(e){const t=Gr(e,"border-top-width"),n=Gr(e,"border-bottom-width");return e.clientHeight+t+n}function Pv(e,t={}){const n=t.width||WN(e),i=t.height||JN(e);return{width:n,height:i}}function e4(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const st=16384;function t4(e){(e.width>st||e.height>st)&&(e.width>st&&e.height>st?e.width>e.height?(e.height*=st/e.width,e.width=st):(e.width*=st/e.height,e.height=st):e.width>st?(e.height*=st/e.width,e.width=st):(e.width*=st/e.height,e.height=st))}function Yr(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>t(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function n4(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function i4(e,t,n){const i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return l.setAttribute("width",`${t}`),l.setAttribute("height",`${n}`),l.setAttribute("viewBox",`0 0 ${t} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),l.appendChild(s),s.appendChild(e),n4(l)}const et=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||et(n,t)};function l4(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function s4(e,t){return Zv(t).map(n=>{const i=e.getPropertyValue(n),l=e.getPropertyPriority(n);return`${n}: ${i}${l?" !important":""};`}).join(" ")}function a4(e,t,n,i){const l=`.${e}:${t}`,s=n.cssText?l4(n):s4(n,i);return document.createTextNode(`${l}{${s}}`)}function Ap(e,t,n,i){const l=window.getComputedStyle(e,n),s=l.getPropertyValue("content");if(s===""||s==="none")return;const a=$N();try{t.className=`${t.className} ${a}`}catch{return}const r=document.createElement("style");r.appendChild(a4(a,n,l,i)),t.appendChild(r)}function r4(e,t,n){Ap(e,t,":before",n),Ap(e,t,":after",n)}const Rp="application/font-woff",Mp="image/jpeg",o4={woff:Rp,woff2:Rp,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Mp,jpeg:Mp,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function c4(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Gd(e){const t=c4(e).toLowerCase();return o4[t]||""}function u4(e){return e.split(/,/)[1]}function $u(e){return e.search(/^(data:)/)!==-1}function f4(e,t){return`data:${t};base64,${e}`}async function $v(e,t,n){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const l=await i.blob();return new Promise((s,a)=>{const r=new FileReader;r.onerror=a,r.onloadend=()=>{try{s(n({res:i,result:r.result}))}catch(o){a(o)}},r.readAsDataURL(l)})}const kc={};function d4(e,t,n){let i=e.replace(/\?.*/,"");return n&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function Yd(e,t,n){const i=d4(e,t,n.includeQueryParams);if(kc[i]!=null)return kc[i];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let l;try{const s=await $v(e,n.fetchRequestInit,({res:a,result:r})=>(t||(t=a.headers.get("Content-Type")||""),u4(r)));l=f4(s,t)}catch(s){l=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;s&&(a=typeof s=="string"?s:s.message),a&&console.warn(a)}return kc[i]=l,l}async function h4(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Yr(t)}async function m4(e,t){if(e.currentSrc){const s=document.createElement("canvas"),a=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,a==null||a.drawImage(e,0,0,s.width,s.height);const r=s.toDataURL();return Yr(r)}const n=e.poster,i=Gd(n),l=await Yd(n,i,t);return Yr(l)}async function p4(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await Do(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function g4(e,t){return et(e,HTMLCanvasElement)?h4(e):et(e,HTMLVideoElement)?m4(e,t):et(e,HTMLIFrameElement)?p4(e,t):e.cloneNode(Wv(e))}const y4=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Wv=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function _4(e,t,n){var i,l;if(Wv(t))return t;let s=[];return y4(e)&&e.assignedNodes?s=Yn(e.assignedNodes()):et(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?s=Yn(e.contentDocument.body.childNodes):s=Yn(((l=e.shadowRoot)!==null&&l!==void 0?l:e).childNodes),s.length===0||et(e,HTMLVideoElement)||await s.reduce((a,r)=>a.then(()=>Do(r,n)).then(o=>{o&&t.appendChild(o)}),Promise.resolve()),t}function v4(e,t,n){const i=t.style;if(!i)return;const l=window.getComputedStyle(e);l.cssText?(i.cssText=l.cssText,i.transformOrigin=l.transformOrigin):Zv(n).forEach(s=>{let a=l.getPropertyValue(s);s==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),et(e,HTMLIFrameElement)&&s==="display"&&a==="inline"&&(a="block"),s==="d"&&t.getAttribute("d")&&(a=`path(${t.getAttribute("d")})`),i.setProperty(s,a,l.getPropertyPriority(s))})}function b4(e,t){et(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),et(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function x4(e,t){if(et(e,HTMLSelectElement)){const n=t,i=Array.from(n.children).find(l=>e.value===l.getAttribute("value"));i&&i.setAttribute("selected","")}}function S4(e,t,n){return et(t,Element)&&(v4(e,t,n),r4(e,t,n),b4(e,t),x4(e,t)),t}async function w4(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const i={};for(let s=0;s<n.length;s++){const r=n[s].getAttribute("xlink:href");if(r){const o=e.querySelector(r),c=document.querySelector(r);!o&&c&&!i[r]&&(i[r]=await Do(c,t,!0))}}const l=Object.values(i);if(l.length){const s="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg");a.setAttribute("xmlns",s),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const r=document.createElementNS(s,"defs");a.appendChild(r);for(let o=0;o<l.length;o++)r.appendChild(l[o]);e.appendChild(a)}return e}async function Do(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>g4(i,t)).then(i=>_4(e,i,t)).then(i=>S4(e,i,t)).then(i=>w4(i,t))}const Jv=/url\((['"]?)([^'"]+?)\1\)/g,E4=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,T4=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function C4(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function N4(e){const t=[];return e.replace(Jv,(n,i,l)=>(t.push(l),n)),t.filter(n=>!$u(n))}async function A4(e,t,n,i,l){try{const s=n?PN(t,n):t,a=Gd(t);let r;return l||(r=await Yd(s,a,i)),e.replace(C4(t),`$1${r}$3`)}catch{}return e}function R4(e,{preferredFontFormat:t}){return t?e.replace(T4,n=>{for(;;){const[i,,l]=E4.exec(n)||[];if(!l)return"";if(l===t)return`src: ${i};`}}):e}function eb(e){return e.search(Jv)!==-1}async function tb(e,t,n){if(!eb(e))return e;const i=R4(e,n);return N4(i).reduce((s,a)=>s.then(r=>A4(r,a,t,n)),Promise.resolve(i))}async function Bi(e,t,n){var i;const l=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(l){const s=await tb(l,null,n);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function M4(e,t){await Bi("background",e,t)||await Bi("background-image",e,t),await Bi("mask",e,t)||await Bi("-webkit-mask",e,t)||await Bi("mask-image",e,t)||await Bi("-webkit-mask-image",e,t)}async function D4(e,t){const n=et(e,HTMLImageElement);if(!(n&&!$u(e.src))&&!(et(e,SVGImageElement)&&!$u(e.href.baseVal)))return;const i=n?e.src:e.href.baseVal,l=await Yd(i,Gd(i),t);await new Promise((s,a)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...o)=>{try{s(t.onImageErrorHandler(...o))}catch(c){a(c)}}:a;const r=e;r.decode&&(r.decode=s),r.loading==="lazy"&&(r.loading="eager"),n?(e.srcset="",e.src=l):e.href.baseVal=l})}async function O4(e,t){const i=Yn(e.childNodes).map(l=>nb(l,t));await Promise.all(i).then(()=>e)}async function nb(e,t){et(e,Element)&&(await M4(e,t),await D4(e,t),await O4(e,t))}function j4(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(l=>{n[l]=i[l]}),e}const Dp={};async function Op(e){let t=Dp[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},Dp[e]=t,t}async function jp(e,t){let n=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let r=a.replace(i,"$1");return r.startsWith("https://")||(r=new URL(r,e.url).href),$v(r,t.fetchRequestInit,({result:o})=>(n=n.replace(a,`url(${o})`),[a,o]))});return Promise.all(s).then(()=>n)}function kp(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(n,"");const l=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const o=l.exec(i);if(o===null)break;t.push(o[0])}i=i.replace(l,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",r=new RegExp(a,"gi");for(;;){let o=s.exec(i);if(o===null){if(o=r.exec(i),o===null)break;s.lastIndex=r.lastIndex}else r.lastIndex=s.lastIndex;t.push(o[0])}return t}async function k4(e,t){const n=[],i=[];return e.forEach(l=>{if("cssRules"in l)try{Yn(l.cssRules||[]).forEach((s,a)=>{if(s.type===CSSRule.IMPORT_RULE){let r=a+1;const o=s.href,c=Op(o).then(h=>jp(h,t)).then(h=>kp(h).forEach(f=>{try{l.insertRule(f,f.startsWith("@import")?r+=1:l.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(h=>{console.error("Error loading remote css",h.toString())});i.push(c)}})}catch(s){const a=e.find(r=>r.href==null)||document.styleSheets[0];l.href!=null&&i.push(Op(l.href).then(r=>jp(r,t)).then(r=>kp(r).forEach(o=>{a.insertRule(o,a.cssRules.length)})).catch(r=>{console.error("Error loading remote stylesheet",r)})),console.error("Error inlining remote css file",s)}}),Promise.all(i).then(()=>(e.forEach(l=>{if("cssRules"in l)try{Yn(l.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${l.href}`,s)}}),n))}function z4(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>eb(t.style.getPropertyValue("src")))}async function L4(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Yn(e.ownerDocument.styleSheets),i=await k4(n,t);return z4(i)}function ib(e){return e.trim().replace(/["']/g,"")}function I4(e){const t=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(s=>{t.add(ib(s))}),Array.from(i.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(e),t}async function U4(e,t){const n=await L4(e,t),i=I4(e);return(await Promise.all(n.filter(s=>i.has(ib(s.style.fontFamily))).map(s=>{const a=s.parentStyleSheet?s.parentStyleSheet.href:null;return tb(s.cssText,a,t)}))).join(`
`)}async function B4(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await U4(e,t);if(n){const i=document.createElement("style"),l=document.createTextNode(n);i.appendChild(l),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function H4(e,t={}){const{width:n,height:i}=Pv(e,t),l=await Do(e,t,!0);return await B4(l,t),await nb(l,t),j4(l,t),await i4(l,n,i)}async function q4(e,t={}){const{width:n,height:i}=Pv(e,t),l=await H4(e,t),s=await Yr(l),a=document.createElement("canvas"),r=a.getContext("2d"),o=t.pixelRatio||e4(),c=t.canvasWidth||n,h=t.canvasHeight||i;return a.width=c*o,a.height=h*o,t.skipAutoScale||t4(a),a.style.width=`${c}`,a.style.height=`${h}`,t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(0,0,a.width,a.height)),r.drawImage(s,0,0,a.width,a.height),a}async function V4(e,t={}){return(await q4(e,t)).toDataURL()}const G4=`data:image/svg+xml,${encodeURIComponent('<svg viewBox="0 0 68 105" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="grass" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#1a472a"/><stop offset="50%" style="stop-color:#166534"/><stop offset="100%" style="stop-color:#1a472a"/></linearGradient></defs><rect width="68" height="105" fill="url(#grass)"/><g stroke="rgba(255,255,255,0.5)" stroke-width="0.4" fill="none"><rect x="4" y="4" width="60" height="97"/><line x1="4" y1="52.5" x2="64" y2="52.5"/><circle cx="34" cy="52.5" r="9.15"/><circle cx="34" cy="52.5" r="0.5" fill="rgba(255,255,255,0.5)"/><rect x="13.84" y="4" width="40.32" height="16.5"/><rect x="24.84" y="4" width="18.32" height="5.5"/><circle cx="34" cy="15" r="0.5" fill="rgba(255,255,255,0.5)"/><path d="M 25.5 20.5 A 9.15 9.15 0 0 0 42.5 20.5"/><rect x="13.84" y="84.5" width="40.32" height="16.5"/><rect x="24.84" y="95.5" width="18.32" height="5.5"/><circle cx="34" cy="90" r="0.5" fill="rgba(255,255,255,0.5)"/><path d="M 25.5 84.5 A 9.15 9.15 0 0 1 42.5 84.5"/><path d="M 4 6 A 2 2 0 0 0 6 4"/><path d="M 62 4 A 2 2 0 0 0 64 6"/><path d="M 4 99 A 2 2 0 0 1 6 101"/><path d="M 62 101 A 2 2 0 0 1 64 99"/></g></svg>')}`,Y4=()=>{const[e,t]=C.useState([]),[n,i]=C.useState({}),[l,s]=C.useState("4-2-3-1"),[a,r]=C.useState(!0),[o,c]=C.useState(!1),[h,f]=C.useState(null),[d,m]=C.useState(""),[_,b]=C.useState(!1),[S,g]=C.useState(!1),p=C.useRef(null);C.useEffect(()=>{(async()=>{const M=await oS();t(M),r(!1)})()},[]),C.useEffect(()=>{if(typeof window<"u"){const w="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;g(w)}},[]);const y=(w,M)=>{w.dataTransfer.setData("player",JSON.stringify(M))},v=(w,M)=>{w.preventDefault();const k=JSON.parse(w.dataTransfer.getData("player")),q=w.dataTransfer.getData("sourcePosition");if(q){const Qe=n[M];i(lt=>{const Gt={...lt};return Qe?(Gt[q]=Qe,Gt[M]=k):(delete Gt[q],Gt[M]=k),Gt})}else{if(Object.values(n).some(lt=>lt.id===k.id))return;i(lt=>({...lt,[M]:k}))}},N=w=>{w.preventDefault()},D=w=>{i(M=>{const k={...M};return delete k[w],k})},E=w=>{n[w]||(f(w),c(!0))},O=w=>{h&&(Object.values(n).some(k=>k.id===w.id)||i(k=>({...k,[h]:w}))),c(!1),f(null),m("")},j={"4-3-3":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CM1:{top:"50%",left:"28%"},CM2:{top:"50%",left:"50%"},CM3:{top:"50%",left:"72%"},LW:{top:"25%",left:"12%"},ST:{top:"15%",left:"50%"},RW:{top:"25%",left:"88%"}},"4-4-2":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},LM:{top:"50%",left:"12%"},CM1:{top:"50%",left:"35%"},CM2:{top:"50%",left:"65%"},RM:{top:"50%",left:"88%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}},"4-2-3-1":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM1:{top:"60%",left:"35%"},CDM2:{top:"60%",left:"65%"},LAM:{top:"35%",left:"15%"},CAM:{top:"32%",left:"50%"},RAM:{top:"35%",left:"85%"},ST:{top:"15%",left:"50%"}},"4-1-4-1":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM:{top:"62%",left:"50%"},LM:{top:"45%",left:"12%"},CM1:{top:"45%",left:"35%"},CM2:{top:"45%",left:"65%"},RM:{top:"45%",left:"88%"},ST:{top:"15%",left:"50%"}},"3-5-2":{GK:{top:"93%",left:"50%"},CB1:{top:"78%",left:"25%"},CB2:{top:"78%",left:"50%"},CB3:{top:"78%",left:"75%"},LWB:{top:"55%",left:"8%"},CM1:{top:"50%",left:"28%"},CM2:{top:"50%",left:"50%"},CM3:{top:"50%",left:"72%"},RWB:{top:"55%",left:"92%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}},"4-1-2-1-2 Diamond":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM:{top:"62%",left:"50%"},CM1:{top:"48%",left:"25%"},CM2:{top:"48%",left:"75%"},CAM:{top:"32%",left:"50%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}}},L=j[l],T=Object.keys(n).length,Z=Object.keys(L).length,U=async()=>{const w=new Date().toISOString().split("T")[0],M=await V4(p.current,{quality:1,pixelRatio:2,backgroundColor:"#030712",style:{transform:"scale(1)"}}),q=await(await fetch(M)).blob(),Qe=`fenerbahce-${l.replace(/[^0-9a-z-]/gi,"")}-lineup-${w}.png`;return{blob:q,fileName:Qe,dataUrl:M}},P=async()=>{if(!(!T||_||!p.current)){b(!0);try{const{dataUrl:w,fileName:M}=await U(),k=document.createElement("a");k.download=M,k.href=w,k.click()}catch(w){console.error("Kadro kart indirilirken hata olutu:",w),window.alert(`Kart indirilirken bir hata olutu: ${w.message}`)}finally{b(!1)}}},ae=async()=>{if(!(!T||_||!p.current)){b(!0);try{const{blob:w,fileName:M}=await U(),k=new File([w],M,{type:"image/png"});navigator.share&&navigator.canShare({files:[k]})?await navigator.share({title:"Fenerbahe Kadrom",text:`Benim ${l} kadrom! `,files:[k]}):P()}catch(w){w.name!=="AbortError"&&console.error("Paylam hatas:",w)}finally{b(!1)}}},A=Object.entries(L).sort(([,w],[,M])=>parseFloat(w.top)-parseFloat(M.top));return u.jsxs("div",{className:"h-full flex flex-col pb-20",children:[u.jsxs("div",{className:"flex flex-col gap-3 mb-4 px-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("select",{value:l,onChange:w=>s(w.target.value),className:"bg-slate-800 text-white text-sm rounded-lg px-3 py-2 border border-slate-700 focus:outline-none focus:border-yellow-400",children:Object.keys(j).map(w=>u.jsx("option",{value:w,children:w},w))}),u.jsx("button",{onClick:()=>i({}),className:"text-xs text-red-400 hover:text-red-300 font-medium px-3 py-2 bg-red-400/10 rounded-lg border border-red-400/20",children:"Temizle"})]}),u.jsx("div",{className:"glass-panel rounded-xl p-4 flex flex-col gap-3 border border-white/5",children:u.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-white",children:"Kadro Payla"}),u.jsxs("p",{className:"text-[11px] text-slate-400",children:["Tamamlanan kadro: ",u.jsxs("span",{className:"font-semibold text-white",children:[T,"/",Z]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:ae,disabled:!T||_,className:`px-3 py-2 rounded-lg text-xs font-semibold flex items-center gap-2 transition-colors ${T&&!_?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/40 hover:bg-yellow-500/30":"bg-white/5 text-slate-500 border border-white/10 cursor-not-allowed"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),_?"Hazrlanyor...":"Payla"]}),u.jsxs("button",{onClick:P,disabled:!T||_,className:`px-3 py-2 rounded-lg text-xs font-semibold flex items-center gap-2 transition-colors ${T&&!_?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/40 hover:bg-emerald-500/30":"bg-white/5 text-slate-500 border border-white/10 cursor-not-allowed"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"ndir"]})]})]})})]}),u.jsx("div",{ref:p,className:"relative w-full aspect-[2/3] overflow-hidden mx-auto max-w-sm rounded-xl mb-6",style:{backgroundImage:`url("${G4}")`,backgroundSize:"cover",backgroundPosition:"center"},children:A.map(([w,M])=>{const k=n[w];return u.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 flex items-center justify-center transition-all duration-200",style:M,onDrop:q=>v(q,w),onDragOver:N,onClick:()=>E(w),children:k?u.jsxs("div",{className:"relative w-full h-full flex flex-col items-center group",draggable:!_&&!S,onDragStart:q=>{q.dataTransfer.setData("player",JSON.stringify(k)),q.dataTransfer.setData("sourcePosition",w)},children:[u.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-yellow-400 overflow-hidden bg-slate-800 shadow-lg relative cursor-move z-10 group-hover:scale-110 transition-transform",children:k.photo?u.jsx("img",{src:k.photo,alt:k.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold",children:k.number})}),!_&&u.jsx("button",{type:"button","aria-label":`${k.name} pozisyonundan kar`,onClick:q=>{q.stopPropagation(),D(w)},className:"absolute top-0 right-0 w-4 h-4 rounded-full bg-slate-900/90 backdrop-blur-sm border border-slate-600/50 flex items-center justify-center shadow-md active:scale-90 transition-all z-20 hover:border-yellow-400/60 hover:bg-slate-800",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-2.5 h-2.5 text-slate-400 group-hover:text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),u.jsx("div",{className:"mt-1 bg-slate-900/90 px-2 py-0.5 rounded text-[9px] text-white font-medium truncate w-20 text-center border border-white/10 backdrop-blur-sm shadow-sm z-20",children:k.name.split(" ").pop()})]}):u.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-dashed border-white/40 bg-white/5 flex items-center justify-center hover:bg-white/10 hover:border-yellow-400/50 transition-all cursor-pointer",children:u.jsx("span",{className:"text-2xl text-white/50 hover:text-yellow-400",children:"+"})})},w)})}),u.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-2 px-2 uppercase tracking-wider",children:"Oyuncular"}),u.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar px-2 pb-20 touch-pan-y",children:u.jsx("div",{className:"grid grid-cols-4 gap-2",children:a?u.jsx("div",{className:"col-span-4 text-center text-slate-500 py-4",children:"Ykleniyor..."}):e.map(w=>u.jsxs("div",{draggable:!S,onDragStart:M=>y(M,w),className:"glass-panel rounded-lg p-2 flex flex-col items-center gap-1 cursor-move active:scale-95 transition-transform hover:bg-white/5",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 overflow-hidden border border-white/10 pointer-events-none",children:w.photo?u.jsx("img",{src:w.photo,alt:w.name,className:"w-full h-full object-cover",crossOrigin:"anonymous",draggable:"false"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:w.number})}),u.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center pointer-events-none",children:w.name.split(" ").slice(-1)[0]}),u.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded pointer-events-none",children:w.position})]},w.id))})})]}),o&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{c(!1),m("")},children:u.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm max-h-[75vh] overflow-hidden flex flex-col",onClick:w=>w.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-white",children:"Oyuncu Se"}),u.jsxs("div",{className:"mt-3 relative",children:[u.jsx("input",{type:"text",value:d,onChange:w=>m(w.target.value),placeholder:"sim ya da forma no ile ara...",className:"w-full bg-slate-900/60 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-yellow-400"}),d&&u.jsx("button",{onClick:()=>m(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white text-xs",children:"Temizle"})]})]}),u.jsx("button",{onClick:()=>{c(!1),m("")},className:"text-slate-400 hover:text-white",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:u.jsx("div",{className:"grid grid-cols-3 gap-2",children:(()=>{const w=d.trim().toLowerCase(),M=w?e.filter(k=>{var lt;const q=(lt=k.name)==null?void 0:lt.toLowerCase().includes(w),Qe=String(k.number??"").includes(w);return q||Qe}):e;return M.length?M.map(k=>{const q=Object.values(n).some(Qe=>Qe.id===k.id);return u.jsxs("button",{onClick:()=>O(k),disabled:q,className:`glass-panel rounded-lg p-2 flex flex-col items-center gap-1 transition-all ${q?"opacity-50 cursor-not-allowed":"hover:bg-yellow-400/20 hover:border-yellow-400/30 cursor-pointer"}`,children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 overflow-hidden border border-white/10",children:k.photo?u.jsx("img",{src:k.photo,alt:k.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:k.number})}),u.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center",children:k.name.split(" ").slice(-1)[0]}),u.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded",children:k.position})]},k.id)}):u.jsx("div",{className:"col-span-3 text-center text-slate-500 text-xs py-6",children:"Oyuncu bulunamad"})})()})})]})})]})},zp="fb_fcm_token",Wu=()=>({threeHours:!1,oneHour:!1,thirtyMinutes:!1,fifteenMinutes:!1,dailyCheck:!1}),Lp=(e={})=>({...Wu(),...e}),F4=()=>{const[e,t]=C.useState(!1),[n,i]=C.useState(()=>{const S=localStorage.getItem("fb_notification_options");if(S)try{return Lp(JSON.parse(S))}catch{return Wu()}return Wu()}),[l,s]=C.useState(null),[a,r]=C.useState(()=>localStorage.getItem("fb_has_notifications")==="true");C.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const o=S=>{s(g=>{const p=g??n;return{...p,[S]:!(p!=null&&p[S])}})},c=()=>{s({...n}),t(!0)},h=()=>{s(null),t(!1)},f=async()=>{const S=Lp(m),g=Object.entries(S).filter(([v,N])=>N&&v!=="updatedAt").length,p=g===0;let y=localStorage.getItem(zp);try{if(!p)try{if(!("Notification"in window)){alert(" Bu tarayc bildirimleri desteklemiyor.");return}if(await Notification.requestPermission()==="granted"){const{messaging:N}=await Du(async()=>{const{messaging:j}=await Promise.resolve().then(()=>LN);return{messaging:j}},void 0),{getToken:D}=await Du(async()=>{const{getToken:j}=await Promise.resolve().then(()=>kN);return{getToken:j}},void 0),E="/fenerbahce-fan-hub/firebase-messaging-sw.js",O="/fenerbahce-fan-hub/firebase-cloud-messaging-push-scope";console.log("FCM Service Worker registration path:",E,"scope:",O);try{let j=await navigator.serviceWorker.getRegistration(O);j||(j=await navigator.serviceWorker.register(E,{scope:O})),console.log(" FCM Service Worker ready:",j),y=await D(N,{vapidKey:"BL36u1e0V4xvIyP8n_Nh1Uc_EZTquN1vNv58E3wm_q3IsQ916MfhsbF1NATwfeoitmAIyhMTC5TdhB7CSBRAz-4",serviceWorkerRegistration:j}),y&&localStorage.setItem(zp,y)}catch(j){console.error("FCM Service Worker registration failed:",j),alert(` Service Worker hatas: ${j.message}`);return}}else{alert(" Bildirim izni reddedildi! Tarayc ayarlarndan izin vermelisiniz.");return}}catch(v){console.error("Token alnamad:",v),alert(` Bildirim hatas: ${v.message}`);return}if(y){const v=await fetch(`${_n}/reminder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:y,options:S})});if(!v.ok)throw new Error(`Backend error: ${v.status}`);const N=await v.json();console.log("Backend response:",N)}else if(p)console.warn("No stored token found while disabling notifications; local state cleared only.");else{alert(" Bildirim tokeni alnamad. Ltfen tekrar deneyin.");return}g===0?(r(!1),localStorage.removeItem("fb_has_notifications"),localStorage.removeItem("fb_notification_options"),alert(" Tm bildirimler temizlendi!")):(r(!0),localStorage.setItem("fb_has_notifications","true"),localStorage.setItem("fb_notification_options",JSON.stringify(S)),alert(` ${g} bildirim ayarland! Tm malara uygulanacak.`)),i(S),s(null),t(!1)}catch(v){console.error("Bildirim kaydetme hatas:",v),alert(" Balant hatas! Ltfen tekrar deneyin.")}},d=[{id:"threeHours",label:"Matan 3 saat nce",description:"Hazrlk yapmaya zamann olsun"},{id:"oneHour",label:"Matan 1 saat nce",description:"Heyecan zaman!"},{id:"thirtyMinutes",label:"Matan 30 dakika nce",description:"Son hazrlk"},{id:"fifteenMinutes",label:"Matan 15 dakika nce",description:"Ma balyor!"}],m=l??n,_=JSON.stringify(m)!==JSON.stringify(n),b=Object.entries(m).filter(([S,g])=>g&&S!=="updatedAt").length;return Object.entries(n).filter(([S,g])=>g&&S!=="updatedAt").length,u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:c,className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-300 bg-white/5 text-slate-400 hover:bg-white/10 hover:text-yellow-400 hover:scale-110 ${a?"ring-2 ring-yellow-400/60 text-yellow-400/80":""}`,title:"Bildirim ayarlar",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:a?2:1.5,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:h,children:u.jsxs("div",{className:"bg-[#0f172a] border border-white/10 rounded-2xl p-6 max-w-md w-full max-h-[85vh] overflow-y-auto animate-slideUp shadow-2xl",onClick:S=>S.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-white",children:"Bildirim Ayarlar"}),u.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Tm malar iin geerli"})]}),u.jsx("button",{onClick:h,className:"text-slate-400 hover:text-white hover:rotate-90 transition-all duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"glass-panel rounded-xl p-4 mb-6 border border-yellow-400/20",children:[u.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"text-sm font-semibold",children:"Bu ayarlar tm malara uygulanr"})]}),u.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Bir kez ayarla, her ma iin otomatik bildirim al!"})]}),u.jsxs("div",{className:"space-y-3 mb-6",children:[d.map(S=>u.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${m[S.id]?"bg-yellow-400/20 border-yellow-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[u.jsx("input",{type:"checkbox",checked:m[S.id],onChange:()=>o(S.id),className:"mt-1 w-5 h-5 rounded border-2 border-yellow-400 bg-transparent checked:bg-yellow-400 cursor-pointer accent-yellow-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("span",{className:"font-semibold text-white",children:S.label})}),u.jsx("p",{className:"text-xs text-slate-400",children:S.description})]})]},S.id)),u.jsx("div",{className:"pt-3 border-t border-white/10",children:u.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${m.dailyCheck?"bg-blue-400/20 border-blue-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[u.jsx("input",{type:"checkbox",checked:m.dailyCheck,onChange:()=>o("dailyCheck"),className:"mt-1 w-5 h-5 rounded border-2 border-blue-400 bg-transparent checked:bg-blue-400 cursor-pointer accent-blue-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"font-semibold text-white",children:"Gnlk Ma Kontrol"}),u.jsx("span",{className:"text-[10px] bg-blue-500/20 text-blue-300 px-2 py-0.5 rounded-full font-bold",children:"ZEL"})]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Her sabah 09:00'da kontrol et, o gn ma varsa bildir"})]})]})})]}),Object.entries(m).some(([S,g])=>g&&S!=="updatedAt")&&u.jsx("div",{className:"bg-yellow-400/10 border border-yellow-400/30 rounded-lg p-3 mb-4 animate-fadeIn",children:u.jsxs("p",{className:"text-xs text-yellow-200",children:[u.jsx("strong",{className:"text-yellow-400",children:b})," bildirim setiniz"]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:S=>{S.stopPropagation(),h()},className:"flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 transition-all duration-200 font-medium border border-white/10 hover:border-white/20",children:"ptal"}),u.jsx("button",{onClick:f,disabled:!_,className:`flex-1 py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-all duration-200 ${_?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-300 hover:to-yellow-400 shadow-[0_0_20px_rgba(234,179,8,0.3)] hover:shadow-[0_0_30px_rgba(234,179,8,0.5)] hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed opacity-50"}`,children:"Kaydet"})]})]})})]})},Q4=[{id:"all",label:"Tm"},{id:"played",label:"Oynanan"},{id:"upcoming",label:"Kalan"}],K4=[{id:"all",label:"Tm"},{id:"home",label:" Saha"},{id:"away",label:"Deplasman"}],X4=[{id:"all",label:"Tm"},{id:"superlig",label:"Sper Lig"},{id:"europe",label:"Avrupa"}],Wt=(e="")=>e&&e.replace(/\bFenerbahce\b/gi,"Fenerbahe").replace(/\bBesiktas\b/gi,"Beikta").replace(/\bIstanbul Basaksehir\b/gi,"stanbul Baakehir"),ja=e=>{const t=new Date(e==null?void 0:e.date).getTime();return Number.isFinite(t)?t:0},Z4=e=>{const t=new Date(e);return{full:t.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}),time:t.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})}},P4=e=>{const t=e==null?void 0:e.venueName;return t?e!=null&&e.isFbHome&&/ulker|lker|sukru|kr|saracolu|saracoglu/i.test(t)?"Chobani Stadyumu kr Saracolu Spor Kompleksi":t:null},$4=e=>e.status.completed||e.status.state==="in",Ip=({team:e,isFenerbahce:t=!1,align:n="left"})=>u.jsxs("div",{className:`flex items-center gap-2 min-w-0 ${n==="right"?"justify-end text-right":""}`,children:[n==="right"&&u.jsx("span",{className:`text-sm font-semibold truncate max-w-[120px] ${t?"text-yellow-300":"text-white"}`,children:Wt(e.shortName||e.name)}),u.jsx("div",{className:`w-9 h-9 rounded-full overflow-hidden border flex items-center justify-center shrink-0 ${t?"border-yellow-400/40 bg-yellow-400/10":"border-white/10 bg-white/5"}`,children:e.logo?u.jsx("img",{src:e.logo,alt:Wt(e.name),className:"w-full h-full object-contain p-1",loading:"lazy"}):u.jsx("span",{className:"text-[10px] font-bold text-slate-200",children:(e.abbreviation||Wt(e.name).slice(0,2)).toUpperCase()})}),n!=="right"&&u.jsx("span",{className:`text-sm font-semibold truncate max-w-[120px] ${t?"text-yellow-300":"text-white"}`,children:Wt(e.shortName||e.name)})]});function W4(){const[e,t]=C.useState(null),[n,i]=C.useState(!0),[l,s]=C.useState(null),[a,r]=C.useState(!1),[o,c]=C.useState("all"),[h,f]=C.useState(!1),[d,m]=C.useState(""),[_,b]=C.useState("all"),[S,g]=C.useState("all");C.useEffect(()=>{let T=!0;return(async()=>{i(!0),s(null);const U=await wm();T&&(U!=null&&U.error&&s("Fikstr verisi alnamad. Ltfen tekrar dene."),t(U),i(!1))})(),()=>{T=!1}},[]);const p=async()=>{s(null),r(!0);const T=await wm();T!=null&&T.error&&s("Fikstr verisi alnamad. Ltfen tekrar dene."),t(T),r(!1)},y=C.useMemo(()=>(e==null?void 0:e.matches)??[],[e]),v=C.useMemo(()=>y.filter(T=>T.status.completed||T.status.state==="post").sort((T,Z)=>ja(Z)-ja(T)),[y]),N=C.useMemo(()=>y.filter(T=>!T.status.completed&&T.status.state!=="post").sort((T,Z)=>ja(T)-ja(Z)),[y]),D=C.useMemo(()=>o==="played"?v:o==="upcoming"?N:[...v,...N],[o,v,N]),E=d.trim().toLocaleLowerCase("tr-TR"),O=C.useMemo(()=>D.filter(T=>{var Z,U,P,ae,A;return!(_==="home"&&!T.isFbHome||_==="away"&&T.isFbHome||S!=="all"&&T.competitionGroup!==S||E&&![Wt(((Z=T.homeTeam)==null?void 0:Z.name)||""),Wt(((U=T.homeTeam)==null?void 0:U.shortName)||""),Wt(((P=T.awayTeam)==null?void 0:P.name)||""),Wt(((ae=T.awayTeam)==null?void 0:ae.shortName)||""),Wt(((A=T.opponentTeam)==null?void 0:A.name)||"")].join(" ").toLocaleLowerCase("tr-TR").includes(E))}),[D,_,S,E]),j=[_!=="all",S!=="all",E.length>0].filter(Boolean).length,L=()=>{m(""),b("all"),g("all")};return u.jsxs("div",{className:"min-h-screen pb-24",children:[u.jsxs("section",{className:"mb-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"grid grid-cols-3 gap-2 flex-1",children:Q4.map(T=>u.jsx("button",{onClick:()=>c(T.id),className:`px-2 py-2 rounded-xl text-xs font-semibold transition-all duration-200 ${o===T.id?"bg-yellow-400 text-black shadow-[0_0_18px_rgba(234,179,8,0.25)]":"glass-panel text-slate-300 hover:bg-white/10"}`,children:T.label},T.id))}),u.jsxs("div",{className:"shrink-0 flex items-center gap-1.5",children:[u.jsxs("button",{onClick:()=>f(T=>!T),className:`h-[38px] px-[11px] rounded-xl text-xs font-semibold border transition-colors inline-flex items-center gap-1.5 ${h?"border-yellow-400/30 text-yellow-300 bg-yellow-400/5":"border-white/10 text-slate-300 bg-white/5 hover:bg-white/10"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h18M6 12h12m-9 8h6"})}),u.jsx("span",{children:"Filtre"}),j>0&&u.jsx("span",{className:"min-w-[18px] h-[18px] px-1 rounded-full bg-yellow-400 text-black text-[9px] inline-flex items-center justify-center font-bold",children:j})]}),u.jsxs("button",{onClick:p,disabled:n||a,className:"h-[38px] px-[11px] rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors inline-flex items-center gap-1.5",title:"Fikstr yenile",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`w-4 h-4 text-yellow-300 ${a?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v6h6M20 20v-6h-6M20 9a8 8 0 00-13.66-3.66L4 7m16 10l-2.34 2.34A8 8 0 014 15"})}),u.jsx("span",{children:a?"Yenileniyor":"Yenile"})]})]})]}),h&&u.jsxs("div",{className:"glass-panel rounded-2xl p-3 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 pb-1 border-b border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-yellow-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h18M6 12h12m-9 8h6"})}),u.jsx("p",{className:"text-xs font-semibold text-white",children:"Ma Filtreleri"})]}),u.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-white hover:rotate-90 transition-all duration-300 shrink-0","aria-label":"Filtre panelini kapat",title:"Kapat",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Takm Ara"}),u.jsx("input",{type:"text",value:d,onChange:T=>m(T.target.value),placeholder:"Rakip ad yaz...",className:"w-full rounded-xl border border-white/10 bg-slate-950/40 px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-yellow-400/30"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Saha"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:K4.map(T=>u.jsx("button",{onClick:()=>b(T.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${_===T.id?"bg-yellow-400/10 text-yellow-200 border border-yellow-400/25":"bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10"}`,children:T.label},T.id))})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Kulvar"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:X4.map(T=>u.jsx("button",{onClick:()=>g(T.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${S===T.id?"bg-blue-400/10 text-blue-200 border border-blue-400/25":"bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10"}`,children:T.label},T.id))})]}),u.jsxs("div",{className:"flex items-center justify-between gap-3 pt-1",children:[u.jsxs("p",{className:"text-xs text-slate-400",children:[O.length," ma gsteriliyor"]}),u.jsx("button",{onClick:L,className:"text-sm font-semibold text-slate-200 hover:text-white transition-colors",children:"Temizle"})]})]})]}),n?u.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((T,Z)=>u.jsxs("div",{className:"glass-panel rounded-2xl p-4 animate-pulse",children:[u.jsx("div",{className:"h-4 w-36 bg-white/10 rounded mb-3"}),u.jsx("div",{className:"h-10 w-full bg-white/5 rounded-xl"})]},Z))}):u.jsxs("section",{className:"space-y-3",children:[l&&u.jsx("div",{className:"glass-panel rounded-2xl p-4 border border-rose-400/20",children:u.jsx("p",{className:"text-sm text-rose-200",children:l})}),!l&&O.length===0&&u.jsx("div",{className:"glass-panel rounded-2xl p-5 text-center",children:u.jsx("p",{className:"text-sm text-slate-300",children:"Bu filtre iin ma bulunamad."})}),!l&&O.length>0&&u.jsx("div",{className:"space-y-2.5",children:O.map(T=>{const Z=Z4(T.date),U=$4(T),P=P4(T);return u.jsxs("article",{className:"glass-panel rounded-2xl p-4 border border-white/5 hover:border-yellow-400/10 transition-colors",children:[u.jsxs("p",{className:"text-[12px] text-slate-400 mb-3",children:[Z.full,"  ",Z.time]}),u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-2",children:[u.jsx(Ip,{team:T.homeTeam,isFenerbahce:T.homeTeam.id===T.fbTeam.id,align:"left"}),u.jsx("div",{className:"px-2 text-center shrink-0",children:U?u.jsxs("span",{className:"font-black text-white text-lg tracking-tight",children:[T.homeTeam.score??"-"," ",u.jsx("span",{className:"text-slate-500",children:":"})," ",T.awayTeam.score??"-"]}):u.jsx("span",{className:"font-bold text-slate-400 text-sm",children:"VS"})}),u.jsx(Ip,{team:T.awayTeam,isFenerbahce:T.awayTeam.id===T.fbTeam.id,align:"right"})]}),P&&u.jsx("div",{className:"mt-3 pt-3 border-t border-white/5",children:u.jsx("p",{className:"text-[11px] text-slate-500 truncate",children:P})})]},T.id)})})]})]})}const J4=()=>{if(typeof window>"u")return null;const e=localStorage.getItem("fb_last_match");if(!e)return null;try{return JSON.parse(e)}catch(t){return console.warn("fb_last_match parse error:",t),null}};function e3(){const[e,t]=C.useState("dashboard"),n=C.useMemo(()=>typeof window>"u"?null:J4(),[]),[i,l]=C.useState((n==null?void 0:n.nextMatch)??null),[s,a]=C.useState((n==null?void 0:n.next3Matches)??[]),[r,o]=C.useState((n==null?void 0:n.timestamp)??null),[c,h]=C.useState(!n),[f,d]=C.useState(!1),[m,_]=C.useState(null),b=C.useRef(!!(n!=null&&n.nextMatch)),[S,g]=C.useState("countdown"),[p,y]=C.useState(null),[v,N]=C.useState(0),D=C.useRef(null),E=C.useRef(null);C.useEffect(()=>{b.current=!!i},[i]);const O=C.useCallback(async()=>{const P=b.current;_(null),P?d(!0):h(!0);try{const[ae,A]=await Promise.all([rS(),cS()]),w=Array.isArray(A)?A:[];if(a(w),ae){l(ae),N(0);const M={nextMatch:ae,next3Matches:w,timestamp:Date.now()};typeof window<"u"&&localStorage.setItem("fb_last_match",JSON.stringify(M)),o(M.timestamp)}else l(null),_("Ma verisi alnamad. Ltfen balantn kontrol edip tekrar dene.")}catch(ae){console.error("loadMatchData error:",ae),l(null),a([]),_("Beklenmeyen bir hata olutu. Tekrar dene veya biraz sonra gel.")}finally{h(!1),d(!1)}},[]);C.useEffect(()=>{O()},[O]);const j=C.useMemo(()=>v===0?i:s.length>v?s[v]:i,[i,s,v]),L=C.useCallback(async()=>{try{const P=await fetch(`${_n}/live-match`);if(!P.ok)return y(null),null;const ae=await P.json();return ae.matchState==="no-match"?(y(null),"no-match"):(y(ae),ae.matchState)}catch(P){return console.error("Live match fetch error:",P),null}},[]),T=C.useCallback(()=>{if(D.current)return;const P=async()=>{const ae=await L();ae&&g(ae==="no-match"?"pre":ae)};P(),D.current=setInterval(P,3e4)},[L]),Z=C.useCallback(()=>{D.current&&(clearInterval(D.current),D.current=null)},[]),U=C.useCallback(()=>{g("pre"),T()},[T]);return C.useEffect(()=>(S==="post"&&(E.current=setTimeout(()=>{Z(),y(null),g("countdown"),s.length>v+1&&N(P=>P+1)},3e4)),()=>{E.current&&clearTimeout(E.current)}),[S,v,s.length,Z]),C.useEffect(()=>()=>{Z(),E.current&&clearTimeout(E.current)},[Z]),u.jsxs("div",{className:"min-h-screen bg-slate-950 text-white pb-24 relative overflow-hidden",children:[u.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",children:[u.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-yellow-500/10 rounded-full blur-[100px]"}),u.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/20 rounded-full blur-[100px]"})]}),u.jsxs("div",{className:"relative z-10 max-w-md mx-auto h-full min-h-screen flex flex-col",children:[u.jsxs("header",{className:"p-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-yellow-200",children:"Fenerbahe Hub"}),u.jsx("p",{className:"text-slate-400 text-xs",children:"Taraftarn Sesi"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(F4,{}),u.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 p-0.5 shadow-lg shadow-yellow-500/20",children:u.jsx("div",{className:"w-full h-full rounded-full bg-slate-900 flex items-center justify-center overflow-hidden",children:u.jsx("img",{src:"https://media.api-sports.io/football/teams/611.png",alt:"FB Logo",className:"w-8 h-8 object-contain"})})})]})]}),u.jsxs("main",{className:"flex-1 px-4 overflow-y-auto no-scrollbar",children:[e==="dashboard"&&u.jsx(ZN,{matchData:j,next3Matches:s,loading:c&&!i,onRetry:O,errorMessage:m,lastUpdated:r,isRefreshing:f,liveMatchState:S,liveMatchData:p,onCountdownEnd:U}),e==="fixtures"&&u.jsx(W4,{}),e==="builder"&&u.jsx(Y4,{})]}),u.jsxs("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[88%] max-w-sm glass-panel rounded-2xl p-2 flex justify-around items-center z-50",children:[u.jsxs("button",{onClick:()=>t("dashboard"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="dashboard"?"bg-white/10 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.3)]":"text-slate-400 hover:text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),u.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Pano"})]}),u.jsxs("button",{onClick:()=>t("fixtures"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="fixtures"?"bg-white/10 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.3)]":"text-slate-400 hover:text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10m-11 9h12a2 2 0 002-2V7a2 2 0 00-2-2H6a2 2 0 00-2 2v11a2 2 0 002 2z"})}),u.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Fikstr"})]}),u.jsxs("button",{onClick:()=>t("builder"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="builder"?"bg-yellow-500 text-white shadow-[0_0_20px_rgba(234,179,8,0.5)] scale-110":"bg-slate-800 text-slate-400 hover:text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),u.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Kadro Kur"})]})]})]})]})}"serviceWorker"in navigator&&sS({immediate:!0});nS.createRoot(document.getElementById("root")).render(u.jsx(Sb.StrictMode,{children:u.jsx(e3,{})}));
