(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Dp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jp={exports:{}},Gr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=Symbol.for("react.transitional.element"),Wv=Symbol.for("react.fragment");function kp(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var l in t)l!=="key"&&(n[l]=t[l])}else n=t;return t=n.ref,{$$typeof:$v,type:e,key:i,ref:t!==void 0?t:null,props:n}}Gr.Fragment=Wv;Gr.jsx=kp;Gr.jsxs=kp;jp.exports=Gr;var u=jp.exports,zp={exports:{}},I={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u=Symbol.for("react.transitional.element"),Jv=Symbol.for("react.portal"),eb=Symbol.for("react.fragment"),tb=Symbol.for("react.strict_mode"),nb=Symbol.for("react.profiler"),ib=Symbol.for("react.consumer"),lb=Symbol.for("react.context"),sb=Symbol.for("react.forward_ref"),ab=Symbol.for("react.suspense"),rb=Symbol.for("react.memo"),Lp=Symbol.for("react.lazy"),ob=Symbol.for("react.activity"),Gd=Symbol.iterator;function cb(e){return e===null||typeof e!="object"?null:(e=Gd&&e[Gd]||e["@@iterator"],typeof e=="function"?e:null)}var Ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Up=Object.assign,Bp={};function Cl(e,t,n){this.props=e,this.context=t,this.refs=Bp,this.updater=n||Ip}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hp(){}Hp.prototype=Cl.prototype;function Wu(e,t,n){this.props=e,this.context=t,this.refs=Bp,this.updater=n||Ip}var Ju=Wu.prototype=new Hp;Ju.constructor=Wu;Up(Ju,Cl.prototype);Ju.isPureReactComponent=!0;var Yd=Array.isArray;function jc(){}var fe={H:null,A:null,T:null,S:null},qp=Object.prototype.hasOwnProperty;function ef(e,t,n){var i=n.ref;return{$$typeof:$u,type:e,key:t,ref:i!==void 0?i:null,props:n}}function ub(e,t){return ef(e.type,t,e.props)}function tf(e){return typeof e=="object"&&e!==null&&e.$$typeof===$u}function fb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qd=/\/+/g;function Mo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fb(""+e.key):t.toString(36)}function db(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(jc,jc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Bi(e,t,n,i,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case $u:case Jv:a=!0;break;case Lp:return a=e._init,Bi(a(e._payload),t,n,i,l)}}if(a)return l=l(e),a=i===""?"."+Mo(e,0):i,Yd(l)?(n="",a!=null&&(n=a.replace(Qd,"$&/")+"/"),Bi(l,t,n,"",function(c){return c})):l!=null&&(tf(l)&&(l=ub(l,n+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(Qd,"$&/")+"/")+a)),t.push(l)),1;a=0;var r=i===""?".":i+":";if(Yd(e))for(var o=0;o<e.length;o++)i=e[o],s=r+Mo(i,o),a+=Bi(i,t,n,s,l);else if(o=cb(e),typeof o=="function")for(e=o.call(e),o=0;!(i=e.next()).done;)i=i.value,s=r+Mo(i,o++),a+=Bi(i,t,n,s,l);else if(s==="object"){if(typeof e.then=="function")return Bi(db(e),t,n,i,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function da(e,t,n){if(e==null)return e;var i=[],l=0;return Bi(e,i,"","",function(s){return t.call(n,s,l++)}),i}function hb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},mb={map:da,forEach:function(e,t,n){da(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return da(e,function(){t++}),t},toArray:function(e){return da(e,function(t){return t})||[]},only:function(e){if(!tf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Activity=ob;I.Children=mb;I.Component=Cl;I.Fragment=eb;I.Profiler=nb;I.PureComponent=Wu;I.StrictMode=tb;I.Suspense=ab;I.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe;I.__COMPILER_RUNTIME={__proto__:null,c:function(e){return fe.H.useMemoCache(e)}};I.cache=function(e){return function(){return e.apply(null,arguments)}};I.cacheSignal=function(){return null};I.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Up({},e.props),l=e.key;if(t!=null)for(s in t.key!==void 0&&(l=""+t.key),t)!qp.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),r=0;r<s;r++)a[r]=arguments[r+2];i.children=a}return ef(e.type,l,i)};I.createContext=function(e){return e={$$typeof:lb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ib,_context:e},e};I.createElement=function(e,t,n){var i,l={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)qp.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=t[i]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var r=Array(a),o=0;o<a;o++)r[o]=arguments[o+2];l.children=r}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)l[i]===void 0&&(l[i]=a[i]);return ef(e,s,l)};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:sb,render:e}};I.isValidElement=tf;I.lazy=function(e){return{$$typeof:Lp,_payload:{_status:-1,_result:e},_init:hb}};I.memo=function(e,t){return{$$typeof:rb,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=fe.T,n={};fe.T=n;try{var i=e(),l=fe.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(jc,Fd)}catch(s){Fd(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),fe.T=t}};I.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()};I.use=function(e){return fe.H.use(e)};I.useActionState=function(e,t,n){return fe.H.useActionState(e,t,n)};I.useCallback=function(e,t){return fe.H.useCallback(e,t)};I.useContext=function(e){return fe.H.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e,t){return fe.H.useDeferredValue(e,t)};I.useEffect=function(e,t){return fe.H.useEffect(e,t)};I.useEffectEvent=function(e){return fe.H.useEffectEvent(e)};I.useId=function(){return fe.H.useId()};I.useImperativeHandle=function(e,t,n){return fe.H.useImperativeHandle(e,t,n)};I.useInsertionEffect=function(e,t){return fe.H.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return fe.H.useLayoutEffect(e,t)};I.useMemo=function(e,t){return fe.H.useMemo(e,t)};I.useOptimistic=function(e,t){return fe.H.useOptimistic(e,t)};I.useReducer=function(e,t,n){return fe.H.useReducer(e,t,n)};I.useRef=function(e){return fe.H.useRef(e)};I.useState=function(e){return fe.H.useState(e)};I.useSyncExternalStore=function(e,t,n){return fe.H.useSyncExternalStore(e,t,n)};I.useTransition=function(){return fe.H.useTransition()};I.version="19.2.0";zp.exports=I;var A=zp.exports;const pb=Dp(A);var Vp={exports:{}},Yr={},Gp={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,x){var R=T.length;T.push(x);e:for(;0<R;){var O=R-1>>>1,B=T[O];if(0<l(B,x))T[O]=x,T[R]=B,R=O;else break e}}function n(T){return T.length===0?null:T[0]}function i(T){if(T.length===0)return null;var x=T[0],R=T.pop();if(R!==x){T[0]=R;e:for(var O=0,B=T.length,Fe=B>>>1;O<Fe;){var lt=2*(O+1)-1,Gt=T[lt],ei=lt+1,fa=T[ei];if(0>l(Gt,R))ei<B&&0>l(fa,Gt)?(T[O]=fa,T[ei]=R,O=ei):(T[O]=Gt,T[lt]=R,O=lt);else if(ei<B&&0>l(fa,R))T[O]=fa,T[ei]=R,O=ei;else break e}}return x}function l(T,x){var R=T.sortIndex-x.sortIndex;return R!==0?R:T.id-x.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,r=a.now();e.unstable_now=function(){return a.now()-r}}var o=[],c=[],h=1,d=null,f=3,m=!1,_=!1,b=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function v(T){for(var x=n(c);x!==null;){if(x.callback===null)i(c);else if(x.startTime<=T)i(c),x.sortIndex=x.expirationTime,t(o,x);else break;x=n(c)}}function N(T){if(b=!1,v(T),!_)if(n(o)!==null)_=!0,M||(M=!0,Re());else{var x=n(c);x!==null&&me(N,x.startTime-T)}}var M=!1,E=-1,D=5,j=-1;function L(){return w?!0:!(e.unstable_now()-j<D)}function ie(){if(w=!1,M){var T=e.unstable_now();j=T;var x=!0;try{e:{_=!1,b&&(b=!1,p(E),E=-1),m=!0;var R=f;try{t:{for(v(T),d=n(o);d!==null&&!(d.expirationTime>T&&L());){var O=d.callback;if(typeof O=="function"){d.callback=null,f=d.priorityLevel;var B=O(d.expirationTime<=T);if(T=e.unstable_now(),typeof B=="function"){d.callback=B,v(T),x=!0;break t}d===n(o)&&i(o),v(T)}else i(o);d=n(o)}if(d!==null)x=!0;else{var Fe=n(c);Fe!==null&&me(N,Fe.startTime-T),x=!1}}break e}finally{d=null,f=R,m=!1}x=void 0}}finally{x?Re():M=!1}}}var Re;if(typeof y=="function")Re=function(){y(ie)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,le=K.port2;K.port1.onmessage=ie,Re=function(){le.postMessage(null)}}else Re=function(){g(ie,0)};function me(T,x){E=g(function(){T(e.unstable_now())},x)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var x=3;break;default:x=f}var R=f;f=x;try{return T()}finally{f=R}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(T,x){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var R=f;f=T;try{return x()}finally{f=R}},e.unstable_scheduleCallback=function(T,x,R){var O=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?O+R:O):R=O,T){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=R+B,T={id:h++,callback:x,priorityLevel:T,startTime:R,expirationTime:B,sortIndex:-1},R>O?(T.sortIndex=R,t(c,T),n(o)===null&&T===n(c)&&(b?(p(E),E=-1):b=!0,me(N,R-O))):(T.sortIndex=B,t(o,T),_||m||(_=!0,M||(M=!0,Re()))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var x=f;return function(){var R=f;f=x;try{return T.apply(this,arguments)}finally{f=R}}}})(Yp);Gp.exports=Yp;var gb=Gp.exports,Qp={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb=A;function Fp(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function vn(){}var Ve={d:{f:vn,r:function(){throw Error(Fp(522))},D:vn,C:vn,L:vn,m:vn,X:vn,S:vn,M:vn},p:0,findDOMNode:null},_b=Symbol.for("react.portal");function vb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_b,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var es=yb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Qr(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ve;Qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Fp(299));return vb(e,t,null,n)};Qe.flushSync=function(e){var t=es.T,n=Ve.p;try{if(es.T=null,Ve.p=2,e)return e()}finally{es.T=t,Ve.p=n,Ve.d.f()}};Qe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ve.d.C(e,t))};Qe.prefetchDNS=function(e){typeof e=="string"&&Ve.d.D(e)};Qe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Qr(n,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ve.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:s}):n==="script"&&Ve.d.X(e,{crossOrigin:i,integrity:l,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Qe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Qr(t.as,t.crossOrigin);Ve.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ve.d.M(e)};Qe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Qr(n,t.crossOrigin);Ve.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Qe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Qr(t.as,t.crossOrigin);Ve.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ve.d.m(e)};Qe.requestFormReset=function(e){Ve.d.r(e)};Qe.unstable_batchedUpdates=function(e,t){return e(t)};Qe.useFormState=function(e,t,n){return es.H.useFormState(e,t,n)};Qe.useFormStatus=function(){return es.H.useHostTransitionStatus()};Qe.version="19.2.0";function Kp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kp)}catch(e){console.error(e)}}Kp(),Qp.exports=Qe;var bb=Qp.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ae=gb,Xp=A,Sb=bb;function S(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kd(e){if(Qs(e)!==e)throw Error(S(188))}function xb(e){var t=e.alternate;if(!t){if(t=Qs(e),t===null)throw Error(S(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Kd(l),e;if(s===i)return Kd(l),t;s=s.sibling}throw Error(S(188))}if(n.return!==i.return)n=l,i=s;else{for(var a=!1,r=l.child;r;){if(r===n){a=!0,n=l,i=s;break}if(r===i){a=!0,i=l,n=s;break}r=r.sibling}if(!a){for(r=s.child;r;){if(r===n){a=!0,n=s,i=l;break}if(r===i){a=!0,i=s,n=l;break}r=r.sibling}if(!a)throw Error(S(189))}}if(n.alternate!==i)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?e:t}function Wp(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Wp(e),t!==null)return t;e=e.sibling}return null}var de=Object.assign,wb=Symbol.for("react.element"),ha=Symbol.for("react.transitional.element"),Xl=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),eg=Symbol.for("react.consumer"),Wt=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),zc=Symbol.for("react.suspense"),Lc=Symbol.for("react.suspense_list"),lf=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Ic=Symbol.for("react.activity"),Eb=Symbol.for("react.memo_cache_sentinel"),Xd=Symbol.iterator;function Il(e){return e===null||typeof e!="object"?null:(e=Xd&&e[Xd]||e["@@iterator"],typeof e=="function"?e:null)}var Cb=Symbol.for("react.client.reference");function Uc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Cb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vi:return"Fragment";case kc:return"Profiler";case Jp:return"StrictMode";case zc:return"Suspense";case Lc:return"SuspenseList";case Ic:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Xl:return"Portal";case Wt:return e.displayName||"Context";case eg:return(e._context.displayName||"Context")+".Consumer";case nf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lf:return t=e.displayName||null,t!==null?t:Uc(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return Uc(e(t))}catch{}}return null}var Zl=Array.isArray,z=Xp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Sb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fi={pending:!1,data:null,method:null,action:null},Bc=[],Gi=-1;function Ht(e){return{current:e}}function ke(e){0>Gi||(e.current=Bc[Gi],Bc[Gi]=null,Gi--)}function re(e,t){Gi++,Bc[Gi]=e.current,e.current=t}var Ut=Ht(null),bs=Ht(null),On=Ht(null),Xa=Ht(null);function Za(e,t){switch(re(On,t),re(bs,e),re(Ut,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?em(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=em(t),e=b0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ke(Ut),re(Ut,e)}function ul(){ke(Ut),ke(bs),ke(On)}function Hc(e){e.memoizedState!==null&&re(Xa,e);var t=Ut.current,n=b0(t,e.type);t!==n&&(re(bs,e),re(Ut,n))}function Pa(e){bs.current===e&&(ke(Ut),ke(bs)),Xa.current===e&&(ke(Xa),Os._currentValue=fi)}var Oo,Zd;function ni(e){if(Oo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Oo=t&&t[1]||"",Zd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oo+e+Zd}var Do=!1;function jo(e,t){if(!e||Do)return"";Do=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var f=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){f=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){f=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],r=s[1];if(a&&r){var o=a.split(`
`),c=r.split(`
`);for(l=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;l<c.length&&!c[l].includes("DetermineComponentFrameRoot");)l++;if(i===o.length||l===c.length)for(i=o.length-1,l=c.length-1;1<=i&&0<=l&&o[i]!==c[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==c[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==c[l]){var h=`
`+o[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=l);break}}}finally{Do=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ni(n):""}function Tb(e,t){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==t&&t!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return jo(e.type,!1);case 11:return jo(e.type.render,!1);case 1:return jo(e.type,!0);case 31:return ni("Activity");default:return""}}function Pd(e){try{var t="",n=null;do t+=Tb(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var qc=Object.prototype.hasOwnProperty,sf=Ae.unstable_scheduleCallback,ko=Ae.unstable_cancelCallback,Nb=Ae.unstable_shouldYield,Ab=Ae.unstable_requestPaint,ut=Ae.unstable_now,Rb=Ae.unstable_getCurrentPriorityLevel,tg=Ae.unstable_ImmediatePriority,ng=Ae.unstable_UserBlockingPriority,$a=Ae.unstable_NormalPriority,Mb=Ae.unstable_LowPriority,ig=Ae.unstable_IdlePriority,Ob=Ae.log,Db=Ae.unstable_setDisableYieldValue,Fs=null,ft=null;function Tn(e){if(typeof Ob=="function"&&Db(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Fs,e)}catch{}}var dt=Math.clz32?Math.clz32:zb,jb=Math.log,kb=Math.LN2;function zb(e){return e>>>=0,e===0?32:31-(jb(e)/kb|0)|0}var ma=256,pa=262144,ga=4194304;function ii(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fr(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var r=i&134217727;return r!==0?(i=r&~s,i!==0?l=ii(i):(a&=r,a!==0?l=ii(a):n||(n=r&~e,n!==0&&(l=ii(n))))):(r=i&~s,r!==0?l=ii(r):a!==0?l=ii(a):n||(n=i&~e,n!==0&&(l=ii(n)))),l===0?0:t!==0&&t!==l&&!(t&s)&&(s=l&-l,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:l}function Ks(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Lb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lg(){var e=ga;return ga<<=1,!(ga&62914560)&&(ga=4194304),e}function zo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ib(e,t,n,i,l,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-dt(n),d=1<<h;r[h]=0,o[h]=-1;var f=c[h];if(f!==null)for(c[h]=null,h=0;h<f.length;h++){var m=f[h];m!==null&&(m.lane&=-536870913)}n&=~d}i!==0&&sg(e,i,0),s!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function sg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-dt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function ag(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-dt(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}function rg(e,t){var n=t&-t;return n=n&42?1:af(n),n&(e.suspendedLanes|t)?0:n}function af(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function og(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:O0(e.type))}function $d(e,t){var n=P.p;try{return P.p=e,t()}finally{P.p=n}}var Wn=Math.random().toString(36).slice(2),Le="__reactFiber$"+Wn,tt="__reactProps$"+Wn,Tl="__reactContainer$"+Wn,Vc="__reactEvents$"+Wn,Ub="__reactListeners$"+Wn,Bb="__reactHandles$"+Wn,Wd="__reactResources$"+Wn,Zs="__reactMarker$"+Wn;function of(e){delete e[Le],delete e[tt],delete e[Vc],delete e[Ub],delete e[Bb]}function Yi(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tl]||n[Le]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sm(e);e!==null;){if(n=e[Le])return n;e=sm(e)}return t}e=n,n=e.parentNode}return null}function Nl(e){if(e=e[Le]||e[Tl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Pl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(S(33))}function tl(e){var t=e[Wd];return t||(t=e[Wd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function je(e){e[Zs]=!0}var cg=new Set,ug={};function Ni(e,t){fl(e,t),fl(e+"Capture",t)}function fl(e,t){for(ug[e]=t,e=0;e<t.length;e++)cg.add(t[e])}var Hb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jd={},eh={};function qb(e){return qc.call(eh,e)?!0:qc.call(Jd,e)?!1:Hb.test(e)?eh[e]=!0:(Jd[e]=!0,!1)}function Da(e,t,n){if(qb(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ya(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Yt(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vb(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gc(e){if(!e._valueTracker){var t=fg(e)?"checked":"value";e._valueTracker=Vb(e,t,""+e[t])}}function dg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=fg(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gb=/[\n"\\]/g;function bt(e){return e.replace(Gb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Yc(e,t,n,i,l,s,a,r){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yt(t)):e.value!==""+yt(t)&&(e.value=""+yt(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Qc(e,a,yt(t)):n!=null?Qc(e,a,yt(n)):i!=null&&e.removeAttribute("value"),l==null&&s!=null&&(e.defaultChecked=!!s),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+yt(r):e.removeAttribute("name")}function hg(e,t,n,i,l,s,a,r){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Gc(e);return}n=n!=null?""+yt(n):"",t=t!=null?""+yt(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=r?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Gc(e)}function Qc(e,t,n){t==="number"&&Wa(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function nl(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function mg(e,t,n){if(t!=null&&(t=""+yt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+yt(n):""}function pg(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(S(92));if(Zl(i)){if(1<i.length)throw Error(S(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=yt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Gc(e)}function dl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function th(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Yb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function gg(e,t,n){if(t!=null&&typeof t!="object")throw Error(S(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var l in t)i=t[l],t.hasOwnProperty(l)&&n[l]!==i&&th(e,l,i)}else for(var s in t)t.hasOwnProperty(s)&&th(e,s,t[s])}function cf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(e){return Fb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jt(){}var Fc=null;function uf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,il=null;function nh(e){var t=Nl(e);if(t&&(e=t.stateNode)){var n=e[tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Yc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=i[tt]||null;if(!l)throw Error(S(90));Yc(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&dg(i)}break e;case"textarea":mg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&nl(e,!!n.multiple,t,!1)}}}var Lo=!1;function yg(e,t,n){if(Lo)return e(t,n);Lo=!0;try{var i=e(t);return i}finally{if(Lo=!1,(Qi!==null||il!==null)&&(lo(),Qi&&(t=Qi,e=il,il=Qi=null,nh(t),e)))for(t=0;t<e.length;t++)nh(e[t])}}function Ss(e,t){var n=e.stateNode;if(n===null)return null;var i=n[tt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(S(231,t,typeof n));return n}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kc=!1;if(on)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Kc=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Kc=!1}var Nn=null,ff=null,ka=null;function _g(){if(ka)return ka;var e,t=ff,n=t.length,i,l="value"in Nn?Nn.value:Nn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===l[s-i];i++);return ka=l.slice(e,1<i?1-i:void 0)}function za(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _a(){return!0}function ih(){return!1}function it(e){function t(n,i,l,s,a){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(s):s[r]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_a:ih,this.isPropagationStopped=ih,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),t}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kr=it(Ai),Ps=de({},Ai,{view:0,detail:0}),Kb=it(Ps),Io,Uo,Bl,Xr=de({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:df,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bl&&(Bl&&e.type==="mousemove"?(Io=e.screenX-Bl.screenX,Uo=e.screenY-Bl.screenY):Uo=Io=0,Bl=e),Io)},movementY:function(e){return"movementY"in e?e.movementY:Uo}}),lh=it(Xr),Xb=de({},Xr,{dataTransfer:0}),Zb=it(Xb),Pb=de({},Ps,{relatedTarget:0}),Bo=it(Pb),$b=de({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Wb=it($b),Jb=de({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e1=it(Jb),t1=de({},Ai,{data:0}),sh=it(t1),n1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=l1[e])?!!t[e]:!1}function df(){return s1}var a1=de({},Ps,{key:function(e){if(e.key){var t=n1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?i1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:df,charCode:function(e){return e.type==="keypress"?za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),r1=it(a1),o1=de({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ah=it(o1),c1=de({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:df}),u1=it(c1),f1=de({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),d1=it(f1),h1=de({},Xr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m1=it(h1),p1=de({},Ai,{newState:0,oldState:0}),g1=it(p1),y1=[9,13,27,32],hf=on&&"CompositionEvent"in window,ts=null;on&&"documentMode"in document&&(ts=document.documentMode);var _1=on&&"TextEvent"in window&&!ts,vg=on&&(!hf||ts&&8<ts&&11>=ts),rh=" ",oh=!1;function bg(e,t){switch(e){case"keyup":return y1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fi=!1;function v1(e,t){switch(e){case"compositionend":return Sg(t);case"keypress":return t.which!==32?null:(oh=!0,rh);case"textInput":return e=t.data,e===rh&&oh?null:e;default:return null}}function b1(e,t){if(Fi)return e==="compositionend"||!hf&&bg(e,t)?(e=_g(),ka=ff=Nn=null,Fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vg&&t.locale!=="ko"?null:t.data;default:return null}}var S1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ch(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S1[e.type]:t==="textarea"}function xg(e,t,n,i){Qi?il?il.push(i):il=[i]:Qi=i,t=gr(t,"onChange"),0<t.length&&(n=new Kr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ns=null,xs=null;function x1(e){y0(e,0)}function Zr(e){var t=Pl(e);if(dg(t))return e}function uh(e,t){if(e==="change")return t}var wg=!1;if(on){var Ho;if(on){var qo="oninput"in document;if(!qo){var fh=document.createElement("div");fh.setAttribute("oninput","return;"),qo=typeof fh.oninput=="function"}Ho=qo}else Ho=!1;wg=Ho&&(!document.documentMode||9<document.documentMode)}function dh(){ns&&(ns.detachEvent("onpropertychange",Eg),xs=ns=null)}function Eg(e){if(e.propertyName==="value"&&Zr(xs)){var t=[];xg(t,xs,e,uf(e)),yg(x1,t)}}function w1(e,t,n){e==="focusin"?(dh(),ns=t,xs=n,ns.attachEvent("onpropertychange",Eg)):e==="focusout"&&dh()}function E1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zr(xs)}function C1(e,t){if(e==="click")return Zr(t)}function T1(e,t){if(e==="input"||e==="change")return Zr(t)}function N1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:N1;function ws(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!qc.call(t,l)||!mt(e[l],t[l]))return!1}return!0}function hh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mh(e,t){var n=hh(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hh(n)}}function Cg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Wa(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wa(e.document)}return t}function mf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var A1=on&&"documentMode"in document&&11>=document.documentMode,Ki=null,Xc=null,is=null,Zc=!1;function ph(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zc||Ki==null||Ki!==Wa(i)||(i=Ki,"selectionStart"in i&&mf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),is&&ws(is,i)||(is=i,i=gr(Xc,"onSelect"),0<i.length&&(t=new Kr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ki)))}function ti(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xi={animationend:ti("Animation","AnimationEnd"),animationiteration:ti("Animation","AnimationIteration"),animationstart:ti("Animation","AnimationStart"),transitionrun:ti("Transition","TransitionRun"),transitionstart:ti("Transition","TransitionStart"),transitioncancel:ti("Transition","TransitionCancel"),transitionend:ti("Transition","TransitionEnd")},Vo={},Ng={};on&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function Ri(e){if(Vo[e])return Vo[e];if(!Xi[e])return e;var t=Xi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ng)return Vo[e]=t[n];return e}var Ag=Ri("animationend"),Rg=Ri("animationiteration"),Mg=Ri("animationstart"),R1=Ri("transitionrun"),M1=Ri("transitionstart"),O1=Ri("transitioncancel"),Og=Ri("transitionend"),Dg=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function jt(e,t){Dg.set(e,t),Ni(t,[e])}var Ja=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},gt=[],Zi=0,pf=0;function Pr(){for(var e=Zi,t=pf=Zi=0;t<e;){var n=gt[t];gt[t++]=null;var i=gt[t];gt[t++]=null;var l=gt[t];gt[t++]=null;var s=gt[t];if(gt[t++]=null,i!==null&&l!==null){var a=i.pending;a===null?l.next=l:(l.next=a.next,a.next=l),i.pending=l}s!==0&&jg(n,l,s)}}function $r(e,t,n,i){gt[Zi++]=e,gt[Zi++]=t,gt[Zi++]=n,gt[Zi++]=i,pf|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function gf(e,t,n,i){return $r(e,t,n,i),er(e)}function Mi(e,t){return $r(e,null,null,t),er(e)}function jg(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var l=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(l=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,l&&t!==null&&(l=31-dt(n),e=s.hiddenUpdates,i=e[l],i===null?e[l]=[t]:i.push(t),t.lane=n|536870912),s):null}function er(e){if(50<ds)throw ds=0,yu=null,Error(S(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pi={};function D1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,i){return new D1(e,t,n,i)}function yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function kg(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function La(e,t,n,i,l,s){var a=0;if(i=e,typeof e=="function")yf(e)&&(a=1);else if(typeof e=="string")a=IS(e,n,Ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ic:return e=ot(31,n,t,l),e.elementType=Ic,e.lanes=s,e;case Vi:return di(n.children,l,s,t);case Jp:a=8,l|=24;break;case kc:return e=ot(12,n,t,l|2),e.elementType=kc,e.lanes=s,e;case zc:return e=ot(13,n,t,l),e.elementType=zc,e.lanes=s,e;case Lc:return e=ot(19,n,t,l),e.elementType=Lc,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wt:a=10;break e;case eg:a=9;break e;case nf:a=11;break e;case lf:a=14;break e;case bn:a=16,i=null;break e}a=29,n=Error(S(130,e===null?"null":typeof e,"")),i=null}return t=ot(a,n,t,l),t.elementType=e,t.type=i,t.lanes=s,t}function di(e,t,n,i){return e=ot(7,e,i,t),e.lanes=n,e}function Go(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function zg(e){var t=ot(18,null,null,0);return t.stateNode=e,t}function Yo(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var gh=new WeakMap;function St(e,t){if(typeof e=="object"&&e!==null){var n=gh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Pd(t)},gh.set(e,t),t)}return{value:e,source:t,stack:Pd(t)}}var $i=[],Wi=0,tr=null,Es=0,_t=[],vt=0,Yn=null,zt=1,Lt="";function Pt(e,t){$i[Wi++]=Es,$i[Wi++]=tr,tr=e,Es=t}function Lg(e,t,n){_t[vt++]=zt,_t[vt++]=Lt,_t[vt++]=Yn,Yn=e;var i=zt;e=Lt;var l=32-dt(i)-1;i&=~(1<<l),n+=1;var s=32-dt(t)+l;if(30<s){var a=l-l%5;s=(i&(1<<a)-1).toString(32),i>>=a,l-=a,zt=1<<32-dt(t)+l|n<<l|i,Lt=s+e}else zt=1<<s|n<<l|i,Lt=e}function _f(e){e.return!==null&&(Pt(e,1),Lg(e,1,0))}function vf(e){for(;e===tr;)tr=$i[--Wi],$i[Wi]=null,Es=$i[--Wi],$i[Wi]=null;for(;e===Yn;)Yn=_t[--vt],_t[vt]=null,Lt=_t[--vt],_t[vt]=null,zt=_t[--vt],_t[vt]=null}function Ig(e,t){_t[vt++]=zt,_t[vt++]=Lt,_t[vt++]=Yn,zt=t.id,Lt=t.overflow,Yn=e}var Ie=null,ue=null,F=!1,Dn=null,xt=!1,$c=Error(S(519));function Qn(e){var t=Error(S(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cs(St(t,e)),$c}function yh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Le]=e,t[tt]=i,n){case"dialog":V("cancel",t),V("close",t);break;case"iframe":case"object":case"embed":V("load",t);break;case"video":case"audio":for(n=0;n<Rs.length;n++)V(Rs[n],t);break;case"source":V("error",t);break;case"img":case"image":case"link":V("error",t),V("load",t);break;case"details":V("toggle",t);break;case"input":V("invalid",t),hg(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":V("invalid",t);break;case"textarea":V("invalid",t),pg(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||v0(t.textContent,n)?(i.popover!=null&&(V("beforetoggle",t),V("toggle",t)),i.onScroll!=null&&V("scroll",t),i.onScrollEnd!=null&&V("scrollend",t),i.onClick!=null&&(t.onclick=Jt),t=!0):t=!1,t||Qn(e,!0)}function _h(e){for(Ie=e.return;Ie;)switch(Ie.tag){case 5:case 31:case 13:xt=!1;return;case 27:case 3:xt=!0;return;default:Ie=Ie.return}}function ki(e){if(e!==Ie)return!1;if(!F)return _h(e),F=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||xu(e.type,e.memoizedProps)),n=!n),n&&ue&&Qn(e),_h(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));ue=lm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));ue=lm(e)}else t===27?(t=ue,Jn(e.type)?(e=Tu,Tu=null,ue=e):ue=t):ue=Ie?Et(e.stateNode.nextSibling):null;return!0}function gi(){ue=Ie=null,F=!1}function Qo(){var e=Dn;return e!==null&&(Pe===null?Pe=e:Pe.push.apply(Pe,e),Dn=null),e}function Cs(e){Dn===null?Dn=[e]:Dn.push(e)}var Wc=Ht(null),Oi=null,en=null;function xn(e,t,n){re(Wc,t._currentValue),t._currentValue=n}function ln(e){e._currentValue=Wc.current,ke(Wc)}function Jc(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function eu(e,t,n,i){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var s=l.dependencies;if(s!==null){var a=l.child;s=s.firstContext;e:for(;s!==null;){var r=s;s=l;for(var o=0;o<t.length;o++)if(r.context===t[o]){s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),Jc(s.return,n,e),i||(a=null);break e}s=r.next}}else if(l.tag===18){if(a=l.return,a===null)throw Error(S(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Jc(a,n,e),a=null}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}}function Al(e,t,n,i){e=null;for(var l=t,s=!1;l!==null;){if(!s){if(l.flags&524288)s=!0;else if(l.flags&262144)break}if(l.tag===10){var a=l.alternate;if(a===null)throw Error(S(387));if(a=a.memoizedProps,a!==null){var r=l.type;mt(l.pendingProps.value,a.value)||(e!==null?e.push(r):e=[r])}}else if(l===Xa.current){if(a=l.alternate,a===null)throw Error(S(387));a.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Os):e=[Os])}l=l.return}e!==null&&eu(t,e,n,i),t.flags|=262144}function nr(e){for(e=e.firstContext;e!==null;){if(!mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function yi(e){Oi=e,en=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ue(e){return Ug(Oi,e)}function va(e,t){return Oi===null&&yi(e),Ug(e,t)}function Ug(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},en===null){if(e===null)throw Error(S(308));en=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else en=en.next=t;return n}var j1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},k1=Ae.unstable_scheduleCallback,z1=Ae.unstable_NormalPriority,xe={$$typeof:Wt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new j1,data:new Map,refCount:0}}function $s(e){e.refCount--,e.refCount===0&&k1(z1,function(){e.controller.abort()})}var ls=null,tu=0,hl=0,ll=null;function L1(e,t){if(ls===null){var n=ls=[];tu=0,hl=Qf(),ll={status:"pending",value:void 0,then:function(i){n.push(i)}}}return tu++,t.then(vh,vh),t}function vh(){if(--tu===0&&ls!==null){ll!==null&&(ll.status="fulfilled");var e=ls;ls=null,hl=0,ll=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function I1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var bh=z.S;z.S=function(e,t){Wy=ut(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&L1(e,t),bh!==null&&bh(e,t)};var hi=Ht(null);function Sf(){var e=hi.current;return e!==null?e:te.pooledCache}function Ia(e,t){t===null?re(hi,hi.current):re(hi,t.pool)}function Bg(){var e=Sf();return e===null?null:{parent:xe._currentValue,pool:e}}var Rl=Error(S(460)),xf=Error(S(474)),Wr=Error(S(542)),ir={then:function(){}};function Sh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hg(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Jt,Jt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wh(e),e;default:if(typeof t.status=="string")t.then(Jt,Jt);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(S(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=i}},function(i){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wh(e),e}throw mi=t,Rl}}function li(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(mi=n,Rl):n}}var mi=null;function xh(){if(mi===null)throw Error(S(459));var e=mi;return mi=null,e}function wh(e){if(e===Rl||e===Wr)throw Error(S(483))}var sl=null,Ts=0;function ba(e){var t=Ts;return Ts+=1,sl===null&&(sl=[]),Hg(sl,e,t)}function Hl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sa(e,t){throw t.$$typeof===wb?Error(S(525)):(e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qg(e){function t(g,p){if(e){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function i(g){for(var p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function l(g,p){return g=nn(g,p),g.index=0,g.sibling=null,g}function s(g,p,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=67108866,p):y):(g.flags|=67108866,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function r(g,p,y,v){return p===null||p.tag!==6?(p=Go(y,g.mode,v),p.return=g,p):(p=l(p,y),p.return=g,p)}function o(g,p,y,v){var N=y.type;return N===Vi?h(g,p,y.props.children,v,y.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bn&&li(N)===p.type)?(p=l(p,y.props),Hl(p,y),p.return=g,p):(p=La(y.type,y.key,y.props,null,g.mode,v),Hl(p,y),p.return=g,p)}function c(g,p,y,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Yo(y,g.mode,v),p.return=g,p):(p=l(p,y.children||[]),p.return=g,p)}function h(g,p,y,v,N){return p===null||p.tag!==7?(p=di(y,g.mode,v,N),p.return=g,p):(p=l(p,y),p.return=g,p)}function d(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Go(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ha:return y=La(p.type,p.key,p.props,null,g.mode,y),Hl(y,p),y.return=g,y;case Xl:return p=Yo(p,g.mode,y),p.return=g,p;case bn:return p=li(p),d(g,p,y)}if(Zl(p)||Il(p))return p=di(p,g.mode,y,null),p.return=g,p;if(typeof p.then=="function")return d(g,ba(p),y);if(p.$$typeof===Wt)return d(g,va(g,p),y);Sa(g,p)}return null}function f(g,p,y,v){var N=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return N!==null?null:r(g,p,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ha:return y.key===N?o(g,p,y,v):null;case Xl:return y.key===N?c(g,p,y,v):null;case bn:return y=li(y),f(g,p,y,v)}if(Zl(y)||Il(y))return N!==null?null:h(g,p,y,v,null);if(typeof y.then=="function")return f(g,p,ba(y),v);if(y.$$typeof===Wt)return f(g,p,va(g,y),v);Sa(g,y)}return null}function m(g,p,y,v,N){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return g=g.get(y)||null,r(p,g,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ha:return g=g.get(v.key===null?y:v.key)||null,o(p,g,v,N);case Xl:return g=g.get(v.key===null?y:v.key)||null,c(p,g,v,N);case bn:return v=li(v),m(g,p,y,v,N)}if(Zl(v)||Il(v))return g=g.get(y)||null,h(p,g,v,N,null);if(typeof v.then=="function")return m(g,p,y,ba(v),N);if(v.$$typeof===Wt)return m(g,p,y,va(p,v),N);Sa(p,v)}return null}function _(g,p,y,v){for(var N=null,M=null,E=p,D=p=0,j=null;E!==null&&D<y.length;D++){E.index>D?(j=E,E=null):j=E.sibling;var L=f(g,E,y[D],v);if(L===null){E===null&&(E=j);break}e&&E&&L.alternate===null&&t(g,E),p=s(L,p,D),M===null?N=L:M.sibling=L,M=L,E=j}if(D===y.length)return n(g,E),F&&Pt(g,D),N;if(E===null){for(;D<y.length;D++)E=d(g,y[D],v),E!==null&&(p=s(E,p,D),M===null?N=E:M.sibling=E,M=E);return F&&Pt(g,D),N}for(E=i(E);D<y.length;D++)j=m(E,g,D,y[D],v),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?D:j.key),p=s(j,p,D),M===null?N=j:M.sibling=j,M=j);return e&&E.forEach(function(ie){return t(g,ie)}),F&&Pt(g,D),N}function b(g,p,y,v){if(y==null)throw Error(S(151));for(var N=null,M=null,E=p,D=p=0,j=null,L=y.next();E!==null&&!L.done;D++,L=y.next()){E.index>D?(j=E,E=null):j=E.sibling;var ie=f(g,E,L.value,v);if(ie===null){E===null&&(E=j);break}e&&E&&ie.alternate===null&&t(g,E),p=s(ie,p,D),M===null?N=ie:M.sibling=ie,M=ie,E=j}if(L.done)return n(g,E),F&&Pt(g,D),N;if(E===null){for(;!L.done;D++,L=y.next())L=d(g,L.value,v),L!==null&&(p=s(L,p,D),M===null?N=L:M.sibling=L,M=L);return F&&Pt(g,D),N}for(E=i(E);!L.done;D++,L=y.next())L=m(E,g,D,L.value,v),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?D:L.key),p=s(L,p,D),M===null?N=L:M.sibling=L,M=L);return e&&E.forEach(function(Re){return t(g,Re)}),F&&Pt(g,D),N}function w(g,p,y,v){if(typeof y=="object"&&y!==null&&y.type===Vi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ha:e:{for(var N=y.key;p!==null;){if(p.key===N){if(N=y.type,N===Vi){if(p.tag===7){n(g,p.sibling),v=l(p,y.props.children),v.return=g,g=v;break e}}else if(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bn&&li(N)===p.type){n(g,p.sibling),v=l(p,y.props),Hl(v,y),v.return=g,g=v;break e}n(g,p);break}else t(g,p);p=p.sibling}y.type===Vi?(v=di(y.props.children,g.mode,v,y.key),v.return=g,g=v):(v=La(y.type,y.key,y.props,null,g.mode,v),Hl(v,y),v.return=g,g=v)}return a(g);case Xl:e:{for(N=y.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),v=l(p,y.children||[]),v.return=g,g=v;break e}else{n(g,p);break}else t(g,p);p=p.sibling}v=Yo(y,g.mode,v),v.return=g,g=v}return a(g);case bn:return y=li(y),w(g,p,y,v)}if(Zl(y))return _(g,p,y,v);if(Il(y)){if(N=Il(y),typeof N!="function")throw Error(S(150));return y=N.call(y),b(g,p,y,v)}if(typeof y.then=="function")return w(g,p,ba(y),v);if(y.$$typeof===Wt)return w(g,p,va(g,y),v);Sa(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),v=l(p,y),v.return=g,g=v):(n(g,p),v=Go(y,g.mode,v),v.return=g,g=v),a(g)):n(g,p)}return function(g,p,y,v){try{Ts=0;var N=w(g,p,y,v);return sl=null,N}catch(E){if(E===Rl||E===Wr)throw E;var M=ot(29,E,null,g.mode);return M.lanes=v,M.return=g,M}finally{}}}var _i=qg(!0),Vg=qg(!1),Sn=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Z&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,t=er(e),jg(e,null,n),t}return $r(e,i,t,n),er(e)}function ss(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ag(e,n)}}function Fo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var iu=!1;function as(){if(iu){var e=ll;if(e!==null)throw e}}function rs(e,t,n,i){iu=!1;var l=e.updateQueue;Sn=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var o=r,c=o.next;o.next=null,a===null?s=c:a.next=c,a=o;var h=e.alternate;h!==null&&(h=h.updateQueue,r=h.lastBaseUpdate,r!==a&&(r===null?h.firstBaseUpdate=c:r.next=c,h.lastBaseUpdate=o))}if(s!==null){var d=l.baseState;a=0,h=c=o=null,r=s;do{var f=r.lane&-536870913,m=f!==r.lane;if(m?(Q&f)===f:(i&f)===f){f!==0&&f===hl&&(iu=!0),h!==null&&(h=h.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var _=e,b=r;f=t;var w=n;switch(b.tag){case 1:if(_=b.payload,typeof _=="function"){d=_.call(w,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,f=typeof _=="function"?_.call(w,d,f):_,f==null)break e;d=de({},d,f);break e;case 2:Sn=!0}}f=r.callback,f!==null&&(e.flags|=64,m&&(e.flags|=8192),m=l.callbacks,m===null?l.callbacks=[f]:m.push(f))}else m={lane:f,tag:r.tag,payload:r.payload,callback:r.callback,next:null},h===null?(c=h=m,o=d):h=h.next=m,a|=f;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;m=r,r=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);h===null&&(o=d),l.baseState=o,l.firstBaseUpdate=c,l.lastBaseUpdate=h,s===null&&(l.shared.lanes=0),Kn|=a,e.lanes=a,e.memoizedState=d}}function Gg(e,t){if(typeof e!="function")throw Error(S(191,e));e.call(t)}function Yg(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Gg(n[e],t)}var ml=Ht(null),lr=Ht(0);function Eh(e,t){e=dn,re(lr,e),re(ml,t),dn=e|t.baseLanes}function lu(){re(lr,dn),re(ml,ml.current)}function Ef(){dn=lr.current,ke(ml),ke(lr)}var pt=Ht(null),wt=null;function wn(e){var t=e.alternate;re(_e,_e.current&1),re(pt,e),wt===null&&(t===null||ml.current!==null||t.memoizedState!==null)&&(wt=e)}function su(e){re(_e,_e.current),re(pt,e),wt===null&&(wt=e)}function Qg(e){e.tag===22?(re(_e,_e.current),re(pt,e),wt===null&&(wt=e)):En()}function En(){re(_e,_e.current),re(pt,pt.current)}function rt(e){ke(pt),wt===e&&(wt=null),ke(_e)}var _e=Ht(0);function sr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Eu(n)||Cu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cn=0,U=null,ee=null,be=null,ar=!1,al=!1,vi=!1,rr=0,Ns=0,rl=null,U1=0;function ge(){throw Error(S(321))}function Cf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0}function Tf(e,t,n,i,l,s){return cn=s,U=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?xy:If,vi=!1,s=n(i,l),vi=!1,al&&(s=Kg(t,n,i,l)),Fg(e),s}function Fg(e){z.H=As;var t=ee!==null&&ee.next!==null;if(cn=0,be=ee=U=null,ar=!1,Ns=0,rl=null,t)throw Error(S(300));e===null||we||(e=e.dependencies,e!==null&&nr(e)&&(we=!0))}function Kg(e,t,n,i){U=e;var l=0;do{if(al&&(rl=null),Ns=0,al=!1,25<=l)throw Error(S(301));if(l+=1,be=ee=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}z.H=wy,s=t(n,i)}while(al);return s}function B1(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Ws(t):t,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(U.flags|=1024),t}function Nf(){var e=rr!==0;return rr=0,e}function Af(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Rf(e){if(ar){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ar=!1}cn=0,be=ee=U=null,al=!1,Ns=rr=0,rl=null}function qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?U.memoizedState=be=e:be=be.next=e,be}function ve(){if(ee===null){var e=U.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var t=be===null?U.memoizedState:be.next;if(t!==null)be=t,ee=e;else{if(e===null)throw U.alternate===null?Error(S(467)):Error(S(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},be===null?U.memoizedState=be=e:be=be.next=e}return be}function Jr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ws(e){var t=Ns;return Ns+=1,rl===null&&(rl=[]),e=Hg(rl,e,t),t=U,(be===null?t.memoizedState:be.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?xy:If),e}function eo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ws(e);if(e.$$typeof===Wt)return Ue(e)}throw Error(S(438,String(e)))}function Mf(e){var t=null,n=U.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=U.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Jr(),U.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Eb;return t.index++,n}function un(e,t){return typeof t=="function"?t(e):t}function Ua(e){var t=ve();return Of(t,ee,e)}function Of(e,t,n){var i=e.queue;if(i===null)throw Error(S(311));i.lastRenderedReducer=n;var l=e.baseQueue,s=i.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}t.baseQueue=l=s,i.pending=null}if(s=e.baseState,l===null)e.memoizedState=s;else{t=l.next;var r=a=null,o=null,c=t,h=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Q&d)===d:(cn&d)===d){var f=c.revertLane;if(f===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===hl&&(h=!0);else if((cn&f)===f){c=c.next,f===hl&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(r=o=d,a=s):o=o.next=d,U.lanes|=f,Kn|=f;d=c.action,vi&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else f={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(r=o=f,a=s):o=o.next=f,U.lanes|=d,Kn|=d;c=c.next}while(c!==null&&c!==t);if(o===null?a=s:o.next=r,!mt(s,e.memoizedState)&&(we=!0,h&&(n=ll,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=o,i.lastRenderedState=s}return l===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ko(e){var t=ve(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);mt(s,t.memoizedState)||(we=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Xg(e,t,n){var i=U,l=ve(),s=F;if(s){if(n===void 0)throw Error(S(407));n=n()}else n=t();var a=!mt((ee||l).memoizedState,n);if(a&&(l.memoizedState=n,we=!0),l=l.queue,Df($g.bind(null,i,l,e),[e]),l.getSnapshot!==t||a||be!==null&&be.memoizedState.tag&1){if(i.flags|=2048,pl(9,{destroy:void 0},Pg.bind(null,i,l,n,t),null),te===null)throw Error(S(349));s||cn&127||Zg(i,t,n)}return n}function Zg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=U.updateQueue,t===null?(t=Jr(),U.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Pg(e,t,n,i){t.value=n,t.getSnapshot=i,Wg(t)&&Jg(e)}function $g(e,t,n){return n(function(){Wg(t)&&Jg(e)})}function Wg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mt(e,n)}catch{return!0}}function Jg(e){var t=Mi(e,2);t!==null&&We(t,e,2)}function au(e){var t=qe();if(typeof e=="function"){var n=e;if(e=n(),vi){Tn(!0);try{n()}finally{Tn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:e},t}function ey(e,t,n,i){return e.baseState=n,Of(e,ee,typeof i=="function"?i:un)}function H1(e,t,n,i,l){if(no(e))throw Error(S(485));if(e=t.action,e!==null){var s={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};z.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,ty(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ty(e,t){var n=t.action,i=t.payload,l=e.state;if(t.isTransition){var s=z.T,a={};z.T=a;try{var r=n(l,i),o=z.S;o!==null&&o(a,r),Ch(e,t,r)}catch(c){ru(e,t,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),z.T=s}}else try{s=n(l,i),Ch(e,t,s)}catch(c){ru(e,t,c)}}function Ch(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Th(e,t,i)},function(i){return ru(e,t,i)}):Th(e,t,n)}function Th(e,t,n){t.status="fulfilled",t.value=n,ny(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ty(e,n)))}function ru(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,ny(t),t=t.next;while(t!==i)}e.action=null}function ny(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function iy(e,t){return t}function Nh(e,t){if(F){var n=te.formState;if(n!==null){e:{var i=U;if(F){if(ue){t:{for(var l=ue,s=xt;l.nodeType!==8;){if(!s){l=null;break t}if(l=Et(l.nextSibling),l===null){l=null;break t}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){ue=Et(l.nextSibling),i=l.data==="F!";break e}}Qn(i)}i=!1}i&&(t=n[0])}}return n=qe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iy,lastRenderedState:t},n.queue=i,n=vy.bind(null,U,i),i.dispatch=n,i=au(!1),s=Lf.bind(null,U,!1,i.queue),i=qe(),l={state:t,dispatch:null,action:e,pending:null},i.queue=l,n=H1.bind(null,U,l,s,n),l.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ah(e){var t=ve();return ly(t,ee,e)}function ly(e,t,n){if(t=Of(e,t,iy)[0],e=Ua(un)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ws(t)}catch(a){throw a===Rl?Wr:a}else i=t;t=ve();var l=t.queue,s=l.dispatch;return n!==t.memoizedState&&(U.flags|=2048,pl(9,{destroy:void 0},q1.bind(null,l,n),null)),[i,s,e]}function q1(e,t){e.action=t}function Rh(e){var t=ve(),n=ee;if(n!==null)return ly(t,n,e);ve(),t=t.memoizedState,n=ve();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function pl(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=U.updateQueue,t===null&&(t=Jr(),U.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function sy(){return ve().memoizedState}function Ba(e,t,n,i){var l=qe();U.flags|=e,l.memoizedState=pl(1|t,{destroy:void 0},n,i===void 0?null:i)}function to(e,t,n,i){var l=ve();i=i===void 0?null:i;var s=l.memoizedState.inst;ee!==null&&i!==null&&Cf(i,ee.memoizedState.deps)?l.memoizedState=pl(t,s,n,i):(U.flags|=e,l.memoizedState=pl(1|t,s,n,i))}function Mh(e,t){Ba(8390656,8,e,t)}function Df(e,t){to(2048,8,e,t)}function V1(e){U.flags|=4;var t=U.updateQueue;if(t===null)t=Jr(),U.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ay(e){var t=ve().memoizedState;return V1({ref:t,nextImpl:e}),function(){if(Z&2)throw Error(S(440));return t.impl.apply(void 0,arguments)}}function ry(e,t){return to(4,2,e,t)}function oy(e,t){return to(4,4,e,t)}function cy(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uy(e,t,n){n=n!=null?n.concat([e]):null,to(4,4,cy.bind(null,t,e),n)}function jf(){}function fy(e,t){var n=ve();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Cf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function dy(e,t){var n=ve();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Cf(t,i[1]))return i[0];if(i=e(),vi){Tn(!0);try{e()}finally{Tn(!1)}}return n.memoizedState=[i,t],i}function kf(e,t,n){return n===void 0||cn&1073741824&&!(Q&261930)?e.memoizedState=t:(e.memoizedState=n,e=e0(),U.lanes|=e,Kn|=e,n)}function hy(e,t,n,i){return mt(n,t)?n:ml.current!==null?(e=kf(e,n,i),mt(e,t)||(we=!0),e):!(cn&42)||cn&1073741824&&!(Q&261930)?(we=!0,e.memoizedState=n):(e=e0(),U.lanes|=e,Kn|=e,t)}function my(e,t,n,i,l){var s=P.p;P.p=s!==0&&8>s?s:8;var a=z.T,r={};z.T=r,Lf(e,!1,t,n);try{var o=l(),c=z.S;if(c!==null&&c(r,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=I1(o,i);os(e,t,h,ht(e))}else os(e,t,i,ht(e))}catch(d){os(e,t,{then:function(){},status:"rejected",reason:d},ht())}finally{P.p=s,a!==null&&r.types!==null&&(a.types=r.types),z.T=a}}function G1(){}function ou(e,t,n,i){if(e.tag!==5)throw Error(S(476));var l=py(e).queue;my(e,l,t,fi,n===null?G1:function(){return gy(e),n(i)})}function py(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:fi,baseState:fi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:fi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function gy(e){var t=py(e);t.next===null&&(t=e.alternate.memoizedState),os(e,t.next.queue,{},ht())}function zf(){return Ue(Os)}function yy(){return ve().memoizedState}function _y(){return ve().memoizedState}function Y1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ht();e=jn(n);var i=kn(t,e,n);i!==null&&(We(i,t,n),ss(i,t,n)),t={cache:bf()},e.payload=t;return}t=t.return}}function Q1(e,t,n){var i=ht();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},no(e)?by(t,n):(n=gf(e,t,n,i),n!==null&&(We(n,e,i),Sy(n,t,i)))}function vy(e,t,n){var i=ht();os(e,t,n,i)}function os(e,t,n,i){var l={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))by(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,r=s(a,n);if(l.hasEagerState=!0,l.eagerState=r,mt(r,a))return $r(e,t,l,0),te===null&&Pr(),!1}catch{}finally{}if(n=gf(e,t,l,i),n!==null)return We(n,e,i),Sy(n,t,i),!0}return!1}function Lf(e,t,n,i){if(i={lane:2,revertLane:Qf(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},no(e)){if(t)throw Error(S(479))}else t=gf(e,n,i,2),t!==null&&We(t,e,2)}function no(e){var t=e.alternate;return e===U||t!==null&&t===U}function by(e,t){al=ar=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sy(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ag(e,n)}}var As={readContext:Ue,use:eo,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};As.useEffectEvent=ge;var xy={readContext:Ue,use:eo,useCallback:function(e,t){return qe().memoizedState=[e,t===void 0?null:t],e},useContext:Ue,useEffect:Mh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ba(4194308,4,cy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){Ba(4,2,e,t)},useMemo:function(e,t){var n=qe();t=t===void 0?null:t;var i=e();if(vi){Tn(!0);try{e()}finally{Tn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=qe();if(n!==void 0){var l=n(t);if(vi){Tn(!0);try{n(t)}finally{Tn(!1)}}}else l=t;return i.memoizedState=i.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},i.queue=e,e=e.dispatch=Q1.bind(null,U,e),[i.memoizedState,e]},useRef:function(e){var t=qe();return e={current:e},t.memoizedState=e},useState:function(e){e=au(e);var t=e.queue,n=vy.bind(null,U,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:jf,useDeferredValue:function(e,t){var n=qe();return kf(n,e,t)},useTransition:function(){var e=au(!1);return e=my.bind(null,U,e.queue,!0,!1),qe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=U,l=qe();if(F){if(n===void 0)throw Error(S(407));n=n()}else{if(n=t(),te===null)throw Error(S(349));Q&127||Zg(i,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Mh($g.bind(null,i,s,e),[e]),i.flags|=2048,pl(9,{destroy:void 0},Pg.bind(null,i,s,n,t),null),n},useId:function(){var e=qe(),t=te.identifierPrefix;if(F){var n=Lt,i=zt;n=(i&~(1<<32-dt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=rr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=U1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zf,useFormState:Nh,useActionState:Nh,useOptimistic:function(e){var t=qe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Lf.bind(null,U,!0,n),n.dispatch=t,[e,t]},useMemoCache:Mf,useCacheRefresh:function(){return qe().memoizedState=Y1.bind(null,U)},useEffectEvent:function(e){var t=qe(),n={impl:e};return t.memoizedState=n,function(){if(Z&2)throw Error(S(440));return n.impl.apply(void 0,arguments)}}},If={readContext:Ue,use:eo,useCallback:fy,useContext:Ue,useEffect:Df,useImperativeHandle:uy,useInsertionEffect:ry,useLayoutEffect:oy,useMemo:dy,useReducer:Ua,useRef:sy,useState:function(){return Ua(un)},useDebugValue:jf,useDeferredValue:function(e,t){var n=ve();return hy(n,ee.memoizedState,e,t)},useTransition:function(){var e=Ua(un)[0],t=ve().memoizedState;return[typeof e=="boolean"?e:Ws(e),t]},useSyncExternalStore:Xg,useId:yy,useHostTransitionStatus:zf,useFormState:Ah,useActionState:Ah,useOptimistic:function(e,t){var n=ve();return ey(n,ee,e,t)},useMemoCache:Mf,useCacheRefresh:_y};If.useEffectEvent=ay;var wy={readContext:Ue,use:eo,useCallback:fy,useContext:Ue,useEffect:Df,useImperativeHandle:uy,useInsertionEffect:ry,useLayoutEffect:oy,useMemo:dy,useReducer:Ko,useRef:sy,useState:function(){return Ko(un)},useDebugValue:jf,useDeferredValue:function(e,t){var n=ve();return ee===null?kf(n,e,t):hy(n,ee.memoizedState,e,t)},useTransition:function(){var e=Ko(un)[0],t=ve().memoizedState;return[typeof e=="boolean"?e:Ws(e),t]},useSyncExternalStore:Xg,useId:yy,useHostTransitionStatus:zf,useFormState:Rh,useActionState:Rh,useOptimistic:function(e,t){var n=ve();return ee!==null?ey(n,ee,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:_y};wy.useEffectEvent=ay;function Xo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cu={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ht(),l=jn(i);l.payload=t,n!=null&&(l.callback=n),t=kn(e,l,i),t!==null&&(We(t,e,i),ss(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ht(),l=jn(i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=kn(e,l,i),t!==null&&(We(t,e,i),ss(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),i=jn(n);i.tag=2,t!=null&&(i.callback=t),t=kn(e,i,n),t!==null&&(We(t,e,n),ss(t,e,n))}};function Oh(e,t,n,i,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!ws(n,i)||!ws(l,s):!0}function Dh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&cu.enqueueReplaceState(t,t.state,null)}function bi(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=de({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function Ey(e){Ja(e)}function Cy(e){console.error(e)}function Ty(e){Ja(e)}function or(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function jh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function uu(e,t,n){return n=jn(n),n.tag=3,n.payload={element:null},n.callback=function(){or(e,t)},n}function Ny(e){return e=jn(e),e.tag=3,e}function Ay(e,t,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=i.value;e.payload=function(){return l(s)},e.callback=function(){jh(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){jh(t,n,i),typeof l!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function F1(e,t,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Al(t,n,l,!0),n=pt.current,n!==null){switch(n.tag){case 31:case 13:return wt===null?hr():n.alternate===null&&ye===0&&(ye=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===ir?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),sc(e,i,l)),!1;case 22:return n.flags|=65536,i===ir?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),sc(e,i,l)),!1}throw Error(S(435,n.tag))}return sc(e,i,l),hr(),!1}if(F)return t=pt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,i!==$c&&(e=Error(S(422),{cause:i}),Cs(St(e,n)))):(i!==$c&&(t=Error(S(423),{cause:i}),Cs(St(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,i=St(i,n),l=uu(e.stateNode,i,l),Fo(e,l),ye!==4&&(ye=2)),!1;var s=Error(S(520),{cause:i});if(s=St(s,n),fs===null?fs=[s]:fs.push(s),ye!==4&&(ye=2),t===null)return!0;i=St(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=uu(n.stateNode,i,e),Fo(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(zn===null||!zn.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Ny(l),Ay(l,e,n,i),Fo(n,l),!1}n=n.return}while(n!==null);return!1}var Uf=Error(S(461)),we=!1;function ze(e,t,n,i){t.child=e===null?Vg(t,null,n,i):_i(t,e.child,n,i)}function kh(e,t,n,i,l){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}else a=i;return yi(t),i=Tf(e,t,n,a,s,l),r=Nf(),e!==null&&!we?(Af(e,t,l),fn(e,t,l)):(F&&r&&_f(t),t.flags|=1,ze(e,t,i,l),t.child)}function zh(e,t,n,i,l){if(e===null){var s=n.type;return typeof s=="function"&&!yf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Ry(e,t,s,i,l)):(e=La(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Bf(e,l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ws,n(a,i)&&e.ref===t.ref)return fn(e,t,l)}return t.flags|=1,e=nn(s,i),e.ref=t.ref,e.return=t,t.child=e}function Ry(e,t,n,i,l){if(e!==null){var s=e.memoizedProps;if(ws(s,i)&&e.ref===t.ref)if(we=!1,t.pendingProps=i=s,Bf(e,l))e.flags&131072&&(we=!0);else return t.lanes=e.lanes,fn(e,t,l)}return fu(e,t,n,i,l)}function My(e,t,n,i){var l=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;i=l&~s}else i=0,t.child=null;return Lh(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ia(t,s!==null?s.cachePool:null),s!==null?Eh(t,s):lu(),Qg(t);else return i=t.lanes=536870912,Lh(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Ia(t,s.cachePool),Eh(t,s),En(),t.memoizedState=null):(e!==null&&Ia(t,null),lu(),En());return ze(e,t,l,n),t.child}function $l(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Lh(e,t,n,i,l){var s=Sf();return s=s===null?null:{parent:xe._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Ia(t,null),lu(),Qg(t),e!==null&&Al(e,t,i,!0),t.childLanes=l,null}function Ha(e,t){return t=cr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ih(e,t,n){return _i(t,e.child,null,n),e=Ha(t,t.pendingProps),e.flags|=2,rt(t),t.memoizedState=null,e}function K1(e,t,n){var i=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(F){if(i.mode==="hidden")return e=Ha(t,i),t.lanes=536870912,$l(null,e);if(su(t),(e=ue)?(e=x0(e,xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:zt,overflow:Lt}:null,retryLane:536870912,hydrationErrors:null},n=zg(e),n.return=t,t.child=n,Ie=t,ue=null)):e=null,e===null)throw Qn(t);return t.lanes=536870912,null}return Ha(t,i)}var s=e.memoizedState;if(s!==null){var a=s.dehydrated;if(su(t),l)if(t.flags&256)t.flags&=-257,t=Ih(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(S(558));else if(we||Al(e,t,n,!1),l=(n&e.childLanes)!==0,we||l){if(i=te,i!==null&&(a=rg(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Mi(e,a),We(i,e,a),Uf;hr(),t=Ih(e,t,n)}else e=s.treeContext,ue=Et(a.nextSibling),Ie=t,F=!0,Dn=null,xt=!1,e!==null&&Ig(t,e),t=Ha(t,i),t.flags|=4096;return t}return e=nn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function qa(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(S(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function fu(e,t,n,i,l){return yi(t),n=Tf(e,t,n,i,void 0,l),i=Nf(),e!==null&&!we?(Af(e,t,l),fn(e,t,l)):(F&&i&&_f(t),t.flags|=1,ze(e,t,n,l),t.child)}function Uh(e,t,n,i,l,s){return yi(t),t.updateQueue=null,n=Kg(t,i,n,l),Fg(e),i=Nf(),e!==null&&!we?(Af(e,t,s),fn(e,t,s)):(F&&i&&_f(t),t.flags|=1,ze(e,t,n,s),t.child)}function Bh(e,t,n,i,l){if(yi(t),t.stateNode===null){var s=Pi,a=n.contextType;typeof a=="object"&&a!==null&&(s=Ue(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=cu,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},wf(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Ue(a):Pi,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Xo(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&cu.enqueueReplaceState(s,s.state,null),rs(t,i,s,l),as(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var r=t.memoizedProps,o=bi(n,r);s.props=o;var c=s.context,h=n.contextType;a=Pi,typeof h=="object"&&h!==null&&(a=Ue(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r||c!==a)&&Dh(t,s,i,a),Sn=!1;var f=t.memoizedState;s.state=f,rs(t,i,s,l),as(),c=t.memoizedState,r||f!==c||Sn?(typeof d=="function"&&(Xo(t,n,d,i),c=t.memoizedState),(o=Sn||Oh(t,n,o,i,f,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=a,i=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,nu(e,t),a=t.memoizedProps,h=bi(n,a),s.props=h,d=t.pendingProps,f=s.context,c=n.contextType,o=Pi,typeof c=="object"&&c!==null&&(o=Ue(c)),r=n.getDerivedStateFromProps,(c=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==o)&&Dh(t,s,i,o),Sn=!1,f=t.memoizedState,s.state=f,rs(t,i,s,l),as();var m=t.memoizedState;a!==d||f!==m||Sn||e!==null&&e.dependencies!==null&&nr(e.dependencies)?(typeof r=="function"&&(Xo(t,n,r,i),m=t.memoizedState),(h=Sn||Oh(t,n,h,i,f,m,o)||e!==null&&e.dependencies!==null&&nr(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),s.props=i,s.state=m,s.context=o,i=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,qa(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=_i(t,e.child,null,l),t.child=_i(t,null,n,l)):ze(e,t,n,l),t.memoizedState=s.state,e=t.child):e=fn(e,t,l),e}function Hh(e,t,n,i){return gi(),t.flags|=256,ze(e,t,n,i),t.child}var Zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Po(e){return{baseLanes:e,cachePool:Bg()}}function $o(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ct),e}function Oy(e,t,n){var i=t.pendingProps,l=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),a&&(l=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(F){if(l?wn(t):En(),(e=ue)?(e=x0(e,xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:zt,overflow:Lt}:null,retryLane:536870912,hydrationErrors:null},n=zg(e),n.return=t,t.child=n,Ie=t,ue=null)):e=null,e===null)throw Qn(t);return Cu(e)?t.lanes=32:t.lanes=536870912,null}var r=i.children;return i=i.fallback,l?(En(),l=t.mode,r=cr({mode:"hidden",children:r},l),i=di(i,l,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i=t.child,i.memoizedState=Po(n),i.childLanes=$o(e,a,n),t.memoizedState=Zo,$l(null,i)):(wn(t),du(t,r))}var o=e.memoizedState;if(o!==null&&(r=o.dehydrated,r!==null)){if(s)t.flags&256?(wn(t),t.flags&=-257,t=Wo(e,t,n)):t.memoizedState!==null?(En(),t.child=e.child,t.flags|=128,t=null):(En(),r=i.fallback,l=t.mode,i=cr({mode:"visible",children:i.children},l),r=di(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,_i(t,e.child,null,n),i=t.child,i.memoizedState=Po(n),i.childLanes=$o(e,a,n),t.memoizedState=Zo,t=$l(null,i));else if(wn(t),Cu(r)){if(a=r.nextSibling&&r.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(S(419)),i.stack="",i.digest=a,Cs({value:i,source:null,stack:null}),t=Wo(e,t,n)}else if(we||Al(e,t,n,!1),a=(n&e.childLanes)!==0,we||a){if(a=te,a!==null&&(i=rg(a,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,Mi(e,i),We(a,e,i),Uf;Eu(r)||hr(),t=Wo(e,t,n)}else Eu(r)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ue=Et(r.nextSibling),Ie=t,F=!0,Dn=null,xt=!1,e!==null&&Ig(t,e),t=du(t,i.children),t.flags|=4096);return t}return l?(En(),r=i.fallback,l=t.mode,o=e.child,c=o.sibling,i=nn(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,c!==null?r=nn(c,r):(r=di(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,$l(null,i),i=t.child,r=e.child.memoizedState,r===null?r=Po(n):(l=r.cachePool,l!==null?(o=xe._currentValue,l=l.parent!==o?{parent:o,pool:o}:l):l=Bg(),r={baseLanes:r.baseLanes|n,cachePool:l}),i.memoizedState=r,i.childLanes=$o(e,a,n),t.memoizedState=Zo,$l(e.child,i)):(wn(t),n=e.child,e=n.sibling,n=nn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function du(e,t){return t=cr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cr(e,t){return e=ot(22,e,null,t),e.lanes=0,e}function Wo(e,t,n){return _i(t,e.child,null,n),e=du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Jc(e.return,t,n)}function Jo(e,t,n,i,l,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=l,a.treeForkCount=s)}function Dy(e,t,n){var i=t.pendingProps,l=i.revealOrder,s=i.tail;i=i.children;var a=_e.current,r=(a&2)!==0;if(r?(a=a&1|2,t.flags|=128):a&=1,re(_e,a),ze(e,t,i,n),i=F?Es:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qh(e,n,t);else if(e.tag===19)qh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&sr(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Jo(t,!1,l,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&sr(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Jo(t,!0,n,null,s,i);break;case"together":Jo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))if(e!==null){if(Al(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,n=nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&nr(e)))}function X1(e,t,n){switch(t.tag){case 3:Za(t,t.stateNode.containerInfo),xn(t,xe,e.memoizedState.cache),gi();break;case 27:case 5:Hc(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,su(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(wn(t),t.flags|=128,null):n&t.child.childLanes?Oy(e,t,n):(wn(t),e=fn(e,t,n),e!==null?e.sibling:null);wn(t);break;case 19:var l=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Al(e,t,n,!1),i=(n&t.childLanes)!==0),l){if(i)return Dy(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),re(_e,_e.current),i)break;return null;case 22:return t.lanes=0,My(e,t,n,t.pendingProps);case 24:xn(t,xe,e.memoizedState.cache)}return fn(e,t,n)}function jy(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)we=!0;else{if(!Bf(e,n)&&!(t.flags&128))return we=!1,X1(e,t,n);we=!!(e.flags&131072)}else we=!1,F&&t.flags&1048576&&Lg(t,Es,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=li(t.elementType),t.type=e,typeof e=="function")yf(e)?(i=bi(e,i),t.tag=1,t=Bh(null,t,e,i,n)):(t.tag=0,t=fu(null,t,e,i,n));else{if(e!=null){var l=e.$$typeof;if(l===nf){t.tag=11,t=kh(null,t,e,i,n);break e}else if(l===lf){t.tag=14,t=zh(null,t,e,i,n);break e}}throw t=Uc(e)||e,Error(S(306,t,""))}}return t;case 0:return fu(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,l=bi(i,t.pendingProps),Bh(e,t,i,l,n);case 3:e:{if(Za(t,t.stateNode.containerInfo),e===null)throw Error(S(387));i=t.pendingProps;var s=t.memoizedState;l=s.element,nu(e,t),rs(t,i,null,n);var a=t.memoizedState;if(i=a.cache,xn(t,xe,i),i!==s.cache&&eu(t,[xe],n,!0),as(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Hh(e,t,i,n);break e}else if(i!==l){l=St(Error(S(424)),t),Cs(l),t=Hh(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Et(e.firstChild),Ie=t,F=!0,Dn=null,xt=!0,n=Vg(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(gi(),i===l){t=fn(e,t,n);break e}ze(e,t,i,n)}t=t.child}return t;case 26:return qa(e,t),e===null?(n=rm(t.type,null,t.pendingProps,null))?t.memoizedState=n:F||(n=t.type,e=t.pendingProps,i=yr(On.current).createElement(n),i[Le]=t,i[tt]=e,Be(i,n,e),je(i),t.stateNode=i):t.memoizedState=rm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Hc(t),e===null&&F&&(i=t.stateNode=w0(t.type,t.pendingProps,On.current),Ie=t,xt=!0,l=ue,Jn(t.type)?(Tu=l,ue=Et(i.firstChild)):ue=l),ze(e,t,t.pendingProps.children,n),qa(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&F&&((l=i=ue)&&(i=ES(i,t.type,t.pendingProps,xt),i!==null?(t.stateNode=i,Ie=t,ue=Et(i.firstChild),xt=!1,l=!0):l=!1),l||Qn(t)),Hc(t),l=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,xu(l,s)?i=null:a!==null&&xu(l,a)&&(t.flags|=32),t.memoizedState!==null&&(l=Tf(e,t,B1,null,null,n),Os._currentValue=l),qa(e,t),ze(e,t,i,n),t.child;case 6:return e===null&&F&&((e=n=ue)&&(n=CS(n,t.pendingProps,xt),n!==null?(t.stateNode=n,Ie=t,ue=null,e=!0):e=!1),e||Qn(t)),null;case 13:return Oy(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=_i(t,null,i,n):ze(e,t,i,n),t.child;case 11:return kh(e,t,t.type,t.pendingProps,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,xn(t,t.type,i.value),ze(e,t,i.children,n),t.child;case 9:return l=t.type._context,i=t.pendingProps.children,yi(t),l=Ue(l),i=i(l),t.flags|=1,ze(e,t,i,n),t.child;case 14:return zh(e,t,t.type,t.pendingProps,n);case 15:return Ry(e,t,t.type,t.pendingProps,n);case 19:return Dy(e,t,n);case 31:return K1(e,t,n);case 22:return My(e,t,n,t.pendingProps);case 24:return yi(t),i=Ue(xe),e===null?(l=Sf(),l===null&&(l=te,s=bf(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),t.memoizedState={parent:i,cache:l},wf(t),xn(t,xe,l)):(e.lanes&n&&(nu(e,t),rs(t,null,null,n),as()),l=e.memoizedState,s=t.memoizedState,l.parent!==i?(l={parent:i,cache:i},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),xn(t,xe,i)):(i=s.cache,xn(t,xe,i),i!==l.cache&&eu(t,[xe],n,!0))),ze(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(S(156,t.tag))}function Qt(e){e.flags|=4}function ec(e,t,n,i,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(i0())e.flags|=8192;else throw mi=ir,xf}else e.flags&=-16777217}function Vh(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!T0(t))if(i0())e.flags|=8192;else throw mi=ir,xf}function xa(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?lg():536870912,e.lanes|=t,gl|=t)}function ql(e,t){if(!F)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Z1(e,t,n){var i=t.pendingProps;switch(vf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(t),null;case 1:return oe(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ln(xe),ul(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ki(t)?Qt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qo())),oe(t),null;case 26:var l=t.type,s=t.memoizedState;return e===null?(Qt(t),s!==null?(oe(t),Vh(t,s)):(oe(t),ec(t,l,null,i,n))):s?s!==e.memoizedState?(Qt(t),oe(t),Vh(t,s)):(oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Qt(t),oe(t),ec(t,l,e,i,n)),null;case 27:if(Pa(t),n=On.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Qt(t);else{if(!i){if(t.stateNode===null)throw Error(S(166));return oe(t),null}e=Ut.current,ki(t)?yh(t):(e=w0(l,i,n),t.stateNode=e,Qt(t))}return oe(t),null;case 5:if(Pa(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Qt(t);else{if(!i){if(t.stateNode===null)throw Error(S(166));return oe(t),null}if(s=Ut.current,ki(t))yh(t);else{var a=yr(On.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(l,{is:i.is}):a.createElement(l)}}s[Le]=t,s[tt]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(Be(s,l,i),l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Qt(t)}}return oe(t),ec(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Qt(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(S(166));if(e=On.current,ki(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,l=Ie,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}e[Le]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||v0(e.nodeValue,n)),e||Qn(t,!0)}else e=yr(e).createTextNode(i),e[Le]=t,t.stateNode=e}return oe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ki(t),n!==null){if(e===null){if(!i)throw Error(S(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(557));e[Le]=t}else gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oe(t),e=!1}else n=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(rt(t),t):(rt(t),null);if(t.flags&128)throw Error(S(558))}return oe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=ki(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(S(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(S(317));l[Le]=t}else gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oe(t),l=!1}else l=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(rt(t),t):(rt(t),null)}return rt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),xa(t,t.updateQueue),oe(t),null);case 4:return ul(),e===null&&Ff(t.stateNode.containerInfo),oe(t),null;case 10:return ln(t.type),oe(t),null;case 19:if(ke(_e),i=t.memoizedState,i===null)return oe(t),null;if(l=(t.flags&128)!==0,s=i.rendering,s===null)if(l)ql(i,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=sr(e),s!==null){for(t.flags|=128,ql(i,!1),e=s.updateQueue,t.updateQueue=e,xa(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)kg(n,e),n=n.sibling;return re(_e,_e.current&1|2),F&&Pt(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ut()>fr&&(t.flags|=128,l=!0,ql(i,!1),t.lanes=4194304)}else{if(!l)if(e=sr(s),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,xa(t,e),ql(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!F)return oe(t),null}else 2*ut()-i.renderingStartTime>fr&&n!==536870912&&(t.flags|=128,l=!0,ql(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=_e.current,re(_e,l?n&1|2:n&1),F&&Pt(t,i.treeForkCount),e):(oe(t),null);case 22:case 23:return rt(t),Ef(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(oe(t),t.subtreeFlags&6&&(t.flags|=8192)):oe(t),n=t.updateQueue,n!==null&&xa(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ke(hi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ln(xe),oe(t),null;case 25:return null;case 30:return null}throw Error(S(156,t.tag))}function P1(e,t){switch(vf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ln(xe),ul(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Pa(t),null;case 31:if(t.memoizedState!==null){if(rt(t),t.alternate===null)throw Error(S(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(_e),null;case 4:return ul(),null;case 10:return ln(t.type),null;case 22:case 23:return rt(t),Ef(),e!==null&&ke(hi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ln(xe),null;case 25:return null;default:return null}}function ky(e,t){switch(vf(t),t.tag){case 3:ln(xe),ul();break;case 26:case 27:case 5:Pa(t);break;case 4:ul();break;case 31:t.memoizedState!==null&&rt(t);break;case 13:rt(t);break;case 19:ke(_e);break;case 10:ln(t.type);break;case 22:case 23:rt(t),Ef(),e!==null&&ke(hi);break;case 24:ln(xe)}}function Js(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==l)}}catch(r){W(t,t.return,r)}}function Fn(e,t,n){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var s=l.next;i=s;do{if((i.tag&e)===e){var a=i.inst,r=a.destroy;if(r!==void 0){a.destroy=void 0,l=t;var o=n,c=r;try{c()}catch(h){W(l,o,h)}}}i=i.next}while(i!==s)}}catch(h){W(t,t.return,h)}}function zy(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Yg(t,n)}catch(i){W(e,e.return,i)}}}function Ly(e,t,n){n.props=bi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){W(e,t,i)}}function cs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(l){W(e,t,l)}}function It(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){W(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){W(e,t,l)}else n.current=null}function Iy(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){W(e,e.return,l)}}function tc(e,t,n){try{var i=e.stateNode;_S(i,e.type,n,t),i[tt]=t}catch(l){W(e,e.return,l)}}function Uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jt));else if(i!==4&&(i===27&&Jn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(hu(e,t,n),e=e.sibling;e!==null;)hu(e,t,n),e=e.sibling}function ur(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Jn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ur(e,t,n),e=e.sibling;e!==null;)ur(e,t,n),e=e.sibling}function By(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Be(t,i,n),t[Le]=e,t[tt]=n}catch(s){W(e,e.return,s)}}var $t=!1,Se=!1,ic=!1,Gh=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function $1(e,t){if(e=e.containerInfo,bu=Sr,e=Tg(e),mf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,r=-1,o=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var m;d!==n||l!==0&&d.nodeType!==3||(r=a+l),d!==s||i!==0&&d.nodeType!==3||(o=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++c===l&&(r=a),f===s&&++h===i&&(o=a),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=r===-1||o===-1?null:{start:r,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Su={focusedElem:e,selectionRange:n},Sr=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){switch(t=Oe,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,l=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var _=bi(n.type,l);e=i.getSnapshotBeforeUpdate(_,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(b){W(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)wu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(S(163))}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}}function Hy(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Kt(e,n),i&4&&Js(5,n);break;case 1:if(Kt(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){W(n,n.return,a)}else{var l=bi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){W(n,n.return,a)}}i&64&&zy(n),i&512&&cs(n,n.return);break;case 3:if(Kt(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Yg(e,t)}catch(a){W(n,n.return,a)}}break;case 27:t===null&&i&4&&By(n);case 26:case 5:Kt(e,n),t===null&&i&4&&Iy(n),i&512&&cs(n,n.return);break;case 12:Kt(e,n);break;case 31:Kt(e,n),i&4&&Gy(e,n);break;case 13:Kt(e,n),i&4&&Yy(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=aS.bind(null,n),TS(e,n))));break;case 22:if(i=n.memoizedState!==null||$t,!i){t=t!==null&&t.memoizedState!==null||Se,l=$t;var s=Se;$t=i,(Se=t)&&!s?Xt(e,n,(n.subtreeFlags&8772)!==0):Kt(e,n),$t=l,Se=s}break;case 30:break;default:Kt(e,n)}}function qy(e){var t=e.alternate;t!==null&&(e.alternate=null,qy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&of(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,Ze=!1;function Ft(e,t,n){for(n=n.child;n!==null;)Vy(e,t,n),n=n.sibling}function Vy(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Fs,n)}catch{}switch(n.tag){case 26:Se||It(n,t),Ft(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Se||It(n,t);var i=he,l=Ze;Jn(n.type)&&(he=n.stateNode,Ze=!1),Ft(e,t,n),hs(n.stateNode),he=i,Ze=l;break;case 5:Se||It(n,t);case 6:if(i=he,l=Ze,he=null,Ft(e,t,n),he=i,Ze=l,he!==null)if(Ze)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(n.stateNode)}catch(s){W(n,t,s)}else try{he.removeChild(n.stateNode)}catch(s){W(n,t,s)}break;case 18:he!==null&&(Ze?(e=he,nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),bl(e)):nm(he,n.stateNode));break;case 4:i=he,l=Ze,he=n.stateNode.containerInfo,Ze=!0,Ft(e,t,n),he=i,Ze=l;break;case 0:case 11:case 14:case 15:Fn(2,n,t),Se||Fn(4,n,t),Ft(e,t,n);break;case 1:Se||(It(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Ly(n,t,i)),Ft(e,t,n);break;case 21:Ft(e,t,n);break;case 22:Se=(i=Se)||n.memoizedState!==null,Ft(e,t,n),Se=i;break;default:Ft(e,t,n)}}function Gy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{bl(e)}catch(n){W(t,t.return,n)}}}function Yy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bl(e)}catch(n){W(t,t.return,n)}}function W1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gh),t;default:throw Error(S(435,e.tag))}}function wa(e,t){var n=W1(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var l=rS.bind(null,e,i);i.then(l,l)}})}function Ke(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],s=e,a=t,r=a;e:for(;r!==null;){switch(r.tag){case 27:if(Jn(r.type)){he=r.stateNode,Ze=!1;break e}break;case 5:he=r.stateNode,Ze=!1;break e;case 3:case 4:he=r.stateNode.containerInfo,Ze=!0;break e}r=r.return}if(he===null)throw Error(S(160));Vy(s,a,l),he=null,Ze=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Qy(t,e),t=t.sibling}var Nt=null;function Qy(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ke(t,e),Xe(e),i&4&&(Fn(3,e,e.return),Js(3,e),Fn(5,e,e.return));break;case 1:Ke(t,e),Xe(e),i&512&&(Se||n===null||It(n,n.return)),i&64&&$t&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=Nt;if(Ke(t,e),Xe(e),i&512&&(Se||n===null||It(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":s=l.getElementsByTagName("title")[0],(!s||s[Zs]||s[Le]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(i),l.head.insertBefore(s,l.querySelector("head > title"))),Be(s,i,n),s[Le]=e,je(s),i=s;break e;case"link":var a=cm("link","href",l).get(i+(n.href||""));if(a){for(var r=0;r<a.length;r++)if(s=a[r],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(r,1);break t}}s=l.createElement(i),Be(s,i,n),l.head.appendChild(s);break;case"meta":if(a=cm("meta","content",l).get(i+(n.content||""))){for(r=0;r<a.length;r++)if(s=a[r],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(r,1);break t}}s=l.createElement(i),Be(s,i,n),l.head.appendChild(s);break;default:throw Error(S(468,i))}s[Le]=e,je(s),i=s}e.stateNode=i}else um(l,e.type,e.stateNode);else e.stateNode=om(l,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?um(l,e.type,e.stateNode):om(l,i,e.memoizedProps)):i===null&&e.stateNode!==null&&tc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ke(t,e),Xe(e),i&512&&(Se||n===null||It(n,n.return)),n!==null&&i&4&&tc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ke(t,e),Xe(e),i&512&&(Se||n===null||It(n,n.return)),e.flags&32){l=e.stateNode;try{dl(l,"")}catch(_){W(e,e.return,_)}}i&4&&e.stateNode!=null&&(l=e.memoizedProps,tc(e,l,n!==null?n.memoizedProps:l)),i&1024&&(ic=!0);break;case 6:if(Ke(t,e),Xe(e),i&4){if(e.stateNode===null)throw Error(S(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){W(e,e.return,_)}}break;case 3:if(Ya=null,l=Nt,Nt=_r(t.containerInfo),Ke(t,e),Nt=l,Xe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{bl(t.containerInfo)}catch(_){W(e,e.return,_)}ic&&(ic=!1,Fy(e));break;case 4:i=Nt,Nt=_r(e.stateNode.containerInfo),Ke(t,e),Xe(e),Nt=i;break;case 12:Ke(t,e),Xe(e);break;case 31:Ke(t,e),Xe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,wa(e,i)));break;case 13:Ke(t,e),Xe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(io=ut()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,wa(e,i)));break;case 22:l=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=$t,h=Se;if($t=c||l,Se=h||o,Ke(t,e),Se=h,$t=c,Xe(e),i&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||o||$t||Se||si(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,l)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{r=o.stateNode;var d=o.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;r.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(_){W(o,o.return,_)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=l?"":o.memoizedProps}catch(_){W(o,o.return,_)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;l?im(m,!0):im(o.stateNode,!1)}catch(_){W(o,o.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,wa(e,n))));break;case 19:Ke(t,e),Xe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,wa(e,i)));break;case 30:break;case 21:break;default:Ke(t,e),Xe(e)}}function Xe(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Uy(i)){n=i;break}i=i.return}if(n==null)throw Error(S(160));switch(n.tag){case 27:var l=n.stateNode,s=nc(e);ur(e,s,l);break;case 5:var a=n.stateNode;n.flags&32&&(dl(a,""),n.flags&=-33);var r=nc(e);ur(e,r,a);break;case 3:case 4:var o=n.stateNode.containerInfo,c=nc(e);hu(e,c,o);break;default:throw Error(S(161))}}catch(h){W(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Kt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Hy(e,t.alternate,t),t=t.sibling}function si(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fn(4,t,t.return),si(t);break;case 1:It(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Ly(t,t.return,n),si(t);break;case 27:hs(t.stateNode);case 26:case 5:It(t,t.return),si(t);break;case 22:t.memoizedState===null&&si(t);break;case 30:si(t);break;default:si(t)}e=e.sibling}}function Xt(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,l=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Xt(l,s,n),Js(4,s);break;case 1:if(Xt(l,s,n),i=s,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(c){W(i,i.return,c)}if(i=s,l=i.updateQueue,l!==null){var r=i.stateNode;try{var o=l.shared.hiddenCallbacks;if(o!==null)for(l.shared.hiddenCallbacks=null,l=0;l<o.length;l++)Gg(o[l],r)}catch(c){W(i,i.return,c)}}n&&a&64&&zy(s),cs(s,s.return);break;case 27:By(s);case 26:case 5:Xt(l,s,n),n&&i===null&&a&4&&Iy(s),cs(s,s.return);break;case 12:Xt(l,s,n);break;case 31:Xt(l,s,n),n&&a&4&&Gy(l,s);break;case 13:Xt(l,s,n),n&&a&4&&Yy(l,s);break;case 22:s.memoizedState===null&&Xt(l,s,n),cs(s,s.return);break;case 30:break;default:Xt(l,s,n)}t=t.sibling}}function Hf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&$s(n))}function qf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$s(e))}function Tt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(e,t,n,i),t=t.sibling}function Ky(e,t,n,i){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Tt(e,t,n,i),l&2048&&Js(9,t);break;case 1:Tt(e,t,n,i);break;case 3:Tt(e,t,n,i),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$s(e)));break;case 12:if(l&2048){Tt(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,r=s.onPostCommit;typeof r=="function"&&r(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){W(t,t.return,o)}}else Tt(e,t,n,i);break;case 31:Tt(e,t,n,i);break;case 13:Tt(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?Tt(e,t,n,i):us(e,t):s._visibility&2?Tt(e,t,n,i):(s._visibility|=2,Hi(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Hf(a,t);break;case 24:Tt(e,t,n,i),l&2048&&qf(t.alternate,t);break;default:Tt(e,t,n,i)}}function Hi(e,t,n,i,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,a=t,r=n,o=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Hi(s,a,r,o,l),Js(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Hi(s,a,r,o,l):us(s,a):(h._visibility|=2,Hi(s,a,r,o,l)),l&&c&2048&&Hf(a.alternate,a);break;case 24:Hi(s,a,r,o,l),l&&c&2048&&qf(a.alternate,a);break;default:Hi(s,a,r,o,l)}t=t.sibling}}function us(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,l=i.flags;switch(i.tag){case 22:us(n,i),l&2048&&Hf(i.alternate,i);break;case 24:us(n,i),l&2048&&qf(i.alternate,i);break;default:us(n,i)}t=t.sibling}}var Wl=8192;function zi(e,t,n){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)Xy(e,t,n),e=e.sibling}function Xy(e,t,n){switch(e.tag){case 26:zi(e,t,n),e.flags&Wl&&e.memoizedState!==null&&US(n,Nt,e.memoizedState,e.memoizedProps);break;case 5:zi(e,t,n);break;case 3:case 4:var i=Nt;Nt=_r(e.stateNode.containerInfo),zi(e,t,n),Nt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Wl,Wl=16777216,zi(e,t,n),Wl=i):zi(e,t,n));break;default:zi(e,t,n)}}function Zy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Oe=i,$y(i,e)}Zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Py(e),e=e.sibling}function Py(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&Fn(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Va(e)):Vl(e);break;default:Vl(e)}}function Va(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Oe=i,$y(i,e)}Zy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fn(8,t,t.return),Va(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Va(t));break;default:Va(t)}e=e.sibling}}function $y(e,t){for(;Oe!==null;){var n=Oe;switch(n.tag){case 0:case 11:case 15:Fn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:$s(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Oe=i;else e:for(n=e;Oe!==null;){i=Oe;var l=i.sibling,s=i.return;if(qy(i),i===n){Oe=null;break e}if(l!==null){l.return=s,Oe=l;break e}Oe=s}}}var J1={getCacheForType:function(e){var t=Ue(xe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ue(xe).controller.signal}},eS=typeof WeakMap=="function"?WeakMap:Map,Z=0,te=null,G=null,Q=0,$=0,at=null,An=!1,Ml=!1,Vf=!1,dn=0,ye=0,Kn=0,pi=0,Gf=0,ct=0,gl=0,fs=null,Pe=null,mu=!1,io=0,Wy=0,fr=1/0,dr=null,zn=null,Ce=0,Ln=null,yl=null,sn=0,pu=0,gu=null,Jy=null,ds=0,yu=null;function ht(){return Z&2&&Q!==0?Q&-Q:z.T!==null?Qf():og()}function e0(){if(ct===0)if(!(Q&536870912)||F){var e=pa;pa<<=1,!(pa&3932160)&&(pa=262144),ct=e}else ct=536870912;return e=pt.current,e!==null&&(e.flags|=32),ct}function We(e,t,n){(e===te&&($===2||$===9)||e.cancelPendingCommit!==null)&&(_l(e,0),Rn(e,Q,ct,!1)),Xs(e,n),(!(Z&2)||e!==te)&&(e===te&&(!(Z&2)&&(pi|=n),ye===4&&Rn(e,Q,ct,!1)),qt(e))}function t0(e,t,n){if(Z&6)throw Error(S(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ks(e,t),l=i?iS(e,t):lc(e,t,!0),s=i;do{if(l===0){Ml&&!i&&Rn(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!tS(n)){l=lc(e,t,!1),s=!1;continue}if(l===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var r=e;l=fs;var o=r.current.memoizedState.isDehydrated;if(o&&(_l(r,a).flags|=256),a=lc(r,a,!1),a!==2){if(Vf&&!o){r.errorRecoveryDisabledLanes|=s,pi|=s,l=4;break e}s=Pe,Pe=l,s!==null&&(Pe===null?Pe=s:Pe.push.apply(Pe,s))}l=a}if(s=!1,l!==2)continue}}if(l===1){_l(e,0),Rn(e,t,0,!0);break}e:{switch(i=e,s=l,s){case 0:case 1:throw Error(S(345));case 4:if((t&4194048)!==t)break;case 6:Rn(i,t,ct,!An);break e;case 2:Pe=null;break;case 3:case 5:break;default:throw Error(S(329))}if((t&62914560)===t&&(l=io+300-ut(),10<l)){if(Rn(i,t,ct,!An),Fr(i,0,!0)!==0)break e;sn=t,i.timeoutHandle=S0(Yh.bind(null,i,n,Pe,dr,mu,t,ct,pi,gl,An,s,"Throttled",-0,0),l);break e}Yh(i,n,Pe,dr,mu,t,ct,pi,gl,An,s,null,-0,0)}}break}while(!0);qt(e)}function Yh(e,t,n,i,l,s,a,r,o,c,h,d,f,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jt},Xy(t,s,d);var _=(s&62914560)===s?io-ut():(s&4194048)===s?Wy-ut():0;if(_=BS(d,_),_!==null){sn=s,e.cancelPendingCommit=_(Fh.bind(null,e,t,s,n,i,l,a,r,o,h,d,null,f,m)),Rn(e,s,a,!c);return}}Fh(e,t,s,n,i,l,a,r,o)}function tS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],s=l.getSnapshot;l=l.value;try{if(!mt(s(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t,n,i){t&=~Gf,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var l=t;0<l;){var s=31-dt(l),a=1<<s;i[s]=-1,l&=~a}n!==0&&sg(e,n,t)}function lo(){return Z&6?!0:(ea(0),!1)}function Yf(){if(G!==null){if($===0)var e=G.return;else e=G,en=Oi=null,Rf(e),sl=null,Ts=0,e=G;for(;e!==null;)ky(e.alternate,e),e=e.return;G=null}}function _l(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,SS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),sn=0,Yf(),te=e,G=n=nn(e.current,null),Q=t,$=0,at=null,An=!1,Ml=Ks(e,t),Vf=!1,gl=ct=Gf=pi=Kn=ye=0,Pe=fs=null,mu=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var l=31-dt(i),s=1<<l;t|=e[l],i&=~s}return dn=t,Pr(),n}function n0(e,t){U=null,z.H=As,t===Rl||t===Wr?(t=xh(),$=3):t===xf?(t=xh(),$=4):$=t===Uf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,at=t,G===null&&(ye=1,or(e,St(t,e.current)))}function i0(){var e=pt.current;return e===null?!0:(Q&4194048)===Q?wt===null:(Q&62914560)===Q||Q&536870912?e===wt:!1}function l0(){var e=z.H;return z.H=As,e===null?As:e}function s0(){var e=z.A;return z.A=J1,e}function hr(){ye=4,An||(Q&4194048)!==Q&&pt.current!==null||(Ml=!0),!(Kn&134217727)&&!(pi&134217727)||te===null||Rn(te,Q,ct,!1)}function lc(e,t,n){var i=Z;Z|=2;var l=l0(),s=s0();(te!==e||Q!==t)&&(dr=null,_l(e,t)),t=!1;var a=ye;e:do try{if($!==0&&G!==null){var r=G,o=at;switch($){case 8:Yf(),a=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(t=!0);var c=$;if($=0,at=null,Ji(e,r,o,c),n&&Ml){a=0;break e}break;default:c=$,$=0,at=null,Ji(e,r,o,c)}}nS(),a=ye;break}catch(h){n0(e,h)}while(!0);return t&&e.shellSuspendCounter++,en=Oi=null,Z=i,z.H=l,z.A=s,G===null&&(te=null,Q=0,Pr()),a}function nS(){for(;G!==null;)a0(G)}function iS(e,t){var n=Z;Z|=2;var i=l0(),l=s0();te!==e||Q!==t?(dr=null,fr=ut()+500,_l(e,t)):Ml=Ks(e,t);e:do try{if($!==0&&G!==null){t=G;var s=at;t:switch($){case 1:$=0,at=null,Ji(e,t,s,1);break;case 2:case 9:if(Sh(s)){$=0,at=null,Qh(t);break}t=function(){$!==2&&$!==9||te!==e||($=7),qt(e)},s.then(t,t);break e;case 3:$=7;break e;case 4:$=5;break e;case 7:Sh(s)?($=0,at=null,Qh(t)):($=0,at=null,Ji(e,t,s,7));break;case 5:var a=null;switch(G.tag){case 26:a=G.memoizedState;case 5:case 27:var r=G;if(a?T0(a):r.stateNode.complete){$=0,at=null;var o=r.sibling;if(o!==null)G=o;else{var c=r.return;c!==null?(G=c,so(c)):G=null}break t}}$=0,at=null,Ji(e,t,s,5);break;case 6:$=0,at=null,Ji(e,t,s,6);break;case 8:Yf(),ye=6;break e;default:throw Error(S(462))}}lS();break}catch(h){n0(e,h)}while(!0);return en=Oi=null,z.H=i,z.A=l,Z=n,G!==null?0:(te=null,Q=0,Pr(),ye)}function lS(){for(;G!==null&&!Nb();)a0(G)}function a0(e){var t=jy(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?so(e):G=t}function Qh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Uh(n,t,t.pendingProps,t.type,void 0,Q);break;case 11:t=Uh(n,t,t.pendingProps,t.type.render,t.ref,Q);break;case 5:Rf(t);default:ky(n,t),t=G=kg(t,dn),t=jy(n,t,dn)}e.memoizedProps=e.pendingProps,t===null?so(e):G=t}function Ji(e,t,n,i){en=Oi=null,Rf(t),sl=null,Ts=0;var l=t.return;try{if(F1(e,l,t,n,Q)){ye=1,or(e,St(n,e.current)),G=null;return}}catch(s){if(l!==null)throw G=l,s;ye=1,or(e,St(n,e.current)),G=null;return}t.flags&32768?(F||i===1?e=!0:Ml||Q&536870912?e=!1:(An=e=!0,(i===2||i===9||i===3||i===6)&&(i=pt.current,i!==null&&i.tag===13&&(i.flags|=16384))),r0(t,e)):so(t)}function so(e){var t=e;do{if(t.flags&32768){r0(t,An);return}e=t.return;var n=Z1(t.alternate,t,dn);if(n!==null){G=n;return}if(t=t.sibling,t!==null){G=t;return}G=t=e}while(t!==null);ye===0&&(ye=5)}function r0(e,t){do{var n=P1(e.alternate,e);if(n!==null){n.flags&=32767,G=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){G=e;return}G=e=n}while(e!==null);ye=6,G=null}function Fh(e,t,n,i,l,s,a,r,o){e.cancelPendingCommit=null;do ao();while(Ce!==0);if(Z&6)throw Error(S(327));if(t!==null){if(t===e.current)throw Error(S(177));if(s=t.lanes|t.childLanes,s|=pf,Ib(e,n,s,a,r,o),e===te&&(G=te=null,Q=0),yl=t,Ln=e,sn=n,pu=s,gu=l,Jy=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,oS($a,function(){return d0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=z.T,z.T=null,l=P.p,P.p=2,a=Z,Z|=4;try{$1(e,t,n)}finally{Z=a,P.p=l,z.T=i}}Ce=1,o0(),c0(),u0()}}function o0(){if(Ce===1){Ce=0;var e=Ln,t=yl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=z.T,z.T=null;var i=P.p;P.p=2;var l=Z;Z|=4;try{Qy(t,e);var s=Su,a=Tg(e.containerInfo),r=s.focusedElem,o=s.selectionRange;if(a!==r&&r&&r.ownerDocument&&Cg(r.ownerDocument.documentElement,r)){if(o!==null&&mf(r)){var c=o.start,h=o.end;if(h===void 0&&(h=c),"selectionStart"in r)r.selectionStart=c,r.selectionEnd=Math.min(h,r.value.length);else{var d=r.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var m=f.getSelection(),_=r.textContent.length,b=Math.min(o.start,_),w=o.end===void 0?b:Math.min(o.end,_);!m.extend&&b>w&&(a=w,w=b,b=a);var g=mh(r,b),p=mh(r,w);if(g&&p&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==p.node||m.focusOffset!==p.offset)){var y=d.createRange();y.setStart(g.node,g.offset),m.removeAllRanges(),b>w?(m.addRange(y),m.extend(p.node,p.offset)):(y.setEnd(p.node,p.offset),m.addRange(y))}}}}for(d=[],m=r;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<d.length;r++){var v=d[r];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Sr=!!bu,Su=bu=null}finally{Z=l,P.p=i,z.T=n}}e.current=t,Ce=2}}function c0(){if(Ce===2){Ce=0;var e=Ln,t=yl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=z.T,z.T=null;var i=P.p;P.p=2;var l=Z;Z|=4;try{Hy(e,t.alternate,t)}finally{Z=l,P.p=i,z.T=n}}Ce=3}}function u0(){if(Ce===4||Ce===3){Ce=0,Ab();var e=Ln,t=yl,n=sn,i=Jy;t.subtreeFlags&10256||t.flags&10256?Ce=5:(Ce=0,yl=Ln=null,f0(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(zn=null),rf(n),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Fs,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=z.T,l=P.p,P.p=2,z.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var r=i[a];s(r.value,{componentStack:r.stack})}}finally{z.T=t,P.p=l}}sn&3&&ao(),qt(e),l=e.pendingLanes,n&261930&&l&42?e===yu?ds++:(ds=0,yu=e):ds=0,ea(0)}}function f0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$s(t)))}function ao(){return o0(),c0(),u0(),d0()}function d0(){if(Ce!==5)return!1;var e=Ln,t=pu;pu=0;var n=rf(sn),i=z.T,l=P.p;try{P.p=32>n?32:n,z.T=null,n=gu,gu=null;var s=Ln,a=sn;if(Ce=0,yl=Ln=null,sn=0,Z&6)throw Error(S(331));var r=Z;if(Z|=4,Py(s.current),Ky(s,s.current,a,n),Z=r,ea(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Fs,s)}catch{}return!0}finally{P.p=l,z.T=i,f0(e,t)}}function Kh(e,t,n){t=St(n,t),t=uu(e.stateNode,t,2),e=kn(e,t,2),e!==null&&(Xs(e,2),qt(e))}function W(e,t,n){if(e.tag===3)Kh(e,e,n);else for(;t!==null;){if(t.tag===3){Kh(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zn===null||!zn.has(i))){e=St(n,e),n=Ny(2),i=kn(t,n,2),i!==null&&(Ay(n,i,t,e),Xs(i,2),qt(i));break}}t=t.return}}function sc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new eS;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(Vf=!0,l.add(n),e=sS.bind(null,e,t,n),t.then(e,e))}function sS(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,te===e&&(Q&n)===n&&(ye===4||ye===3&&(Q&62914560)===Q&&300>ut()-io?!(Z&2)&&_l(e,0):Gf|=n,gl===Q&&(gl=0)),qt(e)}function h0(e,t){t===0&&(t=lg()),e=Mi(e,t),e!==null&&(Xs(e,t),qt(e))}function aS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),h0(e,n)}function rS(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(S(314))}i!==null&&i.delete(t),h0(e,n)}function oS(e,t){return sf(e,t)}var mr=null,qi=null,_u=!1,pr=!1,ac=!1,Mn=0;function qt(e){e!==qi&&e.next===null&&(qi===null?mr=qi=e:qi=qi.next=e),pr=!0,_u||(_u=!0,uS())}function ea(e,t){if(!ac&&pr){ac=!0;do for(var n=!1,i=mr;i!==null;){if(e!==0){var l=i.pendingLanes;if(l===0)var s=0;else{var a=i.suspendedLanes,r=i.pingedLanes;s=(1<<31-dt(42|e)+1)-1,s&=l&~(a&~r),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Xh(i,s))}else s=Q,s=Fr(i,i===te?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Ks(i,s)||(n=!0,Xh(i,s));i=i.next}while(n);ac=!1}}function cS(){m0()}function m0(){pr=_u=!1;var e=0;Mn!==0&&bS()&&(e=Mn);for(var t=ut(),n=null,i=mr;i!==null;){var l=i.next,s=p0(i,t);s===0?(i.next=null,n===null?mr=l:n.next=l,l===null&&(qi=n)):(n=i,(e!==0||s&3)&&(pr=!0)),i=l}Ce!==0&&Ce!==5||ea(e),Mn!==0&&(Mn=0)}function p0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-dt(s),r=1<<a,o=l[a];o===-1?(!(r&n)||r&i)&&(l[a]=Lb(r,t)):o<=t&&(e.expiredLanes|=r),s&=~r}if(t=te,n=Q,n=Fr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&($===2||$===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&ko(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ks(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&ko(i),rf(n)){case 2:case 8:n=ng;break;case 32:n=$a;break;case 268435456:n=ig;break;default:n=$a}return i=g0.bind(null,e),n=sf(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&ko(i),e.callbackPriority=2,e.callbackNode=null,2}function g0(e,t){if(Ce!==0&&Ce!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ao()&&e.callbackNode!==n)return null;var i=Q;return i=Fr(e,e===te?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(t0(e,i,t),p0(e,ut()),e.callbackNode!=null&&e.callbackNode===n?g0.bind(null,e):null)}function Xh(e,t){if(ao())return null;t0(e,t,!0)}function uS(){xS(function(){Z&6?sf(tg,cS):m0()})}function Qf(){if(Mn===0){var e=hl;e===0&&(e=ma,ma<<=1,!(ma&261888)&&(ma=256)),Mn=e}return Mn}function Zh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ja(""+e)}function Ph(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function fS(e,t,n,i,l){if(t==="submit"&&n&&n.stateNode===l){var s=Zh((l[tt]||null).action),a=i.submitter;a&&(t=(t=a[tt]||null)?Zh(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var r=new Kr("action","action",null,i,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Mn!==0){var o=a?Ph(l,a):new FormData(l);ou(n,{pending:!0,data:o,method:l.method,action:s},null,o)}}else typeof s=="function"&&(r.preventDefault(),o=a?Ph(l,a):new FormData(l),ou(n,{pending:!0,data:o,method:l.method,action:s},s,o))},currentTarget:l}]})}}for(var rc=0;rc<Pc.length;rc++){var oc=Pc[rc],dS=oc.toLowerCase(),hS=oc[0].toUpperCase()+oc.slice(1);jt(dS,"on"+hS)}jt(Ag,"onAnimationEnd");jt(Rg,"onAnimationIteration");jt(Mg,"onAnimationStart");jt("dblclick","onDoubleClick");jt("focusin","onFocus");jt("focusout","onBlur");jt(R1,"onTransitionRun");jt(M1,"onTransitionStart");jt(O1,"onTransitionCancel");jt(Og,"onTransitionEnd");fl("onMouseEnter",["mouseout","mouseover"]);fl("onMouseLeave",["mouseout","mouseover"]);fl("onPointerEnter",["pointerout","pointerover"]);fl("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rs));function y0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var r=i[a],o=r.instance,c=r.currentTarget;if(r=r.listener,o!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=c;try{s(l)}catch(h){Ja(h)}l.currentTarget=null,s=o}else for(a=0;a<i.length;a++){if(r=i[a],o=r.instance,c=r.currentTarget,r=r.listener,o!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=c;try{s(l)}catch(h){Ja(h)}l.currentTarget=null,s=o}}}}function V(e,t){var n=t[Vc];n===void 0&&(n=t[Vc]=new Set);var i=e+"__bubble";n.has(i)||(_0(t,e,2,!1),n.add(i))}function cc(e,t,n){var i=0;t&&(i|=4),_0(n,e,i,t)}var Ea="_reactListening"+Math.random().toString(36).slice(2);function Ff(e){if(!e[Ea]){e[Ea]=!0,cg.forEach(function(n){n!=="selectionchange"&&(mS.has(n)||cc(n,!1,e),cc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ea]||(t[Ea]=!0,cc("selectionchange",!1,t))}}function _0(e,t,n,i){switch(O0(t)){case 2:var l=VS;break;case 8:l=GS;break;default:l=Pf}n=l.bind(null,t,n,e),l=void 0,!Kc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function uc(e,t,n,i,l){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var r=i.stateNode.containerInfo;if(r===l)break;if(a===4)for(a=i.return;a!==null;){var o=a.tag;if((o===3||o===4)&&a.stateNode.containerInfo===l)return;a=a.return}for(;r!==null;){if(a=Yi(r),a===null)return;if(o=a.tag,o===5||o===6||o===26||o===27){i=s=a;continue e}r=r.parentNode}}i=i.return}yg(function(){var c=s,h=uf(n),d=[];e:{var f=Dg.get(e);if(f!==void 0){var m=Kr,_=e;switch(e){case"keypress":if(za(n)===0)break e;case"keydown":case"keyup":m=r1;break;case"focusin":_="focus",m=Bo;break;case"focusout":_="blur",m=Bo;break;case"beforeblur":case"afterblur":m=Bo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Zb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=u1;break;case Ag:case Rg:case Mg:m=Wb;break;case Og:m=d1;break;case"scroll":case"scrollend":m=Kb;break;case"wheel":m=m1;break;case"copy":case"cut":case"paste":m=e1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ah;break;case"toggle":case"beforetoggle":m=g1}var b=(t&4)!==0,w=!b&&(e==="scroll"||e==="scrollend"),g=b?f!==null?f+"Capture":null:f;b=[];for(var p=c,y;p!==null;){var v=p;if(y=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||y===null||g===null||(v=Ss(p,g),v!=null&&b.push(Ms(p,v,y))),w)break;p=p.return}0<b.length&&(f=new m(f,_,null,n,h),d.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Fc&&(_=n.relatedTarget||n.fromElement)&&(Yi(_)||_[Tl]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=c,_=_?Yi(_):null,_!==null&&(w=Qs(_),b=_.tag,_!==w||b!==5&&b!==27&&b!==6)&&(_=null)):(m=null,_=c),m!==_)){if(b=lh,v="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(b=ah,v="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?f:Pl(m),y=_==null?f:Pl(_),f=new b(v,p+"leave",m,n,h),f.target=w,f.relatedTarget=y,v=null,Yi(h)===c&&(b=new b(g,p+"enter",_,n,h),b.target=y,b.relatedTarget=w,v=b),w=v,m&&_)t:{for(b=pS,g=m,p=_,y=0,v=g;v;v=b(v))y++;v=0;for(var N=p;N;N=b(N))v++;for(;0<y-v;)g=b(g),y--;for(;0<v-y;)p=b(p),v--;for(;y--;){if(g===p||p!==null&&g===p.alternate){b=g;break t}g=b(g),p=b(p)}b=null}else b=null;m!==null&&$h(d,f,m,b,!1),_!==null&&w!==null&&$h(d,w,_,b,!0)}}e:{if(f=c?Pl(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var M=uh;else if(ch(f))if(wg)M=T1;else{M=E1;var E=w1}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&cf(c.elementType)&&(M=uh):M=C1;if(M&&(M=M(e,c))){xg(d,M,n,h);break e}E&&E(e,f,c),e==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&Qc(f,"number",f.value)}switch(E=c?Pl(c):window,e){case"focusin":(ch(E)||E.contentEditable==="true")&&(Ki=E,Xc=c,is=null);break;case"focusout":is=Xc=Ki=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,ph(d,n,h);break;case"selectionchange":if(A1)break;case"keydown":case"keyup":ph(d,n,h)}var D;if(hf)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Fi?bg(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(vg&&n.locale!=="ko"&&(Fi||j!=="onCompositionStart"?j==="onCompositionEnd"&&Fi&&(D=_g()):(Nn=h,ff="value"in Nn?Nn.value:Nn.textContent,Fi=!0)),E=gr(c,j),0<E.length&&(j=new sh(j,e,null,n,h),d.push({event:j,listeners:E}),D?j.data=D:(D=Sg(n),D!==null&&(j.data=D)))),(D=_1?v1(e,n):b1(e,n))&&(j=gr(c,"onBeforeInput"),0<j.length&&(E=new sh("onBeforeInput","beforeinput",null,n,h),d.push({event:E,listeners:j}),E.data=D)),fS(d,e,c,n,h)}y0(d,t)})}function Ms(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gr(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=Ss(e,n),l!=null&&i.unshift(Ms(e,l,s)),l=Ss(e,t),l!=null&&i.push(Ms(e,l,s))),e.tag===3)return i;e=e.return}return[]}function pS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $h(e,t,n,i,l){for(var s=t._reactName,a=[];n!==null&&n!==i;){var r=n,o=r.alternate,c=r.stateNode;if(r=r.tag,o!==null&&o===i)break;r!==5&&r!==26&&r!==27||c===null||(o=c,l?(c=Ss(n,s),c!=null&&a.unshift(Ms(n,c,o))):l||(c=Ss(n,s),c!=null&&a.push(Ms(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var gS=/\r\n?/g,yS=/\u0000|\uFFFD/g;function Wh(e){return(typeof e=="string"?e:""+e).replace(gS,`
`).replace(yS,"")}function v0(e,t){return t=Wh(t),Wh(e)===t}function J(e,t,n,i,l,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||dl(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&dl(e,""+i);break;case"className":ya(e,"class",i);break;case"tabIndex":ya(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ya(e,n,i);break;case"style":gg(e,i,s);break;case"data":if(t!=="object"){ya(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ja(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&J(e,t,"name",l.name,l,null),J(e,t,"formEncType",l.formEncType,l,null),J(e,t,"formMethod",l.formMethod,l,null),J(e,t,"formTarget",l.formTarget,l,null)):(J(e,t,"encType",l.encType,l,null),J(e,t,"method",l.method,l,null),J(e,t,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ja(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Jt);break;case"onScroll":i!=null&&V("scroll",e);break;case"onScrollEnd":i!=null&&V("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(S(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(S(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=ja(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":V("beforetoggle",e),V("toggle",e),Da(e,"popover",i);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Da(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Qb.get(n)||n,Da(e,n,i))}}function vu(e,t,n,i,l,s){switch(n){case"style":gg(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(S(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(S(60));e.innerHTML=n}}break;case"children":typeof i=="string"?dl(e,i):(typeof i=="number"||typeof i=="bigint")&&dl(e,""+i);break;case"onScroll":i!=null&&V("scroll",e);break;case"onScrollEnd":i!=null&&V("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ug.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),s=e[tt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,l),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,l);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Da(e,n,i)}}}function Be(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":V("error",e),V("load",e);var i=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:J(e,t,s,a,n,null)}}l&&J(e,t,"srcSet",n.srcSet,n,null),i&&J(e,t,"src",n.src,n,null);return;case"input":V("invalid",e);var r=s=a=l=null,o=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":l=h;break;case"type":a=h;break;case"checked":o=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(S(137,t));break;default:J(e,t,i,h,n,null)}}hg(e,s,r,o,c,a,l,!1);return;case"select":V("invalid",e),i=a=s=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":s=r;break;case"defaultValue":a=r;break;case"multiple":i=r;default:J(e,t,l,r,n,null)}t=s,n=a,e.multiple=!!i,t!=null?nl(e,!!i,t,!1):n!=null&&nl(e,!!i,n,!0);return;case"textarea":V("invalid",e),s=l=i=null;for(a in n)if(n.hasOwnProperty(a)&&(r=n[a],r!=null))switch(a){case"value":i=r;break;case"defaultValue":l=r;break;case"children":s=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(S(91));break;default:J(e,t,a,r,n,null)}pg(e,i,l,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:J(e,t,o,i,n,null)}return;case"dialog":V("beforetoggle",e),V("toggle",e),V("cancel",e),V("close",e);break;case"iframe":case"object":V("load",e);break;case"video":case"audio":for(i=0;i<Rs.length;i++)V(Rs[i],e);break;case"image":V("error",e),V("load",e);break;case"details":V("toggle",e);break;case"embed":case"source":case"link":V("error",e),V("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:J(e,t,c,i,n,null)}return;default:if(cf(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&vu(e,t,h,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&J(e,t,r,i,n,null))}function _S(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,a=null,r=null,o=null,c=null,h=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=d;default:i.hasOwnProperty(m)||J(e,t,m,null,i,d)}}for(var f in i){var m=i[f];if(d=n[f],i.hasOwnProperty(f)&&(m!=null||d!=null))switch(f){case"type":s=m;break;case"name":l=m;break;case"checked":c=m;break;case"defaultChecked":h=m;break;case"value":a=m;break;case"defaultValue":r=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(S(137,t));break;default:m!==d&&J(e,t,f,m,i,d)}}Yc(e,a,r,o,c,h,s,l);return;case"select":m=a=r=f=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:i.hasOwnProperty(s)||J(e,t,s,null,i,o)}for(l in i)if(s=i[l],o=n[l],i.hasOwnProperty(l)&&(s!=null||o!=null))switch(l){case"value":f=s;break;case"defaultValue":r=s;break;case"multiple":a=s;default:s!==o&&J(e,t,l,s,i,o)}t=r,n=a,i=m,f!=null?nl(e,!!n,f,!1):!!i!=!!n&&(t!=null?nl(e,!!n,t,!0):nl(e,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:J(e,t,r,null,i,l)}for(a in i)if(l=i[a],s=n[a],i.hasOwnProperty(a)&&(l!=null||s!=null))switch(a){case"value":f=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(S(91));break;default:l!==s&&J(e,t,a,l,i,s)}mg(e,f,m);return;case"option":for(var _ in n)if(f=n[_],n.hasOwnProperty(_)&&f!=null&&!i.hasOwnProperty(_))switch(_){case"selected":e.selected=!1;break;default:J(e,t,_,null,i,f)}for(o in i)if(f=i[o],m=n[o],i.hasOwnProperty(o)&&f!==m&&(f!=null||m!=null))switch(o){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:J(e,t,o,f,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!=null&&!i.hasOwnProperty(b)&&J(e,t,b,null,i,f);for(c in i)if(f=i[c],m=n[c],i.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(S(137,t));break;default:J(e,t,c,f,i,m)}return;default:if(cf(t)){for(var w in n)f=n[w],n.hasOwnProperty(w)&&f!==void 0&&!i.hasOwnProperty(w)&&vu(e,t,w,void 0,i,f);for(h in i)f=i[h],m=n[h],!i.hasOwnProperty(h)||f===m||f===void 0&&m===void 0||vu(e,t,h,f,i,m);return}}for(var g in n)f=n[g],n.hasOwnProperty(g)&&f!=null&&!i.hasOwnProperty(g)&&J(e,t,g,null,i,f);for(d in i)f=i[d],m=n[d],!i.hasOwnProperty(d)||f===m||f==null&&m==null||J(e,t,d,f,i,m)}function Jh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var l=n[i],s=l.transferSize,a=l.initiatorType,r=l.duration;if(s&&r&&Jh(a)){for(a=0,r=l.responseEnd,i+=1;i<n.length;i++){var o=n[i],c=o.startTime;if(c>r)break;var h=o.transferSize,d=o.initiatorType;h&&Jh(d)&&(o=o.responseEnd,a+=h*(o<r?1:(r-c)/(o-c)))}if(--i,t+=8*(s+a)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bu=null,Su=null;function yr(e){return e.nodeType===9?e:e.ownerDocument}function em(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fc=null;function bS(){var e=window.event;return e&&e.type==="popstate"?e===fc?!1:(fc=e,!0):(fc=null,!1)}var S0=typeof setTimeout=="function"?setTimeout:void 0,SS=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,xS=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(e){return tm.resolve(null).then(e).catch(wS)}:S0;function wS(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function nm(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(l),bl(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")hs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,hs(n);for(var s=n.firstChild;s;){var a=s.nextSibling,r=s.nodeName;s[Zs]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&hs(e.ownerDocument.body);n=l}while(n);bl(t)}function im(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wu(n),of(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ES(e,t,n,i){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Zs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Et(e.nextSibling),e===null)break}return null}function CS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Et(e.nextSibling),e===null))return null;return e}function x0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Et(e.nextSibling),e===null))return null;return e}function Eu(e){return e.data==="$?"||e.data==="$~"}function Cu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function TS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Et(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Tu=null;function lm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Et(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function sm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function w0(e,t,n){switch(t=yr(n),e){case"html":if(e=t.documentElement,!e)throw Error(S(452));return e;case"head":if(e=t.head,!e)throw Error(S(453));return e;case"body":if(e=t.body,!e)throw Error(S(454));return e;default:throw Error(S(451))}}function hs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);of(e)}var Ct=new Map,am=new Set;function _r(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gn=P.d;P.d={f:NS,r:AS,D:RS,C:MS,L:OS,m:DS,X:kS,S:jS,M:zS};function NS(){var e=gn.f(),t=lo();return e||t}function AS(e){var t=Nl(e);t!==null&&t.tag===5&&t.type==="form"?gy(t):gn.r(e)}var Ol=typeof document>"u"?null:document;function E0(e,t,n){var i=Ol;if(i&&typeof t=="string"&&t){var l=bt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),am.has(l)||(am.add(l),e={rel:e,crossOrigin:n,href:t},i.querySelector(l)===null&&(t=i.createElement("link"),Be(t,"link",e),je(t),i.head.appendChild(t)))}}function RS(e){gn.D(e),E0("dns-prefetch",e,null)}function MS(e,t){gn.C(e,t),E0("preconnect",e,t)}function OS(e,t,n){gn.L(e,t,n);var i=Ol;if(i&&e&&t){var l='link[rel="preload"][as="'+bt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+bt(n.imageSizes)+'"]')):l+='[href="'+bt(e)+'"]';var s=l;switch(t){case"style":s=vl(e);break;case"script":s=Dl(e)}Ct.has(s)||(e=de({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ct.set(s,e),i.querySelector(l)!==null||t==="style"&&i.querySelector(ta(s))||t==="script"&&i.querySelector(na(s))||(t=i.createElement("link"),Be(t,"link",e),je(t),i.head.appendChild(t)))}}function DS(e,t){gn.m(e,t);var n=Ol;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+bt(i)+'"][href="'+bt(e)+'"]',s=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Dl(e)}if(!Ct.has(s)&&(e=de({rel:"modulepreload",href:e},t),Ct.set(s,e),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(na(s)))return}i=n.createElement("link"),Be(i,"link",e),je(i),n.head.appendChild(i)}}}function jS(e,t,n){gn.S(e,t,n);var i=Ol;if(i&&e){var l=tl(i).hoistableStyles,s=vl(e);t=t||"default";var a=l.get(s);if(!a){var r={loading:0,preload:null};if(a=i.querySelector(ta(s)))r.loading=5;else{e=de({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ct.get(s))&&Kf(e,n);var o=a=i.createElement("link");je(o),Be(o,"link",e),o._p=new Promise(function(c,h){o.onload=c,o.onerror=h}),o.addEventListener("load",function(){r.loading|=1}),o.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Ga(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:r},l.set(s,a)}}}function kS(e,t){gn.X(e,t);var n=Ol;if(n&&e){var i=tl(n).hoistableScripts,l=Dl(e),s=i.get(l);s||(s=n.querySelector(na(l)),s||(e=de({src:e,async:!0},t),(t=Ct.get(l))&&Xf(e,t),s=n.createElement("script"),je(s),Be(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(l,s))}}function zS(e,t){gn.M(e,t);var n=Ol;if(n&&e){var i=tl(n).hoistableScripts,l=Dl(e),s=i.get(l);s||(s=n.querySelector(na(l)),s||(e=de({src:e,async:!0,type:"module"},t),(t=Ct.get(l))&&Xf(e,t),s=n.createElement("script"),je(s),Be(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(l,s))}}function rm(e,t,n,i){var l=(l=On.current)?_r(l):null;if(!l)throw Error(S(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=vl(n.href),n=tl(l).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=vl(n.href);var s=tl(l).hoistableStyles,a=s.get(e);if(a||(l=l.ownerDocument||l,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=l.querySelector(ta(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Ct.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ct.set(e,n),s||LS(l,e,n,a.state))),t&&i===null)throw Error(S(528,""));return a}if(t&&i!==null)throw Error(S(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Dl(n),n=tl(l).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(S(444,e))}}function vl(e){return'href="'+bt(e)+'"'}function ta(e){return'link[rel="stylesheet"]['+e+"]"}function C0(e){return de({},e,{"data-precedence":e.precedence,precedence:null})}function LS(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Be(t,"link",n),je(t),e.head.appendChild(t))}function Dl(e){return'[src="'+bt(e)+'"]'}function na(e){return"script[async]"+e}function om(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(i)return t.instance=i,je(i),i;var l=de({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),je(i),Be(i,"style",l),Ga(i,n.precedence,e),t.instance=i;case"stylesheet":l=vl(n.href);var s=e.querySelector(ta(l));if(s)return t.state.loading|=4,t.instance=s,je(s),s;i=C0(n),(l=Ct.get(l))&&Kf(i,l),s=(e.ownerDocument||e).createElement("link"),je(s);var a=s;return a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),Be(s,"link",i),t.state.loading|=4,Ga(s,n.precedence,e),t.instance=s;case"script":return s=Dl(n.src),(l=e.querySelector(na(s)))?(t.instance=l,je(l),l):(i=n,(l=Ct.get(s))&&(i=de({},n),Xf(i,l)),e=e.ownerDocument||e,l=e.createElement("script"),je(l),Be(l,"link",i),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(S(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Ga(i,n.precedence,e));return t.instance}function Ga(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,s=l,a=0;a<i.length;a++){var r=i[a];if(r.dataset.precedence===t)s=r;else if(s!==l)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Kf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ya=null;function cm(e,t,n){if(Ya===null){var i=new Map,l=Ya=new Map;l.set(n,i)}else l=Ya,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var s=n[l];if(!(s[Zs]||s[Le]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var r=i.get(a);r?r.push(s):i.set(a,[s])}}return i}function um(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function IS(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function T0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function US(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var l=vl(i.href),s=t.querySelector(ta(l));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,je(s);return}s=t.ownerDocument||t,i=C0(i),(l=Ct.get(l))&&Kf(i,l),s=s.createElement("link"),je(s);var a=s;a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),Be(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=vr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var dc=0;function BS(e,t){return e.stylesheets&&e.count===0&&Qa(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Qa(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&dc===0&&(dc=62500*vS());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qa(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>dc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(l)}}:null}function vr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var br=null;function Qa(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,br=new Map,t.forEach(HS,e),br=null,vr.call(e))}function HS(e,t){if(!(t.state.loading&4)){var n=br.get(e);if(n)var i=n.get(null);else{n=new Map,br.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var a=l[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}l=t.instance,a=l.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,l),n.set(a,l),this.count++,i=vr.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),s?s.parentNode.insertBefore(l,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Os={$$typeof:Wt,Provider:null,Consumer:null,_currentValue:fi,_currentValue2:fi,_threadCount:0};function qS(e,t,n,i,l,s,a,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.hiddenUpdates=zo(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function N0(e,t,n,i,l,s,a,r,o,c,h,d){return e=new qS(e,t,n,a,o,c,h,d,r),t=1,s===!0&&(t|=24),s=ot(3,null,null,t),e.current=s,s.stateNode=e,t=bf(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},wf(s),e}function A0(e){return e?(e=Pi,e):Pi}function R0(e,t,n,i,l,s){l=A0(l),i.context===null?i.context=l:i.pendingContext=l,i=jn(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=kn(e,i,t),n!==null&&(We(n,e,t),ss(n,e,t))}function fm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zf(e,t){fm(e,t),(e=e.alternate)&&fm(e,t)}function M0(e){if(e.tag===13||e.tag===31){var t=Mi(e,67108864);t!==null&&We(t,e,67108864),Zf(e,67108864)}}function dm(e){if(e.tag===13||e.tag===31){var t=ht();t=af(t);var n=Mi(e,t);n!==null&&We(n,e,t),Zf(e,t)}}var Sr=!0;function VS(e,t,n,i){var l=z.T;z.T=null;var s=P.p;try{P.p=2,Pf(e,t,n,i)}finally{P.p=s,z.T=l}}function GS(e,t,n,i){var l=z.T;z.T=null;var s=P.p;try{P.p=8,Pf(e,t,n,i)}finally{P.p=s,z.T=l}}function Pf(e,t,n,i){if(Sr){var l=Nu(i);if(l===null)uc(e,t,i,xr,n),hm(e,i);else if(QS(l,e,t,n,i))i.stopPropagation();else if(hm(e,i),t&4&&-1<YS.indexOf(e)){for(;l!==null;){var s=Nl(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=ii(s.pendingLanes);if(a!==0){var r=s;for(r.pendingLanes|=2,r.entangledLanes|=2;a;){var o=1<<31-dt(a);r.entanglements[1]|=o,a&=~o}qt(s),!(Z&6)&&(fr=ut()+500,ea(0))}}break;case 31:case 13:r=Mi(s,2),r!==null&&We(r,s,2),lo(),Zf(s,2)}if(s=Nu(i),s===null&&uc(e,t,i,xr,n),s===l)break;l=s}l!==null&&i.stopPropagation()}else uc(e,t,i,null,n)}}function Nu(e){return e=uf(e),$f(e)}var xr=null;function $f(e){if(xr=null,e=Yi(e),e!==null){var t=Qs(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Pp(t),e!==null)return e;e=null}else if(n===31){if(e=$p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xr=e,null}function O0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rb()){case tg:return 2;case ng:return 8;case $a:case Mb:return 32;case ig:return 268435456;default:return 32}default:return 32}}var Au=!1,In=null,Un=null,Bn=null,Ds=new Map,js=new Map,Cn=[],YS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hm(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":Ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(t.pointerId)}}function Gl(e,t,n,i,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Nl(t),t!==null&&M0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function QS(e,t,n,i,l){switch(t){case"focusin":return In=Gl(In,e,t,n,i,l),!0;case"dragenter":return Un=Gl(Un,e,t,n,i,l),!0;case"mouseover":return Bn=Gl(Bn,e,t,n,i,l),!0;case"pointerover":var s=l.pointerId;return Ds.set(s,Gl(Ds.get(s)||null,e,t,n,i,l)),!0;case"gotpointercapture":return s=l.pointerId,js.set(s,Gl(js.get(s)||null,e,t,n,i,l)),!0}return!1}function D0(e){var t=Yi(e.target);if(t!==null){var n=Qs(t);if(n!==null){if(t=n.tag,t===13){if(t=Pp(n),t!==null){e.blockedOn=t,$d(e.priority,function(){dm(n)});return}}else if(t===31){if(t=$p(n),t!==null){e.blockedOn=t,$d(e.priority,function(){dm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nu(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Fc=i,n.target.dispatchEvent(i),Fc=null}else return t=Nl(n),t!==null&&M0(t),e.blockedOn=n,!1;t.shift()}return!0}function mm(e,t,n){Fa(e)&&n.delete(t)}function FS(){Au=!1,In!==null&&Fa(In)&&(In=null),Un!==null&&Fa(Un)&&(Un=null),Bn!==null&&Fa(Bn)&&(Bn=null),Ds.forEach(mm),js.forEach(mm)}function Ca(e,t){e.blockedOn===t&&(e.blockedOn=null,Au||(Au=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,FS)))}var Ta=null;function pm(e){Ta!==e&&(Ta=e,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,function(){Ta===e&&(Ta=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],l=e[t+2];if(typeof i!="function"){if($f(i||n)===null)continue;break}var s=Nl(n);s!==null&&(e.splice(t,3),t-=3,ou(s,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function bl(e){function t(o){return Ca(o,e)}In!==null&&Ca(In,e),Un!==null&&Ca(Un,e),Bn!==null&&Ca(Bn,e),Ds.forEach(t),js.forEach(t);for(var n=0;n<Cn.length;n++){var i=Cn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)D0(n),n.blockedOn===null&&Cn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],s=n[i+1],a=l[tt]||null;if(typeof s=="function")a||pm(n);else if(a){var r=null;if(s&&s.hasAttribute("formAction")){if(l=s,a=s[tt]||null)r=a.formAction;else if($f(l)!==null)continue}else r=a.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),pm(n)}}}function j0(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return l=a})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function Wf(e){this._internalRoot=e}ro.prototype.render=Wf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));var n=t.current,i=ht();R0(n,i,e,t,null,null)};ro.prototype.unmount=Wf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;R0(e.current,2,null,e,null,null),lo(),t[Tl]=null}};function ro(e){this._internalRoot=e}ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=og();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cn.length&&t!==0&&t<Cn[n].priority;n++);Cn.splice(n,0,e),n===0&&D0(e)}};var gm=Xp.version;if(gm!=="19.2.0")throw Error(S(527,gm,"19.2.0"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=xb(t),e=e!==null?Wp(e):null,e=e===null?null:e.stateNode,e};var KS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Na.isDisabled&&Na.supportsFiber)try{Fs=Na.inject(KS),ft=Na}catch{}}Yr.createRoot=function(e,t){if(!Zp(e))throw Error(S(299));var n=!1,i="",l=Ey,s=Cy,a=Ty;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=N0(e,1,!1,null,null,n,i,null,l,s,a,j0),e[Tl]=t.current,Ff(e),new Wf(t)};Yr.hydrateRoot=function(e,t,n){if(!Zp(e))throw Error(S(299));var i=!1,l="",s=Ey,a=Cy,r=Ty,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=N0(e,1,!0,t,n??null,i,l,o,s,a,r,j0),t.context=A0(null),n=t.current,i=ht(),i=af(i),l=jn(i),l.callback=null,kn(n,l,i),n=i,t.current.lanes=n,Xs(t,n),qt(t),e[Tl]=t.current,Ff(e),new ro(t)};Yr.version="19.2.0";function k0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k0)}catch(e){console.error(e)}}k0(),Vp.exports=Yr;var XS=Vp.exports;const ZS=Dp(XS),PS="modulepreload",$S=function(e){return"/fenerbahce-fan-hub/"+e},ym={},Ru=function(t,n,i){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));l=Promise.allSettled(n.map(o=>{if(o=$S(o),o in ym)return;ym[o]=!0;const c=o.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":PS,c||(d.as="script"),d.crossOrigin="",d.href=o,r&&d.setAttribute("nonce",r),document.head.appendChild(d),c)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(a){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=a,window.dispatchEvent(r),!r.defaultPrevented)throw a}return l.then(a=>{for(const r of a||[])r.status==="rejected"&&s(r.reason);return t().catch(s)})};function WS(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:l,onRegisteredSW:s,onRegisterError:a}=e;let r,o;const c=async(d=!0)=>{await o};async function h(){if("serviceWorker"in navigator){if(r=await Ru(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/fenerbahce-fan-hub/sw.js",{scope:"/fenerbahce-fan-hub/",type:"classic"})).catch(d=>{a==null||a(d)}),!r)return;r.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),r.addEventListener("installed",d=>{d.isUpdate||i==null||i()}),r.register({immediate:t}).then(d=>{s?s("/fenerbahce-fan-hub/sw.js",d):l==null||l(d)}).catch(d=>{a==null||a(d)})}}return o=h(),c}function z0(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=z0(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function _m(){for(var e,t,n=0,i="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=z0(e))&&(i&&(i+=" "),i+=t);return i}const yn="https://us-central1-fb-hub-ed9de.cloudfunctions.net/api",JS=(e={})=>{const t=`/player-image/${e.id??""}`,n=e.photo||t;if(n.startsWith("http://")&&!n.includes("localhost"))return n.replace(/^http:\/\//i,"https://");if(n.startsWith("http://")||n.startsWith("https://"))return n;const i=n.startsWith("/")?n:`/${n}`;return`${yn}${i}`},ex=async()=>{try{const e=await fetch(`${yn}/next-match`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next match from backend:",e),null}},tx=async()=>{try{const e=await fetch(`${yn}/squad`);if(!e.ok)throw new Error("Backend fetch failed");return(await e.json()).map(n=>({...n,photo:JS(n)}))}catch(e){return console.error("Error fetching squad from backend:",e),[]}},nx=async()=>{try{const e=await fetch(`${yn}/next-3-matches`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next 3 matches from backend:",e),[]}},hc=e=>`${yn}/team-image/${e}`,Aa=({teamId:e,name:t="Takm",wrapperClassName:n="",imageClassName:i=""})=>{const[l,s]=A.useState(()=>e?hc(e):null),[a,r]=A.useState(e?"loading":"idle"),[o,c]=A.useState(0);A.useEffect(()=>{if(!e){s(null),r("idle");return}s(hc(e)),c(0),r("loading")},[e]);const h=()=>{if(e)if(o<2){const f=`${Date.now()}-${o+1}`;c(m=>m+1),s(`${hc(e)}?retry=${f}`)}else r("error")},d=(t==null?void 0:t.split(" ").filter(Boolean).map(f=>f[0]).join("").slice(0,2).toUpperCase())||"??";return u.jsxs("div",{className:_m("relative overflow-hidden",n),children:[l&&a!=="error"?u.jsx("img",{src:l,alt:`${t} logosu`,crossOrigin:"anonymous",className:_m("w-full h-full object-contain transition-opacity duration-300",i),onLoad:()=>r("ready"),onError:h}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400 uppercase font-bold bg-white/5 rounded-full",children:d}),a==="loading"&&u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer rounded-full",style:{backgroundSize:"200% 100%"}})]})},ix=()=>{};var vm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C=function(e,t){if(!e)throw jl(t)},jl=function(e){return new Error("Firebase Database ("+L0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},lx=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const l=e[n++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const s=e[n++];t[i++]=String.fromCharCode((l&31)<<6|s&63)}else if(l>239&&l<365){const s=e[n++],a=e[n++],r=e[n++],o=((l&7)<<18|(s&63)<<12|(a&63)<<6|r&63)-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(o&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((l&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Jf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<e.length;l+=3){const s=e[l],a=l+1<e.length,r=a?e[l+1]:0,o=l+2<e.length,c=o?e[l+2]:0,h=s>>2,d=(s&3)<<4|r>>4;let f=(r&15)<<2|c>>6,m=c&63;o||(m=64,a||(f=64)),i.push(n[h],n[d],n[f],n[m])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(I0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):lx(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<e.length;){const s=n[e.charAt(l++)],r=l<e.length?n[e.charAt(l)]:0;++l;const c=l<e.length?n[e.charAt(l)]:64;++l;const d=l<e.length?n[e.charAt(l)]:64;if(++l,s==null||r==null||c==null||d==null)throw new sx;const f=s<<2|r>>4;if(i.push(f),c!==64){const m=r<<4&240|c>>2;if(i.push(m),d!==64){const _=c<<6&192|d;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U0=function(e){const t=I0(e);return Jf.encodeByteArray(t,!0)},wr=function(e){return U0(e).replace(/\./g,"")},Mu=function(e){try{return Jf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(e){return B0(void 0,e)}function B0(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!rx(n)||(e[n]=B0(e[n],t[n]));return e}function rx(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=()=>ox().__FIREBASE_DEFAULTS__,ux=()=>{if(typeof process>"u"||typeof vm>"u")return;const e=vm.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},fx=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Mu(e[1]);return t&&JSON.parse(t)},H0=()=>{try{return ix()||cx()||ux()||fx()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},dx=e=>{var t,n;return(n=(t=H0())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},hx=e=>{const t=dx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},q0=()=>{var e;return(e=H0())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mx(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",l=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[wr(JSON.stringify(n)),wr(JSON.stringify(a)),""].join(".")}const ms={};function gx(){const e={prod:[],emulator:[]};for(const t of Object.keys(ms))ms[t]?e.emulator.push(t):e.prod.push(t);return e}function yx(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let bm=!1;function _x(e,t){if(typeof window>"u"||typeof document>"u"||!ed(window.location.host)||ms[e]===t||ms[e]||bm)return;ms[e]=t;function n(f){return`__firebase__banner__${f}`}const i="__firebase__banner",s=gx().prod.length>0;function a(){const f=document.getElementById(i);f&&f.remove()}function r(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function o(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{bm=!0,a()},f}function h(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=yx(i),m=n("text"),_=document.getElementById(m)||document.createElement("span"),b=n("learnmore"),w=document.getElementById(b)||document.createElement("a"),g=n("preprendIcon"),p=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const y=f.element;r(y),h(w,b);const v=c();o(p,g),y.append(p,_,w,v),document.body.appendChild(y)}s?(_.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vx())}function bx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sx(){return L0.NODE_ADMIN===!0}function G0(){try{return typeof indexedDB=="object"}catch{return!1}}function Y0(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var s;t(((s=l.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}function xx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="FirebaseError";class kl extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=wx,Object.setPrototypeOf(this,kl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},l=`${this.service}/${t}`,s=this.errors[t],a=s?Ex(s,i):"Error",r=`${this.serviceName}: ${a} (${l}).`;return new kl(l,r,i)}}function Ex(e,t){return e.replace(Cx,(n,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const Cx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(e){return JSON.parse(e)}function Te(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=function(e){let t={},n={},i={},l="";try{const s=e.split(".");t=ks(Mu(s[0])||""),n=ks(Mu(s[1])||""),l=s[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:l}},Tx=function(e){const t=Q0(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Nx=function(e){const t=Q0(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Si(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Sm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Er(e,t,n){const i={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=t.call(n,e[l],l,e));return i}function Cr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const l of n){if(!i.includes(l))return!1;const s=e[l],a=t[l];if(xm(s)&&xm(a)){if(!Cr(s,a))return!1}else if(s!==a)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function xm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)i[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let l=this.chain_[0],s=this.chain_[1],a=this.chain_[2],r=this.chain_[3],o=this.chain_[4],c,h;for(let d=0;d<80;d++){d<40?d<20?(c=r^s&(a^r),h=1518500249):(c=s^a^r,h=1859775393):d<60?(c=s&a|r&(s|a),h=2400959708):(c=s^a^r,h=3395469782);const f=(l<<5|l>>>27)+c+o+h+i[d]&4294967295;o=r,r=a,a=(s<<30|s>>>2)&4294967295,s=l,l=f}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+r&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let l=0;const s=this.buf_;let a=this.inbuf_;for(;l<n;){if(a===0)for(;l<=i;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<n;)if(s[a]=t.charCodeAt(l),++a,++l,a===this.blockSize){this.compress_(s),a=0;break}}else for(;l<n;)if(s[a]=t[l],++a,++l,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let l=0;l<5;l++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[l]>>s&255,++i;return t}}function td(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);if(l>=55296&&l<=56319){const s=l-55296;i++,C(i<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(i)-56320;l=65536+(s<<10)+a}l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):l<65536?(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},co=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(e){return e&&e._delegate?e._delegate:e}class hn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new ia;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jx(t))try{this.getOrInitializeService({instanceIdentifier:ai})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:l});i.resolve(s)}catch{}}}}clearInstance(t=ai){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ai){return this.instances.has(t)}getOptions(t=ai){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(s);i===r&&a.resolve(l)}return l}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(t),this.onInitCallbacks.set(i,l);const s=this.instances.get(i);return s&&t(s,i),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Dx(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ai){return this.component?this.component.multipleInstances?t:ai:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Dx(e){return e===ai?void 0:e}function jx(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Ox(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(se||(se={}));const zx={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},Lx=se.INFO,Ix={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Ux=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),l=Ix[t];if(l)console[l](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class F0{constructor(t){this.name=t,this._logLevel=Lx,this._logHandler=Ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...t),this._logHandler(this,se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...t),this._logHandler(this,se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,se.INFO,...t),this._logHandler(this,se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,se.WARN,...t),this._logHandler(this,se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...t),this._logHandler(this,se.ERROR,...t)}}const Bx=(e,t)=>t.some(n=>e instanceof n);let wm,Em;function Hx(){return wm||(wm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qx(){return Em||(Em=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K0=new WeakMap,Ou=new WeakMap,X0=new WeakMap,mc=new WeakMap,nd=new WeakMap;function Vx(e){const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(an(e.result)),l()},a=()=>{i(e.error),l()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&K0.set(n,e)}).catch(()=>{}),nd.set(t,e),t}function Gx(e){if(Ou.has(e))return;const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),l()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Ou.set(e,t)}let Du={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ou.get(e);if(t==="objectStoreNames")return e.objectStoreNames||X0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return an(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Yx(e){Du=e(Du)}function Qx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(pc(this),t,...n);return X0.set(i,t.sort?t.sort():[t]),an(i)}:qx().includes(e)?function(...t){return e.apply(pc(this),t),an(K0.get(this))}:function(...t){return an(e.apply(pc(this),t))}}function Fx(e){return typeof e=="function"?Qx(e):(e instanceof IDBTransaction&&Gx(e),Bx(e,Hx())?new Proxy(e,Du):e)}function an(e){if(e instanceof IDBRequest)return Vx(e);if(mc.has(e))return mc.get(e);const t=Fx(e);return t!==e&&(mc.set(e,t),nd.set(t,e)),t}const pc=e=>nd.get(e);function uo(e,t,{blocked:n,upgrade:i,blocking:l,terminated:s}={}){const a=indexedDB.open(e,t),r=an(a);return i&&a.addEventListener("upgradeneeded",o=>{i(an(a.result),o.oldVersion,o.newVersion,an(a.transaction),o)}),n&&a.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),r.then(o=>{s&&o.addEventListener("close",()=>s()),l&&o.addEventListener("versionchange",c=>l(c.oldVersion,c.newVersion,c))}).catch(()=>{}),r}function gc(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",i=>t(i.oldVersion,i)),an(n).then(()=>{})}const Kx=["get","getKey","getAll","getAllKeys","count"],Xx=["put","add","delete","clear"],yc=new Map;function Cm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(yc.get(t))return yc.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,l=Xx.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||Kx.includes(n)))return;const s=async function(a,...r){const o=this.transaction(a,l?"readwrite":"readonly");let c=o.store;return i&&(c=c.index(r.shift())),(await Promise.all([c[n](...r),l&&o.done]))[0]};return yc.set(t,s),s}Yx(e=>({...e,get:(t,n,i)=>Cm(t,n)||e.get(t,n,i),has:(t,n)=>!!Cm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Px(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Px(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ju="@firebase/app",Tm="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new F0("@firebase/app"),$x="@firebase/app-compat",Wx="@firebase/analytics-compat",Jx="@firebase/analytics",ew="@firebase/app-check-compat",tw="@firebase/app-check",nw="@firebase/auth",iw="@firebase/auth-compat",lw="@firebase/database",sw="@firebase/data-connect",aw="@firebase/database-compat",rw="@firebase/functions",ow="@firebase/functions-compat",cw="@firebase/installations",uw="@firebase/installations-compat",fw="@firebase/messaging",dw="@firebase/messaging-compat",hw="@firebase/performance",mw="@firebase/performance-compat",pw="@firebase/remote-config",gw="@firebase/remote-config-compat",yw="@firebase/storage",_w="@firebase/storage-compat",vw="@firebase/firestore",bw="@firebase/ai",Sw="@firebase/firestore-compat",xw="firebase",ww="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="[DEFAULT]",Ew={[ju]:"fire-core",[$x]:"fire-core-compat",[Jx]:"fire-analytics",[Wx]:"fire-analytics-compat",[tw]:"fire-app-check",[ew]:"fire-app-check-compat",[nw]:"fire-auth",[iw]:"fire-auth-compat",[lw]:"fire-rtdb",[sw]:"fire-data-connect",[aw]:"fire-rtdb-compat",[rw]:"fire-fn",[ow]:"fire-fn-compat",[cw]:"fire-iid",[uw]:"fire-iid-compat",[fw]:"fire-fcm",[dw]:"fire-fcm-compat",[hw]:"fire-perf",[mw]:"fire-perf-compat",[pw]:"fire-rc",[gw]:"fire-rc-compat",[yw]:"fire-gcs",[_w]:"fire-gcs-compat",[vw]:"fire-fst",[Sw]:"fire-fst-compat",[bw]:"fire-vertex","fire-js":"fire-js",[xw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Map,Cw=new Map,zu=new Map;function Nm(e,t){try{e.container.addComponent(t)}catch(n){mn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Xn(e){const t=e.name;if(zu.has(t))return mn.debug(`There were multiple attempts to register component ${t}.`),!1;zu.set(t,e);for(const n of Tr.values())Nm(n,e);for(const n of Cw.values())Nm(n,e);return!0}function fo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Tw(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hn=new oo("app","Firebase",Nw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=ww;function Z0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:ku,automaticDataCollectionEnabled:!0,...t},l=i.name;if(typeof l!="string"||!l)throw Hn.create("bad-app-name",{appName:String(l)});if(n||(n=q0()),!n)throw Hn.create("no-options");const s=Tr.get(l);if(s){if(Cr(n,s.options)&&Cr(i,s.config))return s;throw Hn.create("duplicate-app",{appName:l})}const a=new kx(l);for(const o of zu.values())a.addComponent(o);const r=new Aw(n,i,a);return Tr.set(l,r),r}function P0(e=ku){const t=Tr.get(e);if(!t&&e===ku&&q0())return Z0();if(!t)throw Hn.create("no-app",{appName:e});return t}function Bt(e,t,n){let i=Ew[e]??e;n&&(i+=`-${n}`);const l=i.match(/\s|\//),s=t.match(/\s|\//);if(l||s){const a=[`Unable to register library "${i}" with version "${t}":`];l&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mn.warn(a.join(" "));return}Xn(new hn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="firebase-heartbeat-database",Ow=1,zs="firebase-heartbeat-store";let _c=null;function $0(){return _c||(_c=uo(Mw,Ow,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(zs)}catch(n){console.warn(n)}}}}).catch(e=>{throw Hn.create("idb-open",{originalErrorMessage:e.message})})),_c}async function Dw(e){try{const n=(await $0()).transaction(zs),i=await n.objectStore(zs).get(W0(e));return await n.done,i}catch(t){if(t instanceof kl)mn.warn(t.message);else{const n=Hn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});mn.warn(n.message)}}}async function Am(e,t){try{const i=(await $0()).transaction(zs,"readwrite");await i.objectStore(zs).put(t,W0(e)),await i.done}catch(n){if(n instanceof kl)mn.warn(n.message);else{const i=Hn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mn.warn(i.message)}}}function W0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=1024,kw=30;class zw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Iw(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rm();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:l}),this._heartbeatsCache.heartbeats.length>kw){const a=Uw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){mn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rm(),{heartbeatsToSend:i,unsentEntries:l}=Lw(this._heartbeatsCache.heartbeats),s=wr(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return mn.warn(n),""}}}function Rm(){return new Date().toISOString().substring(0,10)}function Lw(e,t=jw){const n=[];let i=e.slice();for(const l of e){const s=n.find(a=>a.agent===l.agent);if(s){if(s.dates.push(l.date),Mm(n)>t){s.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Mm(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Iw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G0()?Y0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Dw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Am(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Am(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Mm(e){return wr(JSON.stringify({version:2,heartbeats:e})).length}function Uw(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(e){Xn(new hn("platform-logger",t=>new Zx(t),"PRIVATE")),Xn(new hn("heartbeat",t=>new zw(t),"PRIVATE")),Bt(ju,Tm,e),Bt(ju,Tm,"esm2020"),Bt("fire-js","")}Bw("");var Hw="firebase",qw="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt(Hw,qw,"app");var Om={};const Dm="@firebase/database",jm="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J0="";function Vw(e){J0=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Te(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ks(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return kt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Gw(t)}}catch{}return new Yw},oi=e_("localStorage"),Qw=e_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new F0("@firebase/database"),t_=function(){let e=1;return function(){return e++}}(),n_=function(e){const t=Mx(e),n=new Rx;n.update(t);const i=n.digest();return Jf.encodeByteArray(i)},la=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=la.apply(null,i):typeof i=="object"?t+=Te(i):t+=i,t+=" "}return t};let ps=null,km=!0;const Fw=function(e,t){C(!0,"Can't turn on custom loggers persistently."),ol.logLevel=se.VERBOSE,ps=ol.log.bind(ol)},He=function(...e){if(km===!0&&(km=!1,ps===null&&Qw.get("logging_enabled")===!0&&Fw()),ps){const t=la.apply(null,e);ps(t)}},sa=function(e){return function(...t){He(e,...t)}},Lu=function(...e){const t="FIREBASE INTERNAL ERROR: "+la(...e);ol.error(t)},pn=function(...e){const t=`FIREBASE FATAL ERROR: ${la(...e)}`;throw ol.error(t),new Error(t)},Je=function(...e){const t="FIREBASE WARNING: "+la(...e);ol.warn(t)},Kw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},id=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Xw=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Sl="[MIN_NAME]",xi="[MAX_NAME]",zl=function(e,t){if(e===t)return 0;if(e===Sl||t===xi)return-1;if(t===Sl||e===xi)return 1;{const n=zm(e),i=zm(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},Zw=function(e,t){return e===t?0:e<t?-1:1},Yl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Te(t))},ld=function(e){if(typeof e!="object"||e===null)return Te(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=Te(t[i]),n+=":",n+=ld(e[t[i]]);return n+="}",n},i_=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let l=0;l<n;l+=t)l+t>n?i.push(e.substring(l,n)):i.push(e.substring(l,l+t));return i};function nt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const l_=function(e){C(!id(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let l,s,a,r,o;e===0?(s=0,a=0,l=1/e===-1/0?1:0):(l=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=r+i,a=Math.round(e*Math.pow(2,n-r)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-i-n))));const c=[];for(o=n;o;o-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(o=t;o;o-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(l?1:0),c.reverse();const h=c.join("");let d="";for(o=0;o<64;o+=8){let f=parseInt(h.substr(o,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Pw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$w=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ww(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const Jw=new RegExp("^-?(0*)\\d{1,10}$"),eE=-2147483648,tE=2147483647,zm=function(e){if(Jw.test(e)){const t=Number(e);if(t>=eE&&t<=tE)return t}return null},Ll=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Je("Exception was thrown by user callback.",n),t},Math.floor(0))}},nE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gs=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Tw(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Je(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(He("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Je(t)}}class Ka{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Ka.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="5",s_="v",a_="s",r_="r",o_="f",c_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,u_="ls",f_="p",Iu="ac",d_="websocket",h_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t,n,i,l,s=!1,a="",r=!1,o=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=l,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=r,this.isUsingEmulator=o,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=oi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&oi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function sE(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function p_(e,t,n){C(typeof t=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let i;if(t===d_)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===h_)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);sE(e)&&(n.ns=e.namespace);const l=[];return nt(n,(s,a)=>{l.push(s+"="+a)}),i+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.counters_={}}incrementCounter(t,n=1){kt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return ax(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc={},bc={};function ad(e){const t=e.toString();return vc[t]||(vc[t]=new aE),vc[t]}function rE(e,t){const n=e.toString();return bc[n]||(bc[n]=t()),bc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<i.length;++l)i[l]&&Ll(()=>{this.onMessage_(i[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="start",cE="close",uE="pLPCommand",fE="pRTLPCB",g_="id",y_="pw",__="ser",dE="cb",hE="seg",mE="ts",pE="d",gE="dframe",v_=1870,b_=30,yE=v_-b_,_E=25e3,vE=3e4;class el{constructor(t,n,i,l,s,a,r){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=l,this.authToken=s,this.transportSessionId=a,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sa(t),this.stats_=ad(n),this.urlFn=o=>(this.appCheckToken&&(o[Iu]=this.appCheckToken),p_(n,h_,o))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new oE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vE)),Xw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rd((...s)=>{const[a,r,o,c,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Lm)this.id=r,this.password=o;else if(a===cE)r?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(r,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,r]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,r)},()=>{this.onClosed_()},this.urlFn);const i={};i[Lm]="t",i[__]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[dE]=this.scriptTagHolder.uniqueCallbackIdentifier),i[s_]=sd,this.transportSessionId&&(i[a_]=this.transportSessionId),this.lastSessionId&&(i[u_]=this.lastSessionId),this.applicationId&&(i[f_]=this.applicationId),this.appCheckToken&&(i[Iu]=this.appCheckToken),typeof location<"u"&&location.hostname&&c_.test(location.hostname)&&(i[r_]=o_);const l=this.urlFn(i);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){el.forceAllow_=!0}static forceDisallow(){el.forceDisallow_=!0}static isAvailable(){return el.forceAllow_?!0:!el.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Pw()&&!$w()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Te(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=U0(n),l=i_(i,yE);for(let s=0;s<l.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[gE]="t",i[g_]=t,i[y_]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Te(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class rd{constructor(t,n,i,l){this.onDisconnect=i,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=t_(),window[uE+this.uniqueCallbackIdentifier]=t,window[fE+this.uniqueCallbackIdentifier]=n,this.myIFrame=rd.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(r){He("frame writing exception"),r.stack&&He(r.stack),He(r)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||He("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[g_]=this.myID,t[y_]=this.myPW,t[__]=this.currentSerial;let n=this.urlFn(t),i="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+b_+i.length<=v_;){const a=this.pendingSegs.shift();i=i+"&"+hE+l+"="+a.seg+"&"+mE+l+"="+a.ts+"&"+pE+l+"="+a.d,l++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(i,Math.floor(_E)),s=()=>{clearTimeout(l),i()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const l=i.readyState;(!l||l==="loaded"||l==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{He("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=16384,SE=45e3;let Nr=null;typeof MozWebSocket<"u"?Nr=MozWebSocket:typeof WebSocket<"u"&&(Nr=WebSocket);class At{constructor(t,n,i,l,s,a,r){this.connId=t,this.applicationId=i,this.appCheckToken=l,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sa(this.connId),this.stats_=ad(n),this.connURL=At.connectionURL_(n,a,r,l,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,l,s){const a={};return a[s_]=sd,typeof location<"u"&&location.hostname&&c_.test(location.hostname)&&(a[r_]=o_),n&&(a[a_]=n),i&&(a[u_]=i),l&&(a[Iu]=l),s&&(a[f_]=s),p_(t,d_,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,oi.set("previous_websocket_failure",!0);try{let i;Sx(),this.mySock=new Nr(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){At.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Nr!==null&&!At.forceDisallow_}static previouslyFailed(){return oi.isInMemoryStorage||oi.get("previous_websocket_failure")===!0}markConnectionHealthy(){oi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ks(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(C(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=Te(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=i_(n,bE);i.length>1&&this.sendString_(String(i.length));for(let l=0;l<i.length;l++)this.sendString_(i[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(SE))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}At.responsesRequiredToBeHealthy=2;At.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{static get ALL_TRANSPORTS(){return[el,At]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=At&&At.isAvailable();let i=n&&!At.previouslyFailed();if(t.webSocketOnly&&(n||Je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[At];else{const l=this.transports_=[];for(const s of Ls.ALL_TRANSPORTS)s&&s.isAvailable()&&l.push(s);Ls.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ls.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=6e4,wE=5e3,EE=10*1024,CE=100*1024,Sc="t",Im="d",TE="s",Um="r",NE="e",Bm="o",Hm="a",qm="n",Vm="p",AE="h";class RE{constructor(t,n,i,l,s,a,r,o,c,h){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=l,this.authToken_=s,this.onMessage_=a,this.onReady_=r,this.onDisconnect_=o,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sa("c:"+this.id+":"),this.transportManager_=new Ls(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=gs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>EE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Sc in t){const n=t[Sc];n===Hm?this.upgradeIfSecondaryHealthy_():n===Um?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Bm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Yl("t",t),i=Yl("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Vm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Hm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Yl("t",t),i=Yl("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Yl(Sc,t);if(Im in t){const i=t[Im];if(n===AE){const l={...i};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===qm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===TE?this.onConnectionShutdown_(i):n===Um?this.onReset_(i):n===NE?Lu("Server Error: "+i):n===Bm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lu("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),sd!==i&&Je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),gs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Vm,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(oi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{put(t,n,i,l){}merge(t,n,i,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(t){this.allowedEvents_=t,this.listeners_={},C(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let l=0;l<i.length;l++)i[l].callback.apply(i[l].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const l=this.getInitialEvent(t);l&&n.apply(i,l)}off(t,n,i){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let s=0;s<l.length;s++)if(l[s].callback===n&&(!i||i===l[s].context)){l.splice(s,1);return}}validateEventType_(t){C(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends x_{static getInstance(){return new Ar}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!V0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return C(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=32,Ym=768;class ne{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[i]=this.pieces_[l],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function X(){return new ne("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Zn(e){return e.pieces_.length-e.pieceNum_}function ae(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ne(e.pieces_,t)}function w_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ME(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function E_(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function C_(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ne(t,0)}function Ne(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ne)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let l=0;l<i.length;l++)i[l].length>0&&n.push(i[l])}return new ne(n,0)}function Y(e){return e.pieceNum_>=e.pieces_.length}function Ge(e,t){const n=H(e),i=H(t);if(n===null)return t;if(n===i)return Ge(ae(e),ae(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function od(e,t){if(Zn(e)!==Zn(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Rt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Zn(e)>Zn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class OE{constructor(t,n){this.errorPrefix_=n,this.parts_=E_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=co(this.parts_[i]);T_(this)}}function DE(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=co(t),T_(e)}function jE(e){const t=e.parts_.pop();e.byteLength_-=co(t),e.parts_.length>0&&(e.byteLength_-=1)}function T_(e){if(e.byteLength_>Ym)throw new Error(e.errorPrefix_+"has a key path longer than "+Ym+" bytes ("+e.byteLength_+").");if(e.parts_.length>Gm)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gm+") or object contains a cycle "+ri(e))}function ri(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends x_{static getInstance(){return new cd}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return C(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=1e3,kE=60*5*1e3,Qm=30*1e3,zE=1.3,LE=3e4,IE="server_kill",Fm=3;class rn extends S_{constructor(t,n,i,l,s,a,r,o){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=l,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=r,this.authOverride_=o,this.id=rn.nextPersistentConnectionId_++,this.log_=sa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ql,this.maxReconnectDelay_=kE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ar.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const l=++this.requestNumber_,s={r:l,a:t,b:n};this.log_(Te(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[l]=i)}get(t){this.initConnection_();const n=new ia,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const r=a.d;a.s==="ok"?n.resolve(r):n.reject(r)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,i,l){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),C(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const r={onComplete:l,hashFn:n,query:t,tag:i};this.listens.get(a).set(s,r),this.connected_&&this.sendListen_(r)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+i+" for "+l);const s={p:i},a="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,r=>{const o=r.d,c=r.s;rn.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(l))===t&&(this.log_("listen response",r),c!=="ok"&&this.removeListen_(i,l),t.onComplete&&t.onComplete(c,o))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&kt(t,"w")){const i=Si(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Nx(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qm)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Tx(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,l=>{const s=l.s,a=l.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+l),C(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,l)&&this.connected_&&this.sendUnlisten_(i,l,t._queryObject,n)}sendUnlisten_(t,n,i,l){this.log_("Unlisten on "+t+" for "+n);const s={p:t},a="n";l&&(s.q=i,s.t=l),this.sendRequest(a,s)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,l){const s={p:n,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{l&&setTimeout(()=>{l(a.s,a.d)},Math.floor(0))})}put(t,n,i,l){this.putInternal("p",t,n,i,l)}merge(t,n,i,l){this.putInternal("m",t,n,i,l)}putInternal(t,n,i,l,s){this.initConnection_();const a={p:n,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:l}),this.outstandingPutCount_++;const r=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(r):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Te(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Lu("Unrecognized action received from server: "+Te(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>LE&&(this.reconnectDelay_=Ql),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*zE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+rn.nextConnectionId_++,s=this.lastSessionId;let a=!1,r=null;const o=function(){r?r.close():(a=!0,i())},c=function(d){C(r,"sendRequest call when we're not connected not allowed."),r.sendRequest(d)};this.realtime_={close:o,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?He("getToken() completed but was canceled"):(He("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,r=new RE(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,m=>{Je(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(IE)},s))}catch(d){this.log_("Failed to get token: "+d),a||(this.repoInfo_.nodeAdmin&&Je(d),o())}}}interrupt(t){He("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){He("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Sm(this.interruptReasons_)&&(this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(s=>ld(s)).join("$"):i="default";const l=this.removeListen_(t,i);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,n){const i=new ne(t).toString();let l;if(this.listens.has(i)){const s=this.listens.get(i);l=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else l=void 0;return l}onAuthRevoked_(t,n){He("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fm&&(this.reconnectDelay_=Qm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){He("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+J0.replace(/\./g,"-")]=1,V0()?t["framework.cordova"]=1:bx()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ar.getInstance().currentlyOnline();return Sm(this.interruptReasons_)&&t}}rn.nextPersistentConnectionId_=0;rn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new q(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new q(Sl,t),l=new q(Sl,n);return this.compare(i,l)!==0}minPost(){return q.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra;class N_ extends ho{static get __EMPTY_NODE(){return Ra}static set __EMPTY_NODE(t){Ra=t}compare(t,n){return zl(t.name,n.name)}isDefinedOn(t){throw jl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return q.MIN}maxPost(){return new q(xi,Ra)}makePost(t,n){return C(typeof t=="string","KeyIndex indexValue must always be a string."),new q(t,Ra)}toString(){return".key"}}const cl=new N_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n,i,l,s=null){this.isReverse_=l,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?i(t.key,n):1,l&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class De{constructor(t,n,i,l,s){this.key=t,this.value=n,this.color=i??De.RED,this.left=l??$e.EMPTY_NODE,this.right=s??$e.EMPTY_NODE}copy(t,n,i,l,s){return new De(t??this.key,n??this.value,i??this.color,l??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let l=this;const s=i(t,l.key);return s<0?l=l.copy(null,null,null,l.left.insert(t,n,i),null):s===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,n,i)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return $e.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,l;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return $e.EMPTY_NODE;l=i.right.min_(),i=i.copy(l.key,l.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,De.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,De.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}De.RED=!0;De.BLACK=!1;class UE{copy(t,n,i,l,s){return this}insert(t,n,i){return new De(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $e{constructor(t,n=$e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new $e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,De.BLACK,null,null))}remove(t){return new $e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,De.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,l=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return l?l.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(l=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ma(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ma(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ma(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ma(this.root_,null,this.comparator_,!0,t)}}$e.EMPTY_NODE=new UE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(e,t){return zl(e.name,t.name)}function ud(e,t){return zl(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu;function HE(e){Uu=e}const A_=function(e){return typeof e=="number"?"number:"+l_(e):"string:"+e},R_=function(e){if(e.isLeafNode()){const t=e.val();C(typeof t=="string"||typeof t=="number"||typeof t=="object"&&kt(t,".sv"),"Priority must be a string or number.")}else C(e===Uu||e.isEmpty(),"priority of unexpected type.");C(e===Uu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km;class Me{static set __childrenNodeConstructor(t){Km=t}static get __childrenNodeConstructor(){return Km}constructor(t,n=Me.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),R_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Me(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Y(t)?this:H(t)===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Me.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=H(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(C(i!==".priority"||Zn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Me.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+A_(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=l_(this.value_):t+=this.value_,this.lazyHash_=n_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Me.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Me.__childrenNodeConstructor?-1:(C(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,l=Me.VALUE_TYPE_ORDER.indexOf(n),s=Me.VALUE_TYPE_ORDER.indexOf(i);return C(l>=0,"Unknown leaf type: "+n),C(s>=0,"Unknown leaf type: "+i),l===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Me.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M_,O_;function qE(e){M_=e}function VE(e){O_=e}class GE extends ho{compare(t,n){const i=t.node.getPriority(),l=n.node.getPriority(),s=i.compareTo(l);return s===0?zl(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(xi,new Me("[PRIORITY-POST]",O_))}makePost(t,n){const i=M_(t);return new q(n,new Me("[PRIORITY-POST]",i))}toString(){return".priority"}}const pe=new GE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=Math.log(2);class QE{constructor(t){const n=s=>parseInt(Math.log(s)/YE,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const l=i(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Rr=function(e,t,n,i){e.sort(t);const l=function(o,c){const h=c-o;let d,f;if(h===0)return null;if(h===1)return d=e[o],f=n?n(d):d,new De(f,d.node,De.BLACK,null,null);{const m=parseInt(h/2,10)+o,_=l(o,m),b=l(m+1,c);return d=e[m],f=n?n(d):d,new De(f,d.node,De.BLACK,_,b)}},s=function(o){let c=null,h=null,d=e.length;const f=function(_,b){const w=d-_,g=d;d-=_;const p=l(w+1,g),y=e[w],v=n?n(y):y;m(new De(v,y.node,b,null,p))},m=function(_){c?(c.left=_,c=_):(h=_,c=_)};for(let _=0;_<o.count;++_){const b=o.nextBitIsOne(),w=Math.pow(2,o.count-(_+1));b?f(w,De.BLACK):(f(w,De.BLACK),f(w,De.RED))}return h},a=new QE(e.length),r=s(a);return new $e(i||t,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;const Li={};class tn{static get Default(){return C(Li&&pe,"ChildrenNode.ts has not been loaded"),xc=xc||new tn({".priority":Li},{".priority":pe}),xc}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Si(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof $e?n:null}hasIndex(t){return kt(this.indexSet_,t.toString())}addIndex(t,n){C(t!==cl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let l=!1;const s=n.getIterator(q.Wrap);let a=s.getNext();for(;a;)l=l||t.isDefinedOn(a.node),i.push(a),a=s.getNext();let r;l?r=Rr(i,t.getCompare()):r=Li;const o=t.toString(),c={...this.indexSet_};c[o]=t;const h={...this.indexes_};return h[o]=r,new tn(h,c)}addToIndexes(t,n){const i=Er(this.indexes_,(l,s)=>{const a=Si(this.indexSet_,s);if(C(a,"Missing index implementation for "+s),l===Li)if(a.isDefinedOn(t.node)){const r=[],o=n.getIterator(q.Wrap);let c=o.getNext();for(;c;)c.name!==t.name&&r.push(c),c=o.getNext();return r.push(t),Rr(r,a.getCompare())}else return Li;else{const r=n.get(t.name);let o=l;return r&&(o=o.remove(new q(t.name,r))),o.insert(t,t.node)}});return new tn(i,this.indexSet_)}removeFromIndexes(t,n){const i=Er(this.indexes_,l=>{if(l===Li)return l;{const s=n.get(t.name);return s?l.remove(new q(t.name,s)):l}});return new tn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl;class k{static get EMPTY_NODE(){return Fl||(Fl=new k(new $e(ud),null,tn.Default))}constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&R_(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fl}updatePriority(t){return this.children_.isEmpty()?this:new k(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Fl:n}}getChild(t){const n=H(t);return n===null?this:this.getImmediateChild(n).getChild(ae(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(C(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new q(t,n);let l,s;n.isEmpty()?(l=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(l=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_));const a=l.isEmpty()?Fl:this.priorityNode_;return new k(l,a,s)}}updateChild(t,n){const i=H(t);if(i===null)return n;{C(H(t)!==".priority"||Zn(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(i).updateChild(ae(t),n);return this.updateImmediateChild(i,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,l=0,s=!0;if(this.forEachChild(pe,(a,r)=>{n[a]=r.val(t),i++,s&&k.INTEGER_REGEXP_.test(a)?l=Math.max(l,Number(a)):s=!1}),!t&&s&&l<2*i){const a=[];for(const r in n)a[r]=n[r];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+A_(this.getPriority().val())+":"),this.forEachChild(pe,(n,i)=>{const l=i.hash();l!==""&&(t+=":"+n+":"+l)}),this.lazyHash_=t===""?"":n_(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const l=this.resolveIndex_(i);if(l){const s=l.getPredecessorKey(new q(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new q(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new q(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,q.Wrap);let s=l.peek();for(;s!=null&&n.compare(s,t)<0;)l.getNext(),s=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,q.Wrap);let s=l.peek();for(;s!=null&&n.compare(s,t)>0;)l.getNext(),s=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===aa?-1:0}withIndex(t){if(t===cl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new k(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===cl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(pe),l=n.getIterator(pe);let s=i.getNext(),a=l.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=l.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===cl?null:this.indexMap_.get(t.toString())}}k.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class FE extends k{constructor(){super(new $e(ud),k.EMPTY_NODE,tn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return k.EMPTY_NODE}isEmpty(){return!1}}const aa=new FE;Object.defineProperties(q,{MIN:{value:new q(Sl,k.EMPTY_NODE)},MAX:{value:new q(xi,aa)}});N_.__EMPTY_NODE=k.EMPTY_NODE;Me.__childrenNodeConstructor=k;HE(aa);VE(aa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=!0;function Ee(e,t=null){if(e===null)return k.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),C(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Me(n,Ee(t))}if(!(e instanceof Array)&&KE){const n=[];let i=!1;if(nt(e,(a,r)=>{if(a.substring(0,1)!=="."){const o=Ee(r);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new q(a,o)))}}),n.length===0)return k.EMPTY_NODE;const s=Rr(n,BE,a=>a.name,ud);if(i){const a=Rr(n,pe.getCompare());return new k(s,Ee(t),new tn({".priority":a},{".priority":pe}))}else return new k(s,Ee(t),tn.Default)}else{let n=k.EMPTY_NODE;return nt(e,(i,l)=>{if(kt(e,i)&&i.substring(0,1)!=="."){const s=Ee(l);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Ee(t))}}qE(Ee);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends ho{constructor(t){super(),this.indexPath_=t,C(!Y(t)&&H(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),l=this.extractChild(n.node),s=i.compareTo(l);return s===0?zl(t.name,n.name):s}makePost(t,n){const i=Ee(t),l=k.EMPTY_NODE.updateChild(this.indexPath_,i);return new q(n,l)}maxPost(){const t=k.EMPTY_NODE.updateChild(this.indexPath_,aa);return new q(xi,t)}toString(){return E_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends ho{compare(t,n){const i=t.node.compareTo(n.node);return i===0?zl(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(t,n){const i=Ee(t);return new q(n,i)}toString(){return".value"}}const PE=new ZE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(e){return{type:"value",snapshotNode:e}}function xl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Is(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Us(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function $E(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t){this.index_=t}updateChild(t,n,i,l,s,a){C(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const r=t.getImmediateChild(n);return r.getChild(l).equals(i.getChild(l))&&r.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?t.hasChild(n)?a.trackChildChange(Is(n,r)):C(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):r.isEmpty()?a.trackChildChange(xl(n,i)):a.trackChildChange(Us(n,i,r))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(pe,(l,s)=>{n.hasChild(l)||i.trackChildChange(Is(l,s))}),n.isLeafNode()||n.forEachChild(pe,(l,s)=>{if(t.hasChild(l)){const a=t.getImmediateChild(l);a.equals(s)||i.trackChildChange(Us(l,s,a))}else i.trackChildChange(xl(l,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?k.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t){this.indexedFilter_=new fd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Bs.getStartPost_(t),this.endPost_=Bs.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,l,s,a){return this.matches(new q(n,i))||(i=k.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,l,s,a)}updateFullNode(t,n,i){n.isLeafNode()&&(n=k.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(k.EMPTY_NODE);const s=this;return n.forEachChild(pe,(a,r)=>{s.matches(new q(a,r))||(l=l.updateImmediateChild(a,k.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Bs(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,l,s,a){return this.rangedFilter_.matches(new q(n,i))||(i=k.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,l,s,a):this.fullLimitUpdateChild_(t,n,i,s,a)}updateFullNode(t,n,i){let l;if(n.isLeafNode()||n.isEmpty())l=k.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=k.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const r=s.getNext();if(this.withinDirectionalStart(r))if(this.withinDirectionalEnd(r))l=l.updateImmediateChild(r.name,r.node),a++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(k.EMPTY_NODE);let s;this.reverse_?s=l.getReverseIterator(this.index_):s=l.getIterator(this.index_);let a=0;for(;s.hasNext();){const r=s.getNext();a<this.limit_&&this.withinDirectionalStart(r)&&this.withinDirectionalEnd(r)?a++:l=l.updateImmediateChild(r.name,k.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,l,s){let a;if(this.reverse_){const d=this.index_.getCompare();a=(f,m)=>d(m,f)}else a=this.index_.getCompare();const r=t;C(r.numChildren()===this.limit_,"");const o=new q(n,i),c=this.reverse_?r.getFirstChild(this.index_):r.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(r.hasChild(n)){const d=r.getImmediateChild(n);let f=l.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||r.hasChild(f.name));)f=l.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:a(f,o);if(h&&!i.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(Us(n,i,d)),r.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(Is(n,d));const b=r.updateImmediateChild(n,k.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(xl(f.name,f.node)),b.updateImmediateChild(f.name,f.node)):b}}else return i.isEmpty()?t:h&&a(c,o)>=0?(s!=null&&(s.trackChildChange(Is(c.name,c.node)),s.trackChildChange(xl(n,i))),r.updateImmediateChild(n,i).updateImmediateChild(c.name,k.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sl}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){const t=new dd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function JE(e){return e.loadsAllData()?new fd(e.getIndex()):e.hasLimit()?new WE(e):new Bs(e)}function Xm(e){const t={};if(e.isDefault())return t;let n;if(e.index_===pe?n="$priority":e.index_===PE?n="$value":e.index_===cl?n="$key":(C(e.index_ instanceof XE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Te(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=Te(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+Te(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=Te(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+Te(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Zm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==pe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends S_{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(C(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,l){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=l,this.log_=sa("p:rest:"),this.listens_={}}listen(t,n,i,l){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=Mr.getListenId_(t,i),r={};this.listens_[a]=r;const o=Xm(t._queryParams);this.restRequest_(s+".json",o,(c,h)=>{let d=h;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,i),Si(this.listens_,a)===r){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",l(f,null)}})}unlisten(t,n){const i=Mr.getListenId_(t,n);delete this.listens_[i]}get(t){const n=Xm(t._queryParams),i=t._path.toString(),l=new ia;return this.restRequest_(i+".json",n,(s,a)=>{let r=a;s===404&&(r=null,s=null),s===null?(this.onDataUpdate_(i,r,!1,null),l.resolve(r)):l.reject(new Error(r))}),l.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,s])=>{l&&l.accessToken&&(n.auth=l.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ax(n);this.log_("Sending REST request for "+a);const r=new XMLHttpRequest;r.onreadystatechange=()=>{if(i&&r.readyState===4){this.log_("REST Response for "+a+" received. status:",r.status,"response:",r.responseText);let o=null;if(r.status>=200&&r.status<300){try{o=ks(r.responseText)}catch{Je("Failed to parse JSON response for "+a+": "+r.responseText)}i(null,o)}else r.status!==401&&r.status!==404&&Je("Got unsuccessful REST response for "+a+" Status: "+r.status),i(r.status);i=null}},r.open("GET",a,!0),r.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.rootNode_=k.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return{value:null,children:new Map}}function j_(e,t,n){if(Y(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=H(t);e.children.has(i)||e.children.set(i,Or());const l=e.children.get(i);t=ae(t),j_(l,t,n)}}function Bu(e,t,n){e.value!==null?n(t,e.value):tC(e,(i,l)=>{const s=new ne(t.toString()+"/"+i);Bu(l,s,n)})}function tC(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&nt(this.last_,(i,l)=>{n[i]=n[i]-l}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=10*1e3,iC=30*1e3,lC=5*60*1e3;class sC{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new nC(t);const i=Pm+(iC-Pm)*Math.random();gs(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;nt(t,(l,s)=>{s>0&&kt(this.statsToReport_,l)&&(n[l]=s,i=!0)}),i&&this.server_.reportStats(n),gs(this.reportStats_.bind(this),Math.floor(Math.random()*2*lC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mt||(Mt={}));function k_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function md(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Mt.ACK_USER_WRITE,this.source=k_()}operationForChild(t){if(Y(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ne(t));return new Dr(X(),n,this.revert)}}else return C(H(this.path)===t,"operationForChild called for unrelated child."),new Dr(ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t,n){this.source=t,this.path=n,this.type=Mt.LISTEN_COMPLETE}operationForChild(t){return Y(this.path)?new Hs(this.source,X()):new Hs(this.source,ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Mt.OVERWRITE}operationForChild(t){return Y(this.path)?new wi(this.source,X(),this.snap.getImmediateChild(t)):new wi(this.source,ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Mt.MERGE}operationForChild(t){if(Y(this.path)){const n=this.children.subtree(new ne(t));return n.isEmpty()?null:n.value?new wi(this.source,X(),n.value):new qs(this.source,X(),n)}else return C(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new qs(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Y(t))return this.isFullyInitialized()&&!this.filtered_;const n=H(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function rC(e,t,n,i){const l=[],s=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push($E(a.childName,a.snapshotNode))}),Kl(e,l,"child_removed",t,i,n),Kl(e,l,"child_added",t,i,n),Kl(e,l,"child_moved",s,i,n),Kl(e,l,"child_changed",t,i,n),Kl(e,l,"value",t,i,n),l}function Kl(e,t,n,i,l,s){const a=i.filter(r=>r.type===n);a.sort((r,o)=>cC(e,r,o)),a.forEach(r=>{const o=oC(e,r,s);l.forEach(c=>{c.respondsTo(r.type)&&t.push(c.createEvent(o,e.query_))})})}function oC(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function cC(e,t,n){if(t.childName==null||n.childName==null)throw jl("Should only compare child_ events.");const i=new q(t.childName,t.snapshotNode),l=new q(n.childName,n.snapshotNode);return e.index_.compare(i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(e,t){return{eventCache:e,serverCache:t}}function ys(e,t,n,i){return mo(new Pn(t,n,i),e.serverCache)}function z_(e,t,n,i){return mo(e.eventCache,new Pn(t,n,i))}function jr(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ei(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc;const uC=()=>(wc||(wc=new $e(Zw)),wc);class ce{static fromObject(t){let n=new ce(null);return nt(t,(i,l)=>{n=n.set(new ne(i),l)}),n}constructor(t,n=uC()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:X(),value:this.value};if(Y(t))return null;{const i=H(t),l=this.children.get(i);if(l!==null){const s=l.findRootMostMatchingPathAndValue(ae(t),n);return s!=null?{path:Ne(new ne(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Y(t))return this;{const n=H(t),i=this.children.get(n);return i!==null?i.subtree(ae(t)):new ce(null)}}set(t,n){if(Y(t))return new ce(n,this.children);{const i=H(t),s=(this.children.get(i)||new ce(null)).set(ae(t),n),a=this.children.insert(i,s);return new ce(this.value,a)}}remove(t){if(Y(t))return this.children.isEmpty()?new ce(null):new ce(null,this.children);{const n=H(t),i=this.children.get(n);if(i){const l=i.remove(ae(t));let s;return l.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,l),this.value===null&&s.isEmpty()?new ce(null):new ce(this.value,s)}else return this}}get(t){if(Y(t))return this.value;{const n=H(t),i=this.children.get(n);return i?i.get(ae(t)):null}}setTree(t,n){if(Y(t))return n;{const i=H(t),s=(this.children.get(i)||new ce(null)).setTree(ae(t),n);let a;return s.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,s),new ce(this.value,a)}}fold(t){return this.fold_(X(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((l,s)=>{i[l]=s.fold_(Ne(t,l),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,X(),n)}findOnPath_(t,n,i){const l=this.value?i(n,this.value):!1;if(l)return l;if(Y(t))return null;{const s=H(t),a=this.children.get(s);return a?a.findOnPath_(ae(t),Ne(n,s),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,X(),n)}foreachOnPath_(t,n,i){if(Y(t))return this;{this.value&&i(n,this.value);const l=H(t),s=this.children.get(l);return s?s.foreachOnPath_(ae(t),Ne(n,l),i):new ce(null)}}foreach(t){this.foreach_(X(),t)}foreach_(t,n){this.children.inorderTraversal((i,l)=>{l.foreach_(Ne(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.writeTree_=t}static empty(){return new Ot(new ce(null))}}function _s(e,t,n){if(Y(t))return new Ot(new ce(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const l=i.path;let s=i.value;const a=Ge(l,t);return s=s.updateChild(a,n),new Ot(e.writeTree_.set(l,s))}else{const l=new ce(n),s=e.writeTree_.setTree(t,l);return new Ot(s)}}}function $m(e,t,n){let i=e;return nt(n,(l,s)=>{i=_s(i,Ne(t,l),s)}),i}function Wm(e,t){if(Y(t))return Ot.empty();{const n=e.writeTree_.setTree(t,new ce(null));return new Ot(n)}}function Hu(e,t){return Di(e,t)!=null}function Di(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ge(n.path,t)):null}function Jm(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pe,(i,l)=>{t.push(new q(i,l))}):e.writeTree_.children.inorderTraversal((i,l)=>{l.value!=null&&t.push(new q(i,l.value))}),t}function qn(e,t){if(Y(t))return e;{const n=Di(e,t);return n!=null?new Ot(new ce(n)):new Ot(e.writeTree_.subtree(t))}}function qu(e){return e.writeTree_.isEmpty()}function wl(e,t){return L_(X(),e.writeTree_,t)}function L_(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((l,s)=>{l===".priority"?(C(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=L_(Ne(e,l),s,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(Ne(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(e,t){return H_(t,e)}function fC(e,t,n,i,l){C(i>e.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:l}),l&&(e.visibleWrites=_s(e.visibleWrites,t,n)),e.lastWriteId=i}function dC(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function hC(e,t){const n=e.allWrites.findIndex(r=>r.writeId===t);C(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let l=i.visible,s=!1,a=e.allWrites.length-1;for(;l&&a>=0;){const r=e.allWrites[a];r.visible&&(a>=n&&mC(r,i.path)?l=!1:Rt(i.path,r.path)&&(s=!0)),a--}if(l){if(s)return pC(e),!0;if(i.snap)e.visibleWrites=Wm(e.visibleWrites,i.path);else{const r=i.children;nt(r,o=>{e.visibleWrites=Wm(e.visibleWrites,Ne(i.path,o))})}return!0}else return!1}function mC(e,t){if(e.snap)return Rt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Rt(Ne(e.path,n),t))return!0;return!1}function pC(e){e.visibleWrites=I_(e.allWrites,gC,X()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function gC(e){return e.visible}function I_(e,t,n){let i=Ot.empty();for(let l=0;l<e.length;++l){const s=e[l];if(t(s)){const a=s.path;let r;if(s.snap)Rt(n,a)?(r=Ge(n,a),i=_s(i,r,s.snap)):Rt(a,n)&&(r=Ge(a,n),i=_s(i,X(),s.snap.getChild(r)));else if(s.children){if(Rt(n,a))r=Ge(n,a),i=$m(i,r,s.children);else if(Rt(a,n))if(r=Ge(a,n),Y(r))i=$m(i,X(),s.children);else{const o=Si(s.children,H(r));if(o){const c=o.getChild(ae(r));i=_s(i,X(),c)}}}else throw jl("WriteRecord should have .snap or .children")}}return i}function U_(e,t,n,i,l){if(!i&&!l){const s=Di(e.visibleWrites,t);if(s!=null)return s;{const a=qn(e.visibleWrites,t);if(qu(a))return n;if(n==null&&!Hu(a,X()))return null;{const r=n||k.EMPTY_NODE;return wl(a,r)}}}else{const s=qn(e.visibleWrites,t);if(!l&&qu(s))return n;if(!l&&n==null&&!Hu(s,X()))return null;{const a=function(c){return(c.visible||l)&&(!i||!~i.indexOf(c.writeId))&&(Rt(c.path,t)||Rt(t,c.path))},r=I_(e.allWrites,a,t),o=n||k.EMPTY_NODE;return wl(r,o)}}}function yC(e,t,n){let i=k.EMPTY_NODE;const l=Di(e.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(pe,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(n){const s=qn(e.visibleWrites,t);return n.forEachChild(pe,(a,r)=>{const o=wl(qn(s,new ne(a)),r);i=i.updateImmediateChild(a,o)}),Jm(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const s=qn(e.visibleWrites,t);return Jm(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function _C(e,t,n,i,l){C(i||l,"Either existingEventSnap or existingServerSnap must exist");const s=Ne(t,n);if(Hu(e.visibleWrites,s))return null;{const a=qn(e.visibleWrites,s);return qu(a)?l.getChild(n):wl(a,l.getChild(n))}}function vC(e,t,n,i){const l=Ne(t,n),s=Di(e.visibleWrites,l);if(s!=null)return s;if(i.isCompleteForChild(n)){const a=qn(e.visibleWrites,l);return wl(a,i.getNode().getImmediateChild(n))}else return null}function bC(e,t){return Di(e.visibleWrites,t)}function SC(e,t,n,i,l,s,a){let r;const o=qn(e.visibleWrites,t),c=Di(o,X());if(c!=null)r=c;else if(n!=null)r=wl(o,n);else return[];if(r=r.withIndex(a),!r.isEmpty()&&!r.isLeafNode()){const h=[],d=a.getCompare(),f=s?r.getReverseIteratorFrom(i,a):r.getIteratorFrom(i,a);let m=f.getNext();for(;m&&h.length<l;)d(m,i)!==0&&h.push(m),m=f.getNext();return h}else return[]}function xC(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function kr(e,t,n,i){return U_(e.writeTree,e.treePath,t,n,i)}function pd(e,t){return yC(e.writeTree,e.treePath,t)}function ep(e,t,n,i){return _C(e.writeTree,e.treePath,t,n,i)}function zr(e,t){return bC(e.writeTree,Ne(e.treePath,t))}function wC(e,t,n,i,l,s){return SC(e.writeTree,e.treePath,t,n,i,l,s)}function gd(e,t,n){return vC(e.writeTree,e.treePath,t,n)}function B_(e,t){return H_(Ne(e.treePath,t),e.writeTree)}function H_(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(i!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(i);if(l){const s=l.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Us(i,t.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Is(i,l.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,xl(i,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Us(i,t.snapshotNode,l.oldSnap));else throw jl("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const q_=new CC;class yd{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new Pn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gd(this.writes_,t,i)}}getChildAfterChild(t,n,i){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ei(this.viewCache_),s=wC(this.writes_,l,n,1,i,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(e){return{filter:e}}function NC(e,t){C(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),C(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function AC(e,t,n,i,l){const s=new EC;let a,r;if(n.type===Mt.OVERWRITE){const c=n;c.source.fromUser?a=Vu(e,t,c.path,c.snap,i,l,s):(C(c.source.fromServer,"Unknown source."),r=c.source.tagged||t.serverCache.isFiltered()&&!Y(c.path),a=Lr(e,t,c.path,c.snap,i,l,r,s))}else if(n.type===Mt.MERGE){const c=n;c.source.fromUser?a=MC(e,t,c.path,c.children,i,l,s):(C(c.source.fromServer,"Unknown source."),r=c.source.tagged||t.serverCache.isFiltered(),a=Gu(e,t,c.path,c.children,i,l,r,s))}else if(n.type===Mt.ACK_USER_WRITE){const c=n;c.revert?a=jC(e,t,c.path,i,l,s):a=OC(e,t,c.path,c.affectedTree,i,l,s)}else if(n.type===Mt.LISTEN_COMPLETE)a=DC(e,t,n.path,i,s);else throw jl("Unknown operation type: "+n.type);const o=s.getChanges();return RC(t,a,o),{viewCache:a,changes:o}}function RC(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const l=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=jr(e);(n.length>0||!e.eventCache.isFullyInitialized()||l&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(D_(jr(t)))}}function V_(e,t,n,i,l,s){const a=t.eventCache;if(zr(i,n)!=null)return t;{let r,o;if(Y(n))if(C(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Ei(t),h=c instanceof k?c:k.EMPTY_NODE,d=pd(i,h);r=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const c=kr(i,Ei(t));r=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const c=H(n);if(c===".priority"){C(Zn(n)===1,"Can't have a priority with additional path components");const h=a.getNode();o=t.serverCache.getNode();const d=ep(i,n,h,o);d!=null?r=e.filter.updatePriority(h,d):r=a.getNode()}else{const h=ae(n);let d;if(a.isCompleteForChild(c)){o=t.serverCache.getNode();const f=ep(i,n,a.getNode(),o);f!=null?d=a.getNode().getImmediateChild(c).updateChild(h,f):d=a.getNode().getImmediateChild(c)}else d=gd(i,c,t.serverCache);d!=null?r=e.filter.updateChild(a.getNode(),c,d,h,l,s):r=a.getNode()}}return ys(t,r,a.isFullyInitialized()||Y(n),e.filter.filtersNodes())}}function Lr(e,t,n,i,l,s,a,r){const o=t.serverCache;let c;const h=a?e.filter:e.filter.getIndexedFilter();if(Y(n))c=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const m=o.getNode().updateChild(n,i);c=h.updateFullNode(o.getNode(),m,null)}else{const m=H(n);if(!o.isCompleteForPath(n)&&Zn(n)>1)return t;const _=ae(n),w=o.getNode().getImmediateChild(m).updateChild(_,i);m===".priority"?c=h.updatePriority(o.getNode(),w):c=h.updateChild(o.getNode(),m,w,_,q_,null)}const d=z_(t,c,o.isFullyInitialized()||Y(n),h.filtersNodes()),f=new yd(l,d,s);return V_(e,d,n,l,f,r)}function Vu(e,t,n,i,l,s,a){const r=t.eventCache;let o,c;const h=new yd(l,t,s);if(Y(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,a),o=ys(t,c,!0,e.filter.filtersNodes());else{const d=H(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),o=ys(t,c,r.isFullyInitialized(),r.isFiltered());else{const f=ae(n),m=r.getNode().getImmediateChild(d);let _;if(Y(f))_=i;else{const b=h.getCompleteChild(d);b!=null?w_(f)===".priority"&&b.getChild(C_(f)).isEmpty()?_=b:_=b.updateChild(f,i):_=k.EMPTY_NODE}if(m.equals(_))o=t;else{const b=e.filter.updateChild(r.getNode(),d,_,f,h,a);o=ys(t,b,r.isFullyInitialized(),e.filter.filtersNodes())}}}return o}function tp(e,t){return e.eventCache.isCompleteForChild(t)}function MC(e,t,n,i,l,s,a){let r=t;return i.foreach((o,c)=>{const h=Ne(n,o);tp(t,H(h))&&(r=Vu(e,r,h,c,l,s,a))}),i.foreach((o,c)=>{const h=Ne(n,o);tp(t,H(h))||(r=Vu(e,r,h,c,l,s,a))}),r}function np(e,t,n){return n.foreach((i,l)=>{t=t.updateChild(i,l)}),t}function Gu(e,t,n,i,l,s,a,r){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let o=t,c;Y(n)?c=i:c=new ce(null).setTree(n,i);const h=t.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(h.hasChild(d)){const m=t.serverCache.getNode().getImmediateChild(d),_=np(e,m,f);o=Lr(e,o,new ne(d),_,l,s,a,r)}}),c.children.inorderTraversal((d,f)=>{const m=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!h.hasChild(d)&&!m){const _=t.serverCache.getNode().getImmediateChild(d),b=np(e,_,f);o=Lr(e,o,new ne(d),b,l,s,a,r)}}),o}function OC(e,t,n,i,l,s,a){if(zr(l,n)!=null)return t;const r=t.serverCache.isFiltered(),o=t.serverCache;if(i.value!=null){if(Y(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return Lr(e,t,n,o.getNode().getChild(n),l,s,r,a);if(Y(n)){let c=new ce(null);return o.getNode().forEachChild(cl,(h,d)=>{c=c.set(new ne(h),d)}),Gu(e,t,n,c,l,s,r,a)}else return t}else{let c=new ce(null);return i.foreach((h,d)=>{const f=Ne(n,h);o.isCompleteForPath(f)&&(c=c.set(h,o.getNode().getChild(f)))}),Gu(e,t,n,c,l,s,r,a)}}function DC(e,t,n,i,l){const s=t.serverCache,a=z_(t,s.getNode(),s.isFullyInitialized()||Y(n),s.isFiltered());return V_(e,a,n,i,q_,l)}function jC(e,t,n,i,l,s){let a;if(zr(i,n)!=null)return t;{const r=new yd(i,t,l),o=t.eventCache.getNode();let c;if(Y(n)||H(n)===".priority"){let h;if(t.serverCache.isFullyInitialized())h=kr(i,Ei(t));else{const d=t.serverCache.getNode();C(d instanceof k,"serverChildren would be complete if leaf node"),h=pd(i,d)}h=h,c=e.filter.updateFullNode(o,h,s)}else{const h=H(n);let d=gd(i,h,t.serverCache);d==null&&t.serverCache.isCompleteForChild(h)&&(d=o.getImmediateChild(h)),d!=null?c=e.filter.updateChild(o,h,d,ae(n),r,s):t.eventCache.getNode().hasChild(h)?c=e.filter.updateChild(o,h,k.EMPTY_NODE,ae(n),r,s):c=o,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=kr(i,Ei(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,s)))}return a=t.serverCache.isFullyInitialized()||zr(i,X())!=null,ys(t,c,a,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,l=new fd(i.getIndex()),s=JE(i);this.processor_=TC(s);const a=n.serverCache,r=n.eventCache,o=l.updateFullNode(k.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(k.EMPTY_NODE,r.getNode(),null),h=new Pn(o,a.isFullyInitialized(),l.filtersNodes()),d=new Pn(c,r.isFullyInitialized(),s.filtersNodes());this.viewCache_=mo(d,h),this.eventGenerator_=new aC(this.query_)}get query(){return this.query_}}function zC(e){return e.viewCache_.serverCache.getNode()}function LC(e){return jr(e.viewCache_)}function IC(e,t){const n=Ei(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Y(t)&&!n.getImmediateChild(H(t)).isEmpty())?n.getChild(t):null}function ip(e){return e.eventRegistrations_.length===0}function UC(e,t){e.eventRegistrations_.push(t)}function lp(e,t,n){const i=[];if(n){C(t==null,"A cancel should cancel all event registrations.");const l=e.query._path;e.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,l);a&&i.push(a)})}if(t){let l=[];for(let s=0;s<e.eventRegistrations_.length;++s){const a=e.eventRegistrations_[s];if(!a.matches(t))l.push(a);else if(t.hasAnyCallback()){l=l.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=l}else e.eventRegistrations_=[];return i}function sp(e,t,n,i){t.type===Mt.MERGE&&t.source.queryId!==null&&(C(Ei(e.viewCache_),"We should always have a full cache before handling merges"),C(jr(e.viewCache_),"Missing event cache, even though we have a server cache"));const l=e.viewCache_,s=AC(e.processor_,l,t,n,i);return NC(e.processor_,s.viewCache),C(s.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,G_(e,s.changes,s.viewCache.eventCache.getNode(),null)}function BC(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pe,(s,a)=>{i.push(xl(s,a))}),n.isFullyInitialized()&&i.push(D_(n.getNode())),G_(e,i,n.getNode(),t)}function G_(e,t,n,i){const l=i?[i]:e.eventRegistrations_;return rC(e.eventGenerator_,t,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir;class Y_{constructor(){this.views=new Map}}function HC(e){C(!Ir,"__referenceConstructor has already been defined"),Ir=e}function qC(){return C(Ir,"Reference.ts has not been loaded"),Ir}function VC(e){return e.views.size===0}function _d(e,t,n,i){const l=t.source.queryId;if(l!==null){const s=e.views.get(l);return C(s!=null,"SyncTree gave us an op for an invalid query."),sp(s,t,n,i)}else{let s=[];for(const a of e.views.values())s=s.concat(sp(a,t,n,i));return s}}function Q_(e,t,n,i,l){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let r=kr(n,l?i:null),o=!1;r?o=!0:i instanceof k?(r=pd(n,i),o=!1):(r=k.EMPTY_NODE,o=!1);const c=mo(new Pn(r,o,!1),new Pn(i,l,!1));return new kC(t,c)}return a}function GC(e,t,n,i,l,s){const a=Q_(e,t,i,l,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),UC(a,n),BC(a,n)}function YC(e,t,n,i){const l=t._queryIdentifier,s=[];let a=[];const r=$n(e);if(l==="default")for(const[o,c]of e.views.entries())a=a.concat(lp(c,n,i)),ip(c)&&(e.views.delete(o),c.query._queryParams.loadsAllData()||s.push(c.query));else{const o=e.views.get(l);o&&(a=a.concat(lp(o,n,i)),ip(o)&&(e.views.delete(l),o.query._queryParams.loadsAllData()||s.push(o.query)))}return r&&!$n(e)&&s.push(new(qC())(t._repo,t._path)),{removed:s,events:a}}function F_(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Vn(e,t){let n=null;for(const i of e.views.values())n=n||IC(i,t);return n}function K_(e,t){if(t._queryParams.loadsAllData())return go(e);{const i=t._queryIdentifier;return e.views.get(i)}}function X_(e,t){return K_(e,t)!=null}function $n(e){return go(e)!=null}function go(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur;function QC(e){C(!Ur,"__referenceConstructor has already been defined"),Ur=e}function FC(){return C(Ur,"Reference.ts has not been loaded"),Ur}let KC=1;class ap{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ce(null),this.pendingWriteTree_=xC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vd(e,t,n,i,l){return fC(e.pendingWriteTree_,t,n,i,l),l?oa(e,new wi(k_(),t,n)):[]}function ci(e,t,n=!1){const i=dC(e.pendingWriteTree_,t);if(hC(e.pendingWriteTree_,t)){let s=new ce(null);return i.snap!=null?s=s.set(X(),!0):nt(i.children,a=>{s=s.set(new ne(a),!0)}),oa(e,new Dr(i.path,s,n))}else return[]}function ra(e,t,n){return oa(e,new wi(hd(),t,n))}function XC(e,t,n){const i=ce.fromObject(n);return oa(e,new qs(hd(),t,i))}function ZC(e,t){return oa(e,new Hs(hd(),t))}function PC(e,t,n){const i=bd(e,n);if(i){const l=Sd(i),s=l.path,a=l.queryId,r=Ge(s,t),o=new Hs(md(a),r);return xd(e,s,o)}else return[]}function Br(e,t,n,i,l=!1){const s=t._path,a=e.syncPointTree_.get(s);let r=[];if(a&&(t._queryIdentifier==="default"||X_(a,t))){const o=YC(a,t,n,i);VC(a)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=o.removed;if(r=o.events,!l){const h=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(f,m)=>$n(m));if(h&&!d){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const m=JC(f);for(let _=0;_<m.length;++_){const b=m[_],w=b.query,g=W_(e,b);e.listenProvider_.startListening(vs(w),Vs(e,w),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!i&&(h?e.listenProvider_.stopListening(vs(t),null):c.forEach(f=>{const m=e.queryToTagMap.get(_o(f));e.listenProvider_.stopListening(vs(f),m)}))}eT(e,c)}return r}function Z_(e,t,n,i){const l=bd(e,i);if(l!=null){const s=Sd(l),a=s.path,r=s.queryId,o=Ge(a,t),c=new wi(md(r),o,n);return xd(e,a,c)}else return[]}function $C(e,t,n,i){const l=bd(e,i);if(l){const s=Sd(l),a=s.path,r=s.queryId,o=Ge(a,t),c=ce.fromObject(n),h=new qs(md(r),o,c);return xd(e,a,h)}else return[]}function Yu(e,t,n,i=!1){const l=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(l,(f,m)=>{const _=Ge(f,l);s=s||Vn(m,_),a=a||$n(m)});let r=e.syncPointTree_.get(l);r?(a=a||$n(r),s=s||Vn(r,X())):(r=new Y_,e.syncPointTree_=e.syncPointTree_.set(l,r));let o;s!=null?o=!0:(o=!1,s=k.EMPTY_NODE,e.syncPointTree_.subtree(l).foreachChild((m,_)=>{const b=Vn(_,X());b&&(s=s.updateImmediateChild(m,b))}));const c=X_(r,t);if(!c&&!t._queryParams.loadsAllData()){const f=_o(t);C(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=tT();e.queryToTagMap.set(f,m),e.tagToQueryMap.set(m,f)}const h=po(e.pendingWriteTree_,l);let d=GC(r,t,n,h,s,o);if(!c&&!a&&!i){const f=K_(r,t);d=d.concat(nT(e,t,f))}return d}function yo(e,t,n){const l=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(a,r)=>{const o=Ge(a,t),c=Vn(r,o);if(c)return c});return U_(l,t,s,n,!0)}function WC(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(c,h)=>{const d=Ge(c,n);i=i||Vn(h,d)});let l=e.syncPointTree_.get(n);l?i=i||Vn(l,X()):(l=new Y_,e.syncPointTree_=e.syncPointTree_.set(n,l));const s=i!=null,a=s?new Pn(i,!0,!1):null,r=po(e.pendingWriteTree_,t._path),o=Q_(l,t,r,s?a.getNode():k.EMPTY_NODE,s);return LC(o)}function oa(e,t){return P_(t,e.syncPointTree_,null,po(e.pendingWriteTree_,X()))}function P_(e,t,n,i){if(Y(e.path))return $_(e,t,n,i);{const l=t.get(X());n==null&&l!=null&&(n=Vn(l,X()));let s=[];const a=H(e.path),r=e.operationForChild(a),o=t.children.get(a);if(o&&r){const c=n?n.getImmediateChild(a):null,h=B_(i,a);s=s.concat(P_(r,o,c,h))}return l&&(s=s.concat(_d(l,e,i,n))),s}}function $_(e,t,n,i){const l=t.get(X());n==null&&l!=null&&(n=Vn(l,X()));let s=[];return t.children.inorderTraversal((a,r)=>{const o=n?n.getImmediateChild(a):null,c=B_(i,a),h=e.operationForChild(a);h&&(s=s.concat($_(h,r,o,c)))}),l&&(s=s.concat(_d(l,e,i,n))),s}function W_(e,t){const n=t.query,i=Vs(e,n);return{hashFn:()=>(zC(t)||k.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return i?PC(e,n._path,i):ZC(e,n._path);{const s=Ww(l,n);return Br(e,n,null,s)}}}}function Vs(e,t){const n=_o(t);return e.queryToTagMap.get(n)}function _o(e){return e._path.toString()+"$"+e._queryIdentifier}function bd(e,t){return e.tagToQueryMap.get(t)}function Sd(e){const t=e.indexOf("$");return C(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ne(e.substr(0,t))}}function xd(e,t,n){const i=e.syncPointTree_.get(t);C(i,"Missing sync point for query tag that we're tracking");const l=po(e.pendingWriteTree_,t);return _d(i,n,l,null)}function JC(e){return e.fold((t,n,i)=>{if(n&&$n(n))return[go(n)];{let l=[];return n&&(l=F_(n)),nt(i,(s,a)=>{l=l.concat(a)}),l}})}function vs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(FC())(e._repo,e._path):e}function eT(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const l=_o(i),s=e.queryToTagMap.get(l);e.queryToTagMap.delete(l),e.tagToQueryMap.delete(s)}}}function tT(){return KC++}function nT(e,t,n){const i=t._path,l=Vs(e,t),s=W_(e,n),a=e.listenProvider_.startListening(vs(t),l,s.hashFn,s.onComplete),r=e.syncPointTree_.subtree(i);if(l)C(!$n(r.value),"If we're adding a query, it shouldn't be shadowed");else{const o=r.fold((c,h,d)=>{if(!Y(c)&&h&&$n(h))return[go(h).query];{let f=[];return h&&(f=f.concat(F_(h).map(m=>m.query))),nt(d,(m,_)=>{f=f.concat(_)}),f}});for(let c=0;c<o.length;++c){const h=o[c];e.listenProvider_.stopListening(vs(h),Vs(e,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new wd(n)}node(){return this.node_}}class Ed{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ne(this.path_,t);return new Ed(this.syncTree_,n)}node(){return yo(this.syncTree_,this.path_)}}const iT=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},rp=function(e,t,n){if(!e||typeof e!="object")return e;if(C(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return lT(e[".sv"],t,n);if(typeof e[".sv"]=="object")return sT(e[".sv"],t);C(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},lT=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+e)}},sT=function(e,t,n){e.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&C(!1,"Unexpected increment value: "+i);const l=t.node();if(C(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return i;const a=l.getValue();return typeof a!="number"?i:a+i},aT=function(e,t,n,i){return Td(t,new Ed(n,e),i)},Cd=function(e,t,n){return Td(e,new wd(t),n)};function Td(e,t,n){const i=e.getPriority().val(),l=rp(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const a=e,r=rp(a.getValue(),t,n);return r!==a.getValue()||l!==a.getPriority().val()?new Me(r,Ee(l)):e}else{const a=e;return s=a,l!==a.getPriority().val()&&(s=s.updatePriority(new Me(l))),a.forEachChild(pe,(r,o)=>{const c=Td(o,t.getImmediateChild(r),n);c!==o&&(s=s.updateImmediateChild(r,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function vo(e,t){let n=t instanceof ne?t:new ne(t),i=e,l=H(n);for(;l!==null;){const s=Si(i.node.children,l)||{children:{},childCount:0};i=new Nd(l,i,s),n=ae(n),l=H(n)}return i}function ji(e){return e.node.value}function Ad(e,t){e.node.value=t,Qu(e)}function J_(e){return e.node.childCount>0}function rT(e){return ji(e)===void 0&&!J_(e)}function bo(e,t){nt(e.node.children,(n,i)=>{t(new Nd(n,e,i))})}function ev(e,t,n,i){n&&t(e),bo(e,l=>{ev(l,t,!0)})}function oT(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function ca(e){return new ne(e.parent===null?e.name:ca(e.parent)+"/"+e.name)}function Qu(e){e.parent!==null&&cT(e.parent,e.name,e)}function cT(e,t,n){const i=rT(n),l=kt(e.node.children,t);i&&l?(delete e.node.children[t],e.node.childCount--,Qu(e)):!i&&!l&&(e.node.children[t]=n.node,e.node.childCount++,Qu(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=/[\[\].#$\/\u0000-\u001F\u007F]/,fT=/[\[\].#$\u0000-\u001F\u007F]/,Ec=10*1024*1024,tv=function(e){return typeof e=="string"&&e.length!==0&&!uT.test(e)},nv=function(e){return typeof e=="string"&&e.length!==0&&!fT.test(e)},dT=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nv(e)},hT=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!id(e)||e&&typeof e=="object"&&kt(e,".sv")},mT=function(e,t,n,i){So(td(e,"value"),t,n)},So=function(e,t,n){const i=n instanceof ne?new OE(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ri(i));if(typeof t=="function")throw new Error(e+"contains a function "+ri(i)+" with contents = "+t.toString());if(id(t))throw new Error(e+"contains "+t.toString()+" "+ri(i));if(typeof t=="string"&&t.length>Ec/3&&co(t)>Ec)throw new Error(e+"contains a string greater than "+Ec+" utf8 bytes "+ri(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,s=!1;if(nt(t,(a,r)=>{if(a===".value")l=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!tv(a)))throw new Error(e+" contains an invalid key ("+a+") "+ri(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);DE(i,a),So(e,r,i),jE(i)}),l&&s)throw new Error(e+' contains ".value" child '+ri(i)+" in addition to actual children.")}},iv=function(e,t,n,i){if(!nv(n))throw new Error(td(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pT=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),iv(e,t,n)},lv=function(e,t){if(H(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},gT=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!tv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!dT(n))throw new Error(td(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rd(e,t){let n=null;for(let i=0;i<t.length;i++){const l=t[i],s=l.getPath();n!==null&&!od(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(l)}n&&e.eventLists_.push(n)}function sv(e,t,n){Rd(e,n),av(e,i=>od(i,t))}function Dt(e,t,n){Rd(e,n),av(e,i=>Rt(i,t)||Rt(t,i))}function av(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const l=e.eventLists_[i];if(l){const s=l.path;t(s)?(_T(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function _T(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();ps&&He("event: "+n.toString()),Ll(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="repo_interrupt",bT=25;class ST{constructor(t,n,i,l){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Or(),this.transactionQueueTree_=new Nd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xT(e,t,n){if(e.stats_=ad(e.repoInfo_),e.forceRestClient_||nE())e.server_=new Mr(e.repoInfo_,(i,l,s,a)=>{op(e,i,l,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>cp(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Te(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new rn(e.repoInfo_,t,(i,l,s,a)=>{op(e,i,l,s,a)},i=>{cp(e,i)},i=>{ET(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=rE(e.repoInfo_,()=>new sC(e.stats_,e.server_)),e.infoData_=new eC,e.infoSyncTree_=new ap({startListening:(i,l,s,a)=>{let r=[];const o=e.infoData_.getNode(i._path);return o.isEmpty()||(r=ra(e.infoSyncTree_,i._path,o),setTimeout(()=>{a("ok")},0)),r},stopListening:()=>{}}),Md(e,"connected",!1),e.serverSyncTree_=new ap({startListening:(i,l,s,a)=>(e.server_.listen(i,s,l,(r,o)=>{const c=a(r,o);Dt(e.eventQueue_,i._path,c)}),[]),stopListening:(i,l)=>{e.server_.unlisten(i,l)}})}function wT(e){const n=e.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xo(e){return iT({timestamp:wT(e)})}function op(e,t,n,i,l){e.dataUpdateCount++;const s=new ne(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(l)if(i){const o=Er(n,c=>Ee(c));a=$C(e.serverSyncTree_,s,o,l)}else{const o=Ee(n);a=Z_(e.serverSyncTree_,s,o,l)}else if(i){const o=Er(n,c=>Ee(c));a=XC(e.serverSyncTree_,s,o)}else{const o=Ee(n);a=ra(e.serverSyncTree_,s,o)}let r=s;a.length>0&&(r=Eo(e,s)),Dt(e.eventQueue_,r,a)}function cp(e,t){Md(e,"connected",t),t===!1&&NT(e)}function ET(e,t){nt(t,(n,i)=>{Md(e,n,i)})}function Md(e,t,n){const i=new ne("/.info/"+t),l=Ee(n);e.infoData_.updateSnapshot(i,l);const s=ra(e.infoSyncTree_,i,l);Dt(e.eventQueue_,i,s)}function Od(e){return e.nextWriteId_++}function CT(e,t,n){const i=WC(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(l=>{const s=Ee(l).withIndex(t._queryParams.getIndex());Yu(e.serverSyncTree_,t,n,!0);let a;if(t._queryParams.loadsAllData())a=ra(e.serverSyncTree_,t._path,s);else{const r=Vs(e.serverSyncTree_,t);a=Z_(e.serverSyncTree_,t._path,s,r)}return Dt(e.eventQueue_,t._path,a),Br(e.serverSyncTree_,t,n,null,!0),s},l=>(ua(e,"get for query "+Te(t)+" failed: "+l),Promise.reject(new Error(l))))}function TT(e,t,n,i,l){ua(e,"set",{path:t.toString(),value:n,priority:i});const s=xo(e),a=Ee(n,i),r=yo(e.serverSyncTree_,t),o=Cd(a,r,s),c=Od(e),h=vd(e.serverSyncTree_,t,o,c,!0);Rd(e.eventQueue_,h),e.server_.put(t.toString(),a.val(!0),(f,m)=>{const _=f==="ok";_||Je("set at "+t+" failed: "+f);const b=ci(e.serverSyncTree_,c,!_);Dt(e.eventQueue_,t,b),MT(e,l,f,m)});const d=uv(e,t);Eo(e,d),Dt(e.eventQueue_,d,[])}function NT(e){ua(e,"onDisconnectEvents");const t=xo(e),n=Or();Bu(e.onDisconnect_,X(),(l,s)=>{const a=aT(l,s,e.serverSyncTree_,t);j_(n,l,a)});let i=[];Bu(n,X(),(l,s)=>{i=i.concat(ra(e.serverSyncTree_,l,s));const a=uv(e,l);Eo(e,a)}),e.onDisconnect_=Or(),Dt(e.eventQueue_,X(),i)}function AT(e,t,n){let i;H(t._path)===".info"?i=Yu(e.infoSyncTree_,t,n):i=Yu(e.serverSyncTree_,t,n),sv(e.eventQueue_,t._path,i)}function up(e,t,n){let i;H(t._path)===".info"?i=Br(e.infoSyncTree_,t,n):i=Br(e.serverSyncTree_,t,n),sv(e.eventQueue_,t._path,i)}function RT(e){e.persistentConnection_&&e.persistentConnection_.interrupt(vT)}function ua(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),He(n,...t)}function MT(e,t,n,i){t&&Ll(()=>{if(n==="ok")t(null);else{const l=(n||"error").toUpperCase();let s=l;i&&(s+=": "+i);const a=new Error(s);a.code=l,t(a)}})}function OT(e,t,n,i,l,s){ua(e,"transaction on "+t);const a={path:t,update:n,onComplete:i,status:null,order:t_(),applyLocally:s,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},r=Dd(e,t,void 0);a.currentInputSnapshot=r;const o=a.update(r.val());if(o===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{So("transaction failed: Data returned ",o,a.path),a.status=0;const c=vo(e.transactionQueueTree_,t),h=ji(c)||[];h.push(a),Ad(c,h);let d;typeof o=="object"&&o!==null&&kt(o,".priority")?(d=Si(o,".priority"),C(hT(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(yo(e.serverSyncTree_,t)||k.EMPTY_NODE).getPriority().val();const f=xo(e),m=Ee(o,d),_=Cd(m,r,f);a.currentOutputSnapshotRaw=m,a.currentOutputSnapshotResolved=_,a.currentWriteId=Od(e);const b=vd(e.serverSyncTree_,t,_,a.currentWriteId,a.applyLocally);Dt(e.eventQueue_,t,b),wo(e,e.transactionQueueTree_)}}function Dd(e,t,n){return yo(e.serverSyncTree_,t,n)||k.EMPTY_NODE}function wo(e,t=e.transactionQueueTree_){if(t||Co(e,t),ji(t)){const n=ov(e,t);C(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&DT(e,ca(t),n)}else J_(t)&&bo(t,n=>{wo(e,n)})}function DT(e,t,n){const i=n.map(c=>c.currentWriteId),l=Dd(e,t,i);let s=l;const a=l.hash();for(let c=0;c<n.length;c++){const h=n[c];C(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=Ge(t,h.path);s=s.updateChild(d,h.currentOutputSnapshotRaw)}const r=s.val(!0),o=t;e.server_.put(o.toString(),r,c=>{ua(e,"transaction put response",{path:o.toString(),status:c});let h=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(ci(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Co(e,vo(e.transactionQueueTree_,t)),wo(e,e.transactionQueueTree_),Dt(e.eventQueue_,t,h);for(let f=0;f<d.length;f++)Ll(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Je("transaction at "+o.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Eo(e,t)}},a)}function Eo(e,t){const n=rv(e,t),i=ca(n),l=ov(e,n);return jT(e,l,i),i}function jT(e,t,n){if(t.length===0)return;const i=[];let l=[];const a=t.filter(r=>r.status===0).map(r=>r.currentWriteId);for(let r=0;r<t.length;r++){const o=t[r],c=Ge(n,o.path);let h=!1,d;if(C(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,d=o.abortReason,l=l.concat(ci(e.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=bT)h=!0,d="maxretry",l=l.concat(ci(e.serverSyncTree_,o.currentWriteId,!0));else{const f=Dd(e,o.path,a);o.currentInputSnapshot=f;const m=t[r].update(f.val());if(m!==void 0){So("transaction failed: Data returned ",m,o.path);let _=Ee(m);typeof m=="object"&&m!=null&&kt(m,".priority")||(_=_.updatePriority(f.getPriority()));const w=o.currentWriteId,g=xo(e),p=Cd(_,f,g);o.currentOutputSnapshotRaw=_,o.currentOutputSnapshotResolved=p,o.currentWriteId=Od(e),a.splice(a.indexOf(w),1),l=l.concat(vd(e.serverSyncTree_,o.path,p,o.currentWriteId,o.applyLocally)),l=l.concat(ci(e.serverSyncTree_,w,!0))}else h=!0,d="nodata",l=l.concat(ci(e.serverSyncTree_,o.currentWriteId,!0))}Dt(e.eventQueue_,n,l),l=[],h&&(t[r].status=2,function(f){setTimeout(f,Math.floor(0))}(t[r].unwatcher),t[r].onComplete&&(d==="nodata"?i.push(()=>t[r].onComplete(null,!1,t[r].currentInputSnapshot)):i.push(()=>t[r].onComplete(new Error(d),!1,null))))}Co(e,e.transactionQueueTree_);for(let r=0;r<i.length;r++)Ll(i[r]);wo(e,e.transactionQueueTree_)}function rv(e,t){let n,i=e.transactionQueueTree_;for(n=H(t);n!==null&&ji(i)===void 0;)i=vo(i,n),t=ae(t),n=H(t);return i}function ov(e,t){const n=[];return cv(e,t,n),n.sort((i,l)=>i.order-l.order),n}function cv(e,t,n){const i=ji(t);if(i)for(let l=0;l<i.length;l++)n.push(i[l]);bo(t,l=>{cv(e,l,n)})}function Co(e,t){const n=ji(t);if(n){let i=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[i]=n[l],i++);n.length=i,Ad(t,n.length>0?n:void 0)}bo(t,i=>{Co(e,i)})}function uv(e,t){const n=ca(rv(e,t)),i=vo(e.transactionQueueTree_,t);return oT(i,l=>{Cc(e,l)}),Cc(e,i),ev(i,l=>{Cc(e,l)}),n}function Cc(e,t){const n=ji(t);if(n){const i=[];let l=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(C(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(C(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),l=l.concat(ci(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Ad(t,void 0):n.length=s+1,Dt(e.eventQueue_,ca(t),l);for(let a=0;a<i.length;a++)Ll(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let l=n[i];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function zT(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Je(`Invalid query segment '${n}' in query '${e}'`)}return t}const fp=function(e,t){const n=LT(e),i=n.namespace;n.domain==="firebase.com"&&pn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Kw();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new m_(n.host,n.secure,i,l,t,"",i!==n.subdomain),path:new ne(n.pathString)}},LT=function(e){let t="",n="",i="",l="",s="",a=!0,r="https",o=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(r=e.substring(0,c-1),e=e.substring(c+2));let h=e.indexOf("/");h===-1&&(h=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(h,d)),h<d&&(l=kT(e.substring(h,d)));const f=zT(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(a=r==="https"||r==="wss",o=parseInt(t.substring(c+1),10)):c=t.length;const m=t.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const _=t.indexOf(".");i=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=i}"ns"in f&&(s=f.ns)}return{host:t,port:o,domain:n,subdomain:i,secure:a,scheme:r,pathString:l,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,n,i,l){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Te(this.snapshot.exportVal())}}class UT{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,n,i,l){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=l}get key(){return Y(this._path)?null:w_(this._path)}get ref(){return new Vt(this._repo,this._path)}get _queryIdentifier(){const t=Zm(this._queryParams),n=ld(t);return n==="{}"?"default":n}get _queryObject(){return Zm(this._queryParams)}isEqual(t){if(t=_n(t),!(t instanceof jd))return!1;const n=this._repo===t._repo,i=od(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return n&&i&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+ME(this._path)}}class Vt extends jd{constructor(t,n){super(t,n,new dd,!1)}get parent(){const t=C_(this._path);return t===null?null:new Vt(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class El{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ne(t),i=Fu(this.ref,t);return new El(this._node.getChild(n),i,pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,l)=>t(new El(l,Fu(this.ref,i),pe)))}hasChild(t){const n=new ne(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Oa(e,t){return e=_n(e),e._checkNotDeleted("ref"),t!==void 0?Fu(e._root,t):e._root}function Fu(e,t){return e=_n(e),H(e._path)===null?pT("child","path",t):iv("child","path",t),new Vt(e._repo,Ne(e._path,t))}function BT(e,t){e=_n(e),lv("set",e._path),mT("set",t,e._path);const n=new ia;return TT(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function dp(e){e=_n(e);const t=new fv(()=>{}),n=new To(t);return CT(e._repo,e,n).then(i=>new El(i,new Vt(e._repo,e._path),e._queryParams.getIndex()))}class To{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new IT("value",this,new El(t.snapshotNode,new Vt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new UT(this,t,n):null}matches(t){return t instanceof To?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function HT(e,t,n,i,l){let s;if(typeof i=="object"&&(s=void 0,l=i),typeof i=="function"&&(s=i),l&&l.onlyOnce){const o=n,c=(h,d)=>{up(e._repo,e,r),o(h,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new fv(n,s||void 0),r=new To(a);return AT(e._repo,e,r),()=>up(e._repo,e,r)}function dv(e,t,n,i){return HT(e,"value",t,n,i)}HC(Vt);QC(Vt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="FIREBASE_DATABASE_EMULATOR_HOST",Ku={};let VT=!1;function GT(e,t,n,i){const l=t.lastIndexOf(":"),s=t.substring(0,l),a=ed(s);e.repoInfo_=new m_(t,a,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function YT(e,t,n,i,l){let s=i||e.options.databaseURL;s===void 0&&(e.options.projectId||pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),He("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=fp(s,l),r=a.repoInfo,o;typeof process<"u"&&Om&&(o=Om[qT]),o?(s=`http://${o}?ns=${r.namespace}`,a=fp(s,l),r=a.repoInfo):a.repoInfo.secure;const c=new lE(e.name,e.options,t);gT("Invalid Firebase Database URL",a),Y(a.path)||pn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=FT(r,e,c,new iE(e,n));return new KT(h,e)}function QT(e,t){const n=Ku[t];(!n||n[e.key]!==e)&&pn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),RT(e),delete n[e.key]}function FT(e,t,n,i){let l=Ku[t.name];l||(l={},Ku[t.name]=l);let s=l[e.toURLString()];return s&&pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ST(e,VT,n,i),l[e.toURLString()]=s,s}class KT{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(xT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vt(this._repo,X())),this._rootInternal}_delete(){return this._rootInternal!==null&&(QT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&pn("Cannot call "+t+" on a deleted database.")}}function XT(e=P0(),t){const n=fo(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const i=hx("database");i&&ZT(n,...i)}return n}function ZT(e,t,n,i={}){e=_n(e),e._checkNotDeleted("useEmulator");const l=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(l===e._repoInternal.repoInfo_.host&&Cr(i,s.repoInfo_.emulatorOptions))return;pn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Ka(Ka.OWNER);else if(i.mockUserToken){const r=typeof i.mockUserToken=="string"?i.mockUserToken:px(i.mockUserToken,e.app.options.projectId);a=new Ka(r)}ed(t)&&(mx(t),_x("Database",!0)),GT(s,l,i,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(e){Vw(Rw),Xn(new hn("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return YT(i,l,s,n)},"PUBLIC").setMultipleInstances(!0)),Bt(Dm,jm,e),Bt(Dm,jm,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function WT(e,t,n){if(e=_n(e),lv("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=!0,l=new ia,s=(r,o,c)=>{let h=null;r?l.reject(r):(h=new El(c,new Vt(e._repo,e._path),pe),l.resolve(new $T(o,h)))},a=dv(e,()=>{});return OT(e._repo,e._path,t,s,a,i),l.promise}rn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};rn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};PT();const hv="@firebase/installations",kd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=1e4,pv=`w:${kd}`,gv="FIS_v2",JT="https://firebaseinstallations.googleapis.com/v1",e2=60*60*1e3,t2="installations",n2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ci=new oo(t2,n2,i2);function yv(e){return e instanceof kl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v({projectId:e}){return`${JT}/projects/${e}/installations`}function vv(e){return{token:e.token,requestStatus:2,expiresIn:s2(e.expiresIn),creationTime:Date.now()}}async function bv(e,t){const i=(await t.json()).error;return Ci.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Sv({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function l2(e,{refreshToken:t}){const n=Sv(e);return n.append("Authorization",a2(t)),n}async function xv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function s2(e){return Number(e.replace("s","000"))}function a2(e){return`${gv} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=_v(e),l=Sv(e),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&l.append("x-firebase-client",c)}const a={fid:n,authVersion:gv,appId:e.appId,sdkVersion:pv},r={method:"POST",headers:l,body:JSON.stringify(a)},o=await xv(()=>fetch(i,r));if(o.ok){const c=await o.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:vv(c.authToken)}}else throw await bv("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=/^[cdef][\w-]{21}$/,Xu="";function u2(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=f2(e);return c2.test(n)?n:Xu}catch{return Xu}}function f2(e){return o2(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;function Cv(e,t){const n=No(e);Tv(n,t),d2(n,t)}function Tv(e,t){const n=Ev.get(e);if(n)for(const i of n)i(t)}function d2(e,t){const n=h2();n&&n.postMessage({key:e,fid:t}),m2()}let ui=null;function h2(){return!ui&&"BroadcastChannel"in self&&(ui=new BroadcastChannel("[Firebase] FID Change"),ui.onmessage=e=>{Tv(e.data.key,e.data.fid)}),ui}function m2(){Ev.size===0&&ui&&(ui.close(),ui=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="firebase-installations-database",g2=1,Ti="firebase-installations-store";let Tc=null;function zd(){return Tc||(Tc=uo(p2,g2,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ti)}}})),Tc}async function Hr(e,t){const n=No(e),l=(await zd()).transaction(Ti,"readwrite"),s=l.objectStore(Ti),a=await s.get(n);return await s.put(t,n),await l.done,(!a||a.fid!==t.fid)&&Cv(e,t.fid),t}async function Nv(e){const t=No(e),i=(await zd()).transaction(Ti,"readwrite");await i.objectStore(Ti).delete(t),await i.done}async function Ao(e,t){const n=No(e),l=(await zd()).transaction(Ti,"readwrite"),s=l.objectStore(Ti),a=await s.get(n),r=t(a);return r===void 0?await s.delete(n):await s.put(r,n),await l.done,r&&(!a||a.fid!==r.fid)&&Cv(e,r.fid),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(e){let t;const n=await Ao(e.appConfig,i=>{const l=y2(i),s=_2(e,l);return t=s.registrationPromise,s.installationEntry});return n.fid===Xu?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function y2(e){const t=e||{fid:u2(),registrationStatus:0};return Av(t)}function _2(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ci.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=v2(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:b2(e)}:{installationEntry:t}}async function v2(e,t){try{const n=await r2(e,t);return Hr(e.appConfig,n)}catch(n){throw yv(n)&&n.customData.serverCode===409?await Nv(e.appConfig):await Hr(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function b2(e){let t=await hp(e.appConfig);for(;t.registrationStatus===1;)await wv(100),t=await hp(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Ld(e);return i||n}return t}function hp(e){return Ao(e,t=>{if(!t)throw Ci.create("installation-not-found");return Av(t)})}function Av(e){return S2(e)?{fid:e.fid,registrationStatus:0}:e}function S2(e){return e.registrationStatus===1&&e.registrationTime+mv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2({appConfig:e,heartbeatServiceProvider:t},n){const i=w2(e,n),l=l2(e,n),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&l.append("x-firebase-client",c)}const a={installation:{sdkVersion:pv,appId:e.appId}},r={method:"POST",headers:l,body:JSON.stringify(a)},o=await xv(()=>fetch(i,r));if(o.ok){const c=await o.json();return vv(c)}else throw await bv("Generate Auth Token",o)}function w2(e,{fid:t}){return`${_v(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(e,t=!1){let n;const i=await Ao(e.appConfig,s=>{if(!Rv(s))throw Ci.create("not-registered");const a=s.authToken;if(!t&&T2(a))return s;if(a.requestStatus===1)return n=E2(e,t),s;{if(!navigator.onLine)throw Ci.create("app-offline");const r=A2(s);return n=C2(e,r),r}});return n?await n:i.authToken}async function E2(e,t){let n=await mp(e.appConfig);for(;n.authToken.requestStatus===1;)await wv(100),n=await mp(e.appConfig);const i=n.authToken;return i.requestStatus===0?Id(e,t):i}function mp(e){return Ao(e,t=>{if(!Rv(t))throw Ci.create("not-registered");const n=t.authToken;return R2(n)?{...t,authToken:{requestStatus:0}}:t})}async function C2(e,t){try{const n=await x2(e,t),i={...t,authToken:n};return await Hr(e.appConfig,i),n}catch(n){if(yv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Nv(e.appConfig);else{const i={...t,authToken:{requestStatus:0}};await Hr(e.appConfig,i)}throw n}}function Rv(e){return e!==void 0&&e.registrationStatus===2}function T2(e){return e.requestStatus===2&&!N2(e)}function N2(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+e2}function A2(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function R2(e){return e.requestStatus===1&&e.requestTime+mv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(e){const t=e,{installationEntry:n,registrationPromise:i}=await Ld(t);return i?i.catch(console.error):Id(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(e,t=!1){const n=e;return await D2(n),(await Id(n,t)).token}async function D2(e){const{registrationPromise:t}=await Ld(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(e){if(!e||!e.options)throw Nc("App Configuration");if(!e.name)throw Nc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Nc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Nc(e){return Ci.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="installations",k2="installations-internal",z2=e=>{const t=e.getProvider("app").getImmediate(),n=j2(t),i=fo(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},L2=e=>{const t=e.getProvider("app").getImmediate(),n=fo(t,Mv).getImmediate();return{getId:()=>M2(n),getToken:l=>O2(n,l)}};function I2(){Xn(new hn(Mv,z2,"PUBLIC")),Xn(new hn(k2,L2,"PRIVATE"))}I2();Bt(hv,kd);Bt(hv,kd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="/firebase-messaging-sw.js",B2="/firebase-cloud-messaging-push-scope",Ov="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",H2="https://fcmregistrations.googleapis.com/v1",Dv="google.c.a.c_id",q2="google.c.a.c_l",V2="google.c.a.ts",G2="google.c.a.e",pp=1e4;var gp;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(gp||(gp={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Gs;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Gs||(Gs={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Y2(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),l=new Uint8Array(i.length);for(let s=0;s<i.length;++s)l[s]=i.charCodeAt(s);return l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="fcm_token_details_db",Q2=5,yp="fcm_token_object_Store";async function F2(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Ac))return null;let t=null;return(await uo(Ac,Q2,{upgrade:async(i,l,s,a)=>{if(l<2||!i.objectStoreNames.contains(yp))return;const r=a.objectStore(yp),o=await r.index("fcmSenderId").get(e);if(await r.clear(),!!o){if(l===2){const c=o;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Zt(c.vapidKey)}}}else if(l===3){const c=o;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Zt(c.auth),p256dh:Zt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Zt(c.vapidKey)}}}else if(l===4){const c=o;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Zt(c.auth),p256dh:Zt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Zt(c.vapidKey)}}}}}})).close(),await gc(Ac),await gc("fcm_vapid_details_db"),await gc("undefined"),K2(t)?t:null}function K2(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="firebase-messaging-database",Z2=1,Ys="firebase-messaging-store";let Rc=null;function jv(){return Rc||(Rc=uo(X2,Z2,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ys)}}})),Rc}async function P2(e){const t=kv(e),i=await(await jv()).transaction(Ys).objectStore(Ys).get(t);if(i)return i;{const l=await F2(e.appConfig.senderId);if(l)return await Ud(e,l),l}}async function Ud(e,t){const n=kv(e),l=(await jv()).transaction(Ys,"readwrite");return await l.objectStore(Ys).put(t,n),await l.done,t}function kv({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ye=new oo("messaging","Messaging",$2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(e,t){const n=await Hd(e),i=zv(t),l={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(Bd(e.appConfig),l)).json()}catch(a){throw Ye.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Ye.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw Ye.create("token-subscribe-no-token");return s.token}async function J2(e,t){const n=await Hd(e),i=zv(t.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${Bd(e.appConfig)}/${t.token}`,l)).json()}catch(a){throw Ye.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Ye.create("token-update-failed",{errorInfo:a})}if(!s.token)throw Ye.create("token-update-no-token");return s.token}async function eN(e,t){const i={method:"DELETE",headers:await Hd(e)};try{const s=await(await fetch(`${Bd(e.appConfig)}/${t}`,i)).json();if(s.error){const a=s.error.message;throw Ye.create("token-unsubscribe-failed",{errorInfo:a})}}catch(l){throw Ye.create("token-unsubscribe-failed",{errorInfo:l==null?void 0:l.toString()})}}function Bd({projectId:e}){return`${H2}/projects/${e}/registrations`}async function Hd({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function zv({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const l={web:{endpoint:n,auth:t,p256dh:e}};return i!==Ov&&(l.web.applicationPubKey=i),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=7*24*60*60*1e3;async function nN(e){const t=await lN(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Zt(t.getKey("auth")),p256dh:Zt(t.getKey("p256dh"))},i=await P2(e.firebaseDependencies);if(i){if(sN(i.subscriptionOptions,n))return Date.now()>=i.createTime+tN?iN(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await eN(e.firebaseDependencies,i.token)}catch(l){console.warn(l)}return _p(e.firebaseDependencies,n)}else return _p(e.firebaseDependencies,n)}async function iN(e,t){try{const n=await J2(e.firebaseDependencies,t),i={...t,token:n,createTime:Date.now()};return await Ud(e.firebaseDependencies,i),n}catch(n){throw n}}async function _p(e,t){const i={token:await W2(e,t),createTime:Date.now(),subscriptionOptions:t};return await Ud(e,i),i.token}async function lN(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Y2(t)})}function sN(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,l=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&i&&l&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return aN(t,e),rN(t,e),oN(t,e),t}function aN(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const l=t.notification.image;l&&(e.notification.image=l);const s=t.notification.icon;s&&(e.notification.icon=s)}function rN(e,t){t.data&&(e.data=t.data)}function oN(e,t){var l,s,a,r;if(!t.fcmOptions&&!((l=t.notification)!=null&&l.click_action))return;e.fcmOptions={};const n=((s=t.fcmOptions)==null?void 0:s.link)??((a=t.notification)==null?void 0:a.click_action);n&&(e.fcmOptions.link=n);const i=(r=t.fcmOptions)==null?void 0:r.analytics_label;i&&(e.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(e){return typeof e=="object"&&!!e&&Dv in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(e){if(!e||!e.options)throw Mc("App Configuration Object");if(!e.name)throw Mc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw Mc(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Mc(e){return Ye.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=uN(t);this.firebaseDependencies={app:t,appConfig:l,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(e){try{e.swRegistration=await navigator.serviceWorker.register(U2,{scope:B2}),e.swRegistration.update().catch(()=>{}),await hN(e.swRegistration)}catch(t){throw Ye.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function hN(e){return new Promise((t,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${pp} ms`)),pp),l=e.installing||e.waiting;e.active?(clearTimeout(i),t()):l?l.onstatechange=s=>{var a;((a=s.target)==null?void 0:a.state)==="activated"&&(l.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(e,t){if(!t&&!e.swRegistration&&await dN(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Ye.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Ov)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lv(e,t){if(!navigator)throw Ye.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ye.create("permission-blocked");return await pN(e,t==null?void 0:t.vapidKey),await mN(e,t==null?void 0:t.serviceWorkerRegistration),nN(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(e,t,n){const i=yN(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[Dv],message_name:n[q2],message_time:n[V2],message_device_time:Math.floor(Date.now()/1e3)})}function yN(e){switch(e){case Gs.NOTIFICATION_CLICKED:return"notification_open";case Gs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Gs.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(vp(n)):e.onMessageHandler.next(vp(n)));const i=n.data;cN(i)&&i[G2]==="1"&&await gN(e,n.messageType,i)}const bp="@firebase/messaging",Sp="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=e=>{const t=new fN(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>_N(t,n)),t},bN=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:i=>Lv(t,i)}};function SN(){Xn(new hn("messaging",vN,"PUBLIC")),Xn(new hn("messaging-internal",bN,"PRIVATE")),Bt(bp,Sp),Bt(bp,Sp,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iv(){try{await Y0()}catch{return!1}return typeof window<"u"&&G0()&&xx()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(e=P0()){return Iv().then(t=>{if(!t)throw Ye.create("unsupported-browser")},t=>{throw Ye.create("indexed-db-unsupported")}),fo(_n(e),"messaging").getImmediate()}async function xN(e,t){return e=_n(e),Lv(e,t)}SN();const wN=Object.freeze(Object.defineProperty({__proto__:null,getMessaging:Uv,getToken:xN,isSupported:Iv},Symbol.toStringTag,{value:"Module"})),EN={apiKey:"AIzaSyA0GXc2SsjtbsDYzf1agK4zbTJ5IvxPFxs",authDomain:"fb-hub-ed9de.firebaseapp.com",databaseURL:"https://fb-hub-ed9de-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"fb-hub-ed9de",storageBucket:"fb-hub-ed9de.firebasestorage.app",messagingSenderId:"426764789152",appId:"1:426764789152:web:9e989667bda7568059f0c5",measurementId:"G-HCN8XBJNN9"},Bv=Z0(EN),Jl=XT(Bv);let Hv=null;try{Hv=Uv(Bv),console.log(" Firebase Messaging initialized")}catch(e){console.error(" Firebase Messaging initialization failed:",e)}const CN=Object.freeze(Object.defineProperty({__proto__:null,database:Jl,get messaging(){return Hv}},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),xp=e=>{const t=NN(e);return t.charAt(0).toUpperCase()+t.slice(1)},qv=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),AN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:s,iconNode:a,...r},o)=>A.createElement("svg",{ref:o,...RN,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:qv("lucide",l),...!s&&!AN(r)&&{"aria-hidden":"true"},...r},[...a.map(([c,h])=>A.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=(e,t)=>{const n=A.forwardRef(({className:i,...l},s)=>A.createElement(MN,{ref:s,iconNode:t,className:qv(`lucide-${TN(xp(e))}`,`lucide-${e}`,i),...l}));return n.displayName=xp(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jN=ON("chart-column",DN),kN=()=>{let e=localStorage.getItem("fenerbahce_user_id");return e||(e=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("fenerbahce_user_id",e)),e},zN=({opponentName:e="Rakip Takm",matchId:t})=>{const[n,i]=A.useState({home:0,away:0,draw:0}),[l,s]=A.useState(!1),[a,r]=A.useState(null),[o,c]=A.useState(!0),[h,d]=A.useState(null),f={home:"Fenerbahe",away:e},m=kN();A.useEffect(()=>{if(!t){c(!1),d("Match ID eksik");return}const y=Oa(Jl,`match_polls/${t}/votes`),v=dv(y,M=>{const E=M.val();i(E?{home:E.home||0,away:E.away||0,draw:E.draw||0}:{home:0,away:0,draw:0}),c(!1)},M=>{console.error("Firebase read error:",M),d("Anket verileri yklenemedi."),c(!1)}),N=Oa(Jl,`match_polls/${t}/users/${m}`);return dp(N).then(M=>{M.exists()?(s(!0),r(M.val())):(s(!1),r(null))}).catch(M=>{console.error("Error checking user vote:",M)}),()=>{v()}},[t,m]);const _=async y=>{if(!(l||!t))try{const v=Oa(Jl,`match_polls/${t}/users/${m}`),N=await dp(v);if(N.exists()){s(!0),r(N.val());return}const M=Oa(Jl,`match_polls/${t}/votes/${y}`);await WT(M,E=>(E||0)+1),await BT(v,y),s(!0),r(y)}catch(v){console.error("Vote failed:",v),alert("Oy verilemedi. Ltfen tekrar deneyin.")}},b=(n.home||0)+(n.away||0)+(n.draw||0),w=y=>!b||b===0?0:Math.round((y||0)/b*100),[g,p]=A.useState(!1);return o||h||!t?null:u.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-xl overflow-hidden transition-all duration-500",children:[u.jsxs("button",{onClick:()=>p(!g),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-full bg-yellow-400/10 text-yellow-400",children:u.jsx(jN,{className:"w-5 h-5"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h3",{className:"text-base font-bold text-white",children:"Ma Kim Kazanr?"}),u.jsxs("p",{className:"text-xs text-slate-400",children:[l?"Oyunuzu kullandnz":"Tahminini yap","  ",b," oy"]})]})]}),u.jsx("div",{className:`transform transition-transform duration-300 ${g?"rotate-180":""}`,children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsx("div",{className:`transition-all duration-500 ease-in-out ${g?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:u.jsxs("div",{className:"p-4 pt-0 space-y-3 border-t border-white/5 mt-2",children:[u.jsx(Oc,{label:f.home,count:n.home,percentage:w(n.home),onClick:()=>_("home"),disabled:l,isWinner:l&&n.home>=n.away&&n.home>=n.draw,isUserChoice:a==="home"}),u.jsx(Oc,{label:"Beraberlik",count:n.draw,percentage:w(n.draw),onClick:()=>_("draw"),disabled:l,isWinner:l&&n.draw>=n.home&&n.draw>=n.away,isUserChoice:a==="draw"}),u.jsx(Oc,{label:f.away,count:n.away,percentage:w(n.away),onClick:()=>_("away"),disabled:l,isWinner:l&&n.away>=n.home&&n.away>=n.draw,isUserChoice:a==="away"})]})})]})},Oc=({label:e,count:t,percentage:n,onClick:i,disabled:l,isWinner:s,isUserChoice:a})=>u.jsxs("button",{onClick:i,disabled:l,className:`relative w-full h-12 rounded-xl overflow-hidden transition-all duration-300 group ${l?"cursor-default":"hover:scale-[1.02] active:scale-[0.98] cursor-pointer"}`,children:[u.jsx("div",{className:"absolute inset-0 bg-white/5"}),u.jsx("div",{className:`absolute inset-y-0 left-0 transition-all duration-1000 ease-out ${a?"bg-green-500/30":s?"bg-yellow-400/20":"bg-blue-600/30"}`,style:{width:`${n}%`}}),u.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[u.jsxs("span",{className:`font-medium transition-colors ${a?"text-green-400":s?"text-yellow-400":"text-white"}`,children:[e," ",a&&""]}),u.jsxs("div",{className:"flex items-center gap-2",children:[l&&u.jsxs("span",{className:"text-sm font-bold text-white/90",children:[n,"%"]}),!l&&u.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white/20 group-hover:border-yellow-400 transition-colors"})]})]})]}),LN=({league:e})=>{const[t,n]=A.useState([]),[i,l]=A.useState(!0),[s,a]=A.useState(null);A.useEffect(()=>{r()},[e]);const r=async()=>{l(!0),a(null);try{const o=await fetch(`${yn}/standings`);if(!o.ok)throw new Error("Failed to fetch standings");const c=await o.json(),h=e==="superlig"?c.find(d=>d.id==="super-lig"):c.find(d=>d.id==="europa-league");if(h&&h.rows)n(h.rows);else throw new Error("League data not found")}catch(o){console.error("Error fetching standings:",o),a("Puan durumu yklenemedi")}finally{l(!1)}};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})}):s?u.jsx("div",{className:"text-center text-red-400 py-8",children:u.jsx("p",{children:s})}):u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto custom-scrollbar",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"sticky top-0 bg-[#0f172a] z-10",children:u.jsxs("tr",{className:"text-[11px] text-slate-400 border-b border-yellow-400/20",children:[u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"#"}),u.jsx("th",{className:"p-3 font-medium",children:"Takm"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"O"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"G"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"B"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"M"}),u.jsx("th",{className:"p-3 font-medium w-16 text-center",children:"AV"}),u.jsx("th",{className:"p-3 font-medium w-12 text-center text-yellow-400",children:"P"})]})}),u.jsx("tbody",{className:"text-sm",children:t.map((o,c)=>{const h=o.team.name.toLowerCase().includes("fenerbahce")||o.team.name.toLowerCase().includes("fener"),d=o.rank<=3,f=o.rank>=t.length-2;return u.jsxs("tr",{className:`border-b border-white/5 last:border-0 transition-all duration-200 ${h?"bg-yellow-400/10 text-yellow-100 font-semibold shadow-[0_0_10px_rgba(234,179,8,0.3)]":"hover:bg-white/5 text-slate-300"}`,children:[u.jsx("td",{className:"p-3 text-center",children:u.jsx("span",{className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-[11px] font-bold ${d?"bg-green-500/20 text-green-400":f?"bg-red-500/20 text-red-400":"text-slate-500"}`,children:o.rank})}),u.jsx("td",{className:"p-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:o.team.logo?u.jsx("img",{src:o.team.logo,alt:o.team.name,className:"w-full h-full object-contain",onError:m=>{m.target.style.display="none"}}):null}),u.jsx("span",{className:"truncate max-w-[200px]",children:o.team.name})]})}),u.jsx("td",{className:"p-3 text-center font-medium",children:o.matches||0}),u.jsx("td",{className:"p-3 text-center text-green-400",children:o.wins||0}),u.jsx("td",{className:"p-3 text-center text-slate-400",children:o.draws||0}),u.jsx("td",{className:"p-3 text-center text-red-400",children:o.losses||0}),u.jsxs("td",{className:"p-3 text-center text-slate-400",children:[o.goalDiff>0?"+":"",o.goalDiff||0]}),u.jsx("td",{className:`p-3 text-center font-bold ${h?"text-yellow-400":"text-white"}`,children:o.points||0})]},o.team.id)})})]})}),u.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    width: 6px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: rgba(250, 204, 21, 0.3);
                    border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: rgba(250, 204, 21, 0.5);
                }
            `})]})},IN=()=>{var o,c,h,d,f,m;const[e,t]=A.useState(null),[n,i]=A.useState(!0),[l,s]=A.useState(null);A.useEffect(()=>{a();const _=setInterval(a,3e4);return()=>clearInterval(_)},[]);const a=async()=>{try{const _=await fetch(`${yn}/live-match`);if(!_.ok)throw new Error("Canl ma verisi alnamad");const b=await _.json();b.matchState==="no-match"?(s("u anda canl ma yok"),t(null)):(t(b),s(null))}catch(_){console.error("Error fetching live score:",_),s(_.message||"Canl ma bilgisi yklenemedi")}finally{i(!1)}};if(n)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})});if(l||!e)return u.jsx("div",{className:"text-center text-red-400 py-8",children:u.jsx("p",{children:l||"Veri bulunamad"})});const r={possessionPct:"Topla Oynama %",totalShots:"Toplam ut",shotsOnTarget:"sabetli ut",wonCorners:"Korner",foulsCommitted:"Faul",totalGoals:"Gol",goalAssists:"Asist"};return u.jsxs("div",{className:"w-full space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[u.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("span",{className:"text-xs font-bold text-yellow-400 uppercase",children:e.statusDetail||(e.matchState==="in"?"Canl":"Ma Bitti")}),e.matchState==="in"&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("span",{className:"text-sm font-bold text-red-400",children:"CANLI"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 p-3 border border-white/10",children:((o=e.homeTeam)==null?void 0:o.logo)&&u.jsx("img",{src:e.homeTeam.logo,alt:e.homeTeam.name,className:"w-full h-full object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center",children:(c=e.homeTeam)==null?void 0:c.name})]}),u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-5xl font-black text-white",children:((h=e.homeTeam)==null?void 0:h.score)||"0"}),u.jsx("span",{className:"text-3xl font-bold text-slate-600",children:"-"}),u.jsx("span",{className:"text-5xl font-black text-white",children:((d=e.awayTeam)==null?void 0:d.score)||"0"})]}),u.jsx("span",{className:"text-xs text-slate-400",children:e.displayClock||""})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 p-3 border border-white/10",children:((f=e.awayTeam)==null?void 0:f.logo)&&u.jsx("img",{src:e.awayTeam.logo,alt:e.awayTeam.name,className:"w-full h-full object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center",children:(m=e.awayTeam)==null?void 0:m.name})]})]})]}),e.events&&e.events.length>0&&u.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-3",children:"Ma Olaylar"}),u.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:e.events.map((_,b)=>u.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg transition-colors ${_.isGoal?"bg-yellow-400/10":_.isRedCard?"bg-red-500/10":"bg-white/5"}`,children:[u.jsx("span",{className:"text-xs text-yellow-400 font-mono w-12",children:_.clock}),u.jsxs("span",{className:"w-5 h-5 flex-shrink-0 flex items-center justify-center",children:[_.isGoal&&u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-4 h-4",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),_.isYellowCard&&!_.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3.5 h-5",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#eab308"})}),_.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3.5 h-5",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#ef4444"})})]}),u.jsxs("span",{className:`text-sm flex-1 ${_.isGoal?"text-yellow-400 font-bold":_.isRedCard?"text-red-400 font-semibold":"text-slate-300"}`,children:[_.player,_.type&&!_.isGoal&&!_.isYellowCard&&!_.isRedCard&&u.jsxs("span",{className:"text-slate-500 ml-1",children:["(",_.type,")"]})]})]},b))})]}),e.stats&&e.stats.length>0&&u.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-3",children:"statistikler"}),u.jsx("div",{className:"space-y-3",children:e.stats.filter(_=>r[_.name]).map((_,b)=>{const w=parseFloat(_.homeValue)||0,g=parseFloat(_.awayValue)||0,p=w+g||1;return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[u.jsx("span",{className:"font-medium text-white",children:_.homeValue}),u.jsx("span",{children:r[_.name]}),u.jsx("span",{className:"font-medium text-white",children:_.awayValue})]}),u.jsxs("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden flex",children:[u.jsx("div",{className:"bg-yellow-400 h-full transition-all duration-500",style:{width:`${w/p*100}%`}}),u.jsx("div",{className:"bg-slate-600 h-full flex-1"})]})]},b)})})]})]})},UN=({matchData:e,next3Matches:t=[],loading:n,onRetry:i,errorMessage:l,lastUpdated:s,isRefreshing:a,liveMatchState:r="countdown",liveMatchData:o=null,onCountdownEnd:c})=>{var j,L,ie,Re;const[h,d]=A.useState({days:0,hours:0,minutes:0,seconds:0}),[f,m]=A.useState(!1),[_,b]=A.useState(!1),[w,g]=A.useState(""),[p,y]=A.useState(30),v=A.useRef(!1);if(A.useEffect(()=>{v.current=!1},[e==null?void 0:e.id]),A.useEffect(()=>{if(!e||r!=="countdown")return;const K=setInterval(()=>{const T=new Date(e.startTimestamp*1e3)-new Date;if(T>0){const x=Math.floor(T/864e5),R=Math.floor(T/(1e3*60*60)%24),O=Math.floor(T/1e3/60%60),B=Math.floor(T/1e3%60);d({days:x,hours:R,minutes:O,seconds:B})}else!v.current&&c&&(v.current=!0,c()),d({days:0,hours:0,minutes:0,seconds:0})},1e3);return()=>clearInterval(K)},[e,r,c]),A.useEffect(()=>{if(r!=="post"){y(30);return}const K=setInterval(()=>{y(le=>le<=1?0:le-1)},1e3);return()=>clearInterval(K)},[r]),A.useEffect(()=>(f||_?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[f,_]),n)return u.jsx("div",{className:"flex items-center justify-center h-64 text-yellow-400 animate-pulse",children:"Ykleniyor..."});if(!e)return u.jsxs("div",{className:"text-center text-slate-400 mt-10 space-y-4",children:[u.jsx("p",{children:"Ma bilgisi bulunamad."}),l&&u.jsx("p",{className:"text-sm text-slate-300",children:l}),i&&u.jsx("button",{onClick:i,className:"px-4 py-2 rounded-full bg-yellow-400/20 text-yellow-300 border border-yellow-400/30 hover:bg-yellow-400 hover:text-black transition-colors",children:"Tekrar Dene"})]});const N=new Date(e.startTimestamp*1e3),M=3052,E=e.homeTeam.id===3052,D=E?e.awayTeam:e.homeTeam;return u.jsxs("div",{className:"min-h-screen pb-20",children:[u.jsxs("div",{className:"glass-card rounded-3xl p-6 relative overflow-hidden group mb-6",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-yellow-400 to-transparent opacity-50"}),u.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[u.jsx("span",{className:"text-xs font-bold tracking-wider text-yellow-400 uppercase bg-yellow-400/10 px-3 py-1 rounded-full border border-yellow-400/20",children:e.tournament.name}),u.jsx("span",{className:"text-xs text-slate-400 font-medium",children:N.toLocaleDateString("tr-TR",{day:"numeric",month:"long"})})]}),u.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:u.jsx(Aa,{teamId:E?M:D.id,name:E?"Fenerbahe":D.name,wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:E?"Fenerbahe":D.name})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center w-1/3 -mt-4",children:[u.jsx("span",{className:"text-2xl font-black text-slate-700/50",children:"VS"}),u.jsx("div",{className:"mt-2 text-center",children:u.jsx("span",{className:"text-3xl font-bold text-white tracking-tighter text-glow",children:N.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:u.jsx(Aa,{teamId:E?D.id:M,name:E?D.name:"Fenerbahe",wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),u.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:E?D.name:"Fenerbahe"})]})]}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5",children:[r==="countdown"&&u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.days}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Gn"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.hours}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Saat"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.minutes}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Dk"})]}),u.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[u.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:h.seconds}),u.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Sn"})]})]}),r==="pre"&&u.jsxs("div",{className:"text-center py-4",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-yellow-400"})]}),u.jsx("span",{className:"text-sm font-bold text-yellow-400 uppercase",children:"Ma Birazdan Balyor!"})]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Takmlar sahaya kyor..."})]}),r==="in"&&o&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("span",{className:"text-sm font-bold text-red-400 uppercase",children:"Canl"}),u.jsx("span",{className:"text-xs text-slate-400 ml-1",children:o.displayClock})]}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[u.jsx("span",{className:"text-4xl font-black text-white",children:((j=o.homeTeam)==null?void 0:j.score)||"0"}),u.jsx("span",{className:"text-lg text-slate-500",children:""}),u.jsx("span",{className:"text-4xl font-black text-white",children:((L=o.awayTeam)==null?void 0:L.score)||"0"})]}),o.events&&o.events.length>0&&u.jsx("div",{className:"space-y-1 mb-4 max-h-32 overflow-y-auto",children:o.events.map((K,le)=>u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("span",{className:"text-slate-500 w-10 text-right",children:K.clock}),u.jsxs("span",{className:"w-4 h-4 flex-shrink-0 flex items-center justify-center",children:[K.isGoal&&u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-4 h-4",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),K.isYellowCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3 h-4",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#eab308"})}),K.isRedCard&&u.jsx("svg",{viewBox:"0 0 12 16",className:"w-3 h-4",children:u.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#ef4444"})})]}),u.jsx("span",{className:`${K.isGoal?"text-yellow-400 font-bold":K.isRedCard?"text-red-400":"text-slate-300"}`,children:K.player})]},le))}),u.jsx("button",{onClick:()=>m(!0),className:"w-full px-4 py-2 bg-yellow-400/10 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 rounded-lg text-xs font-bold transition-all duration-300",children:"Detayl statistikler"})]}),r==="post"&&o&&u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:u.jsx("span",{className:"text-sm font-bold text-green-400 uppercase",children:"Ma Bitti"})}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[u.jsx("span",{className:"text-4xl font-black text-white",children:((ie=o.homeTeam)==null?void 0:ie.score)||"0"}),u.jsx("span",{className:"text-lg text-slate-500",children:""}),u.jsx("span",{className:"text-4xl font-black text-white",children:((Re=o.awayTeam)==null?void 0:Re.score)||"0"})]}),o.events&&o.events.filter(K=>K.isGoal).length>0&&u.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:o.events.filter(K=>K.isGoal).map((K,le)=>u.jsxs("span",{className:"text-xs text-slate-300 bg-white/5 px-2 py-1 rounded-full flex items-center gap-1",children:[u.jsxs("svg",{viewBox:"0 0 16 16",className:"w-3 h-3 inline",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"#eab308",strokeWidth:"1.5"}),u.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#eab308"})]}),K.clock," ",K.player]},le))}),u.jsxs("div",{className:"glass-panel rounded-lg p-3 text-center",children:[u.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["Sonraki maa geiliyor... ",p,"sn"]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-1",children:u.jsx("div",{className:"bg-yellow-400/50 h-1 rounded-full transition-all duration-1000",style:{width:`${(30-p)/30*100}%`}})})]})]})]})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6",children:[u.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.jsx("span",{className:"text-sm font-bold",children:"Sonraki Malar"})}),u.jsx("div",{className:"space-y-3",children:t.length>0?t.map((K,le)=>{const me=new Date(K.startTimestamp*1e3),T=K.homeTeam,x=K.awayTeam,R=T.id===M;return u.jsxs("div",{className:"glass-panel rounded-xl p-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(Aa,{teamId:R?M:T.id,name:T.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"}),u.jsx("span",{className:"text-xs font-medium truncate",children:T.name})]}),u.jsxs("div",{className:"flex flex-col items-center px-3",children:[u.jsx("span",{className:"text-[10px] text-slate-400",children:me.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),u.jsx("span",{className:"text-xs font-bold",children:me.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[u.jsx("span",{className:"text-xs font-medium truncate text-right",children:x.name}),u.jsx(Aa,{teamId:R?x.id:M,name:x.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"})]})]},le)}):u.jsx("div",{className:"text-center text-slate-500 text-xs py-4",children:"Ma bilgisi ykleniyor..."})})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6",children:[u.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Puan Durumu"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:()=>{g("superlig"),b(!0)},className:"px-4 py-3 bg-yellow-400/5 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 hover:border-yellow-400 rounded-xl text-sm font-bold transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",children:"Sper Lig"}),u.jsx("button",{onClick:()=>{g("europa"),b(!0)},className:"px-4 py-3 bg-yellow-400/5 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 hover:border-yellow-400 rounded-xl text-sm font-bold transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",children:"Avrupa Ligi"})]})]}),u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"mb-6",children:u.jsx(zN,{opponentName:D.name,matchId:e.id})})}),f&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:()=>m(!1),children:u.jsxs("div",{className:"bg-[#0f172a] border-2 border-yellow-400/30 rounded-2xl p-6 max-w-4xl w-full max-h-[85vh] overflow-hidden animate-slideUp shadow-[0_0_40px_rgba(234,179,8,0.2)]",onClick:K=>K.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-yellow-400/20",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),u.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:"Canl Ma Detaylar"})]}),u.jsx("button",{onClick:()=>m(!1),className:"text-yellow-400 hover:text-white transition-all duration-300 hover:rotate-90",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"w-full",children:u.jsx(IN,{})})]})}),_&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:()=>b(!1),children:u.jsxs("div",{className:"bg-[#0f172a] border-2 border-yellow-400/30 rounded-2xl p-6 max-w-4xl w-full max-h-[85vh] overflow-hidden animate-slideUp shadow-[0_0_40px_rgba(234,179,8,0.2)]",onClick:K=>K.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-yellow-400/20",children:[u.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:w==="superlig"?"Sper Lig Puan Durumu":"UEFA Avrupa Ligi Puan Durumu"}),u.jsx("button",{onClick:()=>b(!1),className:"text-yellow-400 hover:text-white hover:rotate-90 transition-all duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"w-full",children:u.jsx(LN,{league:w})})]})})]})};function BN(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),l=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(l),t&&(i.href=t),l.href=e,l.href}const HN=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Gn(e){const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}let Ii=null;function Vv(e={}){return Ii||(e.includeStyleProperties?(Ii=e.includeStyleProperties,Ii):(Ii=Gn(window.getComputedStyle(document.documentElement)),Ii))}function qr(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function qN(e){const t=qr(e,"border-left-width"),n=qr(e,"border-right-width");return e.clientWidth+t+n}function VN(e){const t=qr(e,"border-top-width"),n=qr(e,"border-bottom-width");return e.clientHeight+t+n}function Gv(e,t={}){const n=t.width||qN(e),i=t.height||VN(e);return{width:n,height:i}}function GN(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const st=16384;function YN(e){(e.width>st||e.height>st)&&(e.width>st&&e.height>st?e.width>e.height?(e.height*=st/e.width,e.width=st):(e.width*=st/e.height,e.height=st):e.width>st?(e.height*=st/e.width,e.width=st):(e.width*=st/e.height,e.height=st))}function Vr(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>t(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function QN(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function FN(e,t,n){const i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return l.setAttribute("width",`${t}`),l.setAttribute("height",`${n}`),l.setAttribute("viewBox",`0 0 ${t} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),l.appendChild(s),s.appendChild(e),QN(l)}const et=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||et(n,t)};function KN(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function XN(e,t){return Vv(t).map(n=>{const i=e.getPropertyValue(n),l=e.getPropertyPriority(n);return`${n}: ${i}${l?" !important":""};`}).join(" ")}function ZN(e,t,n,i){const l=`.${e}:${t}`,s=n.cssText?KN(n):XN(n,i);return document.createTextNode(`${l}{${s}}`)}function wp(e,t,n,i){const l=window.getComputedStyle(e,n),s=l.getPropertyValue("content");if(s===""||s==="none")return;const a=HN();try{t.className=`${t.className} ${a}`}catch{return}const r=document.createElement("style");r.appendChild(ZN(a,n,l,i)),t.appendChild(r)}function PN(e,t,n){wp(e,t,":before",n),wp(e,t,":after",n)}const Ep="application/font-woff",Cp="image/jpeg",$N={woff:Ep,woff2:Ep,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Cp,jpeg:Cp,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function WN(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function qd(e){const t=WN(e).toLowerCase();return $N[t]||""}function JN(e){return e.split(/,/)[1]}function Zu(e){return e.search(/^(data:)/)!==-1}function e3(e,t){return`data:${t};base64,${e}`}async function Yv(e,t,n){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const l=await i.blob();return new Promise((s,a)=>{const r=new FileReader;r.onerror=a,r.onloadend=()=>{try{s(n({res:i,result:r.result}))}catch(o){a(o)}},r.readAsDataURL(l)})}const Dc={};function t3(e,t,n){let i=e.replace(/\?.*/,"");return n&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function Vd(e,t,n){const i=t3(e,t,n.includeQueryParams);if(Dc[i]!=null)return Dc[i];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let l;try{const s=await Yv(e,n.fetchRequestInit,({res:a,result:r})=>(t||(t=a.headers.get("Content-Type")||""),JN(r)));l=e3(s,t)}catch(s){l=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;s&&(a=typeof s=="string"?s:s.message),a&&console.warn(a)}return Dc[i]=l,l}async function n3(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Vr(t)}async function i3(e,t){if(e.currentSrc){const s=document.createElement("canvas"),a=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,a==null||a.drawImage(e,0,0,s.width,s.height);const r=s.toDataURL();return Vr(r)}const n=e.poster,i=qd(n),l=await Vd(n,i,t);return Vr(l)}async function l3(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await Ro(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function s3(e,t){return et(e,HTMLCanvasElement)?n3(e):et(e,HTMLVideoElement)?i3(e,t):et(e,HTMLIFrameElement)?l3(e,t):e.cloneNode(Qv(e))}const a3=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Qv=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function r3(e,t,n){var i,l;if(Qv(t))return t;let s=[];return a3(e)&&e.assignedNodes?s=Gn(e.assignedNodes()):et(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?s=Gn(e.contentDocument.body.childNodes):s=Gn(((l=e.shadowRoot)!==null&&l!==void 0?l:e).childNodes),s.length===0||et(e,HTMLVideoElement)||await s.reduce((a,r)=>a.then(()=>Ro(r,n)).then(o=>{o&&t.appendChild(o)}),Promise.resolve()),t}function o3(e,t,n){const i=t.style;if(!i)return;const l=window.getComputedStyle(e);l.cssText?(i.cssText=l.cssText,i.transformOrigin=l.transformOrigin):Vv(n).forEach(s=>{let a=l.getPropertyValue(s);s==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),et(e,HTMLIFrameElement)&&s==="display"&&a==="inline"&&(a="block"),s==="d"&&t.getAttribute("d")&&(a=`path(${t.getAttribute("d")})`),i.setProperty(s,a,l.getPropertyPriority(s))})}function c3(e,t){et(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),et(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function u3(e,t){if(et(e,HTMLSelectElement)){const n=t,i=Array.from(n.children).find(l=>e.value===l.getAttribute("value"));i&&i.setAttribute("selected","")}}function f3(e,t,n){return et(t,Element)&&(o3(e,t,n),PN(e,t,n),c3(e,t),u3(e,t)),t}async function d3(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const i={};for(let s=0;s<n.length;s++){const r=n[s].getAttribute("xlink:href");if(r){const o=e.querySelector(r),c=document.querySelector(r);!o&&c&&!i[r]&&(i[r]=await Ro(c,t,!0))}}const l=Object.values(i);if(l.length){const s="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg");a.setAttribute("xmlns",s),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const r=document.createElementNS(s,"defs");a.appendChild(r);for(let o=0;o<l.length;o++)r.appendChild(l[o]);e.appendChild(a)}return e}async function Ro(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>s3(i,t)).then(i=>r3(e,i,t)).then(i=>f3(e,i,t)).then(i=>d3(i,t))}const Fv=/url\((['"]?)([^'"]+?)\1\)/g,h3=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,m3=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function p3(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function g3(e){const t=[];return e.replace(Fv,(n,i,l)=>(t.push(l),n)),t.filter(n=>!Zu(n))}async function y3(e,t,n,i,l){try{const s=n?BN(t,n):t,a=qd(t);let r;return l||(r=await Vd(s,a,i)),e.replace(p3(t),`$1${r}$3`)}catch{}return e}function _3(e,{preferredFontFormat:t}){return t?e.replace(m3,n=>{for(;;){const[i,,l]=h3.exec(n)||[];if(!l)return"";if(l===t)return`src: ${i};`}}):e}function Kv(e){return e.search(Fv)!==-1}async function Xv(e,t,n){if(!Kv(e))return e;const i=_3(e,n);return g3(i).reduce((s,a)=>s.then(r=>y3(r,a,t,n)),Promise.resolve(i))}async function Ui(e,t,n){var i;const l=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(l){const s=await Xv(l,null,n);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function v3(e,t){await Ui("background",e,t)||await Ui("background-image",e,t),await Ui("mask",e,t)||await Ui("-webkit-mask",e,t)||await Ui("mask-image",e,t)||await Ui("-webkit-mask-image",e,t)}async function b3(e,t){const n=et(e,HTMLImageElement);if(!(n&&!Zu(e.src))&&!(et(e,SVGImageElement)&&!Zu(e.href.baseVal)))return;const i=n?e.src:e.href.baseVal,l=await Vd(i,qd(i),t);await new Promise((s,a)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...o)=>{try{s(t.onImageErrorHandler(...o))}catch(c){a(c)}}:a;const r=e;r.decode&&(r.decode=s),r.loading==="lazy"&&(r.loading="eager"),n?(e.srcset="",e.src=l):e.href.baseVal=l})}async function S3(e,t){const i=Gn(e.childNodes).map(l=>Zv(l,t));await Promise.all(i).then(()=>e)}async function Zv(e,t){et(e,Element)&&(await v3(e,t),await b3(e,t),await S3(e,t))}function x3(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(l=>{n[l]=i[l]}),e}const Tp={};async function Np(e){let t=Tp[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},Tp[e]=t,t}async function Ap(e,t){let n=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let r=a.replace(i,"$1");return r.startsWith("https://")||(r=new URL(r,e.url).href),Yv(r,t.fetchRequestInit,({result:o})=>(n=n.replace(a,`url(${o})`),[a,o]))});return Promise.all(s).then(()=>n)}function Rp(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(n,"");const l=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const o=l.exec(i);if(o===null)break;t.push(o[0])}i=i.replace(l,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",r=new RegExp(a,"gi");for(;;){let o=s.exec(i);if(o===null){if(o=r.exec(i),o===null)break;s.lastIndex=r.lastIndex}else r.lastIndex=s.lastIndex;t.push(o[0])}return t}async function w3(e,t){const n=[],i=[];return e.forEach(l=>{if("cssRules"in l)try{Gn(l.cssRules||[]).forEach((s,a)=>{if(s.type===CSSRule.IMPORT_RULE){let r=a+1;const o=s.href,c=Np(o).then(h=>Ap(h,t)).then(h=>Rp(h).forEach(d=>{try{l.insertRule(d,d.startsWith("@import")?r+=1:l.cssRules.length)}catch(f){console.error("Error inserting rule from remote css",{rule:d,error:f})}})).catch(h=>{console.error("Error loading remote css",h.toString())});i.push(c)}})}catch(s){const a=e.find(r=>r.href==null)||document.styleSheets[0];l.href!=null&&i.push(Np(l.href).then(r=>Ap(r,t)).then(r=>Rp(r).forEach(o=>{a.insertRule(o,a.cssRules.length)})).catch(r=>{console.error("Error loading remote stylesheet",r)})),console.error("Error inlining remote css file",s)}}),Promise.all(i).then(()=>(e.forEach(l=>{if("cssRules"in l)try{Gn(l.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${l.href}`,s)}}),n))}function E3(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Kv(t.style.getPropertyValue("src")))}async function C3(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Gn(e.ownerDocument.styleSheets),i=await w3(n,t);return E3(i)}function Pv(e){return e.trim().replace(/["']/g,"")}function T3(e){const t=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(s=>{t.add(Pv(s))}),Array.from(i.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(e),t}async function N3(e,t){const n=await C3(e,t),i=T3(e);return(await Promise.all(n.filter(s=>i.has(Pv(s.style.fontFamily))).map(s=>{const a=s.parentStyleSheet?s.parentStyleSheet.href:null;return Xv(s.cssText,a,t)}))).join(`
`)}async function A3(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await N3(e,t);if(n){const i=document.createElement("style"),l=document.createTextNode(n);i.appendChild(l),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function R3(e,t={}){const{width:n,height:i}=Gv(e,t),l=await Ro(e,t,!0);return await A3(l,t),await Zv(l,t),x3(l,t),await FN(l,n,i)}async function M3(e,t={}){const{width:n,height:i}=Gv(e,t),l=await R3(e,t),s=await Vr(l),a=document.createElement("canvas"),r=a.getContext("2d"),o=t.pixelRatio||GN(),c=t.canvasWidth||n,h=t.canvasHeight||i;return a.width=c*o,a.height=h*o,t.skipAutoScale||YN(a),a.style.width=`${c}`,a.style.height=`${h}`,t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(0,0,a.width,a.height)),r.drawImage(s,0,0,a.width,a.height),a}async function O3(e,t={}){return(await M3(e,t)).toDataURL()}const D3=`data:image/svg+xml,${encodeURIComponent('<svg viewBox="0 0 68 105" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="grass" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#1a472a"/><stop offset="50%" style="stop-color:#166534"/><stop offset="100%" style="stop-color:#1a472a"/></linearGradient></defs><rect width="68" height="105" fill="url(#grass)"/><g stroke="rgba(255,255,255,0.5)" stroke-width="0.4" fill="none"><rect x="4" y="4" width="60" height="97"/><line x1="4" y1="52.5" x2="64" y2="52.5"/><circle cx="34" cy="52.5" r="9.15"/><circle cx="34" cy="52.5" r="0.5" fill="rgba(255,255,255,0.5)"/><rect x="13.84" y="4" width="40.32" height="16.5"/><rect x="24.84" y="4" width="18.32" height="5.5"/><circle cx="34" cy="15" r="0.5" fill="rgba(255,255,255,0.5)"/><path d="M 25.5 20.5 A 9.15 9.15 0 0 0 42.5 20.5"/><rect x="13.84" y="84.5" width="40.32" height="16.5"/><rect x="24.84" y="95.5" width="18.32" height="5.5"/><circle cx="34" cy="90" r="0.5" fill="rgba(255,255,255,0.5)"/><path d="M 25.5 84.5 A 9.15 9.15 0 0 1 42.5 84.5"/><path d="M 4 6 A 2 2 0 0 0 6 4"/><path d="M 62 4 A 2 2 0 0 0 64 6"/><path d="M 4 99 A 2 2 0 0 1 6 101"/><path d="M 62 101 A 2 2 0 0 1 64 99"/></g></svg>')}`,j3=()=>{const[e,t]=A.useState([]),[n,i]=A.useState({}),[l,s]=A.useState("4-2-3-1"),[a,r]=A.useState(!0),[o,c]=A.useState(!1),[h,d]=A.useState(null),[f,m]=A.useState(""),[_,b]=A.useState(!1),[w,g]=A.useState(!1),p=A.useRef(null);A.useEffect(()=>{(async()=>{const R=await tx();t(R),r(!1)})()},[]),A.useEffect(()=>{if(typeof window<"u"){const x="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;g(x)}},[]);const y=(x,R)=>{x.dataTransfer.setData("player",JSON.stringify(R))},v=(x,R)=>{x.preventDefault();const O=JSON.parse(x.dataTransfer.getData("player")),B=x.dataTransfer.getData("sourcePosition");if(B){const Fe=n[R];i(lt=>{const Gt={...lt};return Fe?(Gt[B]=Fe,Gt[R]=O):(delete Gt[B],Gt[R]=O),Gt})}else{if(Object.values(n).some(lt=>lt.id===O.id))return;i(lt=>({...lt,[R]:O}))}},N=x=>{x.preventDefault()},M=x=>{i(R=>{const O={...R};return delete O[x],O})},E=x=>{n[x]||(d(x),c(!0))},D=x=>{h&&(Object.values(n).some(O=>O.id===x.id)||i(O=>({...O,[h]:x}))),c(!1),d(null),m("")},j={"4-3-3":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CM1:{top:"50%",left:"28%"},CM2:{top:"50%",left:"50%"},CM3:{top:"50%",left:"72%"},LW:{top:"25%",left:"12%"},ST:{top:"15%",left:"50%"},RW:{top:"25%",left:"88%"}},"4-4-2":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},LM:{top:"50%",left:"12%"},CM1:{top:"50%",left:"35%"},CM2:{top:"50%",left:"65%"},RM:{top:"50%",left:"88%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}},"4-2-3-1":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM1:{top:"60%",left:"35%"},CDM2:{top:"60%",left:"65%"},LAM:{top:"35%",left:"15%"},CAM:{top:"32%",left:"50%"},RAM:{top:"35%",left:"85%"},ST:{top:"15%",left:"50%"}},"4-1-4-1":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM:{top:"62%",left:"50%"},LM:{top:"45%",left:"12%"},CM1:{top:"45%",left:"35%"},CM2:{top:"45%",left:"65%"},RM:{top:"45%",left:"88%"},ST:{top:"15%",left:"50%"}},"3-5-2":{GK:{top:"93%",left:"50%"},CB1:{top:"78%",left:"25%"},CB2:{top:"78%",left:"50%"},CB3:{top:"78%",left:"75%"},LWB:{top:"55%",left:"8%"},CM1:{top:"50%",left:"28%"},CM2:{top:"50%",left:"50%"},CM3:{top:"50%",left:"72%"},RWB:{top:"55%",left:"92%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}},"4-1-2-1-2 Diamond":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM:{top:"62%",left:"50%"},CM1:{top:"48%",left:"25%"},CM2:{top:"48%",left:"75%"},CAM:{top:"32%",left:"50%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}}},L=j[l],ie=Object.keys(n).length,Re=Object.keys(L).length,K=async()=>{const x=new Date().toISOString().split("T")[0],R=await O3(p.current,{quality:1,pixelRatio:2,backgroundColor:"#030712",style:{transform:"scale(1)"}}),B=await(await fetch(R)).blob(),Fe=`fenerbahce-${l.replace(/[^0-9a-z-]/gi,"")}-lineup-${x}.png`;return{blob:B,fileName:Fe,dataUrl:R}},le=async()=>{if(!(!ie||_||!p.current)){b(!0);try{const{dataUrl:x,fileName:R}=await K(),O=document.createElement("a");O.download=R,O.href=x,O.click()}catch(x){console.error("Kadro kart indirilirken hata olutu:",x),window.alert(`Kart indirilirken bir hata olutu: ${x.message}`)}finally{b(!1)}}},me=async()=>{if(!(!ie||_||!p.current)){b(!0);try{const{blob:x,fileName:R}=await K(),O=new File([x],R,{type:"image/png"});navigator.share&&navigator.canShare({files:[O]})?await navigator.share({title:"Fenerbahe Kadrom",text:`Benim ${l} kadrom! `,files:[O]}):le()}catch(x){x.name!=="AbortError"&&console.error("Paylam hatas:",x)}finally{b(!1)}}},T=Object.entries(L).sort(([,x],[,R])=>parseFloat(x.top)-parseFloat(R.top));return u.jsxs("div",{className:"h-full flex flex-col pb-20",children:[u.jsxs("div",{className:"flex flex-col gap-3 mb-4 px-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("select",{value:l,onChange:x=>s(x.target.value),className:"bg-slate-800 text-white text-sm rounded-lg px-3 py-2 border border-slate-700 focus:outline-none focus:border-yellow-400",children:Object.keys(j).map(x=>u.jsx("option",{value:x,children:x},x))}),u.jsx("button",{onClick:()=>i({}),className:"text-xs text-red-400 hover:text-red-300 font-medium px-3 py-2 bg-red-400/10 rounded-lg border border-red-400/20",children:"Temizle"})]}),u.jsx("div",{className:"glass-panel rounded-xl p-4 flex flex-col gap-3 border border-white/5",children:u.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-white",children:"Kadro Payla"}),u.jsxs("p",{className:"text-[11px] text-slate-400",children:["Tamamlanan kadro: ",u.jsxs("span",{className:"font-semibold text-white",children:[ie,"/",Re]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:me,disabled:!ie||_,className:`px-3 py-2 rounded-lg text-xs font-semibold flex items-center gap-2 transition-colors ${ie&&!_?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/40 hover:bg-yellow-500/30":"bg-white/5 text-slate-500 border border-white/10 cursor-not-allowed"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),_?"Hazrlanyor...":"Payla"]}),u.jsxs("button",{onClick:le,disabled:!ie||_,className:`px-3 py-2 rounded-lg text-xs font-semibold flex items-center gap-2 transition-colors ${ie&&!_?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/40 hover:bg-emerald-500/30":"bg-white/5 text-slate-500 border border-white/10 cursor-not-allowed"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"ndir"]})]})]})})]}),u.jsx("div",{ref:p,className:"relative w-full aspect-[2/3] overflow-hidden mx-auto max-w-sm rounded-xl mb-6",style:{backgroundImage:`url("${D3}")`,backgroundSize:"cover",backgroundPosition:"center"},children:T.map(([x,R])=>{const O=n[x];return u.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 flex items-center justify-center transition-all duration-200",style:R,onDrop:B=>v(B,x),onDragOver:N,onClick:()=>E(x),children:O?u.jsxs("div",{className:"relative w-full h-full flex flex-col items-center group",draggable:!_&&!w,onDragStart:B=>{B.dataTransfer.setData("player",JSON.stringify(O)),B.dataTransfer.setData("sourcePosition",x)},children:[u.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-yellow-400 overflow-hidden bg-slate-800 shadow-lg relative cursor-move z-10 group-hover:scale-110 transition-transform",children:O.photo?u.jsx("img",{src:O.photo,alt:O.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold",children:O.number})}),!_&&u.jsx("button",{type:"button","aria-label":`${O.name} pozisyonundan kar`,onClick:B=>{B.stopPropagation(),M(x)},className:"absolute top-0 right-0 w-4 h-4 rounded-full bg-slate-900/90 backdrop-blur-sm border border-slate-600/50 flex items-center justify-center shadow-md active:scale-90 transition-all z-20 hover:border-yellow-400/60 hover:bg-slate-800",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-2.5 h-2.5 text-slate-400 group-hover:text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),u.jsx("div",{className:"mt-1 bg-slate-900/90 px-2 py-0.5 rounded text-[9px] text-white font-medium truncate w-20 text-center border border-white/10 backdrop-blur-sm shadow-sm z-20",children:O.name.split(" ").pop()})]}):u.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-dashed border-white/40 bg-white/5 flex items-center justify-center hover:bg-white/10 hover:border-yellow-400/50 transition-all cursor-pointer",children:u.jsx("span",{className:"text-2xl text-white/50 hover:text-yellow-400",children:"+"})})},x)})}),u.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-2 px-2 uppercase tracking-wider",children:"Oyuncular"}),u.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar px-2 pb-20 touch-pan-y",children:u.jsx("div",{className:"grid grid-cols-4 gap-2",children:a?u.jsx("div",{className:"col-span-4 text-center text-slate-500 py-4",children:"Ykleniyor..."}):e.map(x=>u.jsxs("div",{draggable:!w,onDragStart:R=>y(R,x),className:"glass-panel rounded-lg p-2 flex flex-col items-center gap-1 cursor-move active:scale-95 transition-transform hover:bg-white/5",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 overflow-hidden border border-white/10 pointer-events-none",children:x.photo?u.jsx("img",{src:x.photo,alt:x.name,className:"w-full h-full object-cover",crossOrigin:"anonymous",draggable:"false"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:x.number})}),u.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center pointer-events-none",children:x.name.split(" ").slice(-1)[0]}),u.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded pointer-events-none",children:x.position})]},x.id))})})]}),o&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{c(!1),m("")},children:u.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm max-h-[75vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-white",children:"Oyuncu Se"}),u.jsxs("div",{className:"mt-3 relative",children:[u.jsx("input",{type:"text",value:f,onChange:x=>m(x.target.value),placeholder:"sim ya da forma no ile ara...",className:"w-full bg-slate-900/60 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-yellow-400"}),f&&u.jsx("button",{onClick:()=>m(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white text-xs",children:"Temizle"})]})]}),u.jsx("button",{onClick:()=>{c(!1),m("")},className:"text-slate-400 hover:text-white",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:u.jsx("div",{className:"grid grid-cols-3 gap-2",children:(()=>{const x=f.trim().toLowerCase(),R=x?e.filter(O=>{var lt;const B=(lt=O.name)==null?void 0:lt.toLowerCase().includes(x),Fe=String(O.number??"").includes(x);return B||Fe}):e;return R.length?R.map(O=>{const B=Object.values(n).some(Fe=>Fe.id===O.id);return u.jsxs("button",{onClick:()=>D(O),disabled:B,className:`glass-panel rounded-lg p-2 flex flex-col items-center gap-1 transition-all ${B?"opacity-50 cursor-not-allowed":"hover:bg-yellow-400/20 hover:border-yellow-400/30 cursor-pointer"}`,children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 overflow-hidden border border-white/10",children:O.photo?u.jsx("img",{src:O.photo,alt:O.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:O.number})}),u.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center",children:O.name.split(" ").slice(-1)[0]}),u.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded",children:O.position})]},O.id)}):u.jsx("div",{className:"col-span-3 text-center text-slate-500 text-xs py-6",children:"Oyuncu bulunamad"})})()})})]})})]})},Mp="fb_fcm_token",Pu=()=>({threeHours:!1,oneHour:!1,thirtyMinutes:!1,fifteenMinutes:!1,dailyCheck:!1}),Op=(e={})=>({...Pu(),...e}),k3=()=>{const[e,t]=A.useState(!1),[n,i]=A.useState(()=>{const w=localStorage.getItem("fb_notification_options");if(w)try{return Op(JSON.parse(w))}catch{return Pu()}return Pu()}),[l,s]=A.useState(null),[a,r]=A.useState(()=>localStorage.getItem("fb_has_notifications")==="true");A.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const o=w=>{s(g=>{const p=g??n;return{...p,[w]:!(p!=null&&p[w])}})},c=()=>{s({...n}),t(!0)},h=()=>{s(null),t(!1)},d=async()=>{const w=Op(m),g=Object.entries(w).filter(([v,N])=>N&&v!=="updatedAt").length,p=g===0;let y=localStorage.getItem(Mp);try{if(!p)try{if(!("Notification"in window)){alert(" Bu tarayc bildirimleri desteklemiyor.");return}if(await Notification.requestPermission()==="granted"){const{messaging:N}=await Ru(async()=>{const{messaging:j}=await Promise.resolve().then(()=>CN);return{messaging:j}},void 0),{getToken:M}=await Ru(async()=>{const{getToken:j}=await Promise.resolve().then(()=>wN);return{getToken:j}},void 0),E="/fenerbahce-fan-hub/firebase-messaging-sw.js",D="/fenerbahce-fan-hub/firebase-cloud-messaging-push-scope";console.log("FCM Service Worker registration path:",E,"scope:",D);try{let j=await navigator.serviceWorker.getRegistration(D);j||(j=await navigator.serviceWorker.register(E,{scope:D})),console.log(" FCM Service Worker ready:",j),y=await M(N,{vapidKey:"BL36u1e0V4xvIyP8n_Nh1Uc_EZTquN1vNv58E3wm_q3IsQ916MfhsbF1NATwfeoitmAIyhMTC5TdhB7CSBRAz-4",serviceWorkerRegistration:j}),y&&localStorage.setItem(Mp,y)}catch(j){console.error("FCM Service Worker registration failed:",j),alert(` Service Worker hatas: ${j.message}`);return}}else{alert(" Bildirim izni reddedildi! Tarayc ayarlarndan izin vermelisiniz.");return}}catch(v){console.error("Token alnamad:",v),alert(` Bildirim hatas: ${v.message}`);return}if(y){const v=await fetch(`${yn}/reminder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:y,options:w})});if(!v.ok)throw new Error(`Backend error: ${v.status}`);const N=await v.json();console.log("Backend response:",N)}else if(p)console.warn("No stored token found while disabling notifications; local state cleared only.");else{alert(" Bildirim tokeni alnamad. Ltfen tekrar deneyin.");return}g===0?(r(!1),localStorage.removeItem("fb_has_notifications"),localStorage.removeItem("fb_notification_options"),alert(" Tm bildirimler temizlendi!")):(r(!0),localStorage.setItem("fb_has_notifications","true"),localStorage.setItem("fb_notification_options",JSON.stringify(w)),alert(` ${g} bildirim ayarland! Tm malara uygulanacak.`)),i(w),s(null),t(!1)}catch(v){console.error("Bildirim kaydetme hatas:",v),alert(" Balant hatas! Ltfen tekrar deneyin.")}},f=[{id:"threeHours",label:"Matan 3 saat nce",description:"Hazrlk yapmaya zamann olsun"},{id:"oneHour",label:"Matan 1 saat nce",description:"Heyecan zaman!"},{id:"thirtyMinutes",label:"Matan 30 dakika nce",description:"Son hazrlk"},{id:"fifteenMinutes",label:"Matan 15 dakika nce",description:"Ma balyor!"}],m=l??n,_=JSON.stringify(m)!==JSON.stringify(n),b=Object.entries(m).filter(([w,g])=>g&&w!=="updatedAt").length;return Object.entries(n).filter(([w,g])=>g&&w!=="updatedAt").length,u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:c,className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-300 bg-white/5 text-slate-400 hover:bg-white/10 hover:text-yellow-400 hover:scale-110 ${a?"ring-2 ring-yellow-400/60 text-yellow-400/80":""}`,title:"Bildirim ayarlar",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:a?2:1.5,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:h,children:u.jsxs("div",{className:"bg-[#0f172a] border border-white/10 rounded-2xl p-6 max-w-md w-full max-h-[85vh] overflow-y-auto animate-slideUp shadow-2xl",onClick:w=>w.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-white",children:"Bildirim Ayarlar"}),u.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Tm malar iin geerli"})]}),u.jsx("button",{onClick:h,className:"text-slate-400 hover:text-white hover:rotate-90 transition-all duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"glass-panel rounded-xl p-4 mb-6 border border-yellow-400/20",children:[u.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"text-sm font-semibold",children:"Bu ayarlar tm malara uygulanr"})]}),u.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Bir kez ayarla, her ma iin otomatik bildirim al!"})]}),u.jsxs("div",{className:"space-y-3 mb-6",children:[f.map(w=>u.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${m[w.id]?"bg-yellow-400/20 border-yellow-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[u.jsx("input",{type:"checkbox",checked:m[w.id],onChange:()=>o(w.id),className:"mt-1 w-5 h-5 rounded border-2 border-yellow-400 bg-transparent checked:bg-yellow-400 cursor-pointer accent-yellow-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("span",{className:"font-semibold text-white",children:w.label})}),u.jsx("p",{className:"text-xs text-slate-400",children:w.description})]})]},w.id)),u.jsx("div",{className:"pt-3 border-t border-white/10",children:u.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${m.dailyCheck?"bg-blue-400/20 border-blue-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[u.jsx("input",{type:"checkbox",checked:m.dailyCheck,onChange:()=>o("dailyCheck"),className:"mt-1 w-5 h-5 rounded border-2 border-blue-400 bg-transparent checked:bg-blue-400 cursor-pointer accent-blue-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"font-semibold text-white",children:"Gnlk Ma Kontrol"}),u.jsx("span",{className:"text-[10px] bg-blue-500/20 text-blue-300 px-2 py-0.5 rounded-full font-bold",children:"ZEL"})]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Her sabah 09:00'da kontrol et, o gn ma varsa bildir"})]})]})})]}),Object.entries(m).some(([w,g])=>g&&w!=="updatedAt")&&u.jsx("div",{className:"bg-yellow-400/10 border border-yellow-400/30 rounded-lg p-3 mb-4 animate-fadeIn",children:u.jsxs("p",{className:"text-xs text-yellow-200",children:[u.jsx("strong",{className:"text-yellow-400",children:b})," bildirim setiniz"]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:w=>{w.stopPropagation(),h()},className:"flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 transition-all duration-200 font-medium border border-white/10 hover:border-white/20",children:"ptal"}),u.jsx("button",{onClick:d,disabled:!_,className:`flex-1 py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-all duration-200 ${_?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-300 hover:to-yellow-400 shadow-[0_0_20px_rgba(234,179,8,0.3)] hover:shadow-[0_0_30px_rgba(234,179,8,0.5)] hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed opacity-50"}`,children:"Kaydet"})]})]})})]})},z3=()=>{if(typeof window>"u")return null;const e=localStorage.getItem("fb_last_match");if(!e)return null;try{return JSON.parse(e)}catch(t){return console.warn("fb_last_match parse error:",t),null}};function L3(){const[e,t]=A.useState("dashboard"),n=A.useMemo(()=>typeof window>"u"?null:z3(),[]),[i,l]=A.useState((n==null?void 0:n.nextMatch)??null),[s,a]=A.useState((n==null?void 0:n.next3Matches)??[]),[r,o]=A.useState((n==null?void 0:n.timestamp)??null),[c,h]=A.useState(!n),[d,f]=A.useState(!1),[m,_]=A.useState(null),b=A.useRef(!!(n!=null&&n.nextMatch)),[w,g]=A.useState("countdown"),[p,y]=A.useState(null),[v,N]=A.useState(0),M=A.useRef(null),E=A.useRef(null);A.useEffect(()=>{b.current=!!i},[i]);const D=A.useCallback(async()=>{const le=b.current;_(null),le?f(!0):h(!0);try{const[me,T]=await Promise.all([ex(),nx()]),x=Array.isArray(T)?T:[];if(a(x),me){l(me),N(0);const R={nextMatch:me,next3Matches:x,timestamp:Date.now()};typeof window<"u"&&localStorage.setItem("fb_last_match",JSON.stringify(R)),o(R.timestamp)}else l(null),_("Ma verisi alnamad. Ltfen balantn kontrol edip tekrar dene.")}catch(me){console.error("loadMatchData error:",me),l(null),a([]),_("Beklenmeyen bir hata olutu. Tekrar dene veya biraz sonra gel.")}finally{h(!1),f(!1)}},[]);A.useEffect(()=>{D()},[D]);const j=A.useMemo(()=>v===0?i:s.length>v?s[v]:i,[i,s,v]),L=A.useCallback(async()=>{try{const le=await fetch(`${yn}/live-match`);if(!le.ok)return y(null),null;const me=await le.json();return me.matchState==="no-match"?(y(null),"no-match"):(y(me),me.matchState)}catch(le){return console.error("Live match fetch error:",le),null}},[]),ie=A.useCallback(()=>{if(M.current)return;const le=async()=>{const me=await L();me&&g(me==="no-match"?"pre":me)};le(),M.current=setInterval(le,3e4)},[L]),Re=A.useCallback(()=>{M.current&&(clearInterval(M.current),M.current=null)},[]),K=A.useCallback(()=>{g("pre"),ie()},[ie]);return A.useEffect(()=>(w==="post"&&(E.current=setTimeout(()=>{Re(),y(null),g("countdown"),s.length>v+1&&N(le=>le+1)},3e4)),()=>{E.current&&clearTimeout(E.current)}),[w,v,s.length,Re]),A.useEffect(()=>()=>{Re(),E.current&&clearTimeout(E.current)},[Re]),u.jsxs("div",{className:"min-h-screen bg-slate-950 text-white pb-24 relative overflow-hidden",children:[u.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",children:[u.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-yellow-500/10 rounded-full blur-[100px]"}),u.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/20 rounded-full blur-[100px]"})]}),u.jsxs("div",{className:"relative z-10 max-w-md mx-auto h-full min-h-screen flex flex-col",children:[u.jsxs("header",{className:"p-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-yellow-200",children:"Fenerbahe Hub"}),u.jsx("p",{className:"text-slate-400 text-xs",children:"Taraftarn Sesi"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(k3,{}),u.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 p-0.5 shadow-lg shadow-yellow-500/20",children:u.jsx("div",{className:"w-full h-full rounded-full bg-slate-900 flex items-center justify-center overflow-hidden",children:u.jsx("img",{src:"https://media.api-sports.io/football/teams/611.png",alt:"FB Logo",className:"w-8 h-8 object-contain"})})})]})]}),u.jsxs("main",{className:"flex-1 px-4 overflow-y-auto no-scrollbar",children:[e==="dashboard"&&u.jsx(UN,{matchData:j,next3Matches:s,loading:c&&!i,onRetry:D,errorMessage:m,lastUpdated:r,isRefreshing:d,liveMatchState:w,liveMatchData:p,onCountdownEnd:K}),e==="builder"&&u.jsx(j3,{})]}),u.jsxs("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[70%] max-w-xs glass-panel rounded-2xl p-2 flex justify-around items-center z-50",children:[u.jsxs("button",{onClick:()=>t("dashboard"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="dashboard"?"bg-white/10 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.3)]":"text-slate-400 hover:text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),u.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Pano"})]}),u.jsxs("button",{onClick:()=>t("builder"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${e==="builder"?"bg-yellow-500 text-white shadow-[0_0_20px_rgba(234,179,8,0.5)] scale-110":"bg-slate-800 text-slate-400 hover:text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),u.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Kadro Kur"})]})]})]})]})}"serviceWorker"in navigator&&WS({immediate:!0});ZS.createRoot(document.getElementById("root")).render(u.jsx(pb.StrictMode,{children:u.jsx(L3,{})}));
