(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function ag(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rg={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab=Symbol.for("react.transitional.element"),Mb=Symbol.for("react.fragment");function og(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var l in t)l!=="key"&&(n[l]=t[l])}else n=t;return t=n.ref,{$$typeof:Ab,type:e,key:i,ref:t!==void 0?t:null,props:n}}to.Fragment=Mb;to.jsx=og;to.jsxs=og;rg.exports=to;var c=rg.exports,cg={exports:{}},U={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=Symbol.for("react.transitional.element"),jb=Symbol.for("react.portal"),Rb=Symbol.for("react.fragment"),Ob=Symbol.for("react.strict_mode"),Db=Symbol.for("react.profiler"),kb=Symbol.for("react.consumer"),Lb=Symbol.for("react.context"),zb=Symbol.for("react.forward_ref"),Ib=Symbol.for("react.suspense"),Ub=Symbol.for("react.memo"),ug=Symbol.for("react.lazy"),Bb=Symbol.for("react.activity"),hh=Symbol.iterator;function Hb(e){return e===null||typeof e!="object"?null:(e=hh&&e[hh]||e["@@iterator"],typeof e=="function"?e:null)}var fg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dg=Object.assign,hg={};function Ol(e,t,n){this.props=e,this.context=t,this.refs=hg,this.updater=n||fg}Ol.prototype.isReactComponent={};Ol.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ol.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mg(){}mg.prototype=Ol.prototype;function gf(e,t,n){this.props=e,this.context=t,this.refs=hg,this.updater=n||fg}var yf=gf.prototype=new mg;yf.constructor=gf;dg(yf,Ol.prototype);yf.isPureReactComponent=!0;var mh=Array.isArray;function Pc(){}var de={H:null,A:null,T:null,S:null},pg=Object.prototype.hasOwnProperty;function _f(e,t,n){var i=n.ref;return{$$typeof:pf,type:e,key:t,ref:i!==void 0?i:null,props:n}}function Vb(e,t){return _f(e.type,t,e.props)}function vf(e){return typeof e=="object"&&e!==null&&e.$$typeof===pf}function qb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ph=/\/+/g;function Go(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qb(""+e.key):t.toString(36)}function Gb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Pc,Pc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Qi(e,t,n,i,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case pf:case jb:a=!0;break;case ug:return a=e._init,Qi(a(e._payload),t,n,i,l)}}if(a)return l=l(e),a=i===""?"."+Go(e,0):i,mh(l)?(n="",a!=null&&(n=a.replace(ph,"$&/")+"/"),Qi(l,t,n,"",function(u){return u})):l!=null&&(vf(l)&&(l=Vb(l,n+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(ph,"$&/")+"/")+a)),t.push(l)),1;a=0;var r=i===""?".":i+":";if(mh(e))for(var o=0;o<e.length;o++)i=e[o],s=r+Go(i,o),a+=Qi(i,t,n,s,l);else if(o=Hb(e),typeof o=="function")for(e=o.call(e),o=0;!(i=e.next()).done;)i=i.value,s=r+Go(i,o++),a+=Qi(i,t,n,s,l);else if(s==="object"){if(typeof e.then=="function")return Qi(Gb(e),t,n,i,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function va(e,t,n){if(e==null)return e;var i=[],l=0;return Qi(e,i,"","",function(s){return t.call(n,s,l++)}),i}function Yb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fb={map:va,forEach:function(e,t,n){va(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return va(e,function(){t++}),t},toArray:function(e){return va(e,function(t){return t})||[]},only:function(e){if(!vf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Activity=Bb;U.Children=Fb;U.Component=Ol;U.Fragment=Rb;U.Profiler=Db;U.PureComponent=gf;U.StrictMode=Ob;U.Suspense=Ib;U.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de;U.__COMPILER_RUNTIME={__proto__:null,c:function(e){return de.H.useMemoCache(e)}};U.cache=function(e){return function(){return e.apply(null,arguments)}};U.cacheSignal=function(){return null};U.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=dg({},e.props),l=e.key;if(t!=null)for(s in t.key!==void 0&&(l=""+t.key),t)!pg.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),r=0;r<s;r++)a[r]=arguments[r+2];i.children=a}return _f(e.type,l,i)};U.createContext=function(e){return e={$$typeof:Lb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:kb,_context:e},e};U.createElement=function(e,t,n){var i,l={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)pg.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=t[i]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var r=Array(a),o=0;o<a;o++)r[o]=arguments[o+2];l.children=r}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)l[i]===void 0&&(l[i]=a[i]);return _f(e,s,l)};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:zb,render:e}};U.isValidElement=vf;U.lazy=function(e){return{$$typeof:ug,_payload:{_status:-1,_result:e},_init:Yb}};U.memo=function(e,t){return{$$typeof:Ub,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=de.T,n={};de.T=n;try{var i=e(),l=de.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Pc,gh)}catch(s){gh(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),de.T=t}};U.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()};U.use=function(e){return de.H.use(e)};U.useActionState=function(e,t,n){return de.H.useActionState(e,t,n)};U.useCallback=function(e,t){return de.H.useCallback(e,t)};U.useContext=function(e){return de.H.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e,t){return de.H.useDeferredValue(e,t)};U.useEffect=function(e,t){return de.H.useEffect(e,t)};U.useEffectEvent=function(e){return de.H.useEffectEvent(e)};U.useId=function(){return de.H.useId()};U.useImperativeHandle=function(e,t,n){return de.H.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return de.H.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return de.H.useLayoutEffect(e,t)};U.useMemo=function(e,t){return de.H.useMemo(e,t)};U.useOptimistic=function(e,t){return de.H.useOptimistic(e,t)};U.useReducer=function(e,t,n){return de.H.useReducer(e,t,n)};U.useRef=function(e){return de.H.useRef(e)};U.useState=function(e){return de.H.useState(e)};U.useSyncExternalStore=function(e,t,n){return de.H.useSyncExternalStore(e,t,n)};U.useTransition=function(){return de.H.useTransition()};U.version="19.2.0";cg.exports=U;var E=cg.exports;const Qb=ag(E);var gg={exports:{}},no={},yg={exports:{}},_g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,N){var A=b.length;b.push(N);e:for(;0<A;){var L=A-1>>>1,I=b[L];if(0<l(I,N))b[L]=N,b[A]=I,A=L;else break e}}function n(b){return b.length===0?null:b[0]}function i(b){if(b.length===0)return null;var N=b[0],A=b.pop();if(A!==N){b[0]=A;e:for(var L=0,I=b.length,pe=I>>>1;L<pe;){var He=2*(L+1)-1,xn=b[He],yt=He+1,Hi=b[yt];if(0>l(xn,A))yt<I&&0>l(Hi,xn)?(b[L]=Hi,b[yt]=A,L=yt):(b[L]=xn,b[He]=A,L=He);else if(yt<I&&0>l(Hi,A))b[L]=Hi,b[yt]=A,L=yt;else break e}}return N}function l(b,N){var A=b.sortIndex-N.sortIndex;return A!==0?A:b.id-N.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,r=a.now();e.unstable_now=function(){return a.now()-r}}var o=[],u=[],h=1,f=null,d=3,m=!1,v=!1,w=!1,x=!1,p=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function _(b){for(var N=n(u);N!==null;){if(N.callback===null)i(u);else if(N.startTime<=b)i(u),N.sortIndex=N.expirationTime,t(o,N);else break;N=n(u)}}function T(b){if(w=!1,_(b),!v)if(n(o)!==null)v=!0,j||(j=!0,J());else{var N=n(u);N!==null&&It(T,N.startTime-b)}}var j=!1,C=-1,D=5,O=-1;function R(){return x?!0:!(e.unstable_now()-O<D)}function X(){if(x=!1,j){var b=e.unstable_now();O=b;var N=!0;try{e:{v=!1,w&&(w=!1,g(C),C=-1),m=!0;var A=d;try{t:{for(_(b),f=n(o);f!==null&&!(f.expirationTime>b&&R());){var L=f.callback;if(typeof L=="function"){f.callback=null,d=f.priorityLevel;var I=L(f.expirationTime<=b);if(b=e.unstable_now(),typeof I=="function"){f.callback=I,_(b),N=!0;break t}f===n(o)&&i(o),_(b)}else i(o);f=n(o)}if(f!==null)N=!0;else{var pe=n(u);pe!==null&&It(T,pe.startTime-b),N=!1}}break e}finally{f=null,d=A,m=!1}N=void 0}}finally{N?J():j=!1}}}var J;if(typeof y=="function")J=function(){y(X)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Ke=H.port2;H.port1.onmessage=X,J=function(){Ke.postMessage(null)}}else J=function(){p(X,0)};function It(b,N){C=p(function(){b(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(b){switch(d){case 1:case 2:case 3:var N=3;break;default:N=d}var A=d;d=N;try{return b()}finally{d=A}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(b,N){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var A=d;d=b;try{return N()}finally{d=A}},e.unstable_scheduleCallback=function(b,N,A){var L=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?L+A:L):A=L,b){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=A+I,b={id:h++,callback:N,priorityLevel:b,startTime:A,expirationTime:I,sortIndex:-1},A>L?(b.sortIndex=A,t(u,b),n(o)===null&&b===n(u)&&(w?(g(C),C=-1):w=!0,It(T,A-L))):(b.sortIndex=I,t(o,b),v||m||(v=!0,j||(j=!0,J()))),b},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(b){var N=d;return function(){var A=d;d=N;try{return b.apply(this,arguments)}finally{d=A}}}})(_g);yg.exports=_g;var Kb=yg.exports,vg={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb=E;function bg(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function wn(){}var Ye={d:{f:wn,r:function(){throw Error(bg(522))},D:wn,C:wn,L:wn,m:wn,X:wn,S:wn,M:wn},p:0,findDOMNode:null},Pb=Symbol.for("react.portal");function $b(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var os=Xb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function io(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ye;Qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(bg(299));return $b(e,t,null,n)};Qe.flushSync=function(e){var t=os.T,n=Ye.p;try{if(os.T=null,Ye.p=2,e)return e()}finally{os.T=t,Ye.p=n,Ye.d.f()}};Qe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ye.d.C(e,t))};Qe.prefetchDNS=function(e){typeof e=="string"&&Ye.d.D(e)};Qe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=io(n,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ye.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:s}):n==="script"&&Ye.d.X(e,{crossOrigin:i,integrity:l,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Qe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=io(t.as,t.crossOrigin);Ye.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ye.d.M(e)};Qe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=io(n,t.crossOrigin);Ye.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Qe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=io(t.as,t.crossOrigin);Ye.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ye.d.m(e)};Qe.requestFormReset=function(e){Ye.d.r(e)};Qe.unstable_batchedUpdates=function(e,t){return e(t)};Qe.useFormState=function(e,t,n){return os.H.useFormState(e,t,n)};Qe.useFormStatus=function(){return os.H.useHostTransitionStatus()};Qe.version="19.2.0";function xg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xg)}catch(e){console.error(e)}}xg(),vg.exports=Qe;var Zb=vg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Me=Kb,wg=E,Wb=Zb;function S(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Js(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Eg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tg(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yh(e){if(Js(e)!==e)throw Error(S(188))}function Jb(e){var t=e.alternate;if(!t){if(t=Js(e),t===null)throw Error(S(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return yh(l),e;if(s===i)return yh(l),t;s=s.sibling}throw Error(S(188))}if(n.return!==i.return)n=l,i=s;else{for(var a=!1,r=l.child;r;){if(r===n){a=!0,n=l,i=s;break}if(r===i){a=!0,i=l,n=s;break}r=r.sibling}if(!a){for(r=s.child;r;){if(r===n){a=!0,n=s,i=l;break}if(r===i){a=!0,i=s,n=l;break}r=r.sibling}if(!a)throw Error(S(189))}}if(n.alternate!==i)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?e:t}function Cg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Cg(e),t!==null)return t;e=e.sibling}return null}var he=Object.assign,e1=Symbol.for("react.element"),ba=Symbol.for("react.transitional.element"),ns=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),$c=Symbol.for("react.profiler"),Ag=Symbol.for("react.consumer"),nn=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),Zc=Symbol.for("react.suspense"),Wc=Symbol.for("react.suspense_list"),xf=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),Jc=Symbol.for("react.activity"),t1=Symbol.for("react.memo_cache_sentinel"),_h=Symbol.iterator;function Yl(e){return e===null||typeof e!="object"?null:(e=_h&&e[_h]||e["@@iterator"],typeof e=="function"?e:null)}var n1=Symbol.for("react.client.reference");function eu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===n1?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pi:return"Fragment";case $c:return"Profiler";case Ng:return"StrictMode";case Zc:return"Suspense";case Wc:return"SuspenseList";case Jc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ns:return"Portal";case nn:return e.displayName||"Context";case Ag:return(e._context.displayName||"Context")+".Consumer";case bf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xf:return t=e.displayName||null,t!==null?t:eu(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return eu(e(t))}catch{}}return null}var is=Array.isArray,z=wg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=Wb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yi={pending:!1,data:null,method:null,action:null},tu=[],$i=-1;function Yt(e){return{current:e}}function ke(e){0>$i||(e.current=tu[$i],tu[$i]=null,$i--)}function oe(e,t){$i++,tu[$i]=e.current,e.current=t}var Vt=Yt(null),As=Yt(null),zn=Yt(null),ir=Yt(null);function lr(e,t){switch(oe(zn,t),oe(As,e),oe(Vt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Em(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Em(t),e=Xy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ke(Vt),oe(Vt,e)}function yl(){ke(Vt),ke(As),ke(zn)}function nu(e){e.memoizedState!==null&&oe(ir,e);var t=Vt.current,n=Xy(t,e.type);t!==n&&(oe(As,e),oe(Vt,n))}function sr(e){As.current===e&&(ke(Vt),ke(As)),ir.current===e&&(ke(ir),Bs._currentValue=yi)}var Yo,vh;function ri(e){if(Yo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yo=t&&t[1]||"",vh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yo+e+vh}var Fo=!1;function Qo(e,t){if(!e||Fo)return"";Fo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var d=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){d=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){d=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&d&&typeof m.stack=="string")return[m.stack,d.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],r=s[1];if(a&&r){var o=a.split(`
`),u=r.split(`
`);for(l=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;l<u.length&&!u[l].includes("DetermineComponentFrameRoot");)l++;if(i===o.length||l===u.length)for(i=o.length-1,l=u.length-1;1<=i&&0<=l&&o[i]!==u[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==u[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==u[l]){var h=`
`+o[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=l);break}}}finally{Fo=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ri(n):""}function i1(e,t){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return e.child!==t&&t!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return Qo(e.type,!1);case 11:return Qo(e.type.render,!1);case 1:return Qo(e.type,!0);case 31:return ri("Activity");default:return""}}function bh(e){try{var t="",n=null;do t+=i1(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var iu=Object.prototype.hasOwnProperty,wf=Me.unstable_scheduleCallback,Ko=Me.unstable_cancelCallback,l1=Me.unstable_shouldYield,s1=Me.unstable_requestPaint,ft=Me.unstable_now,a1=Me.unstable_getCurrentPriorityLevel,Mg=Me.unstable_ImmediatePriority,jg=Me.unstable_UserBlockingPriority,ar=Me.unstable_NormalPriority,r1=Me.unstable_LowPriority,Rg=Me.unstable_IdlePriority,o1=Me.log,c1=Me.unstable_setDisableYieldValue,ea=null,dt=null;function Rn(e){if(typeof o1=="function"&&c1(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(ea,e)}catch{}}var ht=Math.clz32?Math.clz32:d1,u1=Math.log,f1=Math.LN2;function d1(e){return e>>>=0,e===0?32:31-(u1(e)/f1|0)|0}var xa=256,wa=262144,Sa=4194304;function oi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function lo(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var r=i&134217727;return r!==0?(i=r&~s,i!==0?l=oi(i):(a&=r,a!==0?l=oi(a):n||(n=r&~e,n!==0&&(l=oi(n))))):(r=i&~s,r!==0?l=oi(r):a!==0?l=oi(a):n||(n=i&~e,n!==0&&(l=oi(n)))),l===0?0:t!==0&&t!==l&&!(t&s)&&(s=l&-l,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:l}function ta(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function h1(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Og(){var e=Sa;return Sa<<=1,!(Sa&62914560)&&(Sa=4194304),e}function Xo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function na(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function m1(e,t,n,i,l,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-ht(n),f=1<<h;r[h]=0,o[h]=-1;var d=u[h];if(d!==null)for(u[h]=null,h=0;h<d.length;h++){var m=d[h];m!==null&&(m.lane&=-536870913)}n&=~f}i!==0&&Dg(e,i,0),s!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function Dg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ht(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function kg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ht(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}function Lg(e,t){var n=t&-t;return n=n&42?1:Sf(n),n&(e.suspendedLanes|t)?0:n}function Sf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ef(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function zg(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:s_(e.type))}function xh(e,t){var n=W.p;try{return W.p=e,t()}finally{W.p=n}}var ii=Math.random().toString(36).slice(2),ze="__reactFiber$"+ii,it="__reactProps$"+ii,Dl="__reactContainer$"+ii,lu="__reactEvents$"+ii,p1="__reactListeners$"+ii,g1="__reactHandles$"+ii,wh="__reactResources$"+ii,ia="__reactMarker$"+ii;function Tf(e){delete e[ze],delete e[it],delete e[lu],delete e[p1],delete e[g1]}function Zi(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dl]||n[ze]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mm(e);e!==null;){if(n=e[ze])return n;e=Mm(e)}return t}e=n,n=e.parentNode}return null}function kl(e){if(e=e[ze]||e[Dl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ls(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(S(33))}function ol(e){var t=e[wh];return t||(t=e[wh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function De(e){e[ia]=!0}var Ig=new Set,Ug={};function Di(e,t){_l(e,t),_l(e+"Capture",t)}function _l(e,t){for(Ug[e]=t,e=0;e<t.length;e++)Ig.add(t[e])}var y1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sh={},Eh={};function _1(e){return iu.call(Eh,e)?!0:iu.call(Sh,e)?!1:y1.test(e)?Eh[e]=!0:(Sh[e]=!0,!1)}function Va(e,t,n){if(_1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ea(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Xt(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function v1(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function su(e){if(!e._valueTracker){var t=Bg(e)?"checked":"value";e._valueTracker=v1(e,t,""+e[t])}}function Hg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Bg(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function rr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var b1=/[\n"\\]/g;function wt(e){return e.replace(b1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function au(e,t,n,i,l,s,a,r){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+vt(t)):e.value!==""+vt(t)&&(e.value=""+vt(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?ru(e,a,vt(t)):n!=null?ru(e,a,vt(n)):i!=null&&e.removeAttribute("value"),l==null&&s!=null&&(e.defaultChecked=!!s),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+vt(r):e.removeAttribute("name")}function Vg(e,t,n,i,l,s,a,r){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){su(e);return}n=n!=null?""+vt(n):"",t=t!=null?""+vt(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=r?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),su(e)}function ru(e,t,n){t==="number"&&rr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function cl(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+vt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function qg(e,t,n){if(t!=null&&(t=""+vt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+vt(n):""}function Gg(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(S(92));if(is(i)){if(1<i.length)throw Error(S(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=vt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),su(e)}function vl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var x1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Th(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||x1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yg(e,t,n){if(t!=null&&typeof t!="object")throw Error(S(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var l in t)i=t[l],t.hasOwnProperty(l)&&n[l]!==i&&Th(e,l,i)}else for(var s in t)t.hasOwnProperty(s)&&Th(e,s,t[s])}function Cf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(e){return S1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ln(){}var ou=null;function Nf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wi=null,ul=null;function Ch(e){var t=kl(e);if(t&&(e=t.stateNode)){var n=e[it]||null;e:switch(e=t.stateNode,t.type){case"input":if(au(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=i[it]||null;if(!l)throw Error(S(90));au(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Hg(i)}break e;case"textarea":qg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&cl(e,!!n.multiple,t,!1)}}}var Po=!1;function Fg(e,t,n){if(Po)return e(t,n);Po=!0;try{var i=e(t);return i}finally{if(Po=!1,(Wi!==null||ul!==null)&&(yo(),Wi&&(t=Wi,e=ul,ul=Wi=null,Ch(t),e)))for(t=0;t<e.length;t++)Ch(e[t])}}function Ms(e,t){var n=e.stateNode;if(n===null)return null;var i=n[it]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(S(231,t,typeof n));return n}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=!1;if(dn)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){cu=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{cu=!1}var On=null,Af=null,Ga=null;function Qg(){if(Ga)return Ga;var e,t=Af,n=t.length,i,l="value"in On?On.value:On.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===l[s-i];i++);return Ga=l.slice(e,1<i?1-i:void 0)}function Ya(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ta(){return!0}function Nh(){return!1}function st(e){function t(n,i,l,s,a){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(s):s[r]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ta:Nh,this.isPropagationStopped=Nh,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),t}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=st(ki),la=he({},ki,{view:0,detail:0}),E1=st(la),$o,Zo,Ql,ao=he({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ql&&(Ql&&e.type==="mousemove"?($o=e.screenX-Ql.screenX,Zo=e.screenY-Ql.screenY):Zo=$o=0,Ql=e),$o)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),Ah=st(ao),T1=he({},ao,{dataTransfer:0}),C1=st(T1),N1=he({},la,{relatedTarget:0}),Wo=st(N1),A1=he({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),M1=st(A1),j1=he({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R1=st(j1),O1=he({},ki,{data:0}),Mh=st(O1),D1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=L1[e])?!!t[e]:!1}function Mf(){return z1}var I1=he({},la,{key:function(e){if(e.key){var t=D1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mf,charCode:function(e){return e.type==="keypress"?Ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),U1=st(I1),B1=he({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=st(B1),H1=he({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mf}),V1=st(H1),q1=he({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),G1=st(q1),Y1=he({},ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F1=st(Y1),Q1=he({},ki,{newState:0,oldState:0}),K1=st(Q1),X1=[9,13,27,32],jf=dn&&"CompositionEvent"in window,cs=null;dn&&"documentMode"in document&&(cs=document.documentMode);var P1=dn&&"TextEvent"in window&&!cs,Kg=dn&&(!jf||cs&&8<cs&&11>=cs),Rh=" ",Oh=!1;function Xg(e,t){switch(e){case"keyup":return X1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function $1(e,t){switch(e){case"compositionend":return Pg(t);case"keypress":return t.which!==32?null:(Oh=!0,Rh);case"textInput":return e=t.data,e===Rh&&Oh?null:e;default:return null}}function Z1(e,t){if(Ji)return e==="compositionend"||!jf&&Xg(e,t)?(e=Qg(),Ga=Af=On=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kg&&t.locale!=="ko"?null:t.data;default:return null}}var W1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!W1[e.type]:t==="textarea"}function $g(e,t,n,i){Wi?ul?ul.push(i):ul=[i]:Wi=i,t=Tr(t,"onChange"),0<t.length&&(n=new so("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var us=null,js=null;function J1(e){Fy(e,0)}function ro(e){var t=ls(e);if(Hg(t))return e}function kh(e,t){if(e==="change")return t}var Zg=!1;if(dn){var Jo;if(dn){var ec="oninput"in document;if(!ec){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),ec=typeof Lh.oninput=="function"}Jo=ec}else Jo=!1;Zg=Jo&&(!document.documentMode||9<document.documentMode)}function zh(){us&&(us.detachEvent("onpropertychange",Wg),js=us=null)}function Wg(e){if(e.propertyName==="value"&&ro(js)){var t=[];$g(t,js,e,Nf(e)),Fg(J1,t)}}function ex(e,t,n){e==="focusin"?(zh(),us=t,js=n,us.attachEvent("onpropertychange",Wg)):e==="focusout"&&zh()}function tx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ro(js)}function nx(e,t){if(e==="click")return ro(t)}function ix(e,t){if(e==="input"||e==="change")return ro(t)}function lx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:lx;function Rs(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!iu.call(t,l)||!pt(e[l],t[l]))return!1}return!0}function Ih(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uh(e,t){var n=Ih(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ih(n)}}function Jg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function e0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rr(e.document)}return t}function Rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var sx=dn&&"documentMode"in document&&11>=document.documentMode,el=null,uu=null,fs=null,fu=!1;function Bh(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fu||el==null||el!==rr(i)||(i=el,"selectionStart"in i&&Rf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),fs&&Rs(fs,i)||(fs=i,i=Tr(uu,"onSelect"),0<i.length&&(t=new so("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=el)))}function ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tl={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},tc={},t0={};dn&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function Li(e){if(tc[e])return tc[e];if(!tl[e])return e;var t=tl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in t0)return tc[e]=t[n];return e}var n0=Li("animationend"),i0=Li("animationiteration"),l0=Li("animationstart"),ax=Li("transitionrun"),rx=Li("transitionstart"),ox=Li("transitioncancel"),s0=Li("transitionend"),a0=new Map,du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");du.push("scrollEnd");function Lt(e,t){a0.set(e,t),Di(t,[e])}var or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_t=[],nl=0,Of=0;function oo(){for(var e=nl,t=Of=nl=0;t<e;){var n=_t[t];_t[t++]=null;var i=_t[t];_t[t++]=null;var l=_t[t];_t[t++]=null;var s=_t[t];if(_t[t++]=null,i!==null&&l!==null){var a=i.pending;a===null?l.next=l:(l.next=a.next,a.next=l),i.pending=l}s!==0&&r0(n,l,s)}}function co(e,t,n,i){_t[nl++]=e,_t[nl++]=t,_t[nl++]=n,_t[nl++]=i,Of|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Df(e,t,n,i){return co(e,t,n,i),cr(e)}function zi(e,t){return co(e,null,null,t),cr(e)}function r0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var l=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(l=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,l&&t!==null&&(l=31-ht(n),e=s.hiddenUpdates,i=e[l],i===null?e[l]=[t]:i.push(t),t.lane=n|536870912),s):null}function cr(e){if(50<bs)throw bs=0,Du=null,Error(S(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var il={};function cx(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,i){return new cx(e,t,n,i)}function kf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function o0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fa(e,t,n,i,l,s){var a=0;if(i=e,typeof e=="function")kf(e)&&(a=1);else if(typeof e=="string")a=mw(e,n,Vt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Jc:return e=ct(31,n,t,l),e.elementType=Jc,e.lanes=s,e;case Pi:return _i(n.children,l,s,t);case Ng:a=8,l|=24;break;case $c:return e=ct(12,n,t,l|2),e.elementType=$c,e.lanes=s,e;case Zc:return e=ct(13,n,t,l),e.elementType=Zc,e.lanes=s,e;case Wc:return e=ct(19,n,t,l),e.elementType=Wc,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nn:a=10;break e;case Ag:a=9;break e;case bf:a=11;break e;case xf:a=14;break e;case Tn:a=16,i=null;break e}a=29,n=Error(S(130,e===null?"null":typeof e,"")),i=null}return t=ct(a,n,t,l),t.elementType=e,t.type=i,t.lanes=s,t}function _i(e,t,n,i){return e=ct(7,e,i,t),e.lanes=n,e}function nc(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function c0(e){var t=ct(18,null,null,0);return t.stateNode=e,t}function ic(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hh=new WeakMap;function St(e,t){if(typeof e=="object"&&e!==null){var n=Hh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:bh(t)},Hh.set(e,t),t)}return{value:e,source:t,stack:bh(t)}}var ll=[],sl=0,ur=null,Os=0,bt=[],xt=0,Pn=null,Ut=1,Bt="";function en(e,t){ll[sl++]=Os,ll[sl++]=ur,ur=e,Os=t}function u0(e,t,n){bt[xt++]=Ut,bt[xt++]=Bt,bt[xt++]=Pn,Pn=e;var i=Ut;e=Bt;var l=32-ht(i)-1;i&=~(1<<l),n+=1;var s=32-ht(t)+l;if(30<s){var a=l-l%5;s=(i&(1<<a)-1).toString(32),i>>=a,l-=a,Ut=1<<32-ht(t)+l|n<<l|i,Bt=s+e}else Ut=1<<s|n<<l|i,Bt=e}function Lf(e){e.return!==null&&(en(e,1),u0(e,1,0))}function zf(e){for(;e===ur;)ur=ll[--sl],ll[sl]=null,Os=ll[--sl],ll[sl]=null;for(;e===Pn;)Pn=bt[--xt],bt[xt]=null,Bt=bt[--xt],bt[xt]=null,Ut=bt[--xt],bt[xt]=null}function f0(e,t){bt[xt++]=Ut,bt[xt++]=Bt,bt[xt++]=Pn,Ut=t.id,Bt=t.overflow,Pn=e}var Ie=null,fe=null,P=!1,In=null,Et=!1,hu=Error(S(519));function $n(e){var t=Error(S(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ds(St(t,e)),hu}function Vh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ze]=e,t[it]=i,n){case"dialog":Y("cancel",t),Y("close",t);break;case"iframe":case"object":case"embed":Y("load",t);break;case"video":case"audio":for(n=0;n<Is.length;n++)Y(Is[n],t);break;case"source":Y("error",t);break;case"img":case"image":case"link":Y("error",t),Y("load",t);break;case"details":Y("toggle",t);break;case"input":Y("invalid",t),Vg(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Y("invalid",t);break;case"textarea":Y("invalid",t),Gg(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Ky(t.textContent,n)?(i.popover!=null&&(Y("beforetoggle",t),Y("toggle",t)),i.onScroll!=null&&Y("scroll",t),i.onScrollEnd!=null&&Y("scrollend",t),i.onClick!=null&&(t.onclick=ln),t=!0):t=!1,t||$n(e,!0)}function qh(e){for(Ie=e.return;Ie;)switch(Ie.tag){case 5:case 31:case 13:Et=!1;return;case 27:case 3:Et=!0;return;default:Ie=Ie.return}}function Vi(e){if(e!==Ie)return!1;if(!P)return qh(e),P=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Uu(e.type,e.memoizedProps)),n=!n),n&&fe&&$n(e),qh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));fe=Am(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));fe=Am(e)}else t===27?(t=fe,li(e.type)?(e=qu,qu=null,fe=e):fe=t):fe=Ie?Ct(e.stateNode.nextSibling):null;return!0}function wi(){fe=Ie=null,P=!1}function lc(){var e=In;return e!==null&&(We===null?We=e:We.push.apply(We,e),In=null),e}function Ds(e){In===null?In=[e]:In.push(e)}var mu=Yt(null),Ii=null,sn=null;function Nn(e,t,n){oe(mu,t._currentValue),t._currentValue=n}function on(e){e._currentValue=mu.current,ke(mu)}function pu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function gu(e,t,n,i){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var s=l.dependencies;if(s!==null){var a=l.child;s=s.firstContext;e:for(;s!==null;){var r=s;s=l;for(var o=0;o<t.length;o++)if(r.context===t[o]){s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),pu(s.return,n,e),i||(a=null);break e}s=r.next}}else if(l.tag===18){if(a=l.return,a===null)throw Error(S(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),pu(a,n,e),a=null}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}}function Ll(e,t,n,i){e=null;for(var l=t,s=!1;l!==null;){if(!s){if(l.flags&524288)s=!0;else if(l.flags&262144)break}if(l.tag===10){var a=l.alternate;if(a===null)throw Error(S(387));if(a=a.memoizedProps,a!==null){var r=l.type;pt(l.pendingProps.value,a.value)||(e!==null?e.push(r):e=[r])}}else if(l===ir.current){if(a=l.alternate,a===null)throw Error(S(387));a.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Bs):e=[Bs])}l=l.return}e!==null&&gu(t,e,n,i),t.flags|=262144}function fr(e){for(e=e.firstContext;e!==null;){if(!pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Si(e){Ii=e,sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ue(e){return d0(Ii,e)}function Ca(e,t){return Ii===null&&Si(e),d0(e,t)}function d0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},sn===null){if(e===null)throw Error(S(308));sn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sn=sn.next=t;return n}var ux=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},fx=Me.unstable_scheduleCallback,dx=Me.unstable_NormalPriority,Se={$$typeof:nn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new ux,data:new Map,refCount:0}}function sa(e){e.refCount--,e.refCount===0&&fx(dx,function(){e.controller.abort()})}var ds=null,yu=0,bl=0,fl=null;function hx(e,t){if(ds===null){var n=ds=[];yu=0,bl=od(),fl={status:"pending",value:void 0,then:function(i){n.push(i)}}}return yu++,t.then(Gh,Gh),t}function Gh(){if(--yu===0&&ds!==null){fl!==null&&(fl.status="fulfilled");var e=ds;ds=null,bl=0,fl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function mx(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var Yh=z.S;z.S=function(e,t){Cy=ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&hx(e,t),Yh!==null&&Yh(e,t)};var vi=Yt(null);function Uf(){var e=vi.current;return e!==null?e:le.pooledCache}function Qa(e,t){t===null?oe(vi,vi.current):oe(vi,t.pool)}function h0(){var e=Uf();return e===null?null:{parent:Se._currentValue,pool:e}}var zl=Error(S(460)),Bf=Error(S(474)),uo=Error(S(542)),dr={then:function(){}};function Fh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function m0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ln,ln),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kh(e),e;default:if(typeof t.status=="string")t.then(ln,ln);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(S(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=i}},function(i){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kh(e),e}throw bi=t,zl}}function ci(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(bi=n,zl):n}}var bi=null;function Qh(){if(bi===null)throw Error(S(459));var e=bi;return bi=null,e}function Kh(e){if(e===zl||e===uo)throw Error(S(483))}var dl=null,ks=0;function Na(e){var t=ks;return ks+=1,dl===null&&(dl=[]),m0(dl,e,t)}function Kl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Aa(e,t){throw t.$$typeof===e1?Error(S(525)):(e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function p0(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function i(p){for(var g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function l(p,g){return p=rn(p,g),p.index=0,p.sibling=null,p}function s(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=67108866,g):y):(p.flags|=67108866,g)):(p.flags|=1048576,g)}function a(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function r(p,g,y,_){return g===null||g.tag!==6?(g=nc(y,p.mode,_),g.return=p,g):(g=l(g,y),g.return=p,g)}function o(p,g,y,_){var T=y.type;return T===Pi?h(p,g,y.props.children,_,y.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Tn&&ci(T)===g.type)?(g=l(g,y.props),Kl(g,y),g.return=p,g):(g=Fa(y.type,y.key,y.props,null,p.mode,_),Kl(g,y),g.return=p,g)}function u(p,g,y,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=ic(y,p.mode,_),g.return=p,g):(g=l(g,y.children||[]),g.return=p,g)}function h(p,g,y,_,T){return g===null||g.tag!==7?(g=_i(y,p.mode,_,T),g.return=p,g):(g=l(g,y),g.return=p,g)}function f(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=nc(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ba:return y=Fa(g.type,g.key,g.props,null,p.mode,y),Kl(y,g),y.return=p,y;case ns:return g=ic(g,p.mode,y),g.return=p,g;case Tn:return g=ci(g),f(p,g,y)}if(is(g)||Yl(g))return g=_i(g,p.mode,y,null),g.return=p,g;if(typeof g.then=="function")return f(p,Na(g),y);if(g.$$typeof===nn)return f(p,Ca(p,g),y);Aa(p,g)}return null}function d(p,g,y,_){var T=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return T!==null?null:r(p,g,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ba:return y.key===T?o(p,g,y,_):null;case ns:return y.key===T?u(p,g,y,_):null;case Tn:return y=ci(y),d(p,g,y,_)}if(is(y)||Yl(y))return T!==null?null:h(p,g,y,_,null);if(typeof y.then=="function")return d(p,g,Na(y),_);if(y.$$typeof===nn)return d(p,g,Ca(p,y),_);Aa(p,y)}return null}function m(p,g,y,_,T){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return p=p.get(y)||null,r(g,p,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ba:return p=p.get(_.key===null?y:_.key)||null,o(g,p,_,T);case ns:return p=p.get(_.key===null?y:_.key)||null,u(g,p,_,T);case Tn:return _=ci(_),m(p,g,y,_,T)}if(is(_)||Yl(_))return p=p.get(y)||null,h(g,p,_,T,null);if(typeof _.then=="function")return m(p,g,y,Na(_),T);if(_.$$typeof===nn)return m(p,g,y,Ca(g,_),T);Aa(g,_)}return null}function v(p,g,y,_){for(var T=null,j=null,C=g,D=g=0,O=null;C!==null&&D<y.length;D++){C.index>D?(O=C,C=null):O=C.sibling;var R=d(p,C,y[D],_);if(R===null){C===null&&(C=O);break}e&&C&&R.alternate===null&&t(p,C),g=s(R,g,D),j===null?T=R:j.sibling=R,j=R,C=O}if(D===y.length)return n(p,C),P&&en(p,D),T;if(C===null){for(;D<y.length;D++)C=f(p,y[D],_),C!==null&&(g=s(C,g,D),j===null?T=C:j.sibling=C,j=C);return P&&en(p,D),T}for(C=i(C);D<y.length;D++)O=m(C,p,D,y[D],_),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?D:O.key),g=s(O,g,D),j===null?T=O:j.sibling=O,j=O);return e&&C.forEach(function(X){return t(p,X)}),P&&en(p,D),T}function w(p,g,y,_){if(y==null)throw Error(S(151));for(var T=null,j=null,C=g,D=g=0,O=null,R=y.next();C!==null&&!R.done;D++,R=y.next()){C.index>D?(O=C,C=null):O=C.sibling;var X=d(p,C,R.value,_);if(X===null){C===null&&(C=O);break}e&&C&&X.alternate===null&&t(p,C),g=s(X,g,D),j===null?T=X:j.sibling=X,j=X,C=O}if(R.done)return n(p,C),P&&en(p,D),T;if(C===null){for(;!R.done;D++,R=y.next())R=f(p,R.value,_),R!==null&&(g=s(R,g,D),j===null?T=R:j.sibling=R,j=R);return P&&en(p,D),T}for(C=i(C);!R.done;D++,R=y.next())R=m(C,p,D,R.value,_),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?D:R.key),g=s(R,g,D),j===null?T=R:j.sibling=R,j=R);return e&&C.forEach(function(J){return t(p,J)}),P&&en(p,D),T}function x(p,g,y,_){if(typeof y=="object"&&y!==null&&y.type===Pi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ba:e:{for(var T=y.key;g!==null;){if(g.key===T){if(T=y.type,T===Pi){if(g.tag===7){n(p,g.sibling),_=l(g,y.props.children),_.return=p,p=_;break e}}else if(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Tn&&ci(T)===g.type){n(p,g.sibling),_=l(g,y.props),Kl(_,y),_.return=p,p=_;break e}n(p,g);break}else t(p,g);g=g.sibling}y.type===Pi?(_=_i(y.props.children,p.mode,_,y.key),_.return=p,p=_):(_=Fa(y.type,y.key,y.props,null,p.mode,_),Kl(_,y),_.return=p,p=_)}return a(p);case ns:e:{for(T=y.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),_=l(g,y.children||[]),_.return=p,p=_;break e}else{n(p,g);break}else t(p,g);g=g.sibling}_=ic(y,p.mode,_),_.return=p,p=_}return a(p);case Tn:return y=ci(y),x(p,g,y,_)}if(is(y))return v(p,g,y,_);if(Yl(y)){if(T=Yl(y),typeof T!="function")throw Error(S(150));return y=T.call(y),w(p,g,y,_)}if(typeof y.then=="function")return x(p,g,Na(y),_);if(y.$$typeof===nn)return x(p,g,Ca(p,y),_);Aa(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),_=l(g,y),_.return=p,p=_):(n(p,g),_=nc(y,p.mode,_),_.return=p,p=_),a(p)):n(p,g)}return function(p,g,y,_){try{ks=0;var T=x(p,g,y,_);return dl=null,T}catch(C){if(C===zl||C===uo)throw C;var j=ct(29,C,null,p.mode);return j.lanes=_,j.return=p,j}finally{}}}var Ei=p0(!0),g0=p0(!1),Cn=!1;function Hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Un(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Z&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,t=cr(e),r0(e,null,n),t}return co(e,i,t,n),cr(e)}function hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,kg(e,n)}}function sc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var vu=!1;function ms(){if(vu){var e=fl;if(e!==null)throw e}}function ps(e,t,n,i){vu=!1;var l=e.updateQueue;Cn=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var o=r,u=o.next;o.next=null,a===null?s=u:a.next=u,a=o;var h=e.alternate;h!==null&&(h=h.updateQueue,r=h.lastBaseUpdate,r!==a&&(r===null?h.firstBaseUpdate=u:r.next=u,h.lastBaseUpdate=o))}if(s!==null){var f=l.baseState;a=0,h=u=o=null,r=s;do{var d=r.lane&-536870913,m=d!==r.lane;if(m?(K&d)===d:(i&d)===d){d!==0&&d===bl&&(vu=!0),h!==null&&(h=h.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var v=e,w=r;d=t;var x=n;switch(w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(x,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,d=typeof v=="function"?v.call(x,f,d):v,d==null)break e;f=he({},f,d);break e;case 2:Cn=!0}}d=r.callback,d!==null&&(e.flags|=64,m&&(e.flags|=8192),m=l.callbacks,m===null?l.callbacks=[d]:m.push(d))}else m={lane:d,tag:r.tag,payload:r.payload,callback:r.callback,next:null},h===null?(u=h=m,o=f):h=h.next=m,a|=d;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;m=r,r=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);h===null&&(o=f),l.baseState=o,l.firstBaseUpdate=u,l.lastBaseUpdate=h,s===null&&(l.shared.lanes=0),Wn|=a,e.lanes=a,e.memoizedState=f}}function y0(e,t){if(typeof e!="function")throw Error(S(191,e));e.call(t)}function _0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)y0(n[e],t)}var xl=Yt(null),hr=Yt(0);function Xh(e,t){e=gn,oe(hr,e),oe(xl,t),gn=e|t.baseLanes}function bu(){oe(hr,gn),oe(xl,xl.current)}function Vf(){gn=hr.current,ke(xl),ke(hr)}var gt=Yt(null),Tt=null;function An(e){var t=e.alternate;oe(ve,ve.current&1),oe(gt,e),Tt===null&&(t===null||xl.current!==null||t.memoizedState!==null)&&(Tt=e)}function xu(e){oe(ve,ve.current),oe(gt,e),Tt===null&&(Tt=e)}function v0(e){e.tag===22?(oe(ve,ve.current),oe(gt,e),Tt===null&&(Tt=e)):Mn()}function Mn(){oe(ve,ve.current),oe(gt,gt.current)}function ot(e){ke(gt),Tt===e&&(Tt=null),ke(ve)}var ve=Yt(0);function mr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Hu(n)||Vu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hn=0,B=null,ie=null,xe=null,pr=!1,hl=!1,Ti=!1,gr=0,Ls=0,ml=null,px=0;function ye(){throw Error(S(321))}function qf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function Gf(e,t,n,i,l,s){return hn=s,B=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?$0:ed,Ti=!1,s=n(i,l),Ti=!1,hl&&(s=x0(t,n,i,l)),b0(e),s}function b0(e){z.H=zs;var t=ie!==null&&ie.next!==null;if(hn=0,xe=ie=B=null,pr=!1,Ls=0,ml=null,t)throw Error(S(300));e===null||Ee||(e=e.dependencies,e!==null&&fr(e)&&(Ee=!0))}function x0(e,t,n,i){B=e;var l=0;do{if(hl&&(ml=null),Ls=0,hl=!1,25<=l)throw Error(S(301));if(l+=1,xe=ie=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}z.H=Z0,s=t(n,i)}while(hl);return s}function gx(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?aa(t):t,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(B.flags|=1024),t}function Yf(){var e=gr!==0;return gr=0,e}function Ff(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Qf(e){if(pr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pr=!1}hn=0,xe=ie=B=null,hl=!1,Ls=gr=0,ml=null}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?B.memoizedState=xe=e:xe=xe.next=e,xe}function be(){if(ie===null){var e=B.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=xe===null?B.memoizedState:xe.next;if(t!==null)xe=t,ie=e;else{if(e===null)throw B.alternate===null?Error(S(467)):Error(S(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},xe===null?B.memoizedState=xe=e:xe=xe.next=e}return xe}function fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function aa(e){var t=Ls;return Ls+=1,ml===null&&(ml=[]),e=m0(ml,e,t),t=B,(xe===null?t.memoizedState:xe.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?$0:ed),e}function ho(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return aa(e);if(e.$$typeof===nn)return Ue(e)}throw Error(S(438,String(e)))}function Kf(e){var t=null,n=B.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=B.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=fo(),B.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=t1;return t.index++,n}function mn(e,t){return typeof t=="function"?t(e):t}function Ka(e){var t=be();return Xf(t,ie,e)}function Xf(e,t,n){var i=e.queue;if(i===null)throw Error(S(311));i.lastRenderedReducer=n;var l=e.baseQueue,s=i.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}t.baseQueue=l=s,i.pending=null}if(s=e.baseState,l===null)e.memoizedState=s;else{t=l.next;var r=a=null,o=null,u=t,h=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(K&f)===f:(hn&f)===f){var d=u.revertLane;if(d===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===bl&&(h=!0);else if((hn&d)===d){u=u.next,d===bl&&(h=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(r=o=f,a=s):o=o.next=f,B.lanes|=d,Wn|=d;f=u.action,Ti&&n(s,f),s=u.hasEagerState?u.eagerState:n(s,f)}else d={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(r=o=d,a=s):o=o.next=d,B.lanes|=f,Wn|=f;u=u.next}while(u!==null&&u!==t);if(o===null?a=s:o.next=r,!pt(s,e.memoizedState)&&(Ee=!0,h&&(n=fl,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=o,i.lastRenderedState=s}return l===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ac(e){var t=be(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);pt(s,t.memoizedState)||(Ee=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function w0(e,t,n){var i=B,l=be(),s=P;if(s){if(n===void 0)throw Error(S(407));n=n()}else n=t();var a=!pt((ie||l).memoizedState,n);if(a&&(l.memoizedState=n,Ee=!0),l=l.queue,Pf(T0.bind(null,i,l,e),[e]),l.getSnapshot!==t||a||xe!==null&&xe.memoizedState.tag&1){if(i.flags|=2048,wl(9,{destroy:void 0},E0.bind(null,i,l,n,t),null),le===null)throw Error(S(349));s||hn&127||S0(i,t,n)}return n}function S0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=B.updateQueue,t===null?(t=fo(),B.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function E0(e,t,n,i){t.value=n,t.getSnapshot=i,C0(t)&&N0(e)}function T0(e,t,n){return n(function(){C0(t)&&N0(e)})}function C0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function N0(e){var t=zi(e,2);t!==null&&et(t,e,2)}function wu(e){var t=Ge();if(typeof e=="function"){var n=e;if(e=n(),Ti){Rn(!0);try{n()}finally{Rn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},t}function A0(e,t,n,i){return e.baseState=n,Xf(e,ie,typeof i=="function"?i:mn)}function yx(e,t,n,i,l){if(po(e))throw Error(S(485));if(e=t.action,e!==null){var s={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};z.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,M0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function M0(e,t){var n=t.action,i=t.payload,l=e.state;if(t.isTransition){var s=z.T,a={};z.T=a;try{var r=n(l,i),o=z.S;o!==null&&o(a,r),Ph(e,t,r)}catch(u){Su(e,t,u)}finally{s!==null&&a.types!==null&&(s.types=a.types),z.T=s}}else try{s=n(l,i),Ph(e,t,s)}catch(u){Su(e,t,u)}}function Ph(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){$h(e,t,i)},function(i){return Su(e,t,i)}):$h(e,t,n)}function $h(e,t,n){t.status="fulfilled",t.value=n,j0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,M0(e,n)))}function Su(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,j0(t),t=t.next;while(t!==i)}e.action=null}function j0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function R0(e,t){return t}function Zh(e,t){if(P){var n=le.formState;if(n!==null){e:{var i=B;if(P){if(fe){t:{for(var l=fe,s=Et;l.nodeType!==8;){if(!s){l=null;break t}if(l=Ct(l.nextSibling),l===null){l=null;break t}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){fe=Ct(l.nextSibling),i=l.data==="F!";break e}}$n(i)}i=!1}i&&(t=n[0])}}return n=Ge(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:t},n.queue=i,n=K0.bind(null,B,i),i.dispatch=n,i=wu(!1),s=Jf.bind(null,B,!1,i.queue),i=Ge(),l={state:t,dispatch:null,action:e,pending:null},i.queue=l,n=yx.bind(null,B,l,s,n),l.dispatch=n,i.memoizedState=e,[t,n,!1]}function Wh(e){var t=be();return O0(t,ie,e)}function O0(e,t,n){if(t=Xf(e,t,R0)[0],e=Ka(mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=aa(t)}catch(a){throw a===zl?uo:a}else i=t;t=be();var l=t.queue,s=l.dispatch;return n!==t.memoizedState&&(B.flags|=2048,wl(9,{destroy:void 0},_x.bind(null,l,n),null)),[i,s,e]}function _x(e,t){e.action=t}function Jh(e){var t=be(),n=ie;if(n!==null)return O0(t,n,e);be(),t=t.memoizedState,n=be();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function wl(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=B.updateQueue,t===null&&(t=fo(),B.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function D0(){return be().memoizedState}function Xa(e,t,n,i){var l=Ge();B.flags|=e,l.memoizedState=wl(1|t,{destroy:void 0},n,i===void 0?null:i)}function mo(e,t,n,i){var l=be();i=i===void 0?null:i;var s=l.memoizedState.inst;ie!==null&&i!==null&&qf(i,ie.memoizedState.deps)?l.memoizedState=wl(t,s,n,i):(B.flags|=e,l.memoizedState=wl(1|t,s,n,i))}function em(e,t){Xa(8390656,8,e,t)}function Pf(e,t){mo(2048,8,e,t)}function vx(e){B.flags|=4;var t=B.updateQueue;if(t===null)t=fo(),B.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function k0(e){var t=be().memoizedState;return vx({ref:t,nextImpl:e}),function(){if(Z&2)throw Error(S(440));return t.impl.apply(void 0,arguments)}}function L0(e,t){return mo(4,2,e,t)}function z0(e,t){return mo(4,4,e,t)}function I0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function U0(e,t,n){n=n!=null?n.concat([e]):null,mo(4,4,I0.bind(null,t,e),n)}function $f(){}function B0(e,t){var n=be();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&qf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function H0(e,t){var n=be();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&qf(t,i[1]))return i[0];if(i=e(),Ti){Rn(!0);try{e()}finally{Rn(!1)}}return n.memoizedState=[i,t],i}function Zf(e,t,n){return n===void 0||hn&1073741824&&!(K&261930)?e.memoizedState=t:(e.memoizedState=n,e=Ay(),B.lanes|=e,Wn|=e,n)}function V0(e,t,n,i){return pt(n,t)?n:xl.current!==null?(e=Zf(e,n,i),pt(e,t)||(Ee=!0),e):!(hn&42)||hn&1073741824&&!(K&261930)?(Ee=!0,e.memoizedState=n):(e=Ay(),B.lanes|=e,Wn|=e,t)}function q0(e,t,n,i,l){var s=W.p;W.p=s!==0&&8>s?s:8;var a=z.T,r={};z.T=r,Jf(e,!1,t,n);try{var o=l(),u=z.S;if(u!==null&&u(r,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=mx(o,i);gs(e,t,h,mt(e))}else gs(e,t,i,mt(e))}catch(f){gs(e,t,{then:function(){},status:"rejected",reason:f},mt())}finally{W.p=s,a!==null&&r.types!==null&&(a.types=r.types),z.T=a}}function bx(){}function Eu(e,t,n,i){if(e.tag!==5)throw Error(S(476));var l=G0(e).queue;q0(e,l,t,yi,n===null?bx:function(){return Y0(e),n(i)})}function G0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:yi,baseState:yi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:yi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Y0(e){var t=G0(e);t.next===null&&(t=e.alternate.memoizedState),gs(e,t.next.queue,{},mt())}function Wf(){return Ue(Bs)}function F0(){return be().memoizedState}function Q0(){return be().memoizedState}function xx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mt();e=Un(n);var i=Bn(t,e,n);i!==null&&(et(i,t,n),hs(i,t,n)),t={cache:If()},e.payload=t;return}t=t.return}}function wx(e,t,n){var i=mt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},po(e)?X0(t,n):(n=Df(e,t,n,i),n!==null&&(et(n,e,i),P0(n,t,i)))}function K0(e,t,n){var i=mt();gs(e,t,n,i)}function gs(e,t,n,i){var l={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(po(e))X0(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,r=s(a,n);if(l.hasEagerState=!0,l.eagerState=r,pt(r,a))return co(e,t,l,0),le===null&&oo(),!1}catch{}finally{}if(n=Df(e,t,l,i),n!==null)return et(n,e,i),P0(n,t,i),!0}return!1}function Jf(e,t,n,i){if(i={lane:2,revertLane:od(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},po(e)){if(t)throw Error(S(479))}else t=Df(e,n,i,2),t!==null&&et(t,e,2)}function po(e){var t=e.alternate;return e===B||t!==null&&t===B}function X0(e,t){hl=pr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function P0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,kg(e,n)}}var zs={readContext:Ue,use:ho,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};zs.useEffectEvent=ye;var $0={readContext:Ue,use:ho,useCallback:function(e,t){return Ge().memoizedState=[e,t===void 0?null:t],e},useContext:Ue,useEffect:em,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Xa(4194308,4,I0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xa(4194308,4,e,t)},useInsertionEffect:function(e,t){Xa(4,2,e,t)},useMemo:function(e,t){var n=Ge();t=t===void 0?null:t;var i=e();if(Ti){Rn(!0);try{e()}finally{Rn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ge();if(n!==void 0){var l=n(t);if(Ti){Rn(!0);try{n(t)}finally{Rn(!1)}}}else l=t;return i.memoizedState=i.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},i.queue=e,e=e.dispatch=wx.bind(null,B,e),[i.memoizedState,e]},useRef:function(e){var t=Ge();return e={current:e},t.memoizedState=e},useState:function(e){e=wu(e);var t=e.queue,n=K0.bind(null,B,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$f,useDeferredValue:function(e,t){var n=Ge();return Zf(n,e,t)},useTransition:function(){var e=wu(!1);return e=q0.bind(null,B,e.queue,!0,!1),Ge().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=B,l=Ge();if(P){if(n===void 0)throw Error(S(407));n=n()}else{if(n=t(),le===null)throw Error(S(349));K&127||S0(i,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,em(T0.bind(null,i,s,e),[e]),i.flags|=2048,wl(9,{destroy:void 0},E0.bind(null,i,s,n,t),null),n},useId:function(){var e=Ge(),t=le.identifierPrefix;if(P){var n=Bt,i=Ut;n=(i&~(1<<32-ht(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=gr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=px++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Wf,useFormState:Zh,useActionState:Zh,useOptimistic:function(e){var t=Ge();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Jf.bind(null,B,!0,n),n.dispatch=t,[e,t]},useMemoCache:Kf,useCacheRefresh:function(){return Ge().memoizedState=xx.bind(null,B)},useEffectEvent:function(e){var t=Ge(),n={impl:e};return t.memoizedState=n,function(){if(Z&2)throw Error(S(440));return n.impl.apply(void 0,arguments)}}},ed={readContext:Ue,use:ho,useCallback:B0,useContext:Ue,useEffect:Pf,useImperativeHandle:U0,useInsertionEffect:L0,useLayoutEffect:z0,useMemo:H0,useReducer:Ka,useRef:D0,useState:function(){return Ka(mn)},useDebugValue:$f,useDeferredValue:function(e,t){var n=be();return V0(n,ie.memoizedState,e,t)},useTransition:function(){var e=Ka(mn)[0],t=be().memoizedState;return[typeof e=="boolean"?e:aa(e),t]},useSyncExternalStore:w0,useId:F0,useHostTransitionStatus:Wf,useFormState:Wh,useActionState:Wh,useOptimistic:function(e,t){var n=be();return A0(n,ie,e,t)},useMemoCache:Kf,useCacheRefresh:Q0};ed.useEffectEvent=k0;var Z0={readContext:Ue,use:ho,useCallback:B0,useContext:Ue,useEffect:Pf,useImperativeHandle:U0,useInsertionEffect:L0,useLayoutEffect:z0,useMemo:H0,useReducer:ac,useRef:D0,useState:function(){return ac(mn)},useDebugValue:$f,useDeferredValue:function(e,t){var n=be();return ie===null?Zf(n,e,t):V0(n,ie.memoizedState,e,t)},useTransition:function(){var e=ac(mn)[0],t=be().memoizedState;return[typeof e=="boolean"?e:aa(e),t]},useSyncExternalStore:w0,useId:F0,useHostTransitionStatus:Wf,useFormState:Jh,useActionState:Jh,useOptimistic:function(e,t){var n=be();return ie!==null?A0(n,ie,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:Q0};Z0.useEffectEvent=k0;function rc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tu={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=mt(),l=Un(i);l.payload=t,n!=null&&(l.callback=n),t=Bn(e,l,i),t!==null&&(et(t,e,i),hs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=mt(),l=Un(i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Bn(e,l,i),t!==null&&(et(t,e,i),hs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),i=Un(n);i.tag=2,t!=null&&(i.callback=t),t=Bn(e,i,n),t!==null&&(et(t,e,n),hs(t,e,n))}};function tm(e,t,n,i,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Rs(n,i)||!Rs(l,s):!0}function nm(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Tu.enqueueReplaceState(t,t.state,null)}function Ci(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=he({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function W0(e){or(e)}function J0(e){console.error(e)}function ey(e){or(e)}function yr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function im(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Cu(e,t,n){return n=Un(n),n.tag=3,n.payload={element:null},n.callback=function(){yr(e,t)},n}function ty(e){return e=Un(e),e.tag=3,e}function ny(e,t,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=i.value;e.payload=function(){return l(s)},e.callback=function(){im(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){im(t,n,i),typeof l!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function Sx(e,t,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ll(t,n,l,!0),n=gt.current,n!==null){switch(n.tag){case 31:case 13:return Tt===null?wr():n.alternate===null&&_e===0&&(_e=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===dr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),_c(e,i,l)),!1;case 22:return n.flags|=65536,i===dr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),_c(e,i,l)),!1}throw Error(S(435,n.tag))}return _c(e,i,l),wr(),!1}if(P)return t=gt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,i!==hu&&(e=Error(S(422),{cause:i}),Ds(St(e,n)))):(i!==hu&&(t=Error(S(423),{cause:i}),Ds(St(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,i=St(i,n),l=Cu(e.stateNode,i,l),sc(e,l),_e!==4&&(_e=2)),!1;var s=Error(S(520),{cause:i});if(s=St(s,n),vs===null?vs=[s]:vs.push(s),_e!==4&&(_e=2),t===null)return!0;i=St(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=Cu(n.stateNode,i,e),sc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Hn===null||!Hn.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=ty(l),ny(l,e,n,i),sc(n,l),!1}n=n.return}while(n!==null);return!1}var td=Error(S(461)),Ee=!1;function Le(e,t,n,i){t.child=e===null?g0(t,null,n,i):Ei(t,e.child,n,i)}function lm(e,t,n,i,l){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}else a=i;return Si(t),i=Gf(e,t,n,a,s,l),r=Yf(),e!==null&&!Ee?(Ff(e,t,l),pn(e,t,l)):(P&&r&&Lf(t),t.flags|=1,Le(e,t,i,l),t.child)}function sm(e,t,n,i,l){if(e===null){var s=n.type;return typeof s=="function"&&!kf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,iy(e,t,s,i,l)):(e=Fa(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!nd(e,l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rs,n(a,i)&&e.ref===t.ref)return pn(e,t,l)}return t.flags|=1,e=rn(s,i),e.ref=t.ref,e.return=t,t.child=e}function iy(e,t,n,i,l){if(e!==null){var s=e.memoizedProps;if(Rs(s,i)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=i=s,nd(e,l))e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,pn(e,t,l)}return Nu(e,t,n,i,l)}function ly(e,t,n,i){var l=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;i=l&~s}else i=0,t.child=null;return am(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qa(t,s!==null?s.cachePool:null),s!==null?Xh(t,s):bu(),v0(t);else return i=t.lanes=536870912,am(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Qa(t,s.cachePool),Xh(t,s),Mn(),t.memoizedState=null):(e!==null&&Qa(t,null),bu(),Mn());return Le(e,t,l,n),t.child}function ss(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function am(e,t,n,i,l){var s=Uf();return s=s===null?null:{parent:Se._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Qa(t,null),bu(),v0(t),e!==null&&Ll(e,t,i,!0),t.childLanes=l,null}function Pa(e,t){return t=_r({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rm(e,t,n){return Ei(t,e.child,null,n),e=Pa(t,t.pendingProps),e.flags|=2,ot(t),t.memoizedState=null,e}function Ex(e,t,n){var i=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(P){if(i.mode==="hidden")return e=Pa(t,i),t.lanes=536870912,ss(null,e);if(xu(t),(e=fe)?(e=$y(e,Et),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Pn!==null?{id:Ut,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},n=c0(e),n.return=t,t.child=n,Ie=t,fe=null)):e=null,e===null)throw $n(t);return t.lanes=536870912,null}return Pa(t,i)}var s=e.memoizedState;if(s!==null){var a=s.dehydrated;if(xu(t),l)if(t.flags&256)t.flags&=-257,t=rm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(S(558));else if(Ee||Ll(e,t,n,!1),l=(n&e.childLanes)!==0,Ee||l){if(i=le,i!==null&&(a=Lg(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,zi(e,a),et(i,e,a),td;wr(),t=rm(e,t,n)}else e=s.treeContext,fe=Ct(a.nextSibling),Ie=t,P=!0,In=null,Et=!1,e!==null&&f0(t,e),t=Pa(t,i),t.flags|=4096;return t}return e=rn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function $a(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(S(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Nu(e,t,n,i,l){return Si(t),n=Gf(e,t,n,i,void 0,l),i=Yf(),e!==null&&!Ee?(Ff(e,t,l),pn(e,t,l)):(P&&i&&Lf(t),t.flags|=1,Le(e,t,n,l),t.child)}function om(e,t,n,i,l,s){return Si(t),t.updateQueue=null,n=x0(t,i,n,l),b0(e),i=Yf(),e!==null&&!Ee?(Ff(e,t,s),pn(e,t,s)):(P&&i&&Lf(t),t.flags|=1,Le(e,t,n,s),t.child)}function cm(e,t,n,i,l){if(Si(t),t.stateNode===null){var s=il,a=n.contextType;typeof a=="object"&&a!==null&&(s=Ue(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Tu,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Hf(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Ue(a):il,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(rc(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Tu.enqueueReplaceState(s,s.state,null),ps(t,i,s,l),ms(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var r=t.memoizedProps,o=Ci(n,r);s.props=o;var u=s.context,h=n.contextType;a=il,typeof h=="object"&&h!==null&&(a=Ue(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r||u!==a)&&nm(t,s,i,a),Cn=!1;var d=t.memoizedState;s.state=d,ps(t,i,s,l),ms(),u=t.memoizedState,r||d!==u||Cn?(typeof f=="function"&&(rc(t,n,f,i),u=t.memoizedState),(o=Cn||tm(t,n,o,i,d,u,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),s.props=i,s.state=u,s.context=a,i=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,_u(e,t),a=t.memoizedProps,h=Ci(n,a),s.props=h,f=t.pendingProps,d=s.context,u=n.contextType,o=il,typeof u=="object"&&u!==null&&(o=Ue(u)),r=n.getDerivedStateFromProps,(u=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==o)&&nm(t,s,i,o),Cn=!1,d=t.memoizedState,s.state=d,ps(t,i,s,l),ms();var m=t.memoizedState;a!==f||d!==m||Cn||e!==null&&e.dependencies!==null&&fr(e.dependencies)?(typeof r=="function"&&(rc(t,n,r,i),m=t.memoizedState),(h=Cn||tm(t,n,h,i,d,m,o)||e!==null&&e.dependencies!==null&&fr(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),s.props=i,s.state=m,s.context=o,i=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,$a(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Ei(t,e.child,null,l),t.child=Ei(t,null,n,l)):Le(e,t,n,l),t.memoizedState=s.state,e=t.child):e=pn(e,t,l),e}function um(e,t,n,i){return wi(),t.flags|=256,Le(e,t,n,i),t.child}var oc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cc(e){return{baseLanes:e,cachePool:h0()}}function uc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ut),e}function sy(e,t,n){var i=t.pendingProps,l=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),a&&(l=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(P){if(l?An(t):Mn(),(e=fe)?(e=$y(e,Et),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Pn!==null?{id:Ut,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},n=c0(e),n.return=t,t.child=n,Ie=t,fe=null)):e=null,e===null)throw $n(t);return Vu(e)?t.lanes=32:t.lanes=536870912,null}var r=i.children;return i=i.fallback,l?(Mn(),l=t.mode,r=_r({mode:"hidden",children:r},l),i=_i(i,l,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i=t.child,i.memoizedState=cc(n),i.childLanes=uc(e,a,n),t.memoizedState=oc,ss(null,i)):(An(t),Au(t,r))}var o=e.memoizedState;if(o!==null&&(r=o.dehydrated,r!==null)){if(s)t.flags&256?(An(t),t.flags&=-257,t=fc(e,t,n)):t.memoizedState!==null?(Mn(),t.child=e.child,t.flags|=128,t=null):(Mn(),r=i.fallback,l=t.mode,i=_r({mode:"visible",children:i.children},l),r=_i(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Ei(t,e.child,null,n),i=t.child,i.memoizedState=cc(n),i.childLanes=uc(e,a,n),t.memoizedState=oc,t=ss(null,i));else if(An(t),Vu(r)){if(a=r.nextSibling&&r.nextSibling.dataset,a)var u=a.dgst;a=u,i=Error(S(419)),i.stack="",i.digest=a,Ds({value:i,source:null,stack:null}),t=fc(e,t,n)}else if(Ee||Ll(e,t,n,!1),a=(n&e.childLanes)!==0,Ee||a){if(a=le,a!==null&&(i=Lg(a,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,zi(e,i),et(a,e,i),td;Hu(r)||wr(),t=fc(e,t,n)}else Hu(r)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,fe=Ct(r.nextSibling),Ie=t,P=!0,In=null,Et=!1,e!==null&&f0(t,e),t=Au(t,i.children),t.flags|=4096);return t}return l?(Mn(),r=i.fallback,l=t.mode,o=e.child,u=o.sibling,i=rn(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,u!==null?r=rn(u,r):(r=_i(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,ss(null,i),i=t.child,r=e.child.memoizedState,r===null?r=cc(n):(l=r.cachePool,l!==null?(o=Se._currentValue,l=l.parent!==o?{parent:o,pool:o}:l):l=h0(),r={baseLanes:r.baseLanes|n,cachePool:l}),i.memoizedState=r,i.childLanes=uc(e,a,n),t.memoizedState=oc,ss(e.child,i)):(An(t),n=e.child,e=n.sibling,n=rn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Au(e,t){return t=_r({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _r(e,t){return e=ct(22,e,null,t),e.lanes=0,e}function fc(e,t,n){return Ei(t,e.child,null,n),e=Au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),pu(e.return,t,n)}function dc(e,t,n,i,l,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=l,a.treeForkCount=s)}function ay(e,t,n){var i=t.pendingProps,l=i.revealOrder,s=i.tail;i=i.children;var a=ve.current,r=(a&2)!==0;if(r?(a=a&1|2,t.flags|=128):a&=1,oe(ve,a),Le(e,t,i,n),i=P?Os:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fm(e,n,t);else if(e.tag===19)fm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&mr(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),dc(t,!1,l,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&mr(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}dc(t,!0,n,null,s,i);break;case"together":dc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ll(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&fr(e)))}function Tx(e,t,n){switch(t.tag){case 3:lr(t,t.stateNode.containerInfo),Nn(t,Se,e.memoizedState.cache),wi();break;case 27:case 5:nu(t);break;case 4:lr(t,t.stateNode.containerInfo);break;case 10:Nn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,xu(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(An(t),t.flags|=128,null):n&t.child.childLanes?sy(e,t,n):(An(t),e=pn(e,t,n),e!==null?e.sibling:null);An(t);break;case 19:var l=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ll(e,t,n,!1),i=(n&t.childLanes)!==0),l){if(i)return ay(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),oe(ve,ve.current),i)break;return null;case 22:return t.lanes=0,ly(e,t,n,t.pendingProps);case 24:Nn(t,Se,e.memoizedState.cache)}return pn(e,t,n)}function ry(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ee=!0;else{if(!nd(e,n)&&!(t.flags&128))return Ee=!1,Tx(e,t,n);Ee=!!(e.flags&131072)}else Ee=!1,P&&t.flags&1048576&&u0(t,Os,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ci(t.elementType),t.type=e,typeof e=="function")kf(e)?(i=Ci(e,i),t.tag=1,t=cm(null,t,e,i,n)):(t.tag=0,t=Nu(null,t,e,i,n));else{if(e!=null){var l=e.$$typeof;if(l===bf){t.tag=11,t=lm(null,t,e,i,n);break e}else if(l===xf){t.tag=14,t=sm(null,t,e,i,n);break e}}throw t=eu(e)||e,Error(S(306,t,""))}}return t;case 0:return Nu(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,l=Ci(i,t.pendingProps),cm(e,t,i,l,n);case 3:e:{if(lr(t,t.stateNode.containerInfo),e===null)throw Error(S(387));i=t.pendingProps;var s=t.memoizedState;l=s.element,_u(e,t),ps(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Nn(t,Se,i),i!==s.cache&&gu(t,[Se],n,!0),ms(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=um(e,t,i,n);break e}else if(i!==l){l=St(Error(S(424)),t),Ds(l),t=um(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Ct(e.firstChild),Ie=t,P=!0,In=null,Et=!0,n=g0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(wi(),i===l){t=pn(e,t,n);break e}Le(e,t,i,n)}t=t.child}return t;case 26:return $a(e,t),e===null?(n=Rm(t.type,null,t.pendingProps,null))?t.memoizedState=n:P||(n=t.type,e=t.pendingProps,i=Cr(zn.current).createElement(n),i[ze]=t,i[it]=e,Be(i,n,e),De(i),t.stateNode=i):t.memoizedState=Rm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return nu(t),e===null&&P&&(i=t.stateNode=Zy(t.type,t.pendingProps,zn.current),Ie=t,Et=!0,l=fe,li(t.type)?(qu=l,fe=Ct(i.firstChild)):fe=l),Le(e,t,t.pendingProps.children,n),$a(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&P&&((l=i=fe)&&(i=tw(i,t.type,t.pendingProps,Et),i!==null?(t.stateNode=i,Ie=t,fe=Ct(i.firstChild),Et=!1,l=!0):l=!1),l||$n(t)),nu(t),l=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Uu(l,s)?i=null:a!==null&&Uu(l,a)&&(t.flags|=32),t.memoizedState!==null&&(l=Gf(e,t,gx,null,null,n),Bs._currentValue=l),$a(e,t),Le(e,t,i,n),t.child;case 6:return e===null&&P&&((e=n=fe)&&(n=nw(n,t.pendingProps,Et),n!==null?(t.stateNode=n,Ie=t,fe=null,e=!0):e=!1),e||$n(t)),null;case 13:return sy(e,t,n);case 4:return lr(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ei(t,null,i,n):Le(e,t,i,n),t.child;case 11:return lm(e,t,t.type,t.pendingProps,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Nn(t,t.type,i.value),Le(e,t,i.children,n),t.child;case 9:return l=t.type._context,i=t.pendingProps.children,Si(t),l=Ue(l),i=i(l),t.flags|=1,Le(e,t,i,n),t.child;case 14:return sm(e,t,t.type,t.pendingProps,n);case 15:return iy(e,t,t.type,t.pendingProps,n);case 19:return ay(e,t,n);case 31:return Ex(e,t,n);case 22:return ly(e,t,n,t.pendingProps);case 24:return Si(t),i=Ue(Se),e===null?(l=Uf(),l===null&&(l=le,s=If(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),t.memoizedState={parent:i,cache:l},Hf(t),Nn(t,Se,l)):(e.lanes&n&&(_u(e,t),ps(t,null,null,n),ms()),l=e.memoizedState,s=t.memoizedState,l.parent!==i?(l={parent:i,cache:i},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Nn(t,Se,i)):(i=s.cache,Nn(t,Se,i),i!==l.cache&&gu(t,[Se],n,!0))),Le(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(S(156,t.tag))}function Pt(e){e.flags|=4}function hc(e,t,n,i,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw bi=dr,Bf}else e.flags&=-16777217}function dm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!e_(t))if(Ry())e.flags|=8192;else throw bi=dr,Bf}function Ma(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Og():536870912,e.lanes|=t,Sl|=t)}function Xl(e,t){if(!P)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Cx(e,t,n){var i=t.pendingProps;switch(zf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(t),null;case 1:return ce(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),on(Se),yl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?Pt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lc())),ce(t),null;case 26:var l=t.type,s=t.memoizedState;return e===null?(Pt(t),s!==null?(ce(t),dm(t,s)):(ce(t),hc(t,l,null,i,n))):s?s!==e.memoizedState?(Pt(t),ce(t),dm(t,s)):(ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Pt(t),ce(t),hc(t,l,e,i,n)),null;case 27:if(sr(t),n=zn.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Pt(t);else{if(!i){if(t.stateNode===null)throw Error(S(166));return ce(t),null}e=Vt.current,Vi(t)?Vh(t):(e=Zy(l,i,n),t.stateNode=e,Pt(t))}return ce(t),null;case 5:if(sr(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Pt(t);else{if(!i){if(t.stateNode===null)throw Error(S(166));return ce(t),null}if(s=Vt.current,Vi(t))Vh(t);else{var a=Cr(zn.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(l,{is:i.is}):a.createElement(l)}}s[ze]=t,s[it]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(Be(s,l,i),l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Pt(t)}}return ce(t),hc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Pt(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(S(166));if(e=zn.current,Vi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,l=Ie,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}e[ze]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Ky(e.nodeValue,n)),e||$n(t,!0)}else e=Cr(e).createTextNode(i),e[ze]=t,t.stateNode=e}return ce(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Vi(t),n!==null){if(e===null){if(!i)throw Error(S(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(557));e[ze]=t}else wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ce(t),e=!1}else n=lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ot(t),t):(ot(t),null);if(t.flags&128)throw Error(S(558))}return ce(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Vi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(S(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(S(317));l[ze]=t}else wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ce(t),l=!1}else l=lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(ot(t),t):(ot(t),null)}return ot(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ma(t,t.updateQueue),ce(t),null);case 4:return yl(),e===null&&cd(t.stateNode.containerInfo),ce(t),null;case 10:return on(t.type),ce(t),null;case 19:if(ke(ve),i=t.memoizedState,i===null)return ce(t),null;if(l=(t.flags&128)!==0,s=i.rendering,s===null)if(l)Xl(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=mr(e),s!==null){for(t.flags|=128,Xl(i,!1),e=s.updateQueue,t.updateQueue=e,Ma(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)o0(n,e),n=n.sibling;return oe(ve,ve.current&1|2),P&&en(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ft()>br&&(t.flags|=128,l=!0,Xl(i,!1),t.lanes=4194304)}else{if(!l)if(e=mr(s),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Ma(t,e),Xl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!P)return ce(t),null}else 2*ft()-i.renderingStartTime>br&&n!==536870912&&(t.flags|=128,l=!0,Xl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=ve.current,oe(ve,l?n&1|2:n&1),P&&en(t,i.treeForkCount),e):(ce(t),null);case 22:case 23:return ot(t),Vf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(ce(t),t.subtreeFlags&6&&(t.flags|=8192)):ce(t),n=t.updateQueue,n!==null&&Ma(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ke(vi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),on(Se),ce(t),null;case 25:return null;case 30:return null}throw Error(S(156,t.tag))}function Nx(e,t){switch(zf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return on(Se),yl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return sr(t),null;case 31:if(t.memoizedState!==null){if(ot(t),t.alternate===null)throw Error(S(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(ve),null;case 4:return yl(),null;case 10:return on(t.type),null;case 22:case 23:return ot(t),Vf(),e!==null&&ke(vi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return on(Se),null;case 25:return null;default:return null}}function oy(e,t){switch(zf(t),t.tag){case 3:on(Se),yl();break;case 26:case 27:case 5:sr(t);break;case 4:yl();break;case 31:t.memoizedState!==null&&ot(t);break;case 13:ot(t);break;case 19:ke(ve);break;case 10:on(t.type);break;case 22:case 23:ot(t),Vf(),e!==null&&ke(vi);break;case 24:on(Se)}}function ra(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==l)}}catch(r){te(t,t.return,r)}}function Zn(e,t,n){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var s=l.next;i=s;do{if((i.tag&e)===e){var a=i.inst,r=a.destroy;if(r!==void 0){a.destroy=void 0,l=t;var o=n,u=r;try{u()}catch(h){te(l,o,h)}}}i=i.next}while(i!==s)}}catch(h){te(t,t.return,h)}}function cy(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{_0(t,n)}catch(i){te(e,e.return,i)}}}function uy(e,t,n){n.props=Ci(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){te(e,t,i)}}function ys(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(l){te(e,t,l)}}function Ht(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){te(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){te(e,t,l)}else n.current=null}function fy(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){te(e,e.return,l)}}function mc(e,t,n){try{var i=e.stateNode;Px(i,e.type,n,t),i[it]=t}catch(l){te(e,e.return,l)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&li(e.type)||e.tag===4}function pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&li(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ln));else if(i!==4&&(i===27&&li(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}function vr(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&li(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(vr(e,t,n),e=e.sibling;e!==null;)vr(e,t,n),e=e.sibling}function hy(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Be(t,i,n),t[ze]=e,t[it]=n}catch(s){te(e,e.return,s)}}var tn=!1,we=!1,gc=!1,hm=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Ax(e,t){if(e=e.containerInfo,zu=jr,e=e0(e),Rf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,r=-1,o=-1,u=0,h=0,f=e,d=null;t:for(;;){for(var m;f!==n||l!==0&&f.nodeType!==3||(r=a+l),f!==s||i!==0&&f.nodeType!==3||(o=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++u===l&&(r=a),d===s&&++h===i&&(o=a),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=r===-1||o===-1?null:{start:r,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iu={focusedElem:e,selectionRange:n},jr=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){switch(t=Re,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,l=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var v=Ci(n.type,l);e=i.getSnapshotBeforeUpdate(v,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(w){te(n,n.return,w)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Bu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(S(163))}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}}function my(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Zt(e,n),i&4&&ra(5,n);break;case 1:if(Zt(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){te(n,n.return,a)}else{var l=Ci(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){te(n,n.return,a)}}i&64&&cy(n),i&512&&ys(n,n.return);break;case 3:if(Zt(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{_0(e,t)}catch(a){te(n,n.return,a)}}break;case 27:t===null&&i&4&&hy(n);case 26:case 5:Zt(e,n),t===null&&i&4&&fy(n),i&512&&ys(n,n.return);break;case 12:Zt(e,n);break;case 31:Zt(e,n),i&4&&yy(e,n);break;case 13:Zt(e,n),i&4&&_y(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ix.bind(null,n),iw(e,n))));break;case 22:if(i=n.memoizedState!==null||tn,!i){t=t!==null&&t.memoizedState!==null||we,l=tn;var s=we;tn=i,(we=t)&&!s?Wt(e,n,(n.subtreeFlags&8772)!==0):Zt(e,n),tn=l,we=s}break;case 30:break;default:Zt(e,n)}}function py(e){var t=e.alternate;t!==null&&(e.alternate=null,py(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,Ze=!1;function $t(e,t,n){for(n=n.child;n!==null;)gy(e,t,n),n=n.sibling}function gy(e,t,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(ea,n)}catch{}switch(n.tag){case 26:we||Ht(n,t),$t(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:we||Ht(n,t);var i=me,l=Ze;li(n.type)&&(me=n.stateNode,Ze=!1),$t(e,t,n),xs(n.stateNode),me=i,Ze=l;break;case 5:we||Ht(n,t);case 6:if(i=me,l=Ze,me=null,$t(e,t,n),me=i,Ze=l,me!==null)if(Ze)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(n.stateNode)}catch(s){te(n,t,s)}else try{me.removeChild(n.stateNode)}catch(s){te(n,t,s)}break;case 18:me!==null&&(Ze?(e=me,Cm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Nl(e)):Cm(me,n.stateNode));break;case 4:i=me,l=Ze,me=n.stateNode.containerInfo,Ze=!0,$t(e,t,n),me=i,Ze=l;break;case 0:case 11:case 14:case 15:Zn(2,n,t),we||Zn(4,n,t),$t(e,t,n);break;case 1:we||(Ht(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&uy(n,t,i)),$t(e,t,n);break;case 21:$t(e,t,n);break;case 22:we=(i=we)||n.memoizedState!==null,$t(e,t,n),we=i;break;default:$t(e,t,n)}}function yy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Nl(e)}catch(n){te(t,t.return,n)}}}function _y(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nl(e)}catch(n){te(t,t.return,n)}}function Mx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hm),t;default:throw Error(S(435,e.tag))}}function ja(e,t){var n=Mx(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var l=Ux.bind(null,e,i);i.then(l,l)}})}function Pe(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],s=e,a=t,r=a;e:for(;r!==null;){switch(r.tag){case 27:if(li(r.type)){me=r.stateNode,Ze=!1;break e}break;case 5:me=r.stateNode,Ze=!1;break e;case 3:case 4:me=r.stateNode.containerInfo,Ze=!0;break e}r=r.return}if(me===null)throw Error(S(160));gy(s,a,l),me=null,Ze=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vy(t,e),t=t.sibling}var Mt=null;function vy(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pe(t,e),$e(e),i&4&&(Zn(3,e,e.return),ra(3,e),Zn(5,e,e.return));break;case 1:Pe(t,e),$e(e),i&512&&(we||n===null||Ht(n,n.return)),i&64&&tn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=Mt;if(Pe(t,e),$e(e),i&512&&(we||n===null||Ht(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":s=l.getElementsByTagName("title")[0],(!s||s[ia]||s[ze]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(i),l.head.insertBefore(s,l.querySelector("head > title"))),Be(s,i,n),s[ze]=e,De(s),i=s;break e;case"link":var a=Dm("link","href",l).get(i+(n.href||""));if(a){for(var r=0;r<a.length;r++)if(s=a[r],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(r,1);break t}}s=l.createElement(i),Be(s,i,n),l.head.appendChild(s);break;case"meta":if(a=Dm("meta","content",l).get(i+(n.content||""))){for(r=0;r<a.length;r++)if(s=a[r],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(r,1);break t}}s=l.createElement(i),Be(s,i,n),l.head.appendChild(s);break;default:throw Error(S(468,i))}s[ze]=e,De(s),i=s}e.stateNode=i}else km(l,e.type,e.stateNode);else e.stateNode=Om(l,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?km(l,e.type,e.stateNode):Om(l,i,e.memoizedProps)):i===null&&e.stateNode!==null&&mc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pe(t,e),$e(e),i&512&&(we||n===null||Ht(n,n.return)),n!==null&&i&4&&mc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pe(t,e),$e(e),i&512&&(we||n===null||Ht(n,n.return)),e.flags&32){l=e.stateNode;try{vl(l,"")}catch(v){te(e,e.return,v)}}i&4&&e.stateNode!=null&&(l=e.memoizedProps,mc(e,l,n!==null?n.memoizedProps:l)),i&1024&&(gc=!0);break;case 6:if(Pe(t,e),$e(e),i&4){if(e.stateNode===null)throw Error(S(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(v){te(e,e.return,v)}}break;case 3:if(Ja=null,l=Mt,Mt=Nr(t.containerInfo),Pe(t,e),Mt=l,$e(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Nl(t.containerInfo)}catch(v){te(e,e.return,v)}gc&&(gc=!1,by(e));break;case 4:i=Mt,Mt=Nr(e.stateNode.containerInfo),Pe(t,e),$e(e),Mt=i;break;case 12:Pe(t,e),$e(e);break;case 31:Pe(t,e),$e(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ja(e,i)));break;case 13:Pe(t,e),$e(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(go=ft()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ja(e,i)));break;case 22:l=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=tn,h=we;if(tn=u||l,we=h||o,Pe(t,e),we=h,tn=u,$e(e),i&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||o||tn||we||ui(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,l)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{r=o.stateNode;var f=o.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;r.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(v){te(o,o.return,v)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=l?"":o.memoizedProps}catch(v){te(o,o.return,v)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;l?Nm(m,!0):Nm(o.stateNode,!1)}catch(v){te(o,o.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,ja(e,n))));break;case 19:Pe(t,e),$e(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ja(e,i)));break;case 30:break;case 21:break;default:Pe(t,e),$e(e)}}function $e(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(dy(i)){n=i;break}i=i.return}if(n==null)throw Error(S(160));switch(n.tag){case 27:var l=n.stateNode,s=pc(e);vr(e,s,l);break;case 5:var a=n.stateNode;n.flags&32&&(vl(a,""),n.flags&=-33);var r=pc(e);vr(e,r,a);break;case 3:case 4:var o=n.stateNode.containerInfo,u=pc(e);Mu(e,u,o);break;default:throw Error(S(161))}}catch(h){te(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function by(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;by(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)my(e,t.alternate,t),t=t.sibling}function ui(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zn(4,t,t.return),ui(t);break;case 1:Ht(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&uy(t,t.return,n),ui(t);break;case 27:xs(t.stateNode);case 26:case 5:Ht(t,t.return),ui(t);break;case 22:t.memoizedState===null&&ui(t);break;case 30:ui(t);break;default:ui(t)}e=e.sibling}}function Wt(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,l=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Wt(l,s,n),ra(4,s);break;case 1:if(Wt(l,s,n),i=s,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(u){te(i,i.return,u)}if(i=s,l=i.updateQueue,l!==null){var r=i.stateNode;try{var o=l.shared.hiddenCallbacks;if(o!==null)for(l.shared.hiddenCallbacks=null,l=0;l<o.length;l++)y0(o[l],r)}catch(u){te(i,i.return,u)}}n&&a&64&&cy(s),ys(s,s.return);break;case 27:hy(s);case 26:case 5:Wt(l,s,n),n&&i===null&&a&4&&fy(s),ys(s,s.return);break;case 12:Wt(l,s,n);break;case 31:Wt(l,s,n),n&&a&4&&yy(l,s);break;case 13:Wt(l,s,n),n&&a&4&&_y(l,s);break;case 22:s.memoizedState===null&&Wt(l,s,n),ys(s,s.return);break;case 30:break;default:Wt(l,s,n)}t=t.sibling}}function id(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&sa(n))}function ld(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sa(e))}function At(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xy(e,t,n,i),t=t.sibling}function xy(e,t,n,i){var l=t.flags;switch(t.tag){case 0:case 11:case 15:At(e,t,n,i),l&2048&&ra(9,t);break;case 1:At(e,t,n,i);break;case 3:At(e,t,n,i),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sa(e)));break;case 12:if(l&2048){At(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,r=s.onPostCommit;typeof r=="function"&&r(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){te(t,t.return,o)}}else At(e,t,n,i);break;case 31:At(e,t,n,i);break;case 13:At(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?At(e,t,n,i):_s(e,t):s._visibility&2?At(e,t,n,i):(s._visibility|=2,Ki(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),l&2048&&id(a,t);break;case 24:At(e,t,n,i),l&2048&&ld(t.alternate,t);break;default:At(e,t,n,i)}}function Ki(e,t,n,i,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,a=t,r=n,o=i,u=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(s,a,r,o,l),ra(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Ki(s,a,r,o,l):_s(s,a):(h._visibility|=2,Ki(s,a,r,o,l)),l&&u&2048&&id(a.alternate,a);break;case 24:Ki(s,a,r,o,l),l&&u&2048&&ld(a.alternate,a);break;default:Ki(s,a,r,o,l)}t=t.sibling}}function _s(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,l=i.flags;switch(i.tag){case 22:_s(n,i),l&2048&&id(i.alternate,i);break;case 24:_s(n,i),l&2048&&ld(i.alternate,i);break;default:_s(n,i)}t=t.sibling}}var as=8192;function qi(e,t,n){if(e.subtreeFlags&as)for(e=e.child;e!==null;)wy(e,t,n),e=e.sibling}function wy(e,t,n){switch(e.tag){case 26:qi(e,t,n),e.flags&as&&e.memoizedState!==null&&pw(n,Mt,e.memoizedState,e.memoizedProps);break;case 5:qi(e,t,n);break;case 3:case 4:var i=Mt;Mt=Nr(e.stateNode.containerInfo),qi(e,t,n),Mt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=as,as=16777216,qi(e,t,n),as=i):qi(e,t,n));break;default:qi(e,t,n)}}function Sy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Pl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Re=i,Ty(i,e)}Sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:Pl(e),e.flags&2048&&Zn(9,e,e.return);break;case 3:Pl(e);break;case 12:Pl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Za(e)):Pl(e);break;default:Pl(e)}}function Za(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Re=i,Ty(i,e)}Sy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zn(8,t,t.return),Za(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Za(t));break;default:Za(t)}e=e.sibling}}function Ty(e,t){for(;Re!==null;){var n=Re;switch(n.tag){case 0:case 11:case 15:Zn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:sa(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Re=i;else e:for(n=e;Re!==null;){i=Re;var l=i.sibling,s=i.return;if(py(i),i===n){Re=null;break e}if(l!==null){l.return=s,Re=l;break e}Re=s}}}var jx={getCacheForType:function(e){var t=Ue(Se),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ue(Se).controller.signal}},Rx=typeof WeakMap=="function"?WeakMap:Map,Z=0,le=null,F=null,K=0,ee=0,rt=null,Dn=!1,Il=!1,sd=!1,gn=0,_e=0,Wn=0,xi=0,ad=0,ut=0,Sl=0,vs=null,We=null,ju=!1,go=0,Cy=0,br=1/0,xr=null,Hn=null,Ce=0,Vn=null,El=null,cn=0,Ru=0,Ou=null,Ny=null,bs=0,Du=null;function mt(){return Z&2&&K!==0?K&-K:z.T!==null?od():zg()}function Ay(){if(ut===0)if(!(K&536870912)||P){var e=wa;wa<<=1,!(wa&3932160)&&(wa=262144),ut=e}else ut=536870912;return e=gt.current,e!==null&&(e.flags|=32),ut}function et(e,t,n){(e===le&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&(Tl(e,0),kn(e,K,ut,!1)),na(e,n),(!(Z&2)||e!==le)&&(e===le&&(!(Z&2)&&(xi|=n),_e===4&&kn(e,K,ut,!1)),Ft(e))}function My(e,t,n){if(Z&6)throw Error(S(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ta(e,t),l=i?kx(e,t):yc(e,t,!0),s=i;do{if(l===0){Il&&!i&&kn(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!Ox(n)){l=yc(e,t,!1),s=!1;continue}if(l===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var r=e;l=vs;var o=r.current.memoizedState.isDehydrated;if(o&&(Tl(r,a).flags|=256),a=yc(r,a,!1),a!==2){if(sd&&!o){r.errorRecoveryDisabledLanes|=s,xi|=s,l=4;break e}s=We,We=l,s!==null&&(We===null?We=s:We.push.apply(We,s))}l=a}if(s=!1,l!==2)continue}}if(l===1){Tl(e,0),kn(e,t,0,!0);break}e:{switch(i=e,s=l,s){case 0:case 1:throw Error(S(345));case 4:if((t&4194048)!==t)break;case 6:kn(i,t,ut,!Dn);break e;case 2:We=null;break;case 3:case 5:break;default:throw Error(S(329))}if((t&62914560)===t&&(l=go+300-ft(),10<l)){if(kn(i,t,ut,!Dn),lo(i,0,!0)!==0)break e;cn=t,i.timeoutHandle=Py(mm.bind(null,i,n,We,xr,ju,t,ut,xi,Sl,Dn,s,"Throttled",-0,0),l);break e}mm(i,n,We,xr,ju,t,ut,xi,Sl,Dn,s,null,-0,0)}}break}while(!0);Ft(e)}function mm(e,t,n,i,l,s,a,r,o,u,h,f,d,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},wy(t,s,f);var v=(s&62914560)===s?go-ft():(s&4194048)===s?Cy-ft():0;if(v=gw(f,v),v!==null){cn=s,e.cancelPendingCommit=v(gm.bind(null,e,t,s,n,i,l,a,r,o,h,f,null,d,m)),kn(e,s,a,!u);return}}gm(e,t,s,n,i,l,a,r,o)}function Ox(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],s=l.getSnapshot;l=l.value;try{if(!pt(s(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t,n,i){t&=~ad,t&=~xi,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var l=t;0<l;){var s=31-ht(l),a=1<<s;i[s]=-1,l&=~a}n!==0&&Dg(e,n,t)}function yo(){return Z&6?!0:(oa(0),!1)}function rd(){if(F!==null){if(ee===0)var e=F.return;else e=F,sn=Ii=null,Qf(e),dl=null,ks=0,e=F;for(;e!==null;)oy(e.alternate,e),e=e.return;F=null}}function Tl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Wx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cn=0,rd(),le=e,F=n=rn(e.current,null),K=t,ee=0,rt=null,Dn=!1,Il=ta(e,t),sd=!1,Sl=ut=ad=xi=Wn=_e=0,We=vs=null,ju=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var l=31-ht(i),s=1<<l;t|=e[l],i&=~s}return gn=t,oo(),n}function jy(e,t){B=null,z.H=zs,t===zl||t===uo?(t=Qh(),ee=3):t===Bf?(t=Qh(),ee=4):ee=t===td?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,rt=t,F===null&&(_e=1,yr(e,St(t,e.current)))}function Ry(){var e=gt.current;return e===null?!0:(K&4194048)===K?Tt===null:(K&62914560)===K||K&536870912?e===Tt:!1}function Oy(){var e=z.H;return z.H=zs,e===null?zs:e}function Dy(){var e=z.A;return z.A=jx,e}function wr(){_e=4,Dn||(K&4194048)!==K&&gt.current!==null||(Il=!0),!(Wn&134217727)&&!(xi&134217727)||le===null||kn(le,K,ut,!1)}function yc(e,t,n){var i=Z;Z|=2;var l=Oy(),s=Dy();(le!==e||K!==t)&&(xr=null,Tl(e,t)),t=!1;var a=_e;e:do try{if(ee!==0&&F!==null){var r=F,o=rt;switch(ee){case 8:rd(),a=6;break e;case 3:case 2:case 9:case 6:gt.current===null&&(t=!0);var u=ee;if(ee=0,rt=null,al(e,r,o,u),n&&Il){a=0;break e}break;default:u=ee,ee=0,rt=null,al(e,r,o,u)}}Dx(),a=_e;break}catch(h){jy(e,h)}while(!0);return t&&e.shellSuspendCounter++,sn=Ii=null,Z=i,z.H=l,z.A=s,F===null&&(le=null,K=0,oo()),a}function Dx(){for(;F!==null;)ky(F)}function kx(e,t){var n=Z;Z|=2;var i=Oy(),l=Dy();le!==e||K!==t?(xr=null,br=ft()+500,Tl(e,t)):Il=ta(e,t);e:do try{if(ee!==0&&F!==null){t=F;var s=rt;t:switch(ee){case 1:ee=0,rt=null,al(e,t,s,1);break;case 2:case 9:if(Fh(s)){ee=0,rt=null,pm(t);break}t=function(){ee!==2&&ee!==9||le!==e||(ee=7),Ft(e)},s.then(t,t);break e;case 3:ee=7;break e;case 4:ee=5;break e;case 7:Fh(s)?(ee=0,rt=null,pm(t)):(ee=0,rt=null,al(e,t,s,7));break;case 5:var a=null;switch(F.tag){case 26:a=F.memoizedState;case 5:case 27:var r=F;if(a?e_(a):r.stateNode.complete){ee=0,rt=null;var o=r.sibling;if(o!==null)F=o;else{var u=r.return;u!==null?(F=u,_o(u)):F=null}break t}}ee=0,rt=null,al(e,t,s,5);break;case 6:ee=0,rt=null,al(e,t,s,6);break;case 8:rd(),_e=6;break e;default:throw Error(S(462))}}Lx();break}catch(h){jy(e,h)}while(!0);return sn=Ii=null,z.H=i,z.A=l,Z=n,F!==null?0:(le=null,K=0,oo(),_e)}function Lx(){for(;F!==null&&!l1();)ky(F)}function ky(e){var t=ry(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?_o(e):F=t}function pm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=om(n,t,t.pendingProps,t.type,void 0,K);break;case 11:t=om(n,t,t.pendingProps,t.type.render,t.ref,K);break;case 5:Qf(t);default:oy(n,t),t=F=o0(t,gn),t=ry(n,t,gn)}e.memoizedProps=e.pendingProps,t===null?_o(e):F=t}function al(e,t,n,i){sn=Ii=null,Qf(t),dl=null,ks=0;var l=t.return;try{if(Sx(e,l,t,n,K)){_e=1,yr(e,St(n,e.current)),F=null;return}}catch(s){if(l!==null)throw F=l,s;_e=1,yr(e,St(n,e.current)),F=null;return}t.flags&32768?(P||i===1?e=!0:Il||K&536870912?e=!1:(Dn=e=!0,(i===2||i===9||i===3||i===6)&&(i=gt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Ly(t,e)):_o(t)}function _o(e){var t=e;do{if(t.flags&32768){Ly(t,Dn);return}e=t.return;var n=Cx(t.alternate,t,gn);if(n!==null){F=n;return}if(t=t.sibling,t!==null){F=t;return}F=t=e}while(t!==null);_e===0&&(_e=5)}function Ly(e,t){do{var n=Nx(e.alternate,e);if(n!==null){n.flags&=32767,F=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){F=e;return}F=e=n}while(e!==null);_e=6,F=null}function gm(e,t,n,i,l,s,a,r,o){e.cancelPendingCommit=null;do vo();while(Ce!==0);if(Z&6)throw Error(S(327));if(t!==null){if(t===e.current)throw Error(S(177));if(s=t.lanes|t.childLanes,s|=Of,m1(e,n,s,a,r,o),e===le&&(F=le=null,K=0),El=t,Vn=e,cn=n,Ru=s,Ou=l,Ny=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Bx(ar,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=z.T,z.T=null,l=W.p,W.p=2,a=Z,Z|=4;try{Ax(e,t,n)}finally{Z=a,W.p=l,z.T=i}}Ce=1,zy(),Iy(),Uy()}}function zy(){if(Ce===1){Ce=0;var e=Vn,t=El,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=z.T,z.T=null;var i=W.p;W.p=2;var l=Z;Z|=4;try{vy(t,e);var s=Iu,a=e0(e.containerInfo),r=s.focusedElem,o=s.selectionRange;if(a!==r&&r&&r.ownerDocument&&Jg(r.ownerDocument.documentElement,r)){if(o!==null&&Rf(r)){var u=o.start,h=o.end;if(h===void 0&&(h=u),"selectionStart"in r)r.selectionStart=u,r.selectionEnd=Math.min(h,r.value.length);else{var f=r.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var m=d.getSelection(),v=r.textContent.length,w=Math.min(o.start,v),x=o.end===void 0?w:Math.min(o.end,v);!m.extend&&w>x&&(a=x,x=w,w=a);var p=Uh(r,w),g=Uh(r,x);if(p&&g&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=f.createRange();y.setStart(p.node,p.offset),m.removeAllRanges(),w>x?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(f=[],m=r;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<f.length;r++){var _=f[r];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}jr=!!zu,Iu=zu=null}finally{Z=l,W.p=i,z.T=n}}e.current=t,Ce=2}}function Iy(){if(Ce===2){Ce=0;var e=Vn,t=El,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=z.T,z.T=null;var i=W.p;W.p=2;var l=Z;Z|=4;try{my(e,t.alternate,t)}finally{Z=l,W.p=i,z.T=n}}Ce=3}}function Uy(){if(Ce===4||Ce===3){Ce=0,s1();var e=Vn,t=El,n=cn,i=Ny;t.subtreeFlags&10256||t.flags&10256?Ce=5:(Ce=0,El=Vn=null,By(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Hn=null),Ef(n),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(ea,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=z.T,l=W.p,W.p=2,z.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var r=i[a];s(r.value,{componentStack:r.stack})}}finally{z.T=t,W.p=l}}cn&3&&vo(),Ft(e),l=e.pendingLanes,n&261930&&l&42?e===Du?bs++:(bs=0,Du=e):bs=0,oa(0)}}function By(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,sa(t)))}function vo(){return zy(),Iy(),Uy(),Hy()}function Hy(){if(Ce!==5)return!1;var e=Vn,t=Ru;Ru=0;var n=Ef(cn),i=z.T,l=W.p;try{W.p=32>n?32:n,z.T=null,n=Ou,Ou=null;var s=Vn,a=cn;if(Ce=0,El=Vn=null,cn=0,Z&6)throw Error(S(331));var r=Z;if(Z|=4,Ey(s.current),xy(s,s.current,a,n),Z=r,oa(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(ea,s)}catch{}return!0}finally{W.p=l,z.T=i,By(e,t)}}function ym(e,t,n){t=St(n,t),t=Cu(e.stateNode,t,2),e=Bn(e,t,2),e!==null&&(na(e,2),Ft(e))}function te(e,t,n){if(e.tag===3)ym(e,e,n);else for(;t!==null;){if(t.tag===3){ym(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hn===null||!Hn.has(i))){e=St(n,e),n=ty(2),i=Bn(t,n,2),i!==null&&(ny(n,i,t,e),na(i,2),Ft(i));break}}t=t.return}}function _c(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Rx;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(sd=!0,l.add(n),e=zx.bind(null,e,t,n),t.then(e,e))}function zx(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,le===e&&(K&n)===n&&(_e===4||_e===3&&(K&62914560)===K&&300>ft()-go?!(Z&2)&&Tl(e,0):ad|=n,Sl===K&&(Sl=0)),Ft(e)}function Vy(e,t){t===0&&(t=Og()),e=zi(e,t),e!==null&&(na(e,t),Ft(e))}function Ix(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vy(e,n)}function Ux(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(S(314))}i!==null&&i.delete(t),Vy(e,n)}function Bx(e,t){return wf(e,t)}var Sr=null,Xi=null,ku=!1,Er=!1,vc=!1,Ln=0;function Ft(e){e!==Xi&&e.next===null&&(Xi===null?Sr=Xi=e:Xi=Xi.next=e),Er=!0,ku||(ku=!0,Vx())}function oa(e,t){if(!vc&&Er){vc=!0;do for(var n=!1,i=Sr;i!==null;){if(e!==0){var l=i.pendingLanes;if(l===0)var s=0;else{var a=i.suspendedLanes,r=i.pingedLanes;s=(1<<31-ht(42|e)+1)-1,s&=l&~(a&~r),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,_m(i,s))}else s=K,s=lo(i,i===le?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||ta(i,s)||(n=!0,_m(i,s));i=i.next}while(n);vc=!1}}function Hx(){qy()}function qy(){Er=ku=!1;var e=0;Ln!==0&&Zx()&&(e=Ln);for(var t=ft(),n=null,i=Sr;i!==null;){var l=i.next,s=Gy(i,t);s===0?(i.next=null,n===null?Sr=l:n.next=l,l===null&&(Xi=n)):(n=i,(e!==0||s&3)&&(Er=!0)),i=l}Ce!==0&&Ce!==5||oa(e),Ln!==0&&(Ln=0)}function Gy(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-ht(s),r=1<<a,o=l[a];o===-1?(!(r&n)||r&i)&&(l[a]=h1(r,t)):o<=t&&(e.expiredLanes|=r),s&=~r}if(t=le,n=K,n=lo(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ko(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ta(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ko(i),Ef(n)){case 2:case 8:n=jg;break;case 32:n=ar;break;case 268435456:n=Rg;break;default:n=ar}return i=Yy.bind(null,e),n=wf(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ko(i),e.callbackPriority=2,e.callbackNode=null,2}function Yy(e,t){if(Ce!==0&&Ce!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(vo()&&e.callbackNode!==n)return null;var i=K;return i=lo(e,e===le?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(My(e,i,t),Gy(e,ft()),e.callbackNode!=null&&e.callbackNode===n?Yy.bind(null,e):null)}function _m(e,t){if(vo())return null;My(e,t,!0)}function Vx(){Jx(function(){Z&6?wf(Mg,Hx):qy()})}function od(){if(Ln===0){var e=bl;e===0&&(e=xa,xa<<=1,!(xa&261888)&&(xa=256)),Ln=e}return Ln}function vm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qa(""+e)}function bm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function qx(e,t,n,i,l){if(t==="submit"&&n&&n.stateNode===l){var s=vm((l[it]||null).action),a=i.submitter;a&&(t=(t=a[it]||null)?vm(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var r=new so("action","action",null,i,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ln!==0){var o=a?bm(l,a):new FormData(l);Eu(n,{pending:!0,data:o,method:l.method,action:s},null,o)}}else typeof s=="function"&&(r.preventDefault(),o=a?bm(l,a):new FormData(l),Eu(n,{pending:!0,data:o,method:l.method,action:s},s,o))},currentTarget:l}]})}}for(var bc=0;bc<du.length;bc++){var xc=du[bc],Gx=xc.toLowerCase(),Yx=xc[0].toUpperCase()+xc.slice(1);Lt(Gx,"on"+Yx)}Lt(n0,"onAnimationEnd");Lt(i0,"onAnimationIteration");Lt(l0,"onAnimationStart");Lt("dblclick","onDoubleClick");Lt("focusin","onFocus");Lt("focusout","onBlur");Lt(ax,"onTransitionRun");Lt(rx,"onTransitionStart");Lt(ox,"onTransitionCancel");Lt(s0,"onTransitionEnd");_l("onMouseEnter",["mouseout","mouseover"]);_l("onMouseLeave",["mouseout","mouseover"]);_l("onPointerEnter",["pointerout","pointerover"]);_l("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Is));function Fy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var r=i[a],o=r.instance,u=r.currentTarget;if(r=r.listener,o!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=u;try{s(l)}catch(h){or(h)}l.currentTarget=null,s=o}else for(a=0;a<i.length;a++){if(r=i[a],o=r.instance,u=r.currentTarget,r=r.listener,o!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=u;try{s(l)}catch(h){or(h)}l.currentTarget=null,s=o}}}}function Y(e,t){var n=t[lu];n===void 0&&(n=t[lu]=new Set);var i=e+"__bubble";n.has(i)||(Qy(t,e,2,!1),n.add(i))}function wc(e,t,n){var i=0;t&&(i|=4),Qy(n,e,i,t)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[Ra]){e[Ra]=!0,Ig.forEach(function(n){n!=="selectionchange"&&(Fx.has(n)||wc(n,!1,e),wc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ra]||(t[Ra]=!0,wc("selectionchange",!1,t))}}function Qy(e,t,n,i){switch(s_(t)){case 2:var l=vw;break;case 8:l=bw;break;default:l=hd}n=l.bind(null,t,n,e),l=void 0,!cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Sc(e,t,n,i,l){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var r=i.stateNode.containerInfo;if(r===l)break;if(a===4)for(a=i.return;a!==null;){var o=a.tag;if((o===3||o===4)&&a.stateNode.containerInfo===l)return;a=a.return}for(;r!==null;){if(a=Zi(r),a===null)return;if(o=a.tag,o===5||o===6||o===26||o===27){i=s=a;continue e}r=r.parentNode}}i=i.return}Fg(function(){var u=s,h=Nf(n),f=[];e:{var d=a0.get(e);if(d!==void 0){var m=so,v=e;switch(e){case"keypress":if(Ya(n)===0)break e;case"keydown":case"keyup":m=U1;break;case"focusin":v="focus",m=Wo;break;case"focusout":v="blur",m=Wo;break;case"beforeblur":case"afterblur":m=Wo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=C1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=V1;break;case n0:case i0:case l0:m=M1;break;case s0:m=G1;break;case"scroll":case"scrollend":m=E1;break;case"wheel":m=F1;break;case"copy":case"cut":case"paste":m=R1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=jh;break;case"toggle":case"beforetoggle":m=K1}var w=(t&4)!==0,x=!w&&(e==="scroll"||e==="scrollend"),p=w?d!==null?d+"Capture":null:d;w=[];for(var g=u,y;g!==null;){var _=g;if(y=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||y===null||p===null||(_=Ms(g,p),_!=null&&w.push(Us(g,_,y))),x)break;g=g.return}0<w.length&&(d=new m(d,v,null,n,h),f.push({event:d,listeners:w}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==ou&&(v=n.relatedTarget||n.fromElement)&&(Zi(v)||v[Dl]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Zi(v):null,v!==null&&(x=Js(v),w=v.tag,v!==x||w!==5&&w!==27&&w!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=Ah,_="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=jh,_="onPointerLeave",p="onPointerEnter",g="pointer"),x=m==null?d:ls(m),y=v==null?d:ls(v),d=new w(_,g+"leave",m,n,h),d.target=x,d.relatedTarget=y,_=null,Zi(h)===u&&(w=new w(p,g+"enter",v,n,h),w.target=y,w.relatedTarget=x,_=w),x=_,m&&v)t:{for(w=Qx,p=m,g=v,y=0,_=p;_;_=w(_))y++;_=0;for(var T=g;T;T=w(T))_++;for(;0<y-_;)p=w(p),y--;for(;0<_-y;)g=w(g),_--;for(;y--;){if(p===g||g!==null&&p===g.alternate){w=p;break t}p=w(p),g=w(g)}w=null}else w=null;m!==null&&xm(f,d,m,w,!1),v!==null&&x!==null&&xm(f,x,v,w,!0)}}e:{if(d=u?ls(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var j=kh;else if(Dh(d))if(Zg)j=ix;else{j=tx;var C=ex}else m=d.nodeName,!m||m.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&Cf(u.elementType)&&(j=kh):j=nx;if(j&&(j=j(e,u))){$g(f,j,n,h);break e}C&&C(e,d,u),e==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&ru(d,"number",d.value)}switch(C=u?ls(u):window,e){case"focusin":(Dh(C)||C.contentEditable==="true")&&(el=C,uu=u,fs=null);break;case"focusout":fs=uu=el=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,Bh(f,n,h);break;case"selectionchange":if(sx)break;case"keydown":case"keyup":Bh(f,n,h)}var D;if(jf)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Ji?Xg(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Kg&&n.locale!=="ko"&&(Ji||O!=="onCompositionStart"?O==="onCompositionEnd"&&Ji&&(D=Qg()):(On=h,Af="value"in On?On.value:On.textContent,Ji=!0)),C=Tr(u,O),0<C.length&&(O=new Mh(O,e,null,n,h),f.push({event:O,listeners:C}),D?O.data=D:(D=Pg(n),D!==null&&(O.data=D)))),(D=P1?$1(e,n):Z1(e,n))&&(O=Tr(u,"onBeforeInput"),0<O.length&&(C=new Mh("onBeforeInput","beforeinput",null,n,h),f.push({event:C,listeners:O}),C.data=D)),qx(f,e,u,n,h)}Fy(f,t)})}function Us(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Tr(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=Ms(e,n),l!=null&&i.unshift(Us(e,l,s)),l=Ms(e,t),l!=null&&i.push(Us(e,l,s))),e.tag===3)return i;e=e.return}return[]}function Qx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xm(e,t,n,i,l){for(var s=t._reactName,a=[];n!==null&&n!==i;){var r=n,o=r.alternate,u=r.stateNode;if(r=r.tag,o!==null&&o===i)break;r!==5&&r!==26&&r!==27||u===null||(o=u,l?(u=Ms(n,s),u!=null&&a.unshift(Us(n,u,o))):l||(u=Ms(n,s),u!=null&&a.push(Us(n,u,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Kx=/\r\n?/g,Xx=/\u0000|\uFFFD/g;function wm(e){return(typeof e=="string"?e:""+e).replace(Kx,`
`).replace(Xx,"")}function Ky(e,t){return t=wm(t),wm(e)===t}function ne(e,t,n,i,l,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||vl(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&vl(e,""+i);break;case"className":Ea(e,"class",i);break;case"tabIndex":Ea(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ea(e,n,i);break;case"style":Yg(e,i,s);break;case"data":if(t!=="object"){Ea(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=qa(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ne(e,t,"name",l.name,l,null),ne(e,t,"formEncType",l.formEncType,l,null),ne(e,t,"formMethod",l.formMethod,l,null),ne(e,t,"formTarget",l.formTarget,l,null)):(ne(e,t,"encType",l.encType,l,null),ne(e,t,"method",l.method,l,null),ne(e,t,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=qa(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=ln);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(S(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(S(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=qa(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Y("beforetoggle",e),Y("toggle",e),Va(e,"popover",i);break;case"xlinkActuate":Xt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Xt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Xt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Xt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Xt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Xt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Va(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=w1.get(n)||n,Va(e,n,i))}}function Lu(e,t,n,i,l,s){switch(n){case"style":Yg(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(S(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(S(60));e.innerHTML=n}}break;case"children":typeof i=="string"?vl(e,i):(typeof i=="number"||typeof i=="bigint")&&vl(e,""+i);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ug.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),s=e[it]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,l),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,l);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Va(e,n,i)}}}function Be(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y("error",e),Y("load",e);var i=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:ne(e,t,s,a,n,null)}}l&&ne(e,t,"srcSet",n.srcSet,n,null),i&&ne(e,t,"src",n.src,n,null);return;case"input":Y("invalid",e);var r=s=a=l=null,o=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":l=h;break;case"type":a=h;break;case"checked":o=h;break;case"defaultChecked":u=h;break;case"value":s=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(S(137,t));break;default:ne(e,t,i,h,n,null)}}Vg(e,s,r,o,u,a,l,!1);return;case"select":Y("invalid",e),i=a=s=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":s=r;break;case"defaultValue":a=r;break;case"multiple":i=r;default:ne(e,t,l,r,n,null)}t=s,n=a,e.multiple=!!i,t!=null?cl(e,!!i,t,!1):n!=null&&cl(e,!!i,n,!0);return;case"textarea":Y("invalid",e),s=l=i=null;for(a in n)if(n.hasOwnProperty(a)&&(r=n[a],r!=null))switch(a){case"value":i=r;break;case"defaultValue":l=r;break;case"children":s=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(S(91));break;default:ne(e,t,a,r,n,null)}Gg(e,i,l,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ne(e,t,o,i,n,null)}return;case"dialog":Y("beforetoggle",e),Y("toggle",e),Y("cancel",e),Y("close",e);break;case"iframe":case"object":Y("load",e);break;case"video":case"audio":for(i=0;i<Is.length;i++)Y(Is[i],e);break;case"image":Y("error",e),Y("load",e);break;case"details":Y("toggle",e);break;case"embed":case"source":case"link":Y("error",e),Y("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:ne(e,t,u,i,n,null)}return;default:if(Cf(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Lu(e,t,h,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&ne(e,t,r,i,n,null))}function Px(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,a=null,r=null,o=null,u=null,h=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=f;default:i.hasOwnProperty(m)||ne(e,t,m,null,i,f)}}for(var d in i){var m=i[d];if(f=n[d],i.hasOwnProperty(d)&&(m!=null||f!=null))switch(d){case"type":s=m;break;case"name":l=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":a=m;break;case"defaultValue":r=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(S(137,t));break;default:m!==f&&ne(e,t,d,m,i,f)}}au(e,a,r,o,u,h,s,l);return;case"select":m=a=r=d=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:i.hasOwnProperty(s)||ne(e,t,s,null,i,o)}for(l in i)if(s=i[l],o=n[l],i.hasOwnProperty(l)&&(s!=null||o!=null))switch(l){case"value":d=s;break;case"defaultValue":r=s;break;case"multiple":a=s;default:s!==o&&ne(e,t,l,s,i,o)}t=r,n=a,i=m,d!=null?cl(e,!!n,d,!1):!!i!=!!n&&(t!=null?cl(e,!!n,t,!0):cl(e,!!n,n?[]:"",!1));return;case"textarea":m=d=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:ne(e,t,r,null,i,l)}for(a in i)if(l=i[a],s=n[a],i.hasOwnProperty(a)&&(l!=null||s!=null))switch(a){case"value":d=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(S(91));break;default:l!==s&&ne(e,t,a,l,i,s)}qg(e,d,m);return;case"option":for(var v in n)if(d=n[v],n.hasOwnProperty(v)&&d!=null&&!i.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:ne(e,t,v,null,i,d)}for(o in i)if(d=i[o],m=n[o],i.hasOwnProperty(o)&&d!==m&&(d!=null||m!=null))switch(o){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ne(e,t,o,d,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in n)d=n[w],n.hasOwnProperty(w)&&d!=null&&!i.hasOwnProperty(w)&&ne(e,t,w,null,i,d);for(u in i)if(d=i[u],m=n[u],i.hasOwnProperty(u)&&d!==m&&(d!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(S(137,t));break;default:ne(e,t,u,d,i,m)}return;default:if(Cf(t)){for(var x in n)d=n[x],n.hasOwnProperty(x)&&d!==void 0&&!i.hasOwnProperty(x)&&Lu(e,t,x,void 0,i,d);for(h in i)d=i[h],m=n[h],!i.hasOwnProperty(h)||d===m||d===void 0&&m===void 0||Lu(e,t,h,d,i,m);return}}for(var p in n)d=n[p],n.hasOwnProperty(p)&&d!=null&&!i.hasOwnProperty(p)&&ne(e,t,p,null,i,d);for(f in i)d=i[f],m=n[f],!i.hasOwnProperty(f)||d===m||d==null&&m==null||ne(e,t,f,d,i,m)}function Sm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $x(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var l=n[i],s=l.transferSize,a=l.initiatorType,r=l.duration;if(s&&r&&Sm(a)){for(a=0,r=l.responseEnd,i+=1;i<n.length;i++){var o=n[i],u=o.startTime;if(u>r)break;var h=o.transferSize,f=o.initiatorType;h&&Sm(f)&&(o=o.responseEnd,a+=h*(o<r?1:(r-u)/(o-u)))}if(--i,t+=8*(s+a)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zu=null,Iu=null;function Cr(e){return e.nodeType===9?e:e.ownerDocument}function Em(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ec=null;function Zx(){var e=window.event;return e&&e.type==="popstate"?e===Ec?!1:(Ec=e,!0):(Ec=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,Wx=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,Jx=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(e){return Tm.resolve(null).then(e).catch(ew)}:Py;function ew(e){setTimeout(function(){throw e})}function li(e){return e==="head"}function Cm(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(l),Nl(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")xs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,xs(n);for(var s=n.firstChild;s;){var a=s.nextSibling,r=s.nodeName;s[ia]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&xs(e.ownerDocument.body);n=l}while(n);Nl(t)}function Nm(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Bu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Bu(n),Tf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function tw(e,t,n,i){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ia])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Ct(e.nextSibling),e===null)break}return null}function nw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ct(e.nextSibling),e===null))return null;return e}function $y(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ct(e.nextSibling),e===null))return null;return e}function Hu(e){return e.data==="$?"||e.data==="$~"}function Vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function iw(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Ct(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var qu=null;function Am(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Ct(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Zy(e,t,n){switch(t=Cr(n),e){case"html":if(e=t.documentElement,!e)throw Error(S(452));return e;case"head":if(e=t.head,!e)throw Error(S(453));return e;case"body":if(e=t.body,!e)throw Error(S(454));return e;default:throw Error(S(451))}}function xs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tf(e)}var Nt=new Map,jm=new Set;function Nr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bn=W.d;W.d={f:lw,r:sw,D:aw,C:rw,L:ow,m:cw,X:fw,S:uw,M:dw};function lw(){var e=bn.f(),t=yo();return e||t}function sw(e){var t=kl(e);t!==null&&t.tag===5&&t.type==="form"?Y0(t):bn.r(e)}var Ul=typeof document>"u"?null:document;function Wy(e,t,n){var i=Ul;if(i&&typeof t=="string"&&t){var l=wt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),jm.has(l)||(jm.add(l),e={rel:e,crossOrigin:n,href:t},i.querySelector(l)===null&&(t=i.createElement("link"),Be(t,"link",e),De(t),i.head.appendChild(t)))}}function aw(e){bn.D(e),Wy("dns-prefetch",e,null)}function rw(e,t){bn.C(e,t),Wy("preconnect",e,t)}function ow(e,t,n){bn.L(e,t,n);var i=Ul;if(i&&e&&t){var l='link[rel="preload"][as="'+wt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+wt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+wt(n.imageSizes)+'"]')):l+='[href="'+wt(e)+'"]';var s=l;switch(t){case"style":s=Cl(e);break;case"script":s=Bl(e)}Nt.has(s)||(e=he({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Nt.set(s,e),i.querySelector(l)!==null||t==="style"&&i.querySelector(ca(s))||t==="script"&&i.querySelector(ua(s))||(t=i.createElement("link"),Be(t,"link",e),De(t),i.head.appendChild(t)))}}function cw(e,t){bn.m(e,t);var n=Ul;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+wt(i)+'"][href="'+wt(e)+'"]',s=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Bl(e)}if(!Nt.has(s)&&(e=he({rel:"modulepreload",href:e},t),Nt.set(s,e),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ua(s)))return}i=n.createElement("link"),Be(i,"link",e),De(i),n.head.appendChild(i)}}}function uw(e,t,n){bn.S(e,t,n);var i=Ul;if(i&&e){var l=ol(i).hoistableStyles,s=Cl(e);t=t||"default";var a=l.get(s);if(!a){var r={loading:0,preload:null};if(a=i.querySelector(ca(s)))r.loading=5;else{e=he({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nt.get(s))&&ud(e,n);var o=a=i.createElement("link");De(o),Be(o,"link",e),o._p=new Promise(function(u,h){o.onload=u,o.onerror=h}),o.addEventListener("load",function(){r.loading|=1}),o.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Wa(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:r},l.set(s,a)}}}function fw(e,t){bn.X(e,t);var n=Ul;if(n&&e){var i=ol(n).hoistableScripts,l=Bl(e),s=i.get(l);s||(s=n.querySelector(ua(l)),s||(e=he({src:e,async:!0},t),(t=Nt.get(l))&&fd(e,t),s=n.createElement("script"),De(s),Be(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(l,s))}}function dw(e,t){bn.M(e,t);var n=Ul;if(n&&e){var i=ol(n).hoistableScripts,l=Bl(e),s=i.get(l);s||(s=n.querySelector(ua(l)),s||(e=he({src:e,async:!0,type:"module"},t),(t=Nt.get(l))&&fd(e,t),s=n.createElement("script"),De(s),Be(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(l,s))}}function Rm(e,t,n,i){var l=(l=zn.current)?Nr(l):null;if(!l)throw Error(S(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Cl(n.href),n=ol(l).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Cl(n.href);var s=ol(l).hoistableStyles,a=s.get(e);if(a||(l=l.ownerDocument||l,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=l.querySelector(ca(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Nt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nt.set(e,n),s||hw(l,e,n,a.state))),t&&i===null)throw Error(S(528,""));return a}if(t&&i!==null)throw Error(S(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Bl(n),n=ol(l).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(S(444,e))}}function Cl(e){return'href="'+wt(e)+'"'}function ca(e){return'link[rel="stylesheet"]['+e+"]"}function Jy(e){return he({},e,{"data-precedence":e.precedence,precedence:null})}function hw(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Be(t,"link",n),De(t),e.head.appendChild(t))}function Bl(e){return'[src="'+wt(e)+'"]'}function ua(e){return"script[async]"+e}function Om(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+wt(n.href)+'"]');if(i)return t.instance=i,De(i),i;var l=he({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),De(i),Be(i,"style",l),Wa(i,n.precedence,e),t.instance=i;case"stylesheet":l=Cl(n.href);var s=e.querySelector(ca(l));if(s)return t.state.loading|=4,t.instance=s,De(s),s;i=Jy(n),(l=Nt.get(l))&&ud(i,l),s=(e.ownerDocument||e).createElement("link"),De(s);var a=s;return a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),Be(s,"link",i),t.state.loading|=4,Wa(s,n.precedence,e),t.instance=s;case"script":return s=Bl(n.src),(l=e.querySelector(ua(s)))?(t.instance=l,De(l),l):(i=n,(l=Nt.get(s))&&(i=he({},n),fd(i,l)),e=e.ownerDocument||e,l=e.createElement("script"),De(l),Be(l,"link",i),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(S(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Wa(i,n.precedence,e));return t.instance}function Wa(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,s=l,a=0;a<i.length;a++){var r=i[a];if(r.dataset.precedence===t)s=r;else if(s!==l)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ud(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ja=null;function Dm(e,t,n){if(Ja===null){var i=new Map,l=Ja=new Map;l.set(n,i)}else l=Ja,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var s=n[l];if(!(s[ia]||s[ze]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var r=i.get(a);r?r.push(s):i.set(a,[s])}}return i}function km(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function mw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function e_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function pw(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var l=Cl(i.href),s=t.querySelector(ca(l));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ar.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,De(s);return}s=t.ownerDocument||t,i=Jy(i),(l=Nt.get(l))&&ud(i,l),s=s.createElement("link"),De(s);var a=s;a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),Be(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Ar.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Tc=0;function gw(e,t){return e.stylesheets&&e.count===0&&er(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&er(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Tc===0&&(Tc=62500*$x());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&er(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Tc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(l)}}:null}function Ar(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)er(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mr=null;function er(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mr=new Map,t.forEach(yw,e),Mr=null,Ar.call(e))}function yw(e,t){if(!(t.state.loading&4)){var n=Mr.get(e);if(n)var i=n.get(null);else{n=new Map,Mr.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var a=l[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}l=t.instance,a=l.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,l),n.set(a,l),this.count++,i=Ar.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),s?s.parentNode.insertBefore(l,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Bs={$$typeof:nn,Provider:null,Consumer:null,_currentValue:yi,_currentValue2:yi,_threadCount:0};function _w(e,t,n,i,l,s,a,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.hiddenUpdates=Xo(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function t_(e,t,n,i,l,s,a,r,o,u,h,f){return e=new _w(e,t,n,a,o,u,h,f,r),t=1,s===!0&&(t|=24),s=ct(3,null,null,t),e.current=s,s.stateNode=e,t=If(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Hf(s),e}function n_(e){return e?(e=il,e):il}function i_(e,t,n,i,l,s){l=n_(l),i.context===null?i.context=l:i.pendingContext=l,i=Un(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Bn(e,i,t),n!==null&&(et(n,e,t),hs(n,e,t))}function Lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dd(e,t){Lm(e,t),(e=e.alternate)&&Lm(e,t)}function l_(e){if(e.tag===13||e.tag===31){var t=zi(e,67108864);t!==null&&et(t,e,67108864),dd(e,67108864)}}function zm(e){if(e.tag===13||e.tag===31){var t=mt();t=Sf(t);var n=zi(e,t);n!==null&&et(n,e,t),dd(e,t)}}var jr=!0;function vw(e,t,n,i){var l=z.T;z.T=null;var s=W.p;try{W.p=2,hd(e,t,n,i)}finally{W.p=s,z.T=l}}function bw(e,t,n,i){var l=z.T;z.T=null;var s=W.p;try{W.p=8,hd(e,t,n,i)}finally{W.p=s,z.T=l}}function hd(e,t,n,i){if(jr){var l=Gu(i);if(l===null)Sc(e,t,i,Rr,n),Im(e,i);else if(ww(l,e,t,n,i))i.stopPropagation();else if(Im(e,i),t&4&&-1<xw.indexOf(e)){for(;l!==null;){var s=kl(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=oi(s.pendingLanes);if(a!==0){var r=s;for(r.pendingLanes|=2,r.entangledLanes|=2;a;){var o=1<<31-ht(a);r.entanglements[1]|=o,a&=~o}Ft(s),!(Z&6)&&(br=ft()+500,oa(0))}}break;case 31:case 13:r=zi(s,2),r!==null&&et(r,s,2),yo(),dd(s,2)}if(s=Gu(i),s===null&&Sc(e,t,i,Rr,n),s===l)break;l=s}l!==null&&i.stopPropagation()}else Sc(e,t,i,null,n)}}function Gu(e){return e=Nf(e),md(e)}var Rr=null;function md(e){if(Rr=null,e=Zi(e),e!==null){var t=Js(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Eg(t),e!==null)return e;e=null}else if(n===31){if(e=Tg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Rr=e,null}function s_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(a1()){case Mg:return 2;case jg:return 8;case ar:case r1:return 32;case Rg:return 268435456;default:return 32}default:return 32}}var Yu=!1,qn=null,Gn=null,Yn=null,Hs=new Map,Vs=new Map,jn=[],xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Im(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":Hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function $l(e,t,n,i,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[l]},t!==null&&(t=kl(t),t!==null&&l_(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function ww(e,t,n,i,l){switch(t){case"focusin":return qn=$l(qn,e,t,n,i,l),!0;case"dragenter":return Gn=$l(Gn,e,t,n,i,l),!0;case"mouseover":return Yn=$l(Yn,e,t,n,i,l),!0;case"pointerover":var s=l.pointerId;return Hs.set(s,$l(Hs.get(s)||null,e,t,n,i,l)),!0;case"gotpointercapture":return s=l.pointerId,Vs.set(s,$l(Vs.get(s)||null,e,t,n,i,l)),!0}return!1}function a_(e){var t=Zi(e.target);if(t!==null){var n=Js(t);if(n!==null){if(t=n.tag,t===13){if(t=Eg(n),t!==null){e.blockedOn=t,xh(e.priority,function(){zm(n)});return}}else if(t===31){if(t=Tg(n),t!==null){e.blockedOn=t,xh(e.priority,function(){zm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gu(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);ou=i,n.target.dispatchEvent(i),ou=null}else return t=kl(n),t!==null&&l_(t),e.blockedOn=n,!1;t.shift()}return!0}function Um(e,t,n){tr(e)&&n.delete(t)}function Sw(){Yu=!1,qn!==null&&tr(qn)&&(qn=null),Gn!==null&&tr(Gn)&&(Gn=null),Yn!==null&&tr(Yn)&&(Yn=null),Hs.forEach(Um),Vs.forEach(Um)}function Oa(e,t){e.blockedOn===t&&(e.blockedOn=null,Yu||(Yu=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Sw)))}var Da=null;function Bm(e){Da!==e&&(Da=e,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,function(){Da===e&&(Da=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],l=e[t+2];if(typeof i!="function"){if(md(i||n)===null)continue;break}var s=kl(n);s!==null&&(e.splice(t,3),t-=3,Eu(s,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function Nl(e){function t(o){return Oa(o,e)}qn!==null&&Oa(qn,e),Gn!==null&&Oa(Gn,e),Yn!==null&&Oa(Yn,e),Hs.forEach(t),Vs.forEach(t);for(var n=0;n<jn.length;n++){var i=jn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)a_(n),n.blockedOn===null&&jn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],s=n[i+1],a=l[it]||null;if(typeof s=="function")a||Bm(n);else if(a){var r=null;if(s&&s.hasAttribute("formAction")){if(l=s,a=s[it]||null)r=a.formAction;else if(md(l)!==null)continue}else r=a.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),Bm(n)}}}function r_(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return l=a})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function pd(e){this._internalRoot=e}bo.prototype.render=pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));var n=t.current,i=mt();i_(n,i,e,t,null,null)};bo.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;i_(e.current,2,null,e,null,null),yo(),t[Dl]=null}};function bo(e){this._internalRoot=e}bo.prototype.unstable_scheduleHydration=function(e){if(e){var t=zg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&a_(e)}};var Hm=wg.version;if(Hm!=="19.2.0")throw Error(S(527,Hm,"19.2.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Jb(t),e=e!==null?Cg(e):null,e=e===null?null:e.stateNode,e};var Ew={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{ea=ka.inject(Ew),dt=ka}catch{}}no.createRoot=function(e,t){if(!Sg(e))throw Error(S(299));var n=!1,i="",l=W0,s=J0,a=ey;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=t_(e,1,!1,null,null,n,i,null,l,s,a,r_),e[Dl]=t.current,cd(e),new pd(t)};no.hydrateRoot=function(e,t,n){if(!Sg(e))throw Error(S(299));var i=!1,l="",s=W0,a=J0,r=ey,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=t_(e,1,!0,t,n??null,i,l,o,s,a,r,r_),t.context=n_(null),n=t.current,i=mt(),i=Sf(i),l=Un(i),l.callback=null,Bn(n,l,i),n=i,t.current.lanes=n,na(t,n),Ft(t),e[Dl]=t.current,cd(e),new bo(t)};no.version="19.2.0";function o_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o_)}catch(e){console.error(e)}}o_(),gg.exports=no;var Tw=gg.exports;const Cw=ag(Tw),Nw="modulepreload",Aw=function(e){return"/fenerbahce-fan-hub/"+e},Vm={},hi=function(t,n,i){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));l=Promise.allSettled(n.map(o=>{if(o=Aw(o),o in Vm)return;Vm[o]=!0;const u=o.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Nw,u||(f.as="script"),f.crossOrigin="",f.href=o,r&&f.setAttribute("nonce",r),document.head.appendChild(f),u)return new Promise((d,m)=>{f.addEventListener("load",d),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(a){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=a,window.dispatchEvent(r),!r.defaultPrevented)throw a}return l.then(a=>{for(const r of a||[])r.status==="rejected"&&s(r.reason);return t().catch(s)})};function Mw(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:l,onRegisteredSW:s,onRegisterError:a}=e;let r,o;const u=async(f=!0)=>{await o};async function h(){if("serviceWorker"in navigator){if(r=await hi(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/fenerbahce-fan-hub/sw.js",{scope:"/fenerbahce-fan-hub/",type:"classic"})).catch(f=>{a==null||a(f)}),!r)return;r.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),r.addEventListener("installed",f=>{f.isUpdate||i==null||i()}),r.register({immediate:t}).then(f=>{s?s("/fenerbahce-fan-hub/sw.js",f):l==null||l(f)}).catch(f=>{a==null||a(f)})}}return o=h(),u}function c_(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=c_(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function qm(){for(var e,t,n=0,i="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=c_(e))&&(i&&(i+=" "),i+=t);return i}const Gt="https://us-central1-fb-hub-ed9de.cloudfunctions.net/api",jw=(e={})=>{const t=`/player-image/${e.id??""}`,n=e.photo||t;if(n.startsWith("http://")&&!n.includes("localhost"))return n.replace(/^http:\/\//i,"https://");if(n.startsWith("http://")||n.startsWith("https://"))return n;const i=n.startsWith("/")?n:`/${n}`;return`${Gt}${i}`},Rw=async()=>{try{const e=await fetch(`${Gt}/next-match`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next match from backend:",e),null}},Ow=async()=>{try{const e=await fetch(`${Gt}/squad`);if(!e.ok)throw new Error("Backend fetch failed");return(await e.json()).map(n=>({...n,photo:jw(n)}))}catch(e){return console.error("Error fetching squad from backend:",e),[]}},Dw=async()=>{try{const e=await fetch(`${Gt}/next-3-matches`);if(!e.ok)throw new Error("Backend fetch failed");return await e.json()}catch(e){return console.error("Error fetching next 3 matches from backend:",e),[]}},kw=async e=>{if(!e)return null;try{const t=await fetch(`${Gt}/match-summary/${e}`);if(!t.ok){if(t.status===404)return null;throw new Error("Match summary fetch failed")}return await t.json()}catch(t){return console.error("Error fetching match summary from backend:",t),null}},Lw=[{slug:"tur.1",id:"super-lig",name:"Trendyol Sper Lig"},{slug:"uefa.europa",id:"europa-league",name:"UEFA Avrupa Ligi"}],zw=(e=[])=>e.map(t=>{var n,i,l,s,a,r,o,u,h,f,d;return{team:{id:t.team.id,name:t.team.displayName,logo:((i=(n=t.team.logos)==null?void 0:n[0])==null?void 0:i.href)||""},rank:((l=t.stats.find(m=>m.name==="rank"))==null?void 0:l.value)||0,points:((s=t.stats.find(m=>m.name==="points"))==null?void 0:s.value)||0,matches:((a=t.stats.find(m=>m.name==="gamesPlayed"))==null?void 0:a.value)||0,wins:((r=t.stats.find(m=>m.name==="wins"))==null?void 0:r.value)||0,draws:((o=t.stats.find(m=>m.name==="ties"))==null?void 0:o.value)||0,losses:((u=t.stats.find(m=>m.name==="losses"))==null?void 0:u.value)||0,goalsFor:((h=t.stats.find(m=>m.name==="pointsFor"))==null?void 0:h.value)||0,goalsAgainst:((f=t.stats.find(m=>m.name==="pointsAgainst"))==null?void 0:f.value)||0,goalDiff:((d=t.stats.find(m=>m.name==="pointDifferential"))==null?void 0:d.value)||0}}),Iw=async e=>{const t=Lw.find(s=>s.id===e);if(!t)return null;const n=new Date().getMonth(),i=new Date().getFullYear(),l=n>=6?i:i-1;try{const s=`https://site.api.espn.com/apis/v2/sports/soccer/${t.slug}/standings?season=${l}`,a=await fetch(s);if(!a.ok)throw new Error(`ESPN standings fetch failed: ${a.status}`);const r=await a.json();if(!r.children||r.children.length===0)return null;const o=t.slug==="uefa.europa"&&r.children.find(u=>u.name==="League Phase")||r.children[0];return{id:t.id,name:t.name,rows:zw(o.standings.entries)}}catch(s){return console.error(`Error fetching ${t.name} standings:`,s),null}},u_="436",Uw="https://site.api.espn.com/apis/site/v2/sports/soccer",Bw=[{slug:"tur.1",group:"superlig",label:"Sper Lig"},{slug:"uefa.europa",group:"europe",label:"Avrupa"}],Hw=(e=new Date)=>{const t=e.getMonth(),n=e.getFullYear();return t>=6?n:n-1},Gm=(e,t={})=>{const n=new URLSearchParams(t);return`${Uw}/${e}/teams/${u_}/schedule?${n.toString()}`},Ym=e=>{var t,n,i,l,s,a,r,o,u,h,f;return{id:((t=e==null?void 0:e.team)==null?void 0:t.id)??(e==null?void 0:e.id)??null,name:((n=e==null?void 0:e.team)==null?void 0:n.displayName)??((i=e==null?void 0:e.team)==null?void 0:i.name)??"Takm",shortName:((l=e==null?void 0:e.team)==null?void 0:l.shortDisplayName)??((s=e==null?void 0:e.team)==null?void 0:s.displayName)??((a=e==null?void 0:e.team)==null?void 0:a.name)??"Takm",abbreviation:((r=e==null?void 0:e.team)==null?void 0:r.abbreviation)??null,logo:((h=(u=(o=e==null?void 0:e.team)==null?void 0:o.logos)==null?void 0:u[0])==null?void 0:h.href)??null,score:((f=e==null?void 0:e.score)==null?void 0:f.displayValue)??null,winner:!!(e!=null&&e.winner)}},Vw=(e,t=null)=>{var p,g,y,_,T,j,C,D,O,R;const n=(p=e==null?void 0:e.competitions)==null?void 0:p[0],i=(n==null?void 0:n.competitors)??[],l=i.find(X=>X.homeAway==="home"),s=i.find(X=>X.homeAway==="away");if(!n||!l||!s)return null;const a=Ym(l),r=Ym(s),o=a.id===u_,u=o?a:r,h=o?r:a,f=((g=n==null?void 0:n.status)==null?void 0:g.type)??{},d=Number((y=l==null?void 0:l.score)==null?void 0:y.value),m=Number((_=s==null?void 0:s.score)==null?void 0:_.value),v=Number.isFinite(d)&&Number.isFinite(m);let w=null,x=null;if(f.completed&&v){const X=o?d:m,J=o?m:d;X>J?(w="G",x="Galibiyet"):X<J?(w="M",x="Malubiyet"):(w="B",x="Beraberlik")}return{id:String(e.id??n.id??`${e.date}-${a.id}-${r.id}`),date:e.date??n.date,competitionName:((T=e==null?void 0:e.season)==null?void 0:T.displayName)??((j=e==null?void 0:e.seasonType)==null?void 0:j.name)??"Sper Lig",competitionKey:(t==null?void 0:t.slug)??null,competitionGroup:(t==null?void 0:t.group)??null,competitionLabel:(t==null?void 0:t.label)??null,roundLabel:((C=n==null?void 0:n.type)==null?void 0:C.text)??null,venueName:((D=n==null?void 0:n.venue)==null?void 0:D.fullName)??null,venueCity:((R=(O=n==null?void 0:n.venue)==null?void 0:O.address)==null?void 0:R.city)??null,status:{state:f.state??"pre",completed:!!f.completed,description:f.description??null,detail:f.detail??null,shortDetail:f.shortDetail??null},homeTeam:a,awayTeam:r,isFbHome:o,fbTeam:u,opponentTeam:h,resultCode:w,resultLabel:x}},Fm=async(e=Hw())=>{var t,n,i,l;try{const s=await Promise.all(Bw.map(async h=>{const[f,d]=await Promise.all([fetch(Gm(h.slug,{season:String(e)})),fetch(Gm(h.slug,{season:String(e),fixture:"true"}))]);if(!f.ok&&!d.ok)return{competition:h,resultsJson:{},fixturesJson:{}};const[m,v]=await Promise.all([f.ok?f.json():Promise.resolve({}),d.ok?d.json():Promise.resolve({})]);return{competition:h,resultsJson:m,fixturesJson:v}})),a=s.flatMap(({competition:h,resultsJson:f,fixturesJson:d})=>{const m=Array.isArray(f==null?void 0:f.events)?f.events:[],v=Array.isArray(d==null?void 0:d.events)?d.events:[];return[...m,...v].map(w=>({event:w,sourceCompetition:h}))});if(a.length===0)throw new Error("ESPN fixture fetch failed");const o=Array.from(new Map(a.map(({event:h,sourceCompetition:f})=>[String((h==null?void 0:h.id)??`${f==null?void 0:f.slug}-${h==null?void 0:h.date}`),{event:h,sourceCompetition:f}])).values()).map(({event:h,sourceCompetition:f})=>Vw(h,f)).filter(h=>h!==null).sort((h,f)=>new Date(h.date).getTime()-new Date(f.date).getTime()),u=s.find(({resultsJson:h,fixturesJson:f})=>Array.isArray(h==null?void 0:h.events)&&h.events.length>0||Array.isArray(f==null?void 0:f.events)&&f.events.length>0);return{source:"ESPN",seasonStartYear:e,season:((t=u==null?void 0:u.fixturesJson)==null?void 0:t.season)??((n=u==null?void 0:u.resultsJson)==null?void 0:n.season)??null,team:((i=u==null?void 0:u.fixturesJson)==null?void 0:i.team)??((l=u==null?void 0:u.resultsJson)==null?void 0:l.team)??null,matches:o}}catch(s){return console.error("Error fetching ESPN Fenerbahce fixtures:",s),{source:"ESPN",seasonStartYear:e,season:null,team:null,matches:[],error:!0}}},Cc=e=>`${Gt}/team-image/${e}`,Or=({teamId:e,name:t="Takm",wrapperClassName:n="",imageClassName:i=""})=>{const[l,s]=E.useState(()=>e?Cc(e):null),[a,r]=E.useState(e?"loading":"idle"),[o,u]=E.useState(0);E.useEffect(()=>{if(!e){s(null),r("idle");return}s(Cc(e)),u(0),r("loading")},[e]);const h=()=>{if(e)if(o<2){const d=`${Date.now()}-${o+1}`;u(m=>m+1),s(`${Cc(e)}?retry=${d}`)}else r("error")},f=(t==null?void 0:t.split(" ").filter(Boolean).map(d=>d[0]).join("").slice(0,2).toUpperCase())||"??";return c.jsxs("div",{className:qm("relative overflow-hidden",n),children:[l&&a!=="error"?c.jsx("img",{src:l,alt:`${t} logosu`,crossOrigin:"anonymous",className:qm("w-full h-full object-contain transition-opacity duration-300",i),onLoad:()=>r("ready"),onError:h}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400 uppercase font-bold bg-white/5 rounded-full",children:f}),a==="loading"&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer rounded-full",style:{backgroundSize:"200% 100%"}})]})},qw=()=>{};var Qm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(e,t){if(!e)throw Hl(t)},Hl=function(e){return new Error("Firebase Database ("+f_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},Gw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const l=e[n++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const s=e[n++];t[i++]=String.fromCharCode((l&31)<<6|s&63)}else if(l>239&&l<365){const s=e[n++],a=e[n++],r=e[n++],o=((l&7)<<18|(s&63)<<12|(a&63)<<6|r&63)-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(o&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((l&15)<<12|(s&63)<<6|a&63)}}return t.join("")},gd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<e.length;l+=3){const s=e[l],a=l+1<e.length,r=a?e[l+1]:0,o=l+2<e.length,u=o?e[l+2]:0,h=s>>2,f=(s&3)<<4|r>>4;let d=(r&15)<<2|u>>6,m=u&63;o||(m=64,a||(d=64)),i.push(n[h],n[f],n[d],n[m])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(d_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Gw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<e.length;){const s=n[e.charAt(l++)],r=l<e.length?n[e.charAt(l)]:0;++l;const u=l<e.length?n[e.charAt(l)]:64;++l;const f=l<e.length?n[e.charAt(l)]:64;if(++l,s==null||r==null||u==null||f==null)throw new Yw;const d=s<<2|r>>4;if(i.push(d),u!==64){const m=r<<4&240|u>>2;if(i.push(m),f!==64){const v=u<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Yw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h_=function(e){const t=d_(e);return gd.encodeByteArray(t,!0)},Dr=function(e){return h_(e).replace(/\./g,"")},Fu=function(e){try{return gd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(e){return m_(void 0,e)}function m_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Qw(n)||(e[n]=m_(e[n],t[n]));return e}function Qw(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=()=>Kw().__FIREBASE_DEFAULTS__,Pw=()=>{if(typeof process>"u"||typeof Qm>"u")return;const e=Qm.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},$w=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Fu(e[1]);return t&&JSON.parse(t)},p_=()=>{try{return qw()||Xw()||Pw()||$w()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Zw=e=>{var t,n;return(n=(t=p_())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},Ww=e=>{const t=Zw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},g_=()=>{var e;return(e=p_())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jw(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",l=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Dr(JSON.stringify(n)),Dr(JSON.stringify(a)),""].join(".")}const ws={};function tS(){const e={prod:[],emulator:[]};for(const t of Object.keys(ws))ws[t]?e.emulator.push(t):e.prod.push(t);return e}function nS(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Km=!1;function iS(e,t){if(typeof window>"u"||typeof document>"u"||!yd(window.location.host)||ws[e]===t||ws[e]||Km)return;ws[e]=t;function n(d){return`__firebase__banner__${d}`}const i="__firebase__banner",s=tS().prod.length>0;function a(){const d=document.getElementById(i);d&&d.remove()}function r(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function o(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{Km=!0,a()},d}function h(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=nS(i),m=n("text"),v=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),p=n("preprendIcon"),g=document.getElementById(p)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const y=d.element;r(y),h(x,w);const _=u();o(g,p),y.append(g,v,x,_),document.body.appendChild(y)}s?(v.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lS())}function sS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aS(){return f_.NODE_ADMIN===!0}function __(){try{return typeof indexedDB=="object"}catch{return!1}}function v_(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var s;t(((s=l.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}function rS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="FirebaseError";class Vl extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=oS,Object.setPrototypeOf(this,Vl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xo.prototype.create)}}class xo{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},l=`${this.service}/${t}`,s=this.errors[t],a=s?cS(s,i):"Error",r=`${this.serviceName}: ${a} (${l}).`;return new Vl(l,r,i)}}function cS(e,t){return e.replace(uS,(n,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const uS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(e){return JSON.parse(e)}function Ne(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=function(e){let t={},n={},i={},l="";try{const s=e.split(".");t=qs(Fu(s[0])||""),n=qs(Fu(s[1])||""),l=s[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:l}},fS=function(e){const t=b_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},dS=function(e){const t=b_(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ni(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Xm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function kr(e,t,n){const i={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=t.call(n,e[l],l,e));return i}function Lr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const l of n){if(!i.includes(l))return!1;const s=e[l],a=t[l];if(Pm(s)&&Pm(a)){if(!Lr(s,a))return!1}else if(s!==a)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function Pm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)i[f]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let f=16;f<80;f++){const d=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(d<<1|d>>>31)&4294967295}let l=this.chain_[0],s=this.chain_[1],a=this.chain_[2],r=this.chain_[3],o=this.chain_[4],u,h;for(let f=0;f<80;f++){f<40?f<20?(u=r^s&(a^r),h=1518500249):(u=s^a^r,h=1859775393):f<60?(u=s&a|r&(s|a),h=2400959708):(u=s^a^r,h=3395469782);const d=(l<<5|l>>>27)+u+o+h+i[f]&4294967295;o=r,r=a,a=(s<<30|s>>>2)&4294967295,s=l,l=d}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+r&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let l=0;const s=this.buf_;let a=this.inbuf_;for(;l<n;){if(a===0)for(;l<=i;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<n;)if(s[a]=t.charCodeAt(l),++a,++l,a===this.blockSize){this.compress_(s),a=0;break}}else for(;l<n;)if(s[a]=t[l],++a,++l,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let l=0;l<5;l++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[l]>>s&255,++i;return t}}function _d(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let l=e.charCodeAt(i);if(l>=55296&&l<=56319){const s=l-55296;i++,M(i<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(i)-56320;l=65536+(s<<10)+a}l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):l<65536?(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},wo=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(e){return e&&e._delegate?e._delegate:e}class yn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new fa;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_S(t))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:l});i.resolve(s)}catch{}}}}clearInstance(t=fi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fi){return this.instances.has(t)}getOptions(t=fi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(s);i===r&&a.resolve(l)}return l}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(t),this.onInitCallbacks.set(i,l);const s=this.instances.get(i);return s&&t(s,i),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yS(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=fi){return this.component?this.component.multipleInstances?t:fi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yS(e){return e===fi?void 0:e}function _S(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new gS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ae||(ae={}));const bS={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},xS=ae.INFO,wS={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},SS=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),l=wS[t];if(l)console[l](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class x_{constructor(t){this.name=t,this._logLevel=xS,this._logHandler=SS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const ES=(e,t)=>t.some(n=>e instanceof n);let $m,Zm;function TS(){return $m||($m=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CS(){return Zm||(Zm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w_=new WeakMap,Qu=new WeakMap,S_=new WeakMap,Nc=new WeakMap,vd=new WeakMap;function NS(e){const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(un(e.result)),l()},a=()=>{i(e.error),l()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&w_.set(n,e)}).catch(()=>{}),vd.set(t,e),t}function AS(e){if(Qu.has(e))return;const t=new Promise((n,i)=>{const l=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),l()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Qu.set(e,t)}let Ku={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Qu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||S_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function MS(e){Ku=e(Ku)}function jS(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Ac(this),t,...n);return S_.set(i,t.sort?t.sort():[t]),un(i)}:CS().includes(e)?function(...t){return e.apply(Ac(this),t),un(w_.get(this))}:function(...t){return un(e.apply(Ac(this),t))}}function RS(e){return typeof e=="function"?jS(e):(e instanceof IDBTransaction&&AS(e),ES(e,TS())?new Proxy(e,Ku):e)}function un(e){if(e instanceof IDBRequest)return NS(e);if(Nc.has(e))return Nc.get(e);const t=RS(e);return t!==e&&(Nc.set(e,t),vd.set(t,e)),t}const Ac=e=>vd.get(e);function So(e,t,{blocked:n,upgrade:i,blocking:l,terminated:s}={}){const a=indexedDB.open(e,t),r=un(a);return i&&a.addEventListener("upgradeneeded",o=>{i(un(a.result),o.oldVersion,o.newVersion,un(a.transaction),o)}),n&&a.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),r.then(o=>{s&&o.addEventListener("close",()=>s()),l&&o.addEventListener("versionchange",u=>l(u.oldVersion,u.newVersion,u))}).catch(()=>{}),r}function Mc(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",i=>t(i.oldVersion,i)),un(n).then(()=>{})}const OS=["get","getKey","getAll","getAllKeys","count"],DS=["put","add","delete","clear"],jc=new Map;function Wm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(jc.get(t))return jc.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,l=DS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||OS.includes(n)))return;const s=async function(a,...r){const o=this.transaction(a,l?"readwrite":"readonly");let u=o.store;return i&&(u=u.index(r.shift())),(await Promise.all([u[n](...r),l&&o.done]))[0]};return jc.set(t,s),s}MS(e=>({...e,get:(t,n,i)=>Wm(t,n)||e.get(t,n,i),has:(t,n)=>!!Wm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function LS(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xu="@firebase/app",Jm="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new x_("@firebase/app"),zS="@firebase/app-compat",IS="@firebase/analytics-compat",US="@firebase/analytics",BS="@firebase/app-check-compat",HS="@firebase/app-check",VS="@firebase/auth",qS="@firebase/auth-compat",GS="@firebase/database",YS="@firebase/data-connect",FS="@firebase/database-compat",QS="@firebase/functions",KS="@firebase/functions-compat",XS="@firebase/installations",PS="@firebase/installations-compat",$S="@firebase/messaging",ZS="@firebase/messaging-compat",WS="@firebase/performance",JS="@firebase/performance-compat",eE="@firebase/remote-config",tE="@firebase/remote-config-compat",nE="@firebase/storage",iE="@firebase/storage-compat",lE="@firebase/firestore",sE="@firebase/ai",aE="@firebase/firestore-compat",rE="firebase",oE="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="[DEFAULT]",cE={[Xu]:"fire-core",[zS]:"fire-core-compat",[US]:"fire-analytics",[IS]:"fire-analytics-compat",[HS]:"fire-app-check",[BS]:"fire-app-check-compat",[VS]:"fire-auth",[qS]:"fire-auth-compat",[GS]:"fire-rtdb",[YS]:"fire-data-connect",[FS]:"fire-rtdb-compat",[QS]:"fire-fn",[KS]:"fire-fn-compat",[XS]:"fire-iid",[PS]:"fire-iid-compat",[$S]:"fire-fcm",[ZS]:"fire-fcm-compat",[WS]:"fire-perf",[JS]:"fire-perf-compat",[eE]:"fire-rc",[tE]:"fire-rc-compat",[nE]:"fire-gcs",[iE]:"fire-gcs-compat",[lE]:"fire-fst",[aE]:"fire-fst-compat",[sE]:"fire-vertex","fire-js":"fire-js",[rE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Map,uE=new Map,$u=new Map;function ep(e,t){try{e.container.addComponent(t)}catch(n){_n.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Jn(e){const t=e.name;if($u.has(t))return _n.debug(`There were multiple attempts to register component ${t}.`),!1;$u.set(t,e);for(const n of zr.values())ep(n,e);for(const n of uE.values())ep(n,e);return!0}function Eo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fE(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fn=new xo("app","Firebase",dE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=oE;function E_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Pu,automaticDataCollectionEnabled:!0,...t},l=i.name;if(typeof l!="string"||!l)throw Fn.create("bad-app-name",{appName:String(l)});if(n||(n=g_()),!n)throw Fn.create("no-options");const s=zr.get(l);if(s){if(Lr(n,s.options)&&Lr(i,s.config))return s;throw Fn.create("duplicate-app",{appName:l})}const a=new vS(l);for(const o of $u.values())a.addComponent(o);const r=new hE(n,i,a);return zr.set(l,r),r}function T_(e=Pu){const t=zr.get(e);if(!t&&e===Pu&&g_())return E_();if(!t)throw Fn.create("no-app",{appName:e});return t}function qt(e,t,n){let i=cE[e]??e;n&&(i+=`-${n}`);const l=i.match(/\s|\//),s=t.match(/\s|\//);if(l||s){const a=[`Unable to register library "${i}" with version "${t}":`];l&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_n.warn(a.join(" "));return}Jn(new yn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="firebase-heartbeat-database",gE=1,Gs="firebase-heartbeat-store";let Rc=null;function C_(){return Rc||(Rc=So(pE,gE,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Gs)}catch(n){console.warn(n)}}}}).catch(e=>{throw Fn.create("idb-open",{originalErrorMessage:e.message})})),Rc}async function yE(e){try{const n=(await C_()).transaction(Gs),i=await n.objectStore(Gs).get(N_(e));return await n.done,i}catch(t){if(t instanceof Vl)_n.warn(t.message);else{const n=Fn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_n.warn(n.message)}}}async function tp(e,t){try{const i=(await C_()).transaction(Gs,"readwrite");await i.objectStore(Gs).put(t,N_(e)),await i.done}catch(n){if(n instanceof Vl)_n.warn(n.message);else{const i=Fn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_n.warn(i.message)}}}function N_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=1024,vE=30;class bE{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wE(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=np();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:l}),this._heartbeatsCache.heartbeats.length>vE){const a=SE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){_n.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=np(),{heartbeatsToSend:i,unsentEntries:l}=xE(this._heartbeatsCache.heartbeats),s=Dr(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _n.warn(n),""}}}function np(){return new Date().toISOString().substring(0,10)}function xE(e,t=_E){const n=[];let i=e.slice();for(const l of e){const s=n.find(a=>a.agent===l.agent);if(s){if(s.dates.push(l.date),ip(n)>t){s.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),ip(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class wE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return __()?v_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return tp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return tp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ip(e){return Dr(JSON.stringify({version:2,heartbeats:e})).length}function SE(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(e){Jn(new yn("platform-logger",t=>new kS(t),"PRIVATE")),Jn(new yn("heartbeat",t=>new bE(t),"PRIVATE")),qt(Xu,Jm,e),qt(Xu,Jm,"esm2020"),qt("fire-js","")}EE("");var TE="firebase",CE="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt(TE,CE,"app");var lp={};const sp="@firebase/database",ap="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A_="";function NE(e){A_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ne(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:qs(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return zt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new AE(t)}}catch{}return new ME},mi=M_("localStorage"),jE=M_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new x_("@firebase/database"),j_=function(){let e=1;return function(){return e++}}(),R_=function(e){const t=pS(e),n=new mS;n.update(t);const i=n.digest();return gd.encodeByteArray(i)},da=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=da.apply(null,i):typeof i=="object"?t+=Ne(i):t+=i,t+=" "}return t};let Ss=null,rp=!0;const RE=function(e,t){M(!0,"Can't turn on custom loggers persistently."),pl.logLevel=ae.VERBOSE,Ss=pl.log.bind(pl)},Ve=function(...e){if(rp===!0&&(rp=!1,Ss===null&&jE.get("logging_enabled")===!0&&RE()),Ss){const t=da.apply(null,e);Ss(t)}},ha=function(e){return function(...t){Ve(e,...t)}},Zu=function(...e){const t="FIREBASE INTERNAL ERROR: "+da(...e);pl.error(t)},vn=function(...e){const t=`FIREBASE FATAL ERROR: ${da(...e)}`;throw pl.error(t),new Error(t)},tt=function(...e){const t="FIREBASE WARNING: "+da(...e);pl.warn(t)},OE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bd=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},DE=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Al="[MIN_NAME]",Ai="[MAX_NAME]",ql=function(e,t){if(e===t)return 0;if(e===Al||t===Ai)return-1;if(t===Al||e===Ai)return 1;{const n=op(e),i=op(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},kE=function(e,t){return e===t?0:e<t?-1:1},Zl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ne(t))},xd=function(e){if(typeof e!="object"||e===null)return Ne(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=Ne(t[i]),n+=":",n+=xd(e[t[i]]);return n+="}",n},O_=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let l=0;l<n;l+=t)l+t>n?i.push(e.substring(l,n)):i.push(e.substring(l,l+t));return i};function lt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const D_=function(e){M(!bd(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let l,s,a,r,o;e===0?(s=0,a=0,l=1/e===-1/0?1:0):(l=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=r+i,a=Math.round(e*Math.pow(2,n-r)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-i-n))));const u=[];for(o=n;o;o-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(o=t;o;o-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(l?1:0),u.reverse();const h=u.join("");let f="";for(o=0;o<64;o+=8){let d=parseInt(h.substr(o,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},LE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function IE(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const UE=new RegExp("^-?(0*)\\d{1,10}$"),BE=-2147483648,HE=2147483647,op=function(e){if(UE.test(e)){const t=Number(e);if(t>=BE&&t<=HE)return t}return null},Gl=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw tt("Exception was thrown by user callback.",n),t},Math.floor(0))}},VE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Es=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,fE(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){tt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tt(t)}}class nr{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}nr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="5",k_="v",L_="s",z_="r",I_="f",U_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B_="ls",H_="p",Wu="ac",V_="websocket",q_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(t,n,i,l,s=!1,a="",r=!1,o=!1,u=null){this.secure=n,this.namespace=i,this.webSocketOnly=l,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=r,this.isUsingEmulator=o,this.emulatorOptions=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&mi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function YE(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Y_(e,t,n){M(typeof t=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let i;if(t===V_)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===q_)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);YE(e)&&(n.ns=e.namespace);const l=[];return lt(n,(s,a)=>{l.push(s+"="+a)}),i+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.counters_={}}incrementCounter(t,n=1){zt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Fw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc={},Dc={};function Sd(e){const t=e.toString();return Oc[t]||(Oc[t]=new FE),Oc[t]}function QE(e,t){const n=e.toString();return Dc[n]||(Dc[n]=t()),Dc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<i.length;++l)i[l]&&Gl(()=>{this.onMessage_(i[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="start",XE="close",PE="pLPCommand",$E="pRTLPCB",F_="id",Q_="pw",K_="ser",ZE="cb",WE="seg",JE="ts",e2="d",t2="dframe",X_=1870,P_=30,n2=X_-P_,i2=25e3,l2=3e4;class rl{constructor(t,n,i,l,s,a,r){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=l,this.authToken=s,this.transportSessionId=a,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ha(t),this.stats_=Sd(n),this.urlFn=o=>(this.appCheckToken&&(o[Wu]=this.appCheckToken),Y_(n,q_,o))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new KE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(l2)),DE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ed((...s)=>{const[a,r,o,u,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===cp)this.id=r,this.password=o;else if(a===XE)r?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(r,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,r]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,r)},()=>{this.onClosed_()},this.urlFn);const i={};i[cp]="t",i[K_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[ZE]=this.scriptTagHolder.uniqueCallbackIdentifier),i[k_]=wd,this.transportSessionId&&(i[L_]=this.transportSessionId),this.lastSessionId&&(i[B_]=this.lastSessionId),this.applicationId&&(i[H_]=this.applicationId),this.appCheckToken&&(i[Wu]=this.appCheckToken),typeof location<"u"&&location.hostname&&U_.test(location.hostname)&&(i[z_]=I_);const l=this.urlFn(i);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rl.forceAllow_=!0}static forceDisallow(){rl.forceDisallow_=!0}static isAvailable(){return rl.forceAllow_?!0:!rl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!LE()&&!zE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Ne(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=h_(n),l=O_(i,n2);for(let s=0;s<l.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[t2]="t",i[F_]=t,i[Q_]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Ne(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ed{constructor(t,n,i,l){this.onDisconnect=i,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=j_(),window[PE+this.uniqueCallbackIdentifier]=t,window[$E+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ed.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(r){Ve("frame writing exception"),r.stack&&Ve(r.stack),Ve(r)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ve("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[F_]=this.myID,t[Q_]=this.myPW,t[K_]=this.currentSerial;let n=this.urlFn(t),i="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+P_+i.length<=X_;){const a=this.pendingSegs.shift();i=i+"&"+WE+l+"="+a.seg+"&"+JE+l+"="+a.ts+"&"+e2+l+"="+a.d,l++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(i,Math.floor(i2)),s=()=>{clearTimeout(l),i()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const l=i.readyState;(!l||l==="loaded"||l==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ve("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=16384,a2=45e3;let Ir=null;typeof MozWebSocket<"u"?Ir=MozWebSocket:typeof WebSocket<"u"&&(Ir=WebSocket);class jt{constructor(t,n,i,l,s,a,r){this.connId=t,this.applicationId=i,this.appCheckToken=l,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ha(this.connId),this.stats_=Sd(n),this.connURL=jt.connectionURL_(n,a,r,l,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,l,s){const a={};return a[k_]=wd,typeof location<"u"&&location.hostname&&U_.test(location.hostname)&&(a[z_]=I_),n&&(a[L_]=n),i&&(a[B_]=i),l&&(a[Wu]=l),s&&(a[H_]=s),Y_(t,V_,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mi.set("previous_websocket_failure",!0);try{let i;aS(),this.mySock=new Ir(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){jt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Ir!==null&&!jt.forceDisallow_}static previouslyFailed(){return mi.isInMemoryStorage||mi.get("previous_websocket_failure")===!0}markConnectionHealthy(){mi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=qs(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=Ne(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=O_(n,s2);i.length>1&&this.sendString_(String(i.length));for(let l=0;l<i.length;l++)this.sendString_(i[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(a2))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jt.responsesRequiredToBeHealthy=2;jt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{static get ALL_TRANSPORTS(){return[rl,jt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=jt&&jt.isAvailable();let i=n&&!jt.previouslyFailed();if(t.webSocketOnly&&(n||tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[jt];else{const l=this.transports_=[];for(const s of Ys.ALL_TRANSPORTS)s&&s.isAvailable()&&l.push(s);Ys.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ys.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=6e4,o2=5e3,c2=10*1024,u2=100*1024,kc="t",up="d",f2="s",fp="r",d2="e",dp="o",hp="a",mp="n",pp="p",h2="h";class m2{constructor(t,n,i,l,s,a,r,o,u,h){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=l,this.authToken_=s,this.onMessage_=a,this.onReady_=r,this.onDisconnect_=o,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ha("c:"+this.id+":"),this.transportManager_=new Ys(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Es(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>u2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>c2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(kc in t){const n=t[kc];n===hp?this.upgradeIfSecondaryHealthy_():n===fp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===dp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Zl("t",t),i=Zl("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:pp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:mp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Zl("t",t),i=Zl("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Zl(kc,t);if(up in t){const i=t[up];if(n===h2){const l={...i};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===mp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===f2?this.onConnectionShutdown_(i):n===fp?this.onReset_(i):n===d2?Zu("Server Error: "+i):n===dp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zu("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wd!==i&&tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Es(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(r2))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Es(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(o2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:pp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{put(t,n,i,l){}merge(t,n,i,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let l=0;l<i.length;l++)i[l].callback.apply(i[l].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const l=this.getInitialEvent(t);l&&n.apply(i,l)}off(t,n,i){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let s=0;s<l.length;s++)if(l[s].callback===n&&(!i||i===l[s].context)){l.splice(s,1);return}}validateEventType_(t){M(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Z_{static getInstance(){return new Ur}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!y_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=32,yp=768;class se{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[i]=this.pieces_[l],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function $(){return new se("")}function q(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ei(e){return e.pieces_.length-e.pieceNum_}function re(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new se(e.pieces_,t)}function W_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function p2(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function J_(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ev(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new se(t,0)}function Ae(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof se)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let l=0;l<i.length;l++)i[l].length>0&&n.push(i[l])}return new se(n,0)}function Q(e){return e.pieceNum_>=e.pieces_.length}function Fe(e,t){const n=q(e),i=q(t);if(n===null)return t;if(n===i)return Fe(re(e),re(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Td(e,t){if(ei(e)!==ei(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Rt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(ei(e)>ei(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class g2{constructor(t,n){this.errorPrefix_=n,this.parts_=J_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=wo(this.parts_[i]);tv(this)}}function y2(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=wo(t),tv(e)}function _2(e){const t=e.parts_.pop();e.byteLength_-=wo(t),e.parts_.length>0&&(e.byteLength_-=1)}function tv(e){if(e.byteLength_>yp)throw new Error(e.errorPrefix_+"has a key path longer than "+yp+" bytes ("+e.byteLength_+").");if(e.parts_.length>gp)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gp+") or object contains a cycle "+di(e))}function di(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Z_{static getInstance(){return new Cd}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=1e3,v2=60*5*1e3,_p=30*1e3,b2=1.3,x2=3e4,w2="server_kill",vp=3;class fn extends $_{constructor(t,n,i,l,s,a,r,o){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=l,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=r,this.authOverride_=o,this.id=fn.nextPersistentConnectionId_++,this.log_=ha("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wl,this.maxReconnectDelay_=v2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ur.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const l=++this.requestNumber_,s={r:l,a:t,b:n};this.log_(Ne(s)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[l]=i)}get(t){this.initConnection_();const n=new fa,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const r=a.d;a.s==="ok"?n.resolve(r):n.reject(r)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,i,l){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const r={onComplete:l,hashFn:n,query:t,tag:i};this.listens.get(a).set(s,r),this.connected_&&this.sendListen_(r)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+i+" for "+l);const s={p:i},a="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,r=>{const o=r.d,u=r.s;fn.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(l))===t&&(this.log_("listen response",r),u!=="ok"&&this.removeListen_(i,l),t.onComplete&&t.onComplete(u,o))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&zt(t,"w")){const i=Ni(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||dS(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_p)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=fS(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,l=>{const s=l.s,a=l.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+l),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,l)&&this.connected_&&this.sendUnlisten_(i,l,t._queryObject,n)}sendUnlisten_(t,n,i,l){this.log_("Unlisten on "+t+" for "+n);const s={p:t},a="n";l&&(s.q=i,s.t=l),this.sendRequest(a,s)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,l){const s={p:n,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{l&&setTimeout(()=>{l(a.s,a.d)},Math.floor(0))})}put(t,n,i,l){this.putInternal("p",t,n,i,l)}merge(t,n,i,l){this.putInternal("m",t,n,i,l)}putInternal(t,n,i,l,s){this.initConnection_();const a={p:n,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:l}),this.outstandingPutCount_++;const r=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(r):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ne(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Zu("Unrecognized action received from server: "+Ne(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>x2&&(this.reconnectDelay_=Wl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*b2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+fn.nextConnectionId_++,s=this.lastSessionId;let a=!1,r=null;const o=function(){r?r.close():(a=!0,i())},u=function(f){M(r,"sendRequest call when we're not connected not allowed."),r.sendRequest(f)};this.realtime_={close:o,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,r=new m2(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,m=>{tt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(w2)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&tt(f),o())}}}interrupt(t){Ve("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ve("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Xm(this.interruptReasons_)&&(this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(s=>xd(s)).join("$"):i="default";const l=this.removeListen_(t,i);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,n){const i=new se(t).toString();let l;if(this.listens.has(i)){const s=this.listens.get(i);l=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else l=void 0;return l}onAuthRevoked_(t,n){Ve("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vp&&(this.reconnectDelay_=_p,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ve("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+A_.replace(/\./g,"-")]=1,y_()?t["framework.cordova"]=1:sS()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ur.getInstance().currentlyOnline();return Xm(this.interruptReasons_)&&t}}fn.nextPersistentConnectionId_=0;fn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new G(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new G(Al,t),l=new G(Al,n);return this.compare(i,l)!==0}minPost(){return G.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La;class nv extends To{static get __EMPTY_NODE(){return La}static set __EMPTY_NODE(t){La=t}compare(t,n){return ql(t.name,n.name)}isDefinedOn(t){throw Hl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return G.MIN}maxPost(){return new G(Ai,La)}makePost(t,n){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new G(t,La)}toString(){return".key"}}const gl=new nv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t,n,i,l,s=null){this.isReverse_=l,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?i(t.key,n):1,l&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Oe{constructor(t,n,i,l,s){this.key=t,this.value=n,this.color=i??Oe.RED,this.left=l??Je.EMPTY_NODE,this.right=s??Je.EMPTY_NODE}copy(t,n,i,l,s){return new Oe(t??this.key,n??this.value,i??this.color,l??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let l=this;const s=i(t,l.key);return s<0?l=l.copy(null,null,null,l.left.insert(t,n,i),null):s===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,n,i)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Je.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,l;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return Je.EMPTY_NODE;l=i.right.min_(),i=i.copy(l.key,l.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Oe.RED=!0;Oe.BLACK=!1;class S2{copy(t,n,i,l,s){return this}insert(t,n,i){return new Oe(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Je{constructor(t,n=Je.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Je(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Oe.BLACK,null,null))}remove(t){return new Je(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Oe.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,l=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return l?l.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(l=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new za(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new za(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new za(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new za(this.root_,null,this.comparator_,!0,t)}}Je.EMPTY_NODE=new S2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(e,t){return ql(e.name,t.name)}function Nd(e,t){return ql(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju;function T2(e){Ju=e}const iv=function(e){return typeof e=="number"?"number:"+D_(e):"string:"+e},lv=function(e){if(e.isLeafNode()){const t=e.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&zt(t,".sv"),"Priority must be a string or number.")}else M(e===Ju||e.isEmpty(),"priority of unexpected type.");M(e===Ju||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp;class je{static set __childrenNodeConstructor(t){bp=t}static get __childrenNodeConstructor(){return bp}constructor(t,n=je.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new je(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Q(t)?this:q(t)===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=q(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(M(i!==".priority"||ei(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,je.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+iv(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=D_(this.value_):t+=this.value_,this.lazyHash_=R_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===je.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof je.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,l=je.VALUE_TYPE_ORDER.indexOf(n),s=je.VALUE_TYPE_ORDER.indexOf(i);return M(l>=0,"Unknown leaf type: "+n),M(s>=0,"Unknown leaf type: "+i),l===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sv,av;function C2(e){sv=e}function N2(e){av=e}class A2 extends To{compare(t,n){const i=t.node.getPriority(),l=n.node.getPriority(),s=i.compareTo(l);return s===0?ql(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return G.MIN}maxPost(){return new G(Ai,new je("[PRIORITY-POST]",av))}makePost(t,n){const i=sv(t);return new G(n,new je("[PRIORITY-POST]",i))}toString(){return".priority"}}const ge=new A2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=Math.log(2);class j2{constructor(t){const n=s=>parseInt(Math.log(s)/M2,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const l=i(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Br=function(e,t,n,i){e.sort(t);const l=function(o,u){const h=u-o;let f,d;if(h===0)return null;if(h===1)return f=e[o],d=n?n(f):f,new Oe(d,f.node,Oe.BLACK,null,null);{const m=parseInt(h/2,10)+o,v=l(o,m),w=l(m+1,u);return f=e[m],d=n?n(f):f,new Oe(d,f.node,Oe.BLACK,v,w)}},s=function(o){let u=null,h=null,f=e.length;const d=function(v,w){const x=f-v,p=f;f-=v;const g=l(x+1,p),y=e[x],_=n?n(y):y;m(new Oe(_,y.node,w,null,g))},m=function(v){u?(u.left=v,u=v):(h=v,u=v)};for(let v=0;v<o.count;++v){const w=o.nextBitIsOne(),x=Math.pow(2,o.count-(v+1));w?d(x,Oe.BLACK):(d(x,Oe.BLACK),d(x,Oe.RED))}return h},a=new j2(e.length),r=s(a);return new Je(i||t,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;const Gi={};class an{static get Default(){return M(Gi&&ge,"ChildrenNode.ts has not been loaded"),Lc=Lc||new an({".priority":Gi},{".priority":ge}),Lc}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Ni(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Je?n:null}hasIndex(t){return zt(this.indexSet_,t.toString())}addIndex(t,n){M(t!==gl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let l=!1;const s=n.getIterator(G.Wrap);let a=s.getNext();for(;a;)l=l||t.isDefinedOn(a.node),i.push(a),a=s.getNext();let r;l?r=Br(i,t.getCompare()):r=Gi;const o=t.toString(),u={...this.indexSet_};u[o]=t;const h={...this.indexes_};return h[o]=r,new an(h,u)}addToIndexes(t,n){const i=kr(this.indexes_,(l,s)=>{const a=Ni(this.indexSet_,s);if(M(a,"Missing index implementation for "+s),l===Gi)if(a.isDefinedOn(t.node)){const r=[],o=n.getIterator(G.Wrap);let u=o.getNext();for(;u;)u.name!==t.name&&r.push(u),u=o.getNext();return r.push(t),Br(r,a.getCompare())}else return Gi;else{const r=n.get(t.name);let o=l;return r&&(o=o.remove(new G(t.name,r))),o.insert(t,t.node)}});return new an(i,this.indexSet_)}removeFromIndexes(t,n){const i=kr(this.indexes_,l=>{if(l===Gi)return l;{const s=n.get(t.name);return s?l.remove(new G(t.name,s)):l}});return new an(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl;class k{static get EMPTY_NODE(){return Jl||(Jl=new k(new Je(Nd),null,an.Default))}constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&lv(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jl}updatePriority(t){return this.children_.isEmpty()?this:new k(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Jl:n}}getChild(t){const n=q(t);return n===null?this:this.getImmediateChild(n).getChild(re(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(M(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new G(t,n);let l,s;n.isEmpty()?(l=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(l=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_));const a=l.isEmpty()?Jl:this.priorityNode_;return new k(l,a,s)}}updateChild(t,n){const i=q(t);if(i===null)return n;{M(q(t)!==".priority"||ei(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(i).updateChild(re(t),n);return this.updateImmediateChild(i,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,l=0,s=!0;if(this.forEachChild(ge,(a,r)=>{n[a]=r.val(t),i++,s&&k.INTEGER_REGEXP_.test(a)?l=Math.max(l,Number(a)):s=!1}),!t&&s&&l<2*i){const a=[];for(const r in n)a[r]=n[r];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+iv(this.getPriority().val())+":"),this.forEachChild(ge,(n,i)=>{const l=i.hash();l!==""&&(t+=":"+n+":"+l)}),this.lazyHash_=t===""?"":R_(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const l=this.resolveIndex_(i);if(l){const s=l.getPredecessorKey(new G(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new G(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new G(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,G.Wrap);let s=l.peek();for(;s!=null&&n.compare(s,t)<0;)l.getNext(),s=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,G.Wrap);let s=l.peek();for(;s!=null&&n.compare(s,t)>0;)l.getNext(),s=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ma?-1:0}withIndex(t){if(t===gl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new k(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===gl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ge),l=n.getIterator(ge);let s=i.getNext(),a=l.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=l.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===gl?null:this.indexMap_.get(t.toString())}}k.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class R2 extends k{constructor(){super(new Je(Nd),k.EMPTY_NODE,an.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return k.EMPTY_NODE}isEmpty(){return!1}}const ma=new R2;Object.defineProperties(G,{MIN:{value:new G(Al,k.EMPTY_NODE)},MAX:{value:new G(Ai,ma)}});nv.__EMPTY_NODE=k.EMPTY_NODE;je.__childrenNodeConstructor=k;T2(ma);N2(ma);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=!0;function Te(e,t=null){if(e===null)return k.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new je(n,Te(t))}if(!(e instanceof Array)&&O2){const n=[];let i=!1;if(lt(e,(a,r)=>{if(a.substring(0,1)!=="."){const o=Te(r);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new G(a,o)))}}),n.length===0)return k.EMPTY_NODE;const s=Br(n,E2,a=>a.name,Nd);if(i){const a=Br(n,ge.getCompare());return new k(s,Te(t),new an({".priority":a},{".priority":ge}))}else return new k(s,Te(t),an.Default)}else{let n=k.EMPTY_NODE;return lt(e,(i,l)=>{if(zt(e,i)&&i.substring(0,1)!=="."){const s=Te(l);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Te(t))}}C2(Te);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2 extends To{constructor(t){super(),this.indexPath_=t,M(!Q(t)&&q(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),l=this.extractChild(n.node),s=i.compareTo(l);return s===0?ql(t.name,n.name):s}makePost(t,n){const i=Te(t),l=k.EMPTY_NODE.updateChild(this.indexPath_,i);return new G(n,l)}maxPost(){const t=k.EMPTY_NODE.updateChild(this.indexPath_,ma);return new G(Ai,t)}toString(){return J_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2 extends To{compare(t,n){const i=t.node.compareTo(n.node);return i===0?ql(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return G.MIN}maxPost(){return G.MAX}makePost(t,n){const i=Te(t);return new G(n,i)}toString(){return".value"}}const L2=new k2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(e){return{type:"value",snapshotNode:e}}function Ml(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Fs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Qs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function z2(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(t){this.index_=t}updateChild(t,n,i,l,s,a){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const r=t.getImmediateChild(n);return r.getChild(l).equals(i.getChild(l))&&r.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?t.hasChild(n)?a.trackChildChange(Fs(n,r)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):r.isEmpty()?a.trackChildChange(Ml(n,i)):a.trackChildChange(Qs(n,i,r))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(ge,(l,s)=>{n.hasChild(l)||i.trackChildChange(Fs(l,s))}),n.isLeafNode()||n.forEachChild(ge,(l,s)=>{if(t.hasChild(l)){const a=t.getImmediateChild(l);a.equals(s)||i.trackChildChange(Qs(l,s,a))}else i.trackChildChange(Ml(l,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?k.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.indexedFilter_=new Ad(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ks.getStartPost_(t),this.endPost_=Ks.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,l,s,a){return this.matches(new G(n,i))||(i=k.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,l,s,a)}updateFullNode(t,n,i){n.isLeafNode()&&(n=k.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(k.EMPTY_NODE);const s=this;return n.forEachChild(ge,(a,r)=>{s.matches(new G(a,r))||(l=l.updateImmediateChild(a,k.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ks(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,l,s,a){return this.rangedFilter_.matches(new G(n,i))||(i=k.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,l,s,a):this.fullLimitUpdateChild_(t,n,i,s,a)}updateFullNode(t,n,i){let l;if(n.isLeafNode()||n.isEmpty())l=k.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=k.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const r=s.getNext();if(this.withinDirectionalStart(r))if(this.withinDirectionalEnd(r))l=l.updateImmediateChild(r.name,r.node),a++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(k.EMPTY_NODE);let s;this.reverse_?s=l.getReverseIterator(this.index_):s=l.getIterator(this.index_);let a=0;for(;s.hasNext();){const r=s.getNext();a<this.limit_&&this.withinDirectionalStart(r)&&this.withinDirectionalEnd(r)?a++:l=l.updateImmediateChild(r.name,k.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,l,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(d,m)=>f(m,d)}else a=this.index_.getCompare();const r=t;M(r.numChildren()===this.limit_,"");const o=new G(n,i),u=this.reverse_?r.getFirstChild(this.index_):r.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(r.hasChild(n)){const f=r.getImmediateChild(n);let d=l.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||r.hasChild(d.name));)d=l.getChildAfterChild(this.index_,d,this.reverse_);const m=d==null?1:a(d,o);if(h&&!i.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(Qs(n,i,f)),r.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(Fs(n,f));const w=r.updateImmediateChild(n,k.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(Ml(d.name,d.node)),w.updateImmediateChild(d.name,d.node)):w}}else return i.isEmpty()?t:h&&a(u,o)>=0?(s!=null&&(s.trackChildChange(Fs(u.name,u.node)),s.trackChildChange(Ml(n,i))),r.updateImmediateChild(n,i).updateImmediateChild(u.name,k.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Al}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ai}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ge}copy(){const t=new Md;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function U2(e){return e.loadsAllData()?new Ad(e.getIndex()):e.hasLimit()?new I2(e):new Ks(e)}function xp(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ge?n="$priority":e.index_===L2?n="$value":e.index_===gl?n="$key":(M(e.index_ instanceof D2,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ne(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=Ne(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+Ne(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=Ne(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+Ne(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function wp(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ge&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends $_{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,l){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=l,this.log_=ha("p:rest:"),this.listens_={}}listen(t,n,i,l){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=Hr.getListenId_(t,i),r={};this.listens_[a]=r;const o=xp(t._queryParams);this.restRequest_(s+".json",o,(u,h)=>{let f=h;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(s,f,!1,i),Ni(this.listens_,a)===r){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",l(d,null)}})}unlisten(t,n){const i=Hr.getListenId_(t,n);delete this.listens_[i]}get(t){const n=xp(t._queryParams),i=t._path.toString(),l=new fa;return this.restRequest_(i+".json",n,(s,a)=>{let r=a;s===404&&(r=null,s=null),s===null?(this.onDataUpdate_(i,r,!1,null),l.resolve(r)):l.reject(new Error(r))}),l.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,s])=>{l&&l.accessToken&&(n.auth=l.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+hS(n);this.log_("Sending REST request for "+a);const r=new XMLHttpRequest;r.onreadystatechange=()=>{if(i&&r.readyState===4){this.log_("REST Response for "+a+" received. status:",r.status,"response:",r.responseText);let o=null;if(r.status>=200&&r.status<300){try{o=qs(r.responseText)}catch{tt("Failed to parse JSON response for "+a+": "+r.responseText)}i(null,o)}else r.status!==401&&r.status!==404&&tt("Got unsuccessful REST response for "+a+" Status: "+r.status),i(r.status);i=null}},r.open("GET",a,!0),r.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.rootNode_=k.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return{value:null,children:new Map}}function ov(e,t,n){if(Q(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=q(t);e.children.has(i)||e.children.set(i,Vr());const l=e.children.get(i);t=re(t),ov(l,t,n)}}function ef(e,t,n){e.value!==null?n(t,e.value):H2(e,(i,l)=>{const s=new se(t.toString()+"/"+i);ef(l,s,n)})}function H2(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&lt(this.last_,(i,l)=>{n[i]=n[i]-l}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=10*1e3,q2=30*1e3,G2=5*60*1e3;class Y2{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new V2(t);const i=Sp+(q2-Sp)*Math.random();Es(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;lt(t,(l,s)=>{s>0&&zt(this.statsToReport_,l)&&(n[l]=s,i=!0)}),i&&this.server_.reportStats(n),Es(this.reportStats_.bind(this),Math.floor(Math.random()*2*G2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ot||(Ot={}));function cv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rd(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Ot.ACK_USER_WRITE,this.source=cv()}operationForChild(t){if(Q(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new se(t));return new qr($(),n,this.revert)}}else return M(q(this.path)===t,"operationForChild called for unrelated child."),new qr(re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,n){this.source=t,this.path=n,this.type=Ot.LISTEN_COMPLETE}operationForChild(t){return Q(this.path)?new Xs(this.source,$()):new Xs(this.source,re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Ot.OVERWRITE}operationForChild(t){return Q(this.path)?new Mi(this.source,$(),this.snap.getImmediateChild(t)):new Mi(this.source,re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Ot.MERGE}operationForChild(t){if(Q(this.path)){const n=this.children.subtree(new se(t));return n.isEmpty()?null:n.value?new Mi(this.source,$(),n.value):new Ps(this.source,$(),n)}else return M(q(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ps(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Q(t))return this.isFullyInitialized()&&!this.filtered_;const n=q(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Q2(e,t,n,i){const l=[],s=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(z2(a.childName,a.snapshotNode))}),es(e,l,"child_removed",t,i,n),es(e,l,"child_added",t,i,n),es(e,l,"child_moved",s,i,n),es(e,l,"child_changed",t,i,n),es(e,l,"value",t,i,n),l}function es(e,t,n,i,l,s){const a=i.filter(r=>r.type===n);a.sort((r,o)=>X2(e,r,o)),a.forEach(r=>{const o=K2(e,r,s);l.forEach(u=>{u.respondsTo(r.type)&&t.push(u.createEvent(o,e.query_))})})}function K2(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function X2(e,t,n){if(t.childName==null||n.childName==null)throw Hl("Should only compare child_ events.");const i=new G(t.childName,t.snapshotNode),l=new G(n.childName,n.snapshotNode);return e.index_.compare(i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(e,t){return{eventCache:e,serverCache:t}}function Ts(e,t,n,i){return Co(new ti(t,n,i),e.serverCache)}function uv(e,t,n,i){return Co(e.eventCache,new ti(t,n,i))}function Gr(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ji(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;const P2=()=>(zc||(zc=new Je(kE)),zc);class ue{static fromObject(t){let n=new ue(null);return lt(t,(i,l)=>{n=n.set(new se(i),l)}),n}constructor(t,n=P2()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:$(),value:this.value};if(Q(t))return null;{const i=q(t),l=this.children.get(i);if(l!==null){const s=l.findRootMostMatchingPathAndValue(re(t),n);return s!=null?{path:Ae(new se(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Q(t))return this;{const n=q(t),i=this.children.get(n);return i!==null?i.subtree(re(t)):new ue(null)}}set(t,n){if(Q(t))return new ue(n,this.children);{const i=q(t),s=(this.children.get(i)||new ue(null)).set(re(t),n),a=this.children.insert(i,s);return new ue(this.value,a)}}remove(t){if(Q(t))return this.children.isEmpty()?new ue(null):new ue(null,this.children);{const n=q(t),i=this.children.get(n);if(i){const l=i.remove(re(t));let s;return l.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,l),this.value===null&&s.isEmpty()?new ue(null):new ue(this.value,s)}else return this}}get(t){if(Q(t))return this.value;{const n=q(t),i=this.children.get(n);return i?i.get(re(t)):null}}setTree(t,n){if(Q(t))return n;{const i=q(t),s=(this.children.get(i)||new ue(null)).setTree(re(t),n);let a;return s.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,s),new ue(this.value,a)}}fold(t){return this.fold_($(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((l,s)=>{i[l]=s.fold_(Ae(t,l),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,$(),n)}findOnPath_(t,n,i){const l=this.value?i(n,this.value):!1;if(l)return l;if(Q(t))return null;{const s=q(t),a=this.children.get(s);return a?a.findOnPath_(re(t),Ae(n,s),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,$(),n)}foreachOnPath_(t,n,i){if(Q(t))return this;{this.value&&i(n,this.value);const l=q(t),s=this.children.get(l);return s?s.foreachOnPath_(re(t),Ae(n,l),i):new ue(null)}}foreach(t){this.foreach_($(),t)}foreach_(t,n){this.children.inorderTraversal((i,l)=>{l.foreach_(Ae(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.writeTree_=t}static empty(){return new Dt(new ue(null))}}function Cs(e,t,n){if(Q(t))return new Dt(new ue(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const l=i.path;let s=i.value;const a=Fe(l,t);return s=s.updateChild(a,n),new Dt(e.writeTree_.set(l,s))}else{const l=new ue(n),s=e.writeTree_.setTree(t,l);return new Dt(s)}}}function Ep(e,t,n){let i=e;return lt(n,(l,s)=>{i=Cs(i,Ae(t,l),s)}),i}function Tp(e,t){if(Q(t))return Dt.empty();{const n=e.writeTree_.setTree(t,new ue(null));return new Dt(n)}}function tf(e,t){return Ui(e,t)!=null}function Ui(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Fe(n.path,t)):null}function Cp(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ge,(i,l)=>{t.push(new G(i,l))}):e.writeTree_.children.inorderTraversal((i,l)=>{l.value!=null&&t.push(new G(i,l.value))}),t}function Qn(e,t){if(Q(t))return e;{const n=Ui(e,t);return n!=null?new Dt(new ue(n)):new Dt(e.writeTree_.subtree(t))}}function nf(e){return e.writeTree_.isEmpty()}function jl(e,t){return fv($(),e.writeTree_,t)}function fv(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((l,s)=>{l===".priority"?(M(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=fv(Ae(e,l),s,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(Ae(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(e,t){return pv(t,e)}function $2(e,t,n,i,l){M(i>e.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:l}),l&&(e.visibleWrites=Cs(e.visibleWrites,t,n)),e.lastWriteId=i}function Z2(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function W2(e,t){const n=e.allWrites.findIndex(r=>r.writeId===t);M(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let l=i.visible,s=!1,a=e.allWrites.length-1;for(;l&&a>=0;){const r=e.allWrites[a];r.visible&&(a>=n&&J2(r,i.path)?l=!1:Rt(i.path,r.path)&&(s=!0)),a--}if(l){if(s)return eT(e),!0;if(i.snap)e.visibleWrites=Tp(e.visibleWrites,i.path);else{const r=i.children;lt(r,o=>{e.visibleWrites=Tp(e.visibleWrites,Ae(i.path,o))})}return!0}else return!1}function J2(e,t){if(e.snap)return Rt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Rt(Ae(e.path,n),t))return!0;return!1}function eT(e){e.visibleWrites=dv(e.allWrites,tT,$()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function tT(e){return e.visible}function dv(e,t,n){let i=Dt.empty();for(let l=0;l<e.length;++l){const s=e[l];if(t(s)){const a=s.path;let r;if(s.snap)Rt(n,a)?(r=Fe(n,a),i=Cs(i,r,s.snap)):Rt(a,n)&&(r=Fe(a,n),i=Cs(i,$(),s.snap.getChild(r)));else if(s.children){if(Rt(n,a))r=Fe(n,a),i=Ep(i,r,s.children);else if(Rt(a,n))if(r=Fe(a,n),Q(r))i=Ep(i,$(),s.children);else{const o=Ni(s.children,q(r));if(o){const u=o.getChild(re(r));i=Cs(i,$(),u)}}}else throw Hl("WriteRecord should have .snap or .children")}}return i}function hv(e,t,n,i,l){if(!i&&!l){const s=Ui(e.visibleWrites,t);if(s!=null)return s;{const a=Qn(e.visibleWrites,t);if(nf(a))return n;if(n==null&&!tf(a,$()))return null;{const r=n||k.EMPTY_NODE;return jl(a,r)}}}else{const s=Qn(e.visibleWrites,t);if(!l&&nf(s))return n;if(!l&&n==null&&!tf(s,$()))return null;{const a=function(u){return(u.visible||l)&&(!i||!~i.indexOf(u.writeId))&&(Rt(u.path,t)||Rt(t,u.path))},r=dv(e.allWrites,a,t),o=n||k.EMPTY_NODE;return jl(r,o)}}}function nT(e,t,n){let i=k.EMPTY_NODE;const l=Ui(e.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(ge,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(n){const s=Qn(e.visibleWrites,t);return n.forEachChild(ge,(a,r)=>{const o=jl(Qn(s,new se(a)),r);i=i.updateImmediateChild(a,o)}),Cp(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const s=Qn(e.visibleWrites,t);return Cp(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function iT(e,t,n,i,l){M(i||l,"Either existingEventSnap or existingServerSnap must exist");const s=Ae(t,n);if(tf(e.visibleWrites,s))return null;{const a=Qn(e.visibleWrites,s);return nf(a)?l.getChild(n):jl(a,l.getChild(n))}}function lT(e,t,n,i){const l=Ae(t,n),s=Ui(e.visibleWrites,l);if(s!=null)return s;if(i.isCompleteForChild(n)){const a=Qn(e.visibleWrites,l);return jl(a,i.getNode().getImmediateChild(n))}else return null}function sT(e,t){return Ui(e.visibleWrites,t)}function aT(e,t,n,i,l,s,a){let r;const o=Qn(e.visibleWrites,t),u=Ui(o,$());if(u!=null)r=u;else if(n!=null)r=jl(o,n);else return[];if(r=r.withIndex(a),!r.isEmpty()&&!r.isLeafNode()){const h=[],f=a.getCompare(),d=s?r.getReverseIteratorFrom(i,a):r.getIteratorFrom(i,a);let m=d.getNext();for(;m&&h.length<l;)f(m,i)!==0&&h.push(m),m=d.getNext();return h}else return[]}function rT(){return{visibleWrites:Dt.empty(),allWrites:[],lastWriteId:-1}}function Yr(e,t,n,i){return hv(e.writeTree,e.treePath,t,n,i)}function Od(e,t){return nT(e.writeTree,e.treePath,t)}function Np(e,t,n,i){return iT(e.writeTree,e.treePath,t,n,i)}function Fr(e,t){return sT(e.writeTree,Ae(e.treePath,t))}function oT(e,t,n,i,l,s){return aT(e.writeTree,e.treePath,t,n,i,l,s)}function Dd(e,t,n){return lT(e.writeTree,e.treePath,t,n)}function mv(e,t){return pv(Ae(e.treePath,t),e.writeTree)}function pv(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(i!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(i);if(l){const s=l.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Qs(i,t.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Fs(i,l.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,Ml(i,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Qs(i,t.snapshotNode,l.oldSnap));else throw Hl("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const gv=new uT;class kd{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new ti(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dd(this.writes_,t,i)}}getChildAfterChild(t,n,i){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ji(this.viewCache_),s=oT(this.writes_,l,n,1,i,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(e){return{filter:e}}function dT(e,t){M(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function hT(e,t,n,i,l){const s=new cT;let a,r;if(n.type===Ot.OVERWRITE){const u=n;u.source.fromUser?a=lf(e,t,u.path,u.snap,i,l,s):(M(u.source.fromServer,"Unknown source."),r=u.source.tagged||t.serverCache.isFiltered()&&!Q(u.path),a=Qr(e,t,u.path,u.snap,i,l,r,s))}else if(n.type===Ot.MERGE){const u=n;u.source.fromUser?a=pT(e,t,u.path,u.children,i,l,s):(M(u.source.fromServer,"Unknown source."),r=u.source.tagged||t.serverCache.isFiltered(),a=sf(e,t,u.path,u.children,i,l,r,s))}else if(n.type===Ot.ACK_USER_WRITE){const u=n;u.revert?a=_T(e,t,u.path,i,l,s):a=gT(e,t,u.path,u.affectedTree,i,l,s)}else if(n.type===Ot.LISTEN_COMPLETE)a=yT(e,t,n.path,i,s);else throw Hl("Unknown operation type: "+n.type);const o=s.getChanges();return mT(t,a,o),{viewCache:a,changes:o}}function mT(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const l=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Gr(e);(n.length>0||!e.eventCache.isFullyInitialized()||l&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(rv(Gr(t)))}}function yv(e,t,n,i,l,s){const a=t.eventCache;if(Fr(i,n)!=null)return t;{let r,o;if(Q(n))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=ji(t),h=u instanceof k?u:k.EMPTY_NODE,f=Od(i,h);r=e.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const u=Yr(i,ji(t));r=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=q(n);if(u===".priority"){M(ei(n)===1,"Can't have a priority with additional path components");const h=a.getNode();o=t.serverCache.getNode();const f=Np(i,n,h,o);f!=null?r=e.filter.updatePriority(h,f):r=a.getNode()}else{const h=re(n);let f;if(a.isCompleteForChild(u)){o=t.serverCache.getNode();const d=Np(i,n,a.getNode(),o);d!=null?f=a.getNode().getImmediateChild(u).updateChild(h,d):f=a.getNode().getImmediateChild(u)}else f=Dd(i,u,t.serverCache);f!=null?r=e.filter.updateChild(a.getNode(),u,f,h,l,s):r=a.getNode()}}return Ts(t,r,a.isFullyInitialized()||Q(n),e.filter.filtersNodes())}}function Qr(e,t,n,i,l,s,a,r){const o=t.serverCache;let u;const h=a?e.filter:e.filter.getIndexedFilter();if(Q(n))u=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const m=o.getNode().updateChild(n,i);u=h.updateFullNode(o.getNode(),m,null)}else{const m=q(n);if(!o.isCompleteForPath(n)&&ei(n)>1)return t;const v=re(n),x=o.getNode().getImmediateChild(m).updateChild(v,i);m===".priority"?u=h.updatePriority(o.getNode(),x):u=h.updateChild(o.getNode(),m,x,v,gv,null)}const f=uv(t,u,o.isFullyInitialized()||Q(n),h.filtersNodes()),d=new kd(l,f,s);return yv(e,f,n,l,d,r)}function lf(e,t,n,i,l,s,a){const r=t.eventCache;let o,u;const h=new kd(l,t,s);if(Q(n))u=e.filter.updateFullNode(t.eventCache.getNode(),i,a),o=Ts(t,u,!0,e.filter.filtersNodes());else{const f=q(n);if(f===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),i),o=Ts(t,u,r.isFullyInitialized(),r.isFiltered());else{const d=re(n),m=r.getNode().getImmediateChild(f);let v;if(Q(d))v=i;else{const w=h.getCompleteChild(f);w!=null?W_(d)===".priority"&&w.getChild(ev(d)).isEmpty()?v=w:v=w.updateChild(d,i):v=k.EMPTY_NODE}if(m.equals(v))o=t;else{const w=e.filter.updateChild(r.getNode(),f,v,d,h,a);o=Ts(t,w,r.isFullyInitialized(),e.filter.filtersNodes())}}}return o}function Ap(e,t){return e.eventCache.isCompleteForChild(t)}function pT(e,t,n,i,l,s,a){let r=t;return i.foreach((o,u)=>{const h=Ae(n,o);Ap(t,q(h))&&(r=lf(e,r,h,u,l,s,a))}),i.foreach((o,u)=>{const h=Ae(n,o);Ap(t,q(h))||(r=lf(e,r,h,u,l,s,a))}),r}function Mp(e,t,n){return n.foreach((i,l)=>{t=t.updateChild(i,l)}),t}function sf(e,t,n,i,l,s,a,r){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let o=t,u;Q(n)?u=i:u=new ue(null).setTree(n,i);const h=t.serverCache.getNode();return u.children.inorderTraversal((f,d)=>{if(h.hasChild(f)){const m=t.serverCache.getNode().getImmediateChild(f),v=Mp(e,m,d);o=Qr(e,o,new se(f),v,l,s,a,r)}}),u.children.inorderTraversal((f,d)=>{const m=!t.serverCache.isCompleteForChild(f)&&d.value===null;if(!h.hasChild(f)&&!m){const v=t.serverCache.getNode().getImmediateChild(f),w=Mp(e,v,d);o=Qr(e,o,new se(f),w,l,s,a,r)}}),o}function gT(e,t,n,i,l,s,a){if(Fr(l,n)!=null)return t;const r=t.serverCache.isFiltered(),o=t.serverCache;if(i.value!=null){if(Q(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return Qr(e,t,n,o.getNode().getChild(n),l,s,r,a);if(Q(n)){let u=new ue(null);return o.getNode().forEachChild(gl,(h,f)=>{u=u.set(new se(h),f)}),sf(e,t,n,u,l,s,r,a)}else return t}else{let u=new ue(null);return i.foreach((h,f)=>{const d=Ae(n,h);o.isCompleteForPath(d)&&(u=u.set(h,o.getNode().getChild(d)))}),sf(e,t,n,u,l,s,r,a)}}function yT(e,t,n,i,l){const s=t.serverCache,a=uv(t,s.getNode(),s.isFullyInitialized()||Q(n),s.isFiltered());return yv(e,a,n,i,gv,l)}function _T(e,t,n,i,l,s){let a;if(Fr(i,n)!=null)return t;{const r=new kd(i,t,l),o=t.eventCache.getNode();let u;if(Q(n)||q(n)===".priority"){let h;if(t.serverCache.isFullyInitialized())h=Yr(i,ji(t));else{const f=t.serverCache.getNode();M(f instanceof k,"serverChildren would be complete if leaf node"),h=Od(i,f)}h=h,u=e.filter.updateFullNode(o,h,s)}else{const h=q(n);let f=Dd(i,h,t.serverCache);f==null&&t.serverCache.isCompleteForChild(h)&&(f=o.getImmediateChild(h)),f!=null?u=e.filter.updateChild(o,h,f,re(n),r,s):t.eventCache.getNode().hasChild(h)?u=e.filter.updateChild(o,h,k.EMPTY_NODE,re(n),r,s):u=o,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Yr(i,ji(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,s)))}return a=t.serverCache.isFullyInitialized()||Fr(i,$())!=null,Ts(t,u,a,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,l=new Ad(i.getIndex()),s=U2(i);this.processor_=fT(s);const a=n.serverCache,r=n.eventCache,o=l.updateFullNode(k.EMPTY_NODE,a.getNode(),null),u=s.updateFullNode(k.EMPTY_NODE,r.getNode(),null),h=new ti(o,a.isFullyInitialized(),l.filtersNodes()),f=new ti(u,r.isFullyInitialized(),s.filtersNodes());this.viewCache_=Co(f,h),this.eventGenerator_=new F2(this.query_)}get query(){return this.query_}}function bT(e){return e.viewCache_.serverCache.getNode()}function xT(e){return Gr(e.viewCache_)}function wT(e,t){const n=ji(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Q(t)&&!n.getImmediateChild(q(t)).isEmpty())?n.getChild(t):null}function jp(e){return e.eventRegistrations_.length===0}function ST(e,t){e.eventRegistrations_.push(t)}function Rp(e,t,n){const i=[];if(n){M(t==null,"A cancel should cancel all event registrations.");const l=e.query._path;e.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,l);a&&i.push(a)})}if(t){let l=[];for(let s=0;s<e.eventRegistrations_.length;++s){const a=e.eventRegistrations_[s];if(!a.matches(t))l.push(a);else if(t.hasAnyCallback()){l=l.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=l}else e.eventRegistrations_=[];return i}function Op(e,t,n,i){t.type===Ot.MERGE&&t.source.queryId!==null&&(M(ji(e.viewCache_),"We should always have a full cache before handling merges"),M(Gr(e.viewCache_),"Missing event cache, even though we have a server cache"));const l=e.viewCache_,s=hT(e.processor_,l,t,n,i);return dT(e.processor_,s.viewCache),M(s.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,_v(e,s.changes,s.viewCache.eventCache.getNode(),null)}function ET(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ge,(s,a)=>{i.push(Ml(s,a))}),n.isFullyInitialized()&&i.push(rv(n.getNode())),_v(e,i,n.getNode(),t)}function _v(e,t,n,i){const l=i?[i]:e.eventRegistrations_;return Q2(e.eventGenerator_,t,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kr;class vv{constructor(){this.views=new Map}}function TT(e){M(!Kr,"__referenceConstructor has already been defined"),Kr=e}function CT(){return M(Kr,"Reference.ts has not been loaded"),Kr}function NT(e){return e.views.size===0}function Ld(e,t,n,i){const l=t.source.queryId;if(l!==null){const s=e.views.get(l);return M(s!=null,"SyncTree gave us an op for an invalid query."),Op(s,t,n,i)}else{let s=[];for(const a of e.views.values())s=s.concat(Op(a,t,n,i));return s}}function bv(e,t,n,i,l){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let r=Yr(n,l?i:null),o=!1;r?o=!0:i instanceof k?(r=Od(n,i),o=!1):(r=k.EMPTY_NODE,o=!1);const u=Co(new ti(r,o,!1),new ti(i,l,!1));return new vT(t,u)}return a}function AT(e,t,n,i,l,s){const a=bv(e,t,i,l,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),ST(a,n),ET(a,n)}function MT(e,t,n,i){const l=t._queryIdentifier,s=[];let a=[];const r=ni(e);if(l==="default")for(const[o,u]of e.views.entries())a=a.concat(Rp(u,n,i)),jp(u)&&(e.views.delete(o),u.query._queryParams.loadsAllData()||s.push(u.query));else{const o=e.views.get(l);o&&(a=a.concat(Rp(o,n,i)),jp(o)&&(e.views.delete(l),o.query._queryParams.loadsAllData()||s.push(o.query)))}return r&&!ni(e)&&s.push(new(CT())(t._repo,t._path)),{removed:s,events:a}}function xv(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Kn(e,t){let n=null;for(const i of e.views.values())n=n||wT(i,t);return n}function wv(e,t){if(t._queryParams.loadsAllData())return Ao(e);{const i=t._queryIdentifier;return e.views.get(i)}}function Sv(e,t){return wv(e,t)!=null}function ni(e){return Ao(e)!=null}function Ao(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xr;function jT(e){M(!Xr,"__referenceConstructor has already been defined"),Xr=e}function RT(){return M(Xr,"Reference.ts has not been loaded"),Xr}let OT=1;class Dp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ue(null),this.pendingWriteTree_=rT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zd(e,t,n,i,l){return $2(e.pendingWriteTree_,t,n,i,l),l?ga(e,new Mi(cv(),t,n)):[]}function pi(e,t,n=!1){const i=Z2(e.pendingWriteTree_,t);if(W2(e.pendingWriteTree_,t)){let s=new ue(null);return i.snap!=null?s=s.set($(),!0):lt(i.children,a=>{s=s.set(new se(a),!0)}),ga(e,new qr(i.path,s,n))}else return[]}function pa(e,t,n){return ga(e,new Mi(jd(),t,n))}function DT(e,t,n){const i=ue.fromObject(n);return ga(e,new Ps(jd(),t,i))}function kT(e,t){return ga(e,new Xs(jd(),t))}function LT(e,t,n){const i=Id(e,n);if(i){const l=Ud(i),s=l.path,a=l.queryId,r=Fe(s,t),o=new Xs(Rd(a),r);return Bd(e,s,o)}else return[]}function Pr(e,t,n,i,l=!1){const s=t._path,a=e.syncPointTree_.get(s);let r=[];if(a&&(t._queryIdentifier==="default"||Sv(a,t))){const o=MT(a,t,n,i);NT(a)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=o.removed;if(r=o.events,!l){const h=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=e.syncPointTree_.findOnPath(s,(d,m)=>ni(m));if(h&&!f){const d=e.syncPointTree_.subtree(s);if(!d.isEmpty()){const m=UT(d);for(let v=0;v<m.length;++v){const w=m[v],x=w.query,p=Nv(e,w);e.listenProvider_.startListening(Ns(x),$s(e,x),p.hashFn,p.onComplete)}}}!f&&u.length>0&&!i&&(h?e.listenProvider_.stopListening(Ns(t),null):u.forEach(d=>{const m=e.queryToTagMap.get(jo(d));e.listenProvider_.stopListening(Ns(d),m)}))}BT(e,u)}return r}function Ev(e,t,n,i){const l=Id(e,i);if(l!=null){const s=Ud(l),a=s.path,r=s.queryId,o=Fe(a,t),u=new Mi(Rd(r),o,n);return Bd(e,a,u)}else return[]}function zT(e,t,n,i){const l=Id(e,i);if(l){const s=Ud(l),a=s.path,r=s.queryId,o=Fe(a,t),u=ue.fromObject(n),h=new Ps(Rd(r),o,u);return Bd(e,a,h)}else return[]}function af(e,t,n,i=!1){const l=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(l,(d,m)=>{const v=Fe(d,l);s=s||Kn(m,v),a=a||ni(m)});let r=e.syncPointTree_.get(l);r?(a=a||ni(r),s=s||Kn(r,$())):(r=new vv,e.syncPointTree_=e.syncPointTree_.set(l,r));let o;s!=null?o=!0:(o=!1,s=k.EMPTY_NODE,e.syncPointTree_.subtree(l).foreachChild((m,v)=>{const w=Kn(v,$());w&&(s=s.updateImmediateChild(m,w))}));const u=Sv(r,t);if(!u&&!t._queryParams.loadsAllData()){const d=jo(t);M(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");const m=HT();e.queryToTagMap.set(d,m),e.tagToQueryMap.set(m,d)}const h=No(e.pendingWriteTree_,l);let f=AT(r,t,n,h,s,o);if(!u&&!a&&!i){const d=wv(r,t);f=f.concat(VT(e,t,d))}return f}function Mo(e,t,n){const l=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(a,r)=>{const o=Fe(a,t),u=Kn(r,o);if(u)return u});return hv(l,t,s,n,!0)}function IT(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(u,h)=>{const f=Fe(u,n);i=i||Kn(h,f)});let l=e.syncPointTree_.get(n);l?i=i||Kn(l,$()):(l=new vv,e.syncPointTree_=e.syncPointTree_.set(n,l));const s=i!=null,a=s?new ti(i,!0,!1):null,r=No(e.pendingWriteTree_,t._path),o=bv(l,t,r,s?a.getNode():k.EMPTY_NODE,s);return xT(o)}function ga(e,t){return Tv(t,e.syncPointTree_,null,No(e.pendingWriteTree_,$()))}function Tv(e,t,n,i){if(Q(e.path))return Cv(e,t,n,i);{const l=t.get($());n==null&&l!=null&&(n=Kn(l,$()));let s=[];const a=q(e.path),r=e.operationForChild(a),o=t.children.get(a);if(o&&r){const u=n?n.getImmediateChild(a):null,h=mv(i,a);s=s.concat(Tv(r,o,u,h))}return l&&(s=s.concat(Ld(l,e,i,n))),s}}function Cv(e,t,n,i){const l=t.get($());n==null&&l!=null&&(n=Kn(l,$()));let s=[];return t.children.inorderTraversal((a,r)=>{const o=n?n.getImmediateChild(a):null,u=mv(i,a),h=e.operationForChild(a);h&&(s=s.concat(Cv(h,r,o,u)))}),l&&(s=s.concat(Ld(l,e,i,n))),s}function Nv(e,t){const n=t.query,i=$s(e,n);return{hashFn:()=>(bT(t)||k.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return i?LT(e,n._path,i):kT(e,n._path);{const s=IE(l,n);return Pr(e,n,null,s)}}}}function $s(e,t){const n=jo(t);return e.queryToTagMap.get(n)}function jo(e){return e._path.toString()+"$"+e._queryIdentifier}function Id(e,t){return e.tagToQueryMap.get(t)}function Ud(e){const t=e.indexOf("$");return M(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new se(e.substr(0,t))}}function Bd(e,t,n){const i=e.syncPointTree_.get(t);M(i,"Missing sync point for query tag that we're tracking");const l=No(e.pendingWriteTree_,t);return Ld(i,n,l,null)}function UT(e){return e.fold((t,n,i)=>{if(n&&ni(n))return[Ao(n)];{let l=[];return n&&(l=xv(n)),lt(i,(s,a)=>{l=l.concat(a)}),l}})}function Ns(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(RT())(e._repo,e._path):e}function BT(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const l=jo(i),s=e.queryToTagMap.get(l);e.queryToTagMap.delete(l),e.tagToQueryMap.delete(s)}}}function HT(){return OT++}function VT(e,t,n){const i=t._path,l=$s(e,t),s=Nv(e,n),a=e.listenProvider_.startListening(Ns(t),l,s.hashFn,s.onComplete),r=e.syncPointTree_.subtree(i);if(l)M(!ni(r.value),"If we're adding a query, it shouldn't be shadowed");else{const o=r.fold((u,h,f)=>{if(!Q(u)&&h&&ni(h))return[Ao(h).query];{let d=[];return h&&(d=d.concat(xv(h).map(m=>m.query))),lt(f,(m,v)=>{d=d.concat(v)}),d}});for(let u=0;u<o.length;++u){const h=o[u];e.listenProvider_.stopListening(Ns(h),$s(e,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Hd(n)}node(){return this.node_}}class Vd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ae(this.path_,t);return new Vd(this.syncTree_,n)}node(){return Mo(this.syncTree_,this.path_)}}const qT=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},kp=function(e,t,n){if(!e||typeof e!="object")return e;if(M(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return GT(e[".sv"],t,n);if(typeof e[".sv"]=="object")return YT(e[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},GT=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+e)}},YT=function(e,t,n){e.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&M(!1,"Unexpected increment value: "+i);const l=t.node();if(M(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return i;const a=l.getValue();return typeof a!="number"?i:a+i},FT=function(e,t,n,i){return Gd(t,new Vd(n,e),i)},qd=function(e,t,n){return Gd(e,new Hd(t),n)};function Gd(e,t,n){const i=e.getPriority().val(),l=kp(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const a=e,r=kp(a.getValue(),t,n);return r!==a.getValue()||l!==a.getPriority().val()?new je(r,Te(l)):e}else{const a=e;return s=a,l!==a.getPriority().val()&&(s=s.updatePriority(new je(l))),a.forEachChild(ge,(r,o)=>{const u=Gd(o,t.getImmediateChild(r),n);u!==o&&(s=s.updateImmediateChild(r,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function Ro(e,t){let n=t instanceof se?t:new se(t),i=e,l=q(n);for(;l!==null;){const s=Ni(i.node.children,l)||{children:{},childCount:0};i=new Yd(l,i,s),n=re(n),l=q(n)}return i}function Bi(e){return e.node.value}function Fd(e,t){e.node.value=t,rf(e)}function Av(e){return e.node.childCount>0}function QT(e){return Bi(e)===void 0&&!Av(e)}function Oo(e,t){lt(e.node.children,(n,i)=>{t(new Yd(n,e,i))})}function Mv(e,t,n,i){n&&t(e),Oo(e,l=>{Mv(l,t,!0)})}function KT(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function ya(e){return new se(e.parent===null?e.name:ya(e.parent)+"/"+e.name)}function rf(e){e.parent!==null&&XT(e.parent,e.name,e)}function XT(e,t,n){const i=QT(n),l=zt(e.node.children,t);i&&l?(delete e.node.children[t],e.node.childCount--,rf(e)):!i&&!l&&(e.node.children[t]=n.node,e.node.childCount++,rf(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=/[\[\].#$\/\u0000-\u001F\u007F]/,$T=/[\[\].#$\u0000-\u001F\u007F]/,Ic=10*1024*1024,jv=function(e){return typeof e=="string"&&e.length!==0&&!PT.test(e)},Rv=function(e){return typeof e=="string"&&e.length!==0&&!$T.test(e)},ZT=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Rv(e)},WT=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!bd(e)||e&&typeof e=="object"&&zt(e,".sv")},JT=function(e,t,n,i){Do(_d(e,"value"),t,n)},Do=function(e,t,n){const i=n instanceof se?new g2(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+di(i));if(typeof t=="function")throw new Error(e+"contains a function "+di(i)+" with contents = "+t.toString());if(bd(t))throw new Error(e+"contains "+t.toString()+" "+di(i));if(typeof t=="string"&&t.length>Ic/3&&wo(t)>Ic)throw new Error(e+"contains a string greater than "+Ic+" utf8 bytes "+di(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,s=!1;if(lt(t,(a,r)=>{if(a===".value")l=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!jv(a)))throw new Error(e+" contains an invalid key ("+a+") "+di(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);y2(i,a),Do(e,r,i),_2(i)}),l&&s)throw new Error(e+' contains ".value" child '+di(i)+" in addition to actual children.")}},Ov=function(e,t,n,i){if(!Rv(n))throw new Error(_d(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},eC=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ov(e,t,n)},Dv=function(e,t){if(q(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},tC=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!jv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ZT(n))throw new Error(_d(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qd(e,t){let n=null;for(let i=0;i<t.length;i++){const l=t[i],s=l.getPath();n!==null&&!Td(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(l)}n&&e.eventLists_.push(n)}function kv(e,t,n){Qd(e,n),Lv(e,i=>Td(i,t))}function kt(e,t,n){Qd(e,n),Lv(e,i=>Rt(i,t)||Rt(t,i))}function Lv(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const l=e.eventLists_[i];if(l){const s=l.path;t(s)?(iC(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function iC(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();Ss&&Ve("event: "+n.toString()),Gl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="repo_interrupt",sC=25;class aC{constructor(t,n,i,l){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vr(),this.transactionQueueTree_=new Yd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rC(e,t,n){if(e.stats_=Sd(e.repoInfo_),e.forceRestClient_||VE())e.server_=new Hr(e.repoInfo_,(i,l,s,a)=>{Lp(e,i,l,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>zp(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ne(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new fn(e.repoInfo_,t,(i,l,s,a)=>{Lp(e,i,l,s,a)},i=>{zp(e,i)},i=>{cC(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=QE(e.repoInfo_,()=>new Y2(e.stats_,e.server_)),e.infoData_=new B2,e.infoSyncTree_=new Dp({startListening:(i,l,s,a)=>{let r=[];const o=e.infoData_.getNode(i._path);return o.isEmpty()||(r=pa(e.infoSyncTree_,i._path,o),setTimeout(()=>{a("ok")},0)),r},stopListening:()=>{}}),Kd(e,"connected",!1),e.serverSyncTree_=new Dp({startListening:(i,l,s,a)=>(e.server_.listen(i,s,l,(r,o)=>{const u=a(r,o);kt(e.eventQueue_,i._path,u)}),[]),stopListening:(i,l)=>{e.server_.unlisten(i,l)}})}function oC(e){const n=e.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ko(e){return qT({timestamp:oC(e)})}function Lp(e,t,n,i,l){e.dataUpdateCount++;const s=new se(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(l)if(i){const o=kr(n,u=>Te(u));a=zT(e.serverSyncTree_,s,o,l)}else{const o=Te(n);a=Ev(e.serverSyncTree_,s,o,l)}else if(i){const o=kr(n,u=>Te(u));a=DT(e.serverSyncTree_,s,o)}else{const o=Te(n);a=pa(e.serverSyncTree_,s,o)}let r=s;a.length>0&&(r=zo(e,s)),kt(e.eventQueue_,r,a)}function zp(e,t){Kd(e,"connected",t),t===!1&&dC(e)}function cC(e,t){lt(t,(n,i)=>{Kd(e,n,i)})}function Kd(e,t,n){const i=new se("/.info/"+t),l=Te(n);e.infoData_.updateSnapshot(i,l);const s=pa(e.infoSyncTree_,i,l);kt(e.eventQueue_,i,s)}function Xd(e){return e.nextWriteId_++}function uC(e,t,n){const i=IT(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(l=>{const s=Te(l).withIndex(t._queryParams.getIndex());af(e.serverSyncTree_,t,n,!0);let a;if(t._queryParams.loadsAllData())a=pa(e.serverSyncTree_,t._path,s);else{const r=$s(e.serverSyncTree_,t);a=Ev(e.serverSyncTree_,t._path,s,r)}return kt(e.eventQueue_,t._path,a),Pr(e.serverSyncTree_,t,n,null,!0),s},l=>(_a(e,"get for query "+Ne(t)+" failed: "+l),Promise.reject(new Error(l))))}function fC(e,t,n,i,l){_a(e,"set",{path:t.toString(),value:n,priority:i});const s=ko(e),a=Te(n,i),r=Mo(e.serverSyncTree_,t),o=qd(a,r,s),u=Xd(e),h=zd(e.serverSyncTree_,t,o,u,!0);Qd(e.eventQueue_,h),e.server_.put(t.toString(),a.val(!0),(d,m)=>{const v=d==="ok";v||tt("set at "+t+" failed: "+d);const w=pi(e.serverSyncTree_,u,!v);kt(e.eventQueue_,t,w),pC(e,l,d,m)});const f=Bv(e,t);zo(e,f),kt(e.eventQueue_,f,[])}function dC(e){_a(e,"onDisconnectEvents");const t=ko(e),n=Vr();ef(e.onDisconnect_,$(),(l,s)=>{const a=FT(l,s,e.serverSyncTree_,t);ov(n,l,a)});let i=[];ef(n,$(),(l,s)=>{i=i.concat(pa(e.serverSyncTree_,l,s));const a=Bv(e,l);zo(e,a)}),e.onDisconnect_=Vr(),kt(e.eventQueue_,$(),i)}function hC(e,t,n){let i;q(t._path)===".info"?i=af(e.infoSyncTree_,t,n):i=af(e.serverSyncTree_,t,n),kv(e.eventQueue_,t._path,i)}function Ip(e,t,n){let i;q(t._path)===".info"?i=Pr(e.infoSyncTree_,t,n):i=Pr(e.serverSyncTree_,t,n),kv(e.eventQueue_,t._path,i)}function mC(e){e.persistentConnection_&&e.persistentConnection_.interrupt(lC)}function _a(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ve(n,...t)}function pC(e,t,n,i){t&&Gl(()=>{if(n==="ok")t(null);else{const l=(n||"error").toUpperCase();let s=l;i&&(s+=": "+i);const a=new Error(s);a.code=l,t(a)}})}function gC(e,t,n,i,l,s){_a(e,"transaction on "+t);const a={path:t,update:n,onComplete:i,status:null,order:j_(),applyLocally:s,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},r=Pd(e,t,void 0);a.currentInputSnapshot=r;const o=a.update(r.val());if(o===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Do("transaction failed: Data returned ",o,a.path),a.status=0;const u=Ro(e.transactionQueueTree_,t),h=Bi(u)||[];h.push(a),Fd(u,h);let f;typeof o=="object"&&o!==null&&zt(o,".priority")?(f=Ni(o,".priority"),M(WT(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Mo(e.serverSyncTree_,t)||k.EMPTY_NODE).getPriority().val();const d=ko(e),m=Te(o,f),v=qd(m,r,d);a.currentOutputSnapshotRaw=m,a.currentOutputSnapshotResolved=v,a.currentWriteId=Xd(e);const w=zd(e.serverSyncTree_,t,v,a.currentWriteId,a.applyLocally);kt(e.eventQueue_,t,w),Lo(e,e.transactionQueueTree_)}}function Pd(e,t,n){return Mo(e.serverSyncTree_,t,n)||k.EMPTY_NODE}function Lo(e,t=e.transactionQueueTree_){if(t||Io(e,t),Bi(t)){const n=Iv(e,t);M(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&yC(e,ya(t),n)}else Av(t)&&Oo(t,n=>{Lo(e,n)})}function yC(e,t,n){const i=n.map(u=>u.currentWriteId),l=Pd(e,t,i);let s=l;const a=l.hash();for(let u=0;u<n.length;u++){const h=n[u];M(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Fe(t,h.path);s=s.updateChild(f,h.currentOutputSnapshotRaw)}const r=s.val(!0),o=t;e.server_.put(o.toString(),r,u=>{_a(e,"transaction put response",{path:o.toString(),status:u});let h=[];if(u==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(pi(e.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Io(e,Ro(e.transactionQueueTree_,t)),Lo(e,e.transactionQueueTree_),kt(e.eventQueue_,t,h);for(let d=0;d<f.length;d++)Gl(f[d])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{tt("transaction at "+o.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}zo(e,t)}},a)}function zo(e,t){const n=zv(e,t),i=ya(n),l=Iv(e,n);return _C(e,l,i),i}function _C(e,t,n){if(t.length===0)return;const i=[];let l=[];const a=t.filter(r=>r.status===0).map(r=>r.currentWriteId);for(let r=0;r<t.length;r++){const o=t[r],u=Fe(n,o.path);let h=!1,f;if(M(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,f=o.abortReason,l=l.concat(pi(e.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=sC)h=!0,f="maxretry",l=l.concat(pi(e.serverSyncTree_,o.currentWriteId,!0));else{const d=Pd(e,o.path,a);o.currentInputSnapshot=d;const m=t[r].update(d.val());if(m!==void 0){Do("transaction failed: Data returned ",m,o.path);let v=Te(m);typeof m=="object"&&m!=null&&zt(m,".priority")||(v=v.updatePriority(d.getPriority()));const x=o.currentWriteId,p=ko(e),g=qd(v,d,p);o.currentOutputSnapshotRaw=v,o.currentOutputSnapshotResolved=g,o.currentWriteId=Xd(e),a.splice(a.indexOf(x),1),l=l.concat(zd(e.serverSyncTree_,o.path,g,o.currentWriteId,o.applyLocally)),l=l.concat(pi(e.serverSyncTree_,x,!0))}else h=!0,f="nodata",l=l.concat(pi(e.serverSyncTree_,o.currentWriteId,!0))}kt(e.eventQueue_,n,l),l=[],h&&(t[r].status=2,function(d){setTimeout(d,Math.floor(0))}(t[r].unwatcher),t[r].onComplete&&(f==="nodata"?i.push(()=>t[r].onComplete(null,!1,t[r].currentInputSnapshot)):i.push(()=>t[r].onComplete(new Error(f),!1,null))))}Io(e,e.transactionQueueTree_);for(let r=0;r<i.length;r++)Gl(i[r]);Lo(e,e.transactionQueueTree_)}function zv(e,t){let n,i=e.transactionQueueTree_;for(n=q(t);n!==null&&Bi(i)===void 0;)i=Ro(i,n),t=re(t),n=q(t);return i}function Iv(e,t){const n=[];return Uv(e,t,n),n.sort((i,l)=>i.order-l.order),n}function Uv(e,t,n){const i=Bi(t);if(i)for(let l=0;l<i.length;l++)n.push(i[l]);Oo(t,l=>{Uv(e,l,n)})}function Io(e,t){const n=Bi(t);if(n){let i=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[i]=n[l],i++);n.length=i,Fd(t,n.length>0?n:void 0)}Oo(t,i=>{Io(e,i)})}function Bv(e,t){const n=ya(zv(e,t)),i=Ro(e.transactionQueueTree_,t);return KT(i,l=>{Uc(e,l)}),Uc(e,i),Mv(i,l=>{Uc(e,l)}),n}function Uc(e,t){const n=Bi(t);if(n){const i=[];let l=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(M(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(M(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),l=l.concat(pi(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Fd(t,void 0):n.length=s+1,kt(e.eventQueue_,ya(t),l);for(let a=0;a<i.length;a++)Gl(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let l=n[i];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function bC(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):tt(`Invalid query segment '${n}' in query '${e}'`)}return t}const Up=function(e,t){const n=xC(e),i=n.namespace;n.domain==="firebase.com"&&vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||OE();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new G_(n.host,n.secure,i,l,t,"",i!==n.subdomain),path:new se(n.pathString)}},xC=function(e){let t="",n="",i="",l="",s="",a=!0,r="https",o=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(r=e.substring(0,u-1),e=e.substring(u+2));let h=e.indexOf("/");h===-1&&(h=e.length);let f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(l=vC(e.substring(h,f)));const d=bC(e.substring(Math.min(e.length,f)));u=t.indexOf(":"),u>=0?(a=r==="https"||r==="wss",o=parseInt(t.substring(u+1),10)):u=t.length;const m=t.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const v=t.indexOf(".");i=t.substring(0,v).toLowerCase(),n=t.substring(v+1),s=i}"ns"in d&&(s=d.ns)}return{host:t,port:o,domain:n,subdomain:i,secure:a,scheme:r,pathString:l,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,n,i,l){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ne(this.snapshot.exportVal())}}class SC{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t,n,i,l){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=l}get key(){return Q(this._path)?null:W_(this._path)}get ref(){return new Kt(this._repo,this._path)}get _queryIdentifier(){const t=wp(this._queryParams),n=xd(t);return n==="{}"?"default":n}get _queryObject(){return wp(this._queryParams)}isEqual(t){if(t=Qt(t),!(t instanceof $d))return!1;const n=this._repo===t._repo,i=Td(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return n&&i&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+p2(this._path)}}class Kt extends $d{constructor(t,n){super(t,n,new Md,!1)}get parent(){const t=ev(this._path);return t===null?null:new Kt(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Rl{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new se(t),i=of(this.ref,t);return new Rl(this._node.getChild(n),i,ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,l)=>t(new Rl(l,of(this.ref,i),ge)))}hasChild(t){const n=new se(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ia(e,t){return e=Qt(e),e._checkNotDeleted("ref"),t!==void 0?of(e._root,t):e._root}function of(e,t){return e=Qt(e),q(e._path)===null?eC("child","path",t):Ov("child","path",t),new Kt(e._repo,Ae(e._path,t))}function EC(e,t){e=Qt(e),Dv("set",e._path),JT("set",t,e._path);const n=new fa;return fC(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Bp(e){e=Qt(e);const t=new Hv(()=>{}),n=new Uo(t);return uC(e._repo,e,n).then(i=>new Rl(i,new Kt(e._repo,e._path),e._queryParams.getIndex()))}class Uo{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new wC("value",this,new Rl(t.snapshotNode,new Kt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new SC(this,t,n):null}matches(t){return t instanceof Uo?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function TC(e,t,n,i,l){let s;if(typeof i=="object"&&(s=void 0,l=i),typeof i=="function"&&(s=i),l&&l.onlyOnce){const o=n,u=(h,f)=>{Ip(e._repo,e,r),o(h,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const a=new Hv(n,s||void 0),r=new Uo(a);return hC(e._repo,e,r),()=>Ip(e._repo,e,r)}function Vv(e,t,n,i){return TC(e,"value",t,n,i)}TT(Kt);jT(Kt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="FIREBASE_DATABASE_EMULATOR_HOST",cf={};let NC=!1;function AC(e,t,n,i){const l=t.lastIndexOf(":"),s=t.substring(0,l),a=yd(s);e.repoInfo_=new G_(t,a,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function MC(e,t,n,i,l){let s=i||e.options.databaseURL;s===void 0&&(e.options.projectId||vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=Up(s,l),r=a.repoInfo,o;typeof process<"u"&&lp&&(o=lp[CC]),o?(s=`http://${o}?ns=${r.namespace}`,a=Up(s,l),r=a.repoInfo):a.repoInfo.secure;const u=new GE(e.name,e.options,t);tC("Invalid Firebase Database URL",a),Q(a.path)||vn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=RC(r,e,u,new qE(e,n));return new OC(h,e)}function jC(e,t){const n=cf[t];(!n||n[e.key]!==e)&&vn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),mC(e),delete n[e.key]}function RC(e,t,n,i){let l=cf[t.name];l||(l={},cf[t.name]=l);let s=l[e.toURLString()];return s&&vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new aC(e,NC,n,i),l[e.toURLString()]=s,s}class OC{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kt(this._repo,$())),this._rootInternal}_delete(){return this._rootInternal!==null&&(jC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&vn("Cannot call "+t+" on a deleted database.")}}function DC(e=T_(),t){const n=Eo(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const i=Ww("database");i&&kC(n,...i)}return n}function kC(e,t,n,i={}){e=Qt(e),e._checkNotDeleted("useEmulator");const l=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(l===e._repoInternal.repoInfo_.host&&Lr(i,s.repoInfo_.emulatorOptions))return;vn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new nr(nr.OWNER);else if(i.mockUserToken){const r=typeof i.mockUserToken=="string"?i.mockUserToken:eS(i.mockUserToken,e.app.options.projectId);a=new nr(r)}yd(t)&&(Jw(t),iS("Database",!0)),AC(s,l,i,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(e){NE(mE),Jn(new yn("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return MC(i,l,s,n)},"PUBLIC").setMultipleInstances(!0)),qt(sp,ap,e),qt(sp,ap,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function IC(e,t,n){if(e=Qt(e),Dv("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=!0,l=new fa,s=(r,o,u)=>{let h=null;r?l.reject(r):(h=new Rl(u,new Kt(e._repo,e._path),ge),l.resolve(new zC(o,h)))},a=Vv(e,()=>{});return gC(e._repo,e._path,t,s,a,i),l.promise}fn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};fn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};LC();const qv="@firebase/installations",Zd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=1e4,Yv=`w:${Zd}`,Fv="FIS_v2",UC="https://firebaseinstallations.googleapis.com/v1",BC=60*60*1e3,HC="installations",VC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ri=new xo(HC,VC,qC);function Qv(e){return e instanceof Vl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv({projectId:e}){return`${UC}/projects/${e}/installations`}function Xv(e){return{token:e.token,requestStatus:2,expiresIn:YC(e.expiresIn),creationTime:Date.now()}}async function Pv(e,t){const i=(await t.json()).error;return Ri.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function $v({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function GC(e,{refreshToken:t}){const n=$v(e);return n.append("Authorization",FC(t)),n}async function Zv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function YC(e){return Number(e.replace("s","000"))}function FC(e){return`${Fv} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=Kv(e),l=$v(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&l.append("x-firebase-client",u)}const a={fid:n,authVersion:Fv,appId:e.appId,sdkVersion:Yv},r={method:"POST",headers:l,body:JSON.stringify(a)},o=await Zv(()=>fetch(i,r));if(o.ok){const u=await o.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Xv(u.authToken)}}else throw await Pv("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=/^[cdef][\w-]{21}$/,uf="";function PC(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=$C(e);return XC.test(n)?n:uf}catch{return uf}}function $C(e){return KC(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;function eb(e,t){const n=Bo(e);tb(n,t),ZC(n,t)}function tb(e,t){const n=Jv.get(e);if(n)for(const i of n)i(t)}function ZC(e,t){const n=WC();n&&n.postMessage({key:e,fid:t}),JC()}let gi=null;function WC(){return!gi&&"BroadcastChannel"in self&&(gi=new BroadcastChannel("[Firebase] FID Change"),gi.onmessage=e=>{tb(e.data.key,e.data.fid)}),gi}function JC(){Jv.size===0&&gi&&(gi.close(),gi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="firebase-installations-database",tN=1,Oi="firebase-installations-store";let Bc=null;function Wd(){return Bc||(Bc=So(eN,tN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Oi)}}})),Bc}async function $r(e,t){const n=Bo(e),l=(await Wd()).transaction(Oi,"readwrite"),s=l.objectStore(Oi),a=await s.get(n);return await s.put(t,n),await l.done,(!a||a.fid!==t.fid)&&eb(e,t.fid),t}async function nb(e){const t=Bo(e),i=(await Wd()).transaction(Oi,"readwrite");await i.objectStore(Oi).delete(t),await i.done}async function Ho(e,t){const n=Bo(e),l=(await Wd()).transaction(Oi,"readwrite"),s=l.objectStore(Oi),a=await s.get(n),r=t(a);return r===void 0?await s.delete(n):await s.put(r,n),await l.done,r&&(!a||a.fid!==r.fid)&&eb(e,r.fid),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(e){let t;const n=await Ho(e.appConfig,i=>{const l=nN(i),s=iN(e,l);return t=s.registrationPromise,s.installationEntry});return n.fid===uf?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function nN(e){const t=e||{fid:PC(),registrationStatus:0};return ib(t)}function iN(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ri.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=lN(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:sN(e)}:{installationEntry:t}}async function lN(e,t){try{const n=await QC(e,t);return $r(e.appConfig,n)}catch(n){throw Qv(n)&&n.customData.serverCode===409?await nb(e.appConfig):await $r(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function sN(e){let t=await Hp(e.appConfig);for(;t.registrationStatus===1;)await Wv(100),t=await Hp(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Jd(e);return i||n}return t}function Hp(e){return Ho(e,t=>{if(!t)throw Ri.create("installation-not-found");return ib(t)})}function ib(e){return aN(e)?{fid:e.fid,registrationStatus:0}:e}function aN(e){return e.registrationStatus===1&&e.registrationTime+Gv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN({appConfig:e,heartbeatServiceProvider:t},n){const i=oN(e,n),l=GC(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&l.append("x-firebase-client",u)}const a={installation:{sdkVersion:Yv,appId:e.appId}},r={method:"POST",headers:l,body:JSON.stringify(a)},o=await Zv(()=>fetch(i,r));if(o.ok){const u=await o.json();return Xv(u)}else throw await Pv("Generate Auth Token",o)}function oN(e,{fid:t}){return`${Kv(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(e,t=!1){let n;const i=await Ho(e.appConfig,s=>{if(!lb(s))throw Ri.create("not-registered");const a=s.authToken;if(!t&&fN(a))return s;if(a.requestStatus===1)return n=cN(e,t),s;{if(!navigator.onLine)throw Ri.create("app-offline");const r=hN(s);return n=uN(e,r),r}});return n?await n:i.authToken}async function cN(e,t){let n=await Vp(e.appConfig);for(;n.authToken.requestStatus===1;)await Wv(100),n=await Vp(e.appConfig);const i=n.authToken;return i.requestStatus===0?eh(e,t):i}function Vp(e){return Ho(e,t=>{if(!lb(t))throw Ri.create("not-registered");const n=t.authToken;return mN(n)?{...t,authToken:{requestStatus:0}}:t})}async function uN(e,t){try{const n=await rN(e,t),i={...t,authToken:n};return await $r(e.appConfig,i),n}catch(n){if(Qv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nb(e.appConfig);else{const i={...t,authToken:{requestStatus:0}};await $r(e.appConfig,i)}throw n}}function lb(e){return e!==void 0&&e.registrationStatus===2}function fN(e){return e.requestStatus===2&&!dN(e)}function dN(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+BC}function hN(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function mN(e){return e.requestStatus===1&&e.requestTime+Gv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(e){const t=e,{installationEntry:n,registrationPromise:i}=await Jd(t);return i?i.catch(console.error):eh(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(e,t=!1){const n=e;return await yN(n),(await eh(n,t)).token}async function yN(e){const{registrationPromise:t}=await Jd(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(e){if(!e||!e.options)throw Hc("App Configuration");if(!e.name)throw Hc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Hc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Hc(e){return Ri.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="installations",vN="installations-internal",bN=e=>{const t=e.getProvider("app").getImmediate(),n=_N(t),i=Eo(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},xN=e=>{const t=e.getProvider("app").getImmediate(),n=Eo(t,sb).getImmediate();return{getId:()=>pN(n),getToken:l=>gN(n,l)}};function wN(){Jn(new yn(sb,bN,"PUBLIC")),Jn(new yn(vN,xN,"PRIVATE"))}wN();qt(qv,Zd);qt(qv,Zd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="/firebase-messaging-sw.js",EN="/firebase-cloud-messaging-push-scope",ab="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",TN="https://fcmregistrations.googleapis.com/v1",rb="google.c.a.c_id",CN="google.c.a.c_l",NN="google.c.a.ts",AN="google.c.a.e",qp=1e4;var Gp;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Gp||(Gp={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Zs;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Zs||(Zs={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function MN(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),l=new Uint8Array(i.length);for(let s=0;s<i.length;++s)l[s]=i.charCodeAt(s);return l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="fcm_token_details_db",jN=5,Yp="fcm_token_object_Store";async function RN(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Vc))return null;let t=null;return(await So(Vc,jN,{upgrade:async(i,l,s,a)=>{if(l<2||!i.objectStoreNames.contains(Yp))return;const r=a.objectStore(Yp),o=await r.index("fcmSenderId").get(e);if(await r.clear(),!!o){if(l===2){const u=o;if(!u.auth||!u.p256dh||!u.endpoint)return;t={token:u.fcmToken,createTime:u.createTime??Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Jt(u.vapidKey)}}}else if(l===3){const u=o;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Jt(u.auth),p256dh:Jt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Jt(u.vapidKey)}}}else if(l===4){const u=o;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Jt(u.auth),p256dh:Jt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Jt(u.vapidKey)}}}}}})).close(),await Mc(Vc),await Mc("fcm_vapid_details_db"),await Mc("undefined"),ON(t)?t:null}function ON(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="firebase-messaging-database",kN=1,Ws="firebase-messaging-store";let qc=null;function ob(){return qc||(qc=So(DN,kN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ws)}}})),qc}async function LN(e){const t=cb(e),i=await(await ob()).transaction(Ws).objectStore(Ws).get(t);if(i)return i;{const l=await RN(e.appConfig.senderId);if(l)return await th(e,l),l}}async function th(e,t){const n=cb(e),l=(await ob()).transaction(Ws,"readwrite");return await l.objectStore(Ws).put(t,n),await l.done,t}function cb({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},qe=new xo("messaging","Messaging",zN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(e,t){const n=await ih(e),i=ub(t),l={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(nh(e.appConfig),l)).json()}catch(a){throw qe.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw qe.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw qe.create("token-subscribe-no-token");return s.token}async function UN(e,t){const n=await ih(e),i=ub(t.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${nh(e.appConfig)}/${t.token}`,l)).json()}catch(a){throw qe.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw qe.create("token-update-failed",{errorInfo:a})}if(!s.token)throw qe.create("token-update-no-token");return s.token}async function BN(e,t){const i={method:"DELETE",headers:await ih(e)};try{const s=await(await fetch(`${nh(e.appConfig)}/${t}`,i)).json();if(s.error){const a=s.error.message;throw qe.create("token-unsubscribe-failed",{errorInfo:a})}}catch(l){throw qe.create("token-unsubscribe-failed",{errorInfo:l==null?void 0:l.toString()})}}function nh({projectId:e}){return`${TN}/projects/${e}/registrations`}async function ih({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function ub({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const l={web:{endpoint:n,auth:t,p256dh:e}};return i!==ab&&(l.web.applicationPubKey=i),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=7*24*60*60*1e3;async function VN(e){const t=await GN(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Jt(t.getKey("auth")),p256dh:Jt(t.getKey("p256dh"))},i=await LN(e.firebaseDependencies);if(i){if(YN(i.subscriptionOptions,n))return Date.now()>=i.createTime+HN?qN(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await BN(e.firebaseDependencies,i.token)}catch(l){console.warn(l)}return Fp(e.firebaseDependencies,n)}else return Fp(e.firebaseDependencies,n)}async function qN(e,t){try{const n=await UN(e.firebaseDependencies,t),i={...t,token:n,createTime:Date.now()};return await th(e.firebaseDependencies,i),n}catch(n){throw n}}async function Fp(e,t){const i={token:await IN(e,t),createTime:Date.now(),subscriptionOptions:t};return await th(e,i),i.token}async function GN(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:MN(t)})}function YN(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,l=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&i&&l&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return FN(t,e),QN(t,e),KN(t,e),t}function FN(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const l=t.notification.image;l&&(e.notification.image=l);const s=t.notification.icon;s&&(e.notification.icon=s)}function QN(e,t){t.data&&(e.data=t.data)}function KN(e,t){var l,s,a,r;if(!t.fcmOptions&&!((l=t.notification)!=null&&l.click_action))return;e.fcmOptions={};const n=((s=t.fcmOptions)==null?void 0:s.link)??((a=t.notification)==null?void 0:a.click_action);n&&(e.fcmOptions.link=n);const i=(r=t.fcmOptions)==null?void 0:r.analytics_label;i&&(e.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(e){return typeof e=="object"&&!!e&&rb in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(e){if(!e||!e.options)throw Gc("App Configuration Object");if(!e.name)throw Gc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw Gc(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Gc(e){return qe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=PN(t);this.firebaseDependencies={app:t,appConfig:l,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(e){try{e.swRegistration=await navigator.serviceWorker.register(SN,{scope:EN}),e.swRegistration.update().catch(()=>{}),await WN(e.swRegistration)}catch(t){throw qe.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function WN(e){return new Promise((t,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${qp} ms`)),qp),l=e.installing||e.waiting;e.active?(clearTimeout(i),t()):l?l.onstatechange=s=>{var a;((a=s.target)==null?void 0:a.state)==="activated"&&(l.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(e,t){if(!t&&!e.swRegistration&&await ZN(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw qe.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=ab)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(e,t){if(!navigator)throw qe.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw qe.create("permission-blocked");return await e4(e,t==null?void 0:t.vapidKey),await JN(e,t==null?void 0:t.serviceWorkerRegistration),VN(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(e,t,n){const i=n4(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[rb],message_name:n[CN],message_time:n[NN],message_device_time:Math.floor(Date.now()/1e3)})}function n4(e){switch(e){case Zs.NOTIFICATION_CLICKED:return"notification_open";case Zs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Zs.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Qp(n)):e.onMessageHandler.next(Qp(n)));const i=n.data;XN(i)&&i[AN]==="1"&&await t4(e,n.messageType,i)}const Kp="@firebase/messaging",Xp="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=e=>{const t=new $N(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>i4(t,n)),t},s4=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:i=>fb(t,i)}};function a4(){Jn(new yn("messaging",l4,"PUBLIC")),Jn(new yn("messaging-internal",s4,"PRIVATE")),qt(Kp,Xp),qt(Kp,Xp,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(){try{await v_()}catch{return!1}return typeof window<"u"&&__()&&rS()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(e,t){if(!navigator)throw qe.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(e=T_()){return db().then(t=>{if(!t)throw qe.create("unsupported-browser")},t=>{throw qe.create("indexed-db-unsupported")}),Eo(Qt(e),"messaging").getImmediate()}async function o4(e,t){return e=Qt(e),fb(e,t)}function c4(e,t){return e=Qt(e),r4(e,t)}a4();const ff=Object.freeze(Object.defineProperty({__proto__:null,getMessaging:hb,getToken:o4,isSupported:db,onMessage:c4},Symbol.toStringTag,{value:"Module"})),u4={apiKey:"AIzaSyA0GXc2SsjtbsDYzf1agK4zbTJ5IvxPFxs",authDomain:"fb-hub-ed9de.firebaseapp.com",databaseURL:"https://fb-hub-ed9de-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"fb-hub-ed9de",storageBucket:"fb-hub-ed9de.firebasestorage.app",messagingSenderId:"426764789152",appId:"1:426764789152:web:9e989667bda7568059f0c5",measurementId:"G-HCN8XBJNN9"},mb=E_(u4),rs=DC(mb);let pb=null;try{pb=hb(mb),console.log(" Firebase Messaging initialized")}catch(e){console.error(" Firebase Messaging initialization failed:",e)}const df=Object.freeze(Object.defineProperty({__proto__:null,database:rs,get messaging(){return pb}},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),Pp=e=>{const t=d4(e);return t.charAt(0).toUpperCase()+t.slice(1)},gb=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),h4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:s,iconNode:a,...r},o)=>E.createElement("svg",{ref:o,...m4,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:gb("lucide",l),...!s&&!h4(r)&&{"aria-hidden":"true"},...r},[...a.map(([u,h])=>E.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=(e,t)=>{const n=E.forwardRef(({className:i,...l},s)=>E.createElement(p4,{ref:s,iconNode:t,className:gb(`lucide-${f4(Pp(e))}`,`lucide-${e}`,i),...l}));return n.displayName=Pp(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_4=g4("chart-column",y4),v4=()=>{let e=localStorage.getItem("fenerbahce_user_id");return e||(e=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("fenerbahce_user_id",e)),e},b4=({opponentName:e="Rakip Takm",matchId:t})=>{const[n,i]=E.useState({home:0,away:0,draw:0}),[l,s]=E.useState(!1),[a,r]=E.useState(null),[o,u]=E.useState(!0),[h,f]=E.useState(null),d={home:"Fenerbahe",away:e},m=v4();E.useEffect(()=>{if(!t){u(!1),f("Match ID eksik");return}const y=Ia(rs,`match_polls/${t}/votes`),_=Vv(y,j=>{const C=j.val();i(C?{home:C.home||0,away:C.away||0,draw:C.draw||0}:{home:0,away:0,draw:0}),u(!1)},()=>{f("Anket verileri yklenemedi."),u(!1)}),T=Ia(rs,`match_polls/${t}/users/${m}`);return Bp(T).then(j=>{j.exists()?(s(!0),r(j.val())):(s(!1),r(null))}).catch(j=>{console.error("Error checking user vote:",j)}),()=>{_()}},[t,m]);const v=async y=>{if(!(l||!t))try{const _=Ia(rs,`match_polls/${t}/users/${m}`),T=await Bp(_);if(T.exists()){s(!0),r(T.val());return}const j=Ia(rs,`match_polls/${t}/votes/${y}`);await IC(j,C=>(C||0)+1),await EC(_,y),s(!0),r(y)}catch(_){console.error("Vote failed:",_),alert("Oy verilemedi. Ltfen tekrar deneyin.")}},w=(n.home||0)+(n.away||0)+(n.draw||0),x=y=>!w||w===0?0:Math.round((y||0)/w*100),[p,g]=E.useState(!1);return o||h||!t?null:c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-xl overflow-hidden transition-all duration-500",children:[c.jsxs("button",{onClick:()=>g(!p),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-full bg-yellow-400/10 text-yellow-400",children:c.jsx(_4,{className:"w-5 h-5"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"text-base font-bold text-white",children:"Ma Kim Kazanr?"}),c.jsxs("p",{className:"text-xs text-slate-400",children:[l?"Oyunuzu kullandnz":"Tahminini yap","  ",w," oy"]})]})]}),c.jsx("div",{className:`transform transition-transform duration-300 ${p?"rotate-180":""}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsx("div",{className:`transition-all duration-500 ease-in-out ${p?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:c.jsxs("div",{className:"p-4 pt-0 space-y-3 border-t border-white/5 mt-2",children:[c.jsx(Yc,{label:d.home,count:n.home,percentage:x(n.home),onClick:()=>v("home"),disabled:l,isWinner:l&&n.home>=n.away&&n.home>=n.draw,isUserChoice:a==="home"}),c.jsx(Yc,{label:"Beraberlik",count:n.draw,percentage:x(n.draw),onClick:()=>v("draw"),disabled:l,isWinner:l&&n.draw>=n.home&&n.draw>=n.away,isUserChoice:a==="draw"}),c.jsx(Yc,{label:d.away,count:n.away,percentage:x(n.away),onClick:()=>v("away"),disabled:l,isWinner:l&&n.away>=n.home&&n.away>=n.draw,isUserChoice:a==="away"})]})})]})},Yc=({label:e,percentage:t,onClick:n,disabled:i,isWinner:l,isUserChoice:s})=>c.jsxs("button",{onClick:n,disabled:i,className:`relative w-full h-12 rounded-xl overflow-hidden transition-all duration-300 group ${i?"cursor-default":"hover:scale-[1.02] active:scale-[0.98] cursor-pointer"}`,children:[c.jsx("div",{className:"absolute inset-0 bg-white/5"}),c.jsx("div",{className:`absolute inset-y-0 left-0 transition-all duration-1000 ease-out ${s?"bg-green-500/30":l?"bg-yellow-400/20":"bg-blue-600/30"}`,style:{width:`${t}%`}}),c.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[c.jsxs("span",{className:`font-medium transition-colors ${s?"text-green-400":l?"text-yellow-400":"text-white"}`,children:[e," ",s&&""]}),c.jsxs("div",{className:"flex items-center gap-2",children:[i&&c.jsxs("span",{className:"text-sm font-bold text-white/90",children:[t,"%"]}),!i&&c.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white/20 group-hover:border-yellow-400 transition-colors"})]})]})]}),x4=({matchData:e,liveMatchState:t,onCountdownEnd:n})=>{const[i,l]=E.useState({days:0,hours:0,minutes:0,seconds:0}),s=E.useRef(!1);return E.useEffect(()=>{s.current=!1},[e==null?void 0:e.id]),E.useEffect(()=>{if(!e||t!=="countdown")return;const a=()=>{const o=new Date(e.startTimestamp*1e3),u=new Date,h=o.getTime()-u.getTime();if(h>0){const f=Math.floor(h/864e5),d=Math.floor(h/(1e3*60*60)%24),m=Math.floor(h/1e3/60%60),v=Math.floor(h/1e3%60);l({days:f,hours:d,minutes:m,seconds:v})}else!s.current&&n&&(s.current=!0,n()),l({days:0,hours:0,minutes:0,seconds:0})};a();const r=setInterval(a,1e3);return()=>clearInterval(r)},[e,t,n]),t!=="countdown"?null:c.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[c.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[c.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:i.days}),c.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Gn"})]}),c.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[c.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:i.hours}),c.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Saat"})]}),c.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[c.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:i.minutes}),c.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Dk"})]}),c.jsxs("div",{className:"glass-panel rounded-lg p-2",children:[c.jsx("span",{className:"block text-xl font-bold text-yellow-400",children:i.seconds}),c.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Sn"})]})]})},Fc=3052,w4=({next3Matches:e})=>c.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6",children:[c.jsx("div",{className:"flex items-center gap-2 mb-4",children:c.jsx("span",{className:"text-sm font-bold",children:"Sonraki Malar"})}),c.jsx("div",{className:"space-y-3",children:e.length>0?e.map((t,n)=>{const i=new Date(t.startTimestamp*1e3),l=t.homeTeam,s=t.awayTeam,a=l.id===Fc;return c.jsxs("div",{className:"glass-panel rounded-xl p-3 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[c.jsx(Or,{teamId:a?Fc:l.id,name:l.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"}),c.jsx("span",{className:"text-xs font-medium truncate",children:l.name})]}),c.jsxs("div",{className:"flex flex-col items-center px-3",children:[c.jsx("span",{className:"text-[10px] text-slate-400",children:i.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),c.jsx("span",{className:"text-xs font-bold",children:i.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[c.jsx("span",{className:"text-xs font-medium truncate text-right",children:s.name}),c.jsx(Or,{teamId:a?s.id:Fc,name:s.name,wrapperClassName:"w-8 h-8 rounded-full bg-white/5 p-1 flex-shrink-0 border border-white/10",imageClassName:"object-contain"})]})]},n)}):c.jsx("div",{className:"text-center text-slate-500 text-xs py-4",children:"Ma bilgisi ykleniyor..."})})]}),S4=({league:e})=>{const[t,n]=E.useState([]),[i,l]=E.useState(!0),[s,a]=E.useState(null);return E.useEffect(()=>{let r=!1;return(async()=>{l(!0),a(null);const h=await Iw(e==="superlig"?"super-lig":"europa-league");r||(h&&h.rows?n(h.rows):a("Puan durumu yklenemedi"),l(!1))})(),()=>{r=!0}},[e]),i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})}):s?c.jsx("div",{className:"text-center text-red-400 py-8",children:c.jsx("p",{children:s})}):c.jsxs("div",{className:"w-full",children:[c.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto custom-scrollbar",children:c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{className:"sticky top-0 bg-[#0f172a] z-10",children:c.jsxs("tr",{className:"text-[11px] text-slate-400 border-b border-yellow-400/20",children:[c.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"#"}),c.jsx("th",{className:"p-3 font-medium",children:"Takm"}),c.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"O"}),c.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"G"}),c.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"B"}),c.jsx("th",{className:"p-3 font-medium w-12 text-center",children:"M"}),c.jsx("th",{className:"p-3 font-medium w-16 text-center",children:"AV"}),c.jsx("th",{className:"p-3 font-medium w-12 text-center text-yellow-400",children:"P"})]})}),c.jsx("tbody",{className:"text-sm",children:t.map(r=>{const o=r.team.name.toLowerCase().includes("fenerbahce")||r.team.name.toLowerCase().includes("fener"),u=r.rank<=3,h=r.rank>=t.length-2;return c.jsxs("tr",{className:`border-b border-white/5 last:border-0 transition-all duration-200 ${o?"bg-yellow-400/10 text-yellow-100 font-semibold shadow-[0_0_10px_rgba(234,179,8,0.3)]":"hover:bg-white/5 text-slate-300"}`,children:[c.jsx("td",{className:"p-3 text-center",children:c.jsx("span",{className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-[11px] font-bold ${u?"bg-green-500/20 text-green-400":h?"bg-red-500/20 text-red-400":"text-slate-500"}`,children:r.rank})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:r.team.logo?c.jsx("img",{src:r.team.logo,alt:r.team.name,className:"w-full h-full object-contain",onError:f=>{f.target.style.display="none"}}):null}),c.jsx("span",{className:"truncate max-w-[200px]",children:r.team.name})]})}),c.jsx("td",{className:"p-3 text-center font-medium",children:r.matches||0}),c.jsx("td",{className:"p-3 text-center text-green-400",children:r.wins||0}),c.jsx("td",{className:"p-3 text-center text-slate-400",children:r.draws||0}),c.jsx("td",{className:"p-3 text-center text-red-400",children:r.losses||0}),c.jsxs("td",{className:"p-3 text-center text-slate-400",children:[r.goalDiff>0?"+":"",r.goalDiff||0]}),c.jsx("td",{className:`p-3 text-center font-bold ${o?"text-yellow-400":"text-white"}`,children:r.points||0})]},r.team.id)})})]})}),c.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    width: 6px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: rgba(250, 204, 21, 0.3);
                    border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: rgba(250, 204, 21, 0.5);
                }
            `})]})},E4=({visible:e,league:t,onClose:n})=>e?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:n,children:c.jsxs("div",{className:"bg-[#0f172a] border-2 border-yellow-400/30 rounded-2xl p-6 max-w-4xl w-full max-h-[85vh] overflow-hidden animate-slideUp shadow-[0_0_40px_rgba(234,179,8,0.2)]",onClick:i=>i.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-yellow-400/20",children:[c.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:t==="superlig"?"Sper Lig Puan Durumu":"UEFA Avrupa Ligi Puan Durumu"}),c.jsx("button",{onClick:n,className:"text-yellow-400 hover:text-white hover:rotate-90 transition-all duration-300",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"w-full",children:c.jsx(S4,{league:t})})]})}):null,Vo=(e={})=>e.isGoal?"goal":e.isSubstitution?"substitution":e.isRedCard?"red-card":e.isYellowCard?"yellow-card":"neutral",T4=({className:e="w-4 h-4"})=>c.jsxs("svg",{viewBox:"0 0 24 24",className:e,fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"#eab308",strokeWidth:"1.6"}),c.jsx("path",{d:"M12 8l2.8 2-1.1 3.1h-3.4L9.2 10 12 8Z",stroke:"#eab308",strokeWidth:"1.3",fill:"#eab308",fillOpacity:"0.14"}),c.jsx("path",{d:"M12 8V6.2M9.2 10 7.4 9.1M14.8 10 16.6 9.1M10.3 13.1 8.9 14.9M13.7 13.1 15.1 14.9",stroke:"#eab308",strokeWidth:"1.2"})]}),Zr=({event:e,className:t="w-4 h-4"})=>{const n=Vo(e);return n==="goal"?c.jsx(T4,{className:t}):n==="substitution"?c.jsxs("svg",{viewBox:"0 0 16 16",className:t,fill:"none",stroke:"#34d399",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M2 5h9"}),c.jsx("path",{d:"m8 2 3 3-3 3"}),c.jsx("path",{d:"M14 11H5"}),c.jsx("path",{d:"m8 8-3 3 3 3"})]}):n==="yellow-card"?c.jsx("svg",{viewBox:"0 0 12 16",className:t,"aria-hidden":"true",children:c.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#eab308"})}):n==="red-card"?c.jsx("svg",{viewBox:"0 0 12 16",className:t,"aria-hidden":"true",children:c.jsx("rect",{x:"1",y:"1",width:"10",height:"14",rx:"1.5",fill:"#ef4444"})}):null},Wr=(e="")=>{const t=String(e||"").trim();if(!t)return"";const n=t.replace(/[']/g,"'").replace(/\s+/g,""),i=n.match(/^(\d+)'?\+(\d+)'?$/);if(i)return`${i[1]}+${i[2]}'`;const l=n.match(/^(\d+)'?$/);return l?`${l[1]}'`:n},C4=[{label:"Toplam ut",keys:["totalShots"]},{label:"sabetli ut",keys:["shotsOnTarget"]},{label:"Topla Oynama %",keys:["possessionPct","possession"]},{label:"Korner",keys:["wonCorners","corners"]},{label:"Faul",keys:["foulsCommitted","fouls"]},{label:"Sar Kart",keys:["yellowCards","yellowCard"]},{label:"Krmz Kart",keys:["redCards","redCard"]}],N4=(e="",t="")=>{const n=String(e||"").trim().toLowerCase(),i=String(t||"").trim().toLowerCase();return n==="ht"||n==="halftime"||n.includes("half time")||n.includes("devre")||i==="ht"},A4=(e="")=>{const t=String(e||"").trim(),n=t.toLowerCase();return n==="ft"||n==="full time"||n.includes("full time")?"Ma Sonu":n==="ht"||n==="halftime"||n.includes("half time")?"Devre Aras":t},M4=()=>{var f,d,m,v,w,x;const[e,t]=E.useState(null),[n,i]=E.useState(!0),[l,s]=E.useState(null);E.useEffect(()=>{a();const p=setInterval(a,3e4);return()=>clearInterval(p)},[]);const a=async()=>{try{const p=await fetch(`${Gt}/live-match`);if(!p.ok)throw new Error("Canl ma verisi alnamad");const g=await p.json();g.matchState==="no-match"?(s("u anda canl ma yok"),t(null)):(t(g),s(null))}catch(p){console.error("Error fetching live score:",p),s(p instanceof Error?p.message:"Canl ma bilgisi yklenemedi")}finally{i(!1)}};if(n)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})});if(l||!e)return c.jsx("div",{className:"text-center text-red-400 py-8",children:c.jsx("p",{children:l||"Veri bulunamad"})});const r=C4.map(p=>{var y;const g=(y=e.stats)==null?void 0:y.find(_=>p.keys.includes(_.name));return g?{...g,label:p.label}:null}).filter(p=>p!==null),o=N4(e.statusDetail,e.displayClock),u=o?"Devre Aras":A4(e.statusDetail)||(e.matchState==="in"?"Canl":"Ma Bitti"),h=e.displayClock||"";return c.jsxs("div",{className:"w-full space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[c.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("span",{className:"text-xs font-bold text-yellow-400 uppercase",children:u}),e.matchState==="in"&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"relative flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),c.jsx("span",{className:"text-sm font-bold text-red-400",children:o?"DEVRE ARASI":"CANLI"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 p-3 border border-white/10",children:((f=e.homeTeam)==null?void 0:f.logo)&&c.jsx("img",{src:e.homeTeam.logo,alt:e.homeTeam.name,className:"w-full h-full object-contain"})}),c.jsx("span",{className:"text-sm font-bold text-center",children:(d=e.homeTeam)==null?void 0:d.name})]}),c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-5xl font-black text-white",children:((m=e.homeTeam)==null?void 0:m.score)||"0"}),c.jsx("span",{className:"text-3xl font-bold text-slate-600",children:"-"}),c.jsx("span",{className:"text-5xl font-black text-white",children:((v=e.awayTeam)==null?void 0:v.score)||"0"})]}),c.jsx("span",{className:"text-xs text-slate-400",children:h})]}),c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 p-3 border border-white/10",children:((w=e.awayTeam)==null?void 0:w.logo)&&c.jsx("img",{src:e.awayTeam.logo,alt:e.awayTeam.name,className:"w-full h-full object-contain"})}),c.jsx("span",{className:"text-sm font-bold text-center",children:(x=e.awayTeam)==null?void 0:x.name})]})]})]}),e.events&&e.events.length>0&&c.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[c.jsx("h3",{className:"text-sm font-bold text-white mb-3",children:"Ma Olaylar"}),c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:e.events.map((p,g)=>{const y=Vo(p),_=y==="goal"?"bg-yellow-400/10":y==="red-card"?"bg-red-500/10":y==="substitution"?"bg-emerald-400/10":"bg-white/5",T=y==="goal"?"text-yellow-400 font-bold":y==="red-card"?"text-red-400 font-semibold":y==="substitution"?"text-emerald-300 font-medium":"text-slate-300";return c.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg transition-colors ${_}`,children:[c.jsx("span",{className:"text-xs text-yellow-400 font-mono w-12",children:Wr(p.clock)}),c.jsx("span",{className:"w-5 h-5 flex-shrink-0 flex items-center justify-center",children:c.jsx(Zr,{event:p,className:y==="goal"?"w-4 h-4":"w-3.5 h-5"})}),c.jsxs("span",{className:`text-sm flex-1 ${T}`,children:[p.player,p.isSubstitution&&p.playerOut&&c.jsxs("span",{className:"text-slate-400 ml-1",children:[" ",p.playerOut]}),p.isGoal&&p.isPenalty&&c.jsx("span",{className:"text-yellow-300/90 font-semibold ml-1",children:"(P)"}),p.isGoal&&p.assist&&c.jsxs("span",{className:"text-slate-300/80 font-medium ml-2",children:["Asist: ",p.assist]}),p.type&&!p.isGoal&&!p.isYellowCard&&!p.isRedCard&&!p.isSubstitution&&c.jsxs("span",{className:"text-slate-500 ml-1",children:["(",p.type,")"]})]})]},g)})})]}),r.length>0&&c.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[c.jsx("h3",{className:"text-sm font-bold text-white mb-3",children:"statistikler"}),c.jsx("div",{className:"space-y-3",children:r.map((p,g)=>{const y=parseFloat(p.homeValue)||0,_=parseFloat(p.awayValue)||0,T=y+_||1;return c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[c.jsx("span",{className:"font-medium text-white",children:p.homeValue}),c.jsx("span",{children:p.label}),c.jsx("span",{className:"font-medium text-white",children:p.awayValue})]}),c.jsxs("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden flex",children:[c.jsx("div",{className:"bg-yellow-400 h-full transition-all duration-500",style:{width:`${y/T*100}%`}}),c.jsx("div",{className:"bg-slate-600 h-full flex-1"})]})]},g)})})]})]})},j4=({visible:e,onClose:t})=>e?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:t,children:c.jsxs("div",{className:"bg-[#0f172a] border-2 border-yellow-400/30 rounded-2xl p-6 max-w-4xl w-full max-h-[85vh] overflow-hidden animate-slideUp shadow-[0_0_40px_rgba(234,179,8,0.2)]",onClick:n=>n.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-yellow-400/20",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"relative flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),c.jsx("h2",{className:"text-xl font-bold text-yellow-400",children:"Canl Ma Detaylar"})]}),c.jsx("button",{onClick:t,className:"text-yellow-400 hover:text-white transition-all duration-300 hover:rotate-90",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"w-full",children:c.jsx(M4,{})})]})}):null,R4=(e="",t="")=>{const n=String(e||"").trim().toLowerCase(),i=String(t||"").trim().toLowerCase();return n==="ht"||n==="halftime"||n.includes("half time")||n.includes("devre")||i==="ht"},O4=({matchData:e,next3Matches:t=[],loading:n,onRetry:i,errorMessage:l,lastUpdated:s,isRefreshing:a,liveMatchState:r="countdown",liveMatchData:o=null,onCountdownEnd:u})=>{var T,j,C,D;const[h,f]=E.useState(!1),[d,m]=E.useState(!1),[v,w]=E.useState("");if(E.useEffect(()=>(h||d?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[h,d]),n)return c.jsx("div",{className:"flex items-center justify-center h-64 text-yellow-400 animate-pulse",children:"Ykleniyor..."});if(!e)return c.jsxs("div",{className:"text-center text-slate-400 mt-10 space-y-4",children:[c.jsx("p",{children:"Ma bilgisi bulunamad."}),l&&c.jsx("p",{className:"text-sm text-slate-300",children:l}),i&&c.jsx("button",{onClick:i,className:"px-4 py-2 rounded-full bg-yellow-400/20 text-yellow-300 border border-yellow-400/30 hover:bg-yellow-400 hover:text-black transition-colors",children:"Tekrar Dene"})]});const x=new Date(e.startTimestamp*1e3),p=3052,g=e.homeTeam.id===3052,y=g?e.awayTeam:e.homeTeam,_=r==="in"&&o?R4(o.statusDetail,o.displayClock):!1;return c.jsxs("div",{className:"min-h-screen pb-20",children:[c.jsxs("div",{className:"glass-card rounded-3xl p-6 relative overflow-hidden group mb-6",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-yellow-400 to-transparent opacity-50"}),c.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[c.jsx("span",{className:"text-xs font-bold tracking-wider text-yellow-400 uppercase bg-yellow-400/10 px-3 py-1 rounded-full border border-yellow-400/20",children:e.tournament.name}),c.jsx("span",{className:"text-xs text-slate-400 font-medium",children:x.toLocaleDateString("tr-TR",{day:"numeric",month:"long"})})]}),c.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:c.jsx(Or,{teamId:g?p:y.id,name:g?"Fenerbahe":y.name,wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),c.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:g?"Fenerbahe":y.name})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center w-1/3 -mt-4",children:[c.jsx("span",{className:"text-2xl font-black text-slate-700/50",children:"VS"}),c.jsx("div",{className:"mt-2 text-center",children:c.jsx("span",{className:"text-3xl font-bold text-white tracking-tighter text-glow",children:x.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})})]}),c.jsxs("div",{className:"flex flex-col items-center gap-3 w-1/3",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 p-2 border border-white/10 shadow-[0_0_15px_rgba(255,255,255,0.05)]",children:c.jsx(Or,{teamId:g?y.id:p,name:g?y.name:"Fenerbahe",wrapperClassName:"w-full h-full",imageClassName:"object-contain"})}),c.jsx("span",{className:"text-sm font-bold text-center leading-tight",children:g?y.name:"Fenerbahe"})]})]}),c.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5",children:[r==="checking"&&c.jsxs("div",{className:"text-center py-4",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[c.jsxs("span",{className:"relative flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-60"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-yellow-400"})]}),c.jsx("span",{className:"text-sm font-bold text-yellow-400 uppercase",children:"Ma Durumu Kontrol Ediliyor"})]}),c.jsx("p",{className:"text-xs text-slate-400",children:"Son durum senkronize ediliyor..."})]}),c.jsx(x4,{matchData:e,liveMatchState:r,onCountdownEnd:u}),r==="pre"&&c.jsxs("div",{className:"text-center py-4",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[c.jsxs("span",{className:"relative flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-yellow-400"})]}),c.jsx("span",{className:"text-sm font-bold text-yellow-400 uppercase",children:"Ma Birazdan Balyor!"})]}),c.jsx("p",{className:"text-xs text-slate-400",children:"Takmlar sahaya kyor..."})]}),r==="in"&&o&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[c.jsxs("span",{className:"relative flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),c.jsx("span",{className:"text-sm font-bold text-red-400 uppercase",children:_?"Devre Aras":"Canl"}),!_&&o.displayClock&&c.jsx("span",{className:"text-xs text-slate-400 ml-1",children:o.displayClock})]}),c.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[c.jsx("span",{className:"text-4xl font-black text-white",children:((T=o.homeTeam)==null?void 0:T.score)||"0"}),c.jsx("span",{className:"text-lg text-slate-500",children:""}),c.jsx("span",{className:"text-4xl font-black text-white",children:((j=o.awayTeam)==null?void 0:j.score)||"0"})]}),o.events&&o.events.length>0&&c.jsx("div",{className:"space-y-1 mb-4 max-h-32 overflow-y-auto",children:o.events.filter(O=>!O.isSubstitution).map((O,R)=>{const X=Vo(O),J=X==="goal"?"text-yellow-400 font-bold":X==="red-card"?"text-red-400":"text-slate-300";return c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("span",{className:"text-slate-500 w-10 text-right",children:Wr(O.clock)}),c.jsx("span",{className:"w-4 h-4 flex-shrink-0 flex items-center justify-center",children:c.jsx(Zr,{event:O,className:X==="goal"?"w-4 h-4":"w-3 h-4"})}),c.jsxs("span",{className:J,children:[O.player,O.isGoal&&O.isPenalty&&c.jsx("span",{className:"text-yellow-300/90 font-semibold ml-1",children:"(P)"})]})]},R)})}),c.jsx("button",{onClick:()=>f(!0),className:"w-full px-4 py-2 bg-yellow-400/10 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 rounded-lg text-xs font-bold transition-all duration-300",children:"Detayl statistikler"})]}),r==="post"&&o&&c.jsxs("div",{children:[c.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:c.jsx("span",{className:"text-sm font-bold text-green-400 uppercase",children:"Ma Bitti"})}),c.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[c.jsx("span",{className:"text-4xl font-black text-white",children:((C=o.homeTeam)==null?void 0:C.score)||"0"}),c.jsx("span",{className:"text-lg text-slate-500",children:""}),c.jsx("span",{className:"text-4xl font-black text-white",children:((D=o.awayTeam)==null?void 0:D.score)||"0"})]}),o.events&&o.events.filter(O=>O.isGoal).length>0&&c.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:o.events.filter(O=>O.isGoal).map((O,R)=>c.jsxs("span",{className:"text-xs text-slate-300 bg-white/5 px-2 py-1 rounded-full flex items-center gap-1",children:[c.jsx(Zr,{event:{isGoal:!0},className:"w-3 h-3 inline"}),Wr(O.clock)," ",O.player,O.isPenalty&&" (P)"]},R))}),c.jsx("button",{onClick:()=>f(!0),className:"w-full px-4 py-2 bg-yellow-400/10 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 rounded-lg text-xs font-bold transition-all duration-300",children:"Detayl statistikler"})]})]})]}),c.jsx(w4,{next3Matches:t}),c.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6",children:[c.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Puan Durumu"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("button",{onClick:()=>{w("superlig"),m(!0)},className:"px-4 py-3 bg-yellow-400/5 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 hover:border-yellow-400 rounded-xl text-sm font-bold transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",children:"Sper Lig"}),c.jsx("button",{onClick:()=>{w("europa"),m(!0)},className:"px-4 py-3 bg-yellow-400/5 hover:bg-yellow-400 text-yellow-400 hover:text-black border border-yellow-400/30 hover:border-yellow-400 rounded-xl text-sm font-bold transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",children:"Avrupa Ligi"})]})]}),c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"mb-6",children:c.jsx(b4,{opponentName:y.name,matchId:e.id})})}),c.jsx(j4,{visible:h,onClose:()=>f(!1)}),c.jsx(E4,{visible:d,league:v,onClose:()=>m(!1)})]})};function D4(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),l=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(l),t&&(i.href=t),l.href=e,l.href}const k4=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Xn(e){const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}let Yi=null;function yb(e={}){return Yi||(e.includeStyleProperties?(Yi=e.includeStyleProperties,Yi):(Yi=Xn(window.getComputedStyle(document.documentElement)),Yi))}function Jr(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function L4(e){const t=Jr(e,"border-left-width"),n=Jr(e,"border-right-width");return e.clientWidth+t+n}function z4(e){const t=Jr(e,"border-top-width"),n=Jr(e,"border-bottom-width");return e.clientHeight+t+n}function _b(e,t={}){const n=t.width||L4(e),i=t.height||z4(e);return{width:n,height:i}}function I4(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const at=16384;function U4(e){(e.width>at||e.height>at)&&(e.width>at&&e.height>at?e.width>e.height?(e.height*=at/e.width,e.width=at):(e.width*=at/e.height,e.height=at):e.width>at?(e.height*=at/e.width,e.width=at):(e.width*=at/e.height,e.height=at))}function eo(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>t(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function B4(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function H4(e,t,n){const i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return l.setAttribute("width",`${t}`),l.setAttribute("height",`${n}`),l.setAttribute("viewBox",`0 0 ${t} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),l.appendChild(s),s.appendChild(e),B4(l)}const nt=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||nt(n,t)};function V4(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function q4(e,t){return yb(t).map(n=>{const i=e.getPropertyValue(n),l=e.getPropertyPriority(n);return`${n}: ${i}${l?" !important":""};`}).join(" ")}function G4(e,t,n,i){const l=`.${e}:${t}`,s=n.cssText?V4(n):q4(n,i);return document.createTextNode(`${l}{${s}}`)}function $p(e,t,n,i){const l=window.getComputedStyle(e,n),s=l.getPropertyValue("content");if(s===""||s==="none")return;const a=k4();try{t.className=`${t.className} ${a}`}catch{return}const r=document.createElement("style");r.appendChild(G4(a,n,l,i)),t.appendChild(r)}function Y4(e,t,n){$p(e,t,":before",n),$p(e,t,":after",n)}const Zp="application/font-woff",Wp="image/jpeg",F4={woff:Zp,woff2:Zp,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Wp,jpeg:Wp,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Q4(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function lh(e){const t=Q4(e).toLowerCase();return F4[t]||""}function K4(e){return e.split(/,/)[1]}function hf(e){return e.search(/^(data:)/)!==-1}function X4(e,t){return`data:${t};base64,${e}`}async function vb(e,t,n){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const l=await i.blob();return new Promise((s,a)=>{const r=new FileReader;r.onerror=a,r.onloadend=()=>{try{s(n({res:i,result:r.result}))}catch(o){a(o)}},r.readAsDataURL(l)})}const Qc={};function P4(e,t,n){let i=e.replace(/\?.*/,"");return n&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function sh(e,t,n){const i=P4(e,t,n.includeQueryParams);if(Qc[i]!=null)return Qc[i];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let l;try{const s=await vb(e,n.fetchRequestInit,({res:a,result:r})=>(t||(t=a.headers.get("Content-Type")||""),K4(r)));l=X4(s,t)}catch(s){l=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;s&&(a=typeof s=="string"?s:s.message),a&&console.warn(a)}return Qc[i]=l,l}async function $4(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):eo(t)}async function Z4(e,t){if(e.currentSrc){const s=document.createElement("canvas"),a=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,a==null||a.drawImage(e,0,0,s.width,s.height);const r=s.toDataURL();return eo(r)}const n=e.poster,i=lh(n),l=await sh(n,i,t);return eo(l)}async function W4(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await qo(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function J4(e,t){return nt(e,HTMLCanvasElement)?$4(e):nt(e,HTMLVideoElement)?Z4(e,t):nt(e,HTMLIFrameElement)?W4(e,t):e.cloneNode(bb(e))}const e3=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",bb=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function t3(e,t,n){var i,l;if(bb(t))return t;let s=[];return e3(e)&&e.assignedNodes?s=Xn(e.assignedNodes()):nt(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?s=Xn(e.contentDocument.body.childNodes):s=Xn(((l=e.shadowRoot)!==null&&l!==void 0?l:e).childNodes),s.length===0||nt(e,HTMLVideoElement)||await s.reduce((a,r)=>a.then(()=>qo(r,n)).then(o=>{o&&t.appendChild(o)}),Promise.resolve()),t}function n3(e,t,n){const i=t.style;if(!i)return;const l=window.getComputedStyle(e);l.cssText?(i.cssText=l.cssText,i.transformOrigin=l.transformOrigin):yb(n).forEach(s=>{let a=l.getPropertyValue(s);s==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),nt(e,HTMLIFrameElement)&&s==="display"&&a==="inline"&&(a="block"),s==="d"&&t.getAttribute("d")&&(a=`path(${t.getAttribute("d")})`),i.setProperty(s,a,l.getPropertyPriority(s))})}function i3(e,t){nt(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),nt(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function l3(e,t){if(nt(e,HTMLSelectElement)){const n=t,i=Array.from(n.children).find(l=>e.value===l.getAttribute("value"));i&&i.setAttribute("selected","")}}function s3(e,t,n){return nt(t,Element)&&(n3(e,t,n),Y4(e,t,n),i3(e,t),l3(e,t)),t}async function a3(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const i={};for(let s=0;s<n.length;s++){const r=n[s].getAttribute("xlink:href");if(r){const o=e.querySelector(r),u=document.querySelector(r);!o&&u&&!i[r]&&(i[r]=await qo(u,t,!0))}}const l=Object.values(i);if(l.length){const s="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg");a.setAttribute("xmlns",s),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const r=document.createElementNS(s,"defs");a.appendChild(r);for(let o=0;o<l.length;o++)r.appendChild(l[o]);e.appendChild(a)}return e}async function qo(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>J4(i,t)).then(i=>t3(e,i,t)).then(i=>s3(e,i,t)).then(i=>a3(i,t))}const xb=/url\((['"]?)([^'"]+?)\1\)/g,r3=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,o3=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function c3(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function u3(e){const t=[];return e.replace(xb,(n,i,l)=>(t.push(l),n)),t.filter(n=>!hf(n))}async function f3(e,t,n,i,l){try{const s=n?D4(t,n):t,a=lh(t);let r;return l||(r=await sh(s,a,i)),e.replace(c3(t),`$1${r}$3`)}catch{}return e}function d3(e,{preferredFontFormat:t}){return t?e.replace(o3,n=>{for(;;){const[i,,l]=r3.exec(n)||[];if(!l)return"";if(l===t)return`src: ${i};`}}):e}function wb(e){return e.search(xb)!==-1}async function Sb(e,t,n){if(!wb(e))return e;const i=d3(e,n);return u3(i).reduce((s,a)=>s.then(r=>f3(r,a,t,n)),Promise.resolve(i))}async function Fi(e,t,n){var i;const l=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(l){const s=await Sb(l,null,n);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function h3(e,t){await Fi("background",e,t)||await Fi("background-image",e,t),await Fi("mask",e,t)||await Fi("-webkit-mask",e,t)||await Fi("mask-image",e,t)||await Fi("-webkit-mask-image",e,t)}async function m3(e,t){const n=nt(e,HTMLImageElement);if(!(n&&!hf(e.src))&&!(nt(e,SVGImageElement)&&!hf(e.href.baseVal)))return;const i=n?e.src:e.href.baseVal,l=await sh(i,lh(i),t);await new Promise((s,a)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...o)=>{try{s(t.onImageErrorHandler(...o))}catch(u){a(u)}}:a;const r=e;r.decode&&(r.decode=s),r.loading==="lazy"&&(r.loading="eager"),n?(e.srcset="",e.src=l):e.href.baseVal=l})}async function p3(e,t){const i=Xn(e.childNodes).map(l=>Eb(l,t));await Promise.all(i).then(()=>e)}async function Eb(e,t){nt(e,Element)&&(await h3(e,t),await m3(e,t),await p3(e,t))}function g3(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(l=>{n[l]=i[l]}),e}const Jp={};async function eg(e){let t=Jp[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},Jp[e]=t,t}async function tg(e,t){let n=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let r=a.replace(i,"$1");return r.startsWith("https://")||(r=new URL(r,e.url).href),vb(r,t.fetchRequestInit,({result:o})=>(n=n.replace(a,`url(${o})`),[a,o]))});return Promise.all(s).then(()=>n)}function ng(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(n,"");const l=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const o=l.exec(i);if(o===null)break;t.push(o[0])}i=i.replace(l,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",r=new RegExp(a,"gi");for(;;){let o=s.exec(i);if(o===null){if(o=r.exec(i),o===null)break;s.lastIndex=r.lastIndex}else r.lastIndex=s.lastIndex;t.push(o[0])}return t}async function y3(e,t){const n=[],i=[];return e.forEach(l=>{if("cssRules"in l)try{Xn(l.cssRules||[]).forEach((s,a)=>{if(s.type===CSSRule.IMPORT_RULE){let r=a+1;const o=s.href,u=eg(o).then(h=>tg(h,t)).then(h=>ng(h).forEach(f=>{try{l.insertRule(f,f.startsWith("@import")?r+=1:l.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(h=>{console.error("Error loading remote css",h.toString())});i.push(u)}})}catch(s){const a=e.find(r=>r.href==null)||document.styleSheets[0];l.href!=null&&i.push(eg(l.href).then(r=>tg(r,t)).then(r=>ng(r).forEach(o=>{a.insertRule(o,a.cssRules.length)})).catch(r=>{console.error("Error loading remote stylesheet",r)})),console.error("Error inlining remote css file",s)}}),Promise.all(i).then(()=>(e.forEach(l=>{if("cssRules"in l)try{Xn(l.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${l.href}`,s)}}),n))}function _3(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>wb(t.style.getPropertyValue("src")))}async function v3(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Xn(e.ownerDocument.styleSheets),i=await y3(n,t);return _3(i)}function Tb(e){return e.trim().replace(/["']/g,"")}function b3(e){const t=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(s=>{t.add(Tb(s))}),Array.from(i.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(e),t}async function x3(e,t){const n=await v3(e,t),i=b3(e);return(await Promise.all(n.filter(s=>i.has(Tb(s.style.fontFamily))).map(s=>{const a=s.parentStyleSheet?s.parentStyleSheet.href:null;return Sb(s.cssText,a,t)}))).join(`
`)}async function w3(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await x3(e,t);if(n){const i=document.createElement("style"),l=document.createTextNode(n);i.appendChild(l),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function S3(e,t={}){const{width:n,height:i}=_b(e,t),l=await qo(e,t,!0);return await w3(l,t),await Eb(l,t),g3(l,t),await H4(l,n,i)}async function E3(e,t={}){const{width:n,height:i}=_b(e,t),l=await S3(e,t),s=await eo(l),a=document.createElement("canvas"),r=a.getContext("2d"),o=t.pixelRatio||I4(),u=t.canvasWidth||n,h=t.canvasHeight||i;return a.width=u*o,a.height=h*o,t.skipAutoScale||U4(a),a.style.width=`${u}`,a.style.height=`${h}`,t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(0,0,a.width,a.height)),r.drawImage(s,0,0,a.width,a.height),a}async function T3(e,t={}){return(await E3(e,t)).toDataURL()}const C3=`data:image/svg+xml,${encodeURIComponent('<svg viewBox="0 0 68 105" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="grass" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#1a472a"/><stop offset="50%" style="stop-color:#166534"/><stop offset="100%" style="stop-color:#1a472a"/></linearGradient></defs><rect width="68" height="105" fill="url(#grass)"/><g stroke="rgba(255,255,255,0.5)" stroke-width="0.4" fill="none"><rect x="4" y="4" width="60" height="97"/><line x1="4" y1="52.5" x2="64" y2="52.5"/><circle cx="34" cy="52.5" r="9.15"/><circle cx="34" cy="52.5" r="0.5" fill="rgba(255,255,255,0.5)"/><rect x="13.84" y="4" width="40.32" height="16.5"/><rect x="24.84" y="4" width="18.32" height="5.5"/><circle cx="34" cy="15" r="0.5" fill="rgba(255,255,255,0.5)"/><path d="M 25.5 20.5 A 9.15 9.15 0 0 0 42.5 20.5"/><rect x="13.84" y="84.5" width="40.32" height="16.5"/><rect x="24.84" y="95.5" width="18.32" height="5.5"/><circle cx="34" cy="90" r="0.5" fill="rgba(255,255,255,0.5)"/><path d="M 25.5 84.5 A 9.15 9.15 0 0 1 42.5 84.5"/><path d="M 4 6 A 2 2 0 0 0 6 4"/><path d="M 62 4 A 2 2 0 0 0 64 6"/><path d="M 4 99 A 2 2 0 0 1 6 101"/><path d="M 62 101 A 2 2 0 0 1 64 99"/></g></svg>')}`,ig=e=>e==="GK"?"gk":/^(LB|RB|LWB|RWB|CB\d*)$/.test(e)?"def":/^(CDM\d*|CM\d*|CAM|LAM|RAM|LM|RM)$/.test(e)?"mid":/^(ST\d*|ST|LW|RW)$/.test(e)?"att":"other",Kc={"4-3-3":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CM1:{top:"50%",left:"28%"},CM2:{top:"50%",left:"50%"},CM3:{top:"50%",left:"72%"},LW:{top:"25%",left:"12%"},ST:{top:"15%",left:"50%"},RW:{top:"25%",left:"88%"}},"4-4-2":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},LM:{top:"50%",left:"12%"},CM1:{top:"50%",left:"35%"},CM2:{top:"50%",left:"65%"},RM:{top:"50%",left:"88%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}},"4-2-3-1":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM1:{top:"60%",left:"35%"},CDM2:{top:"60%",left:"65%"},LAM:{top:"35%",left:"15%"},CAM:{top:"32%",left:"50%"},RAM:{top:"35%",left:"85%"},ST:{top:"15%",left:"50%"}},"4-1-4-1":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM:{top:"62%",left:"50%"},LM:{top:"45%",left:"12%"},CM1:{top:"45%",left:"35%"},CM2:{top:"45%",left:"65%"},RM:{top:"45%",left:"88%"},ST:{top:"15%",left:"50%"}},"3-5-2":{GK:{top:"93%",left:"50%"},CB1:{top:"78%",left:"25%"},CB2:{top:"78%",left:"50%"},CB3:{top:"78%",left:"75%"},LWB:{top:"55%",left:"8%"},CM1:{top:"50%",left:"28%"},CM2:{top:"50%",left:"50%"},CM3:{top:"50%",left:"72%"},RWB:{top:"55%",left:"92%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}},"4-1-2-1-2 Diamond":{GK:{top:"93%",left:"50%"},LB:{top:"78%",left:"12%"},CB1:{top:"78%",left:"35%"},CB2:{top:"78%",left:"65%"},RB:{top:"78%",left:"88%"},CDM:{top:"62%",left:"50%"},CM1:{top:"48%",left:"25%"},CM2:{top:"48%",left:"75%"},CAM:{top:"32%",left:"50%"},ST1:{top:"18%",left:"35%"},ST2:{top:"18%",left:"65%"}}},N3=({visible:e,squad:t,activePitchPlayers:n,onSelect:i,onClose:l})=>{const[s,a]=E.useState("");if(!e)return null;const r=()=>{a(""),l()},o=u=>{a(""),i(u)};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:r,children:c.jsxs("div",{className:"glass-card rounded-2xl p-6 w-full max-w-sm max-h-[75vh] overflow-hidden flex flex-col",onClick:u=>u.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:"Oyuncu Se"}),c.jsxs("div",{className:"mt-3 relative",children:[c.jsx("input",{type:"text",value:s,onChange:u=>a(u.target.value),placeholder:"sim ya da forma no ile ara...",className:"w-full bg-slate-900/60 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-yellow-400"}),s&&c.jsx("button",{onClick:()=>a(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white text-xs",children:"Temizle"})]})]}),c.jsx("button",{onClick:r,className:"text-slate-400 hover:text-white",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar overscroll-contain [-webkit-overflow-scrolling:touch]",children:c.jsx("div",{className:"grid grid-cols-3 gap-2",children:(()=>{const u=s.trim().toLowerCase(),h=u?t.filter(f=>{var v;const d=(v=f.name)==null?void 0:v.toLowerCase().includes(u),m=String(f.number??"").includes(u);return d||m}):t;return h.length?h.map(f=>{const d=Object.values(n).some(m=>m.id===f.id);return c.jsxs("button",{onClick:()=>o(f),disabled:d,className:`rounded-lg p-2 flex flex-col items-center gap-1 transition-all bg-slate-900/75 border border-white/10 shadow-lg ${d?"opacity-50 cursor-not-allowed":"hover:bg-yellow-400/15 hover:border-yellow-400/35 cursor-pointer"}`,children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 overflow-hidden border border-white/10",children:f.photo?c.jsx("img",{src:f.photo,alt:f.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:f.number})}),c.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center",children:f.name.split(" ").slice(-1)[0]}),c.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded",children:f.position})]},f.id)}):c.jsx("div",{className:"col-span-3 text-center text-slate-500 text-xs py-6",children:"Oyuncu bulunamad"})})()})})]})})},A3=({squad:e,loading:t,isTouchDevice:n,onDragStart:i})=>c.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[c.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-2 px-2 uppercase tracking-wider",children:"Oyuncular"}),c.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar px-2 pb-20 touch-pan-y overscroll-contain [-webkit-overflow-scrolling:touch]",children:c.jsx("div",{className:"grid grid-cols-4 gap-2",children:t?c.jsx("div",{className:"col-span-4 text-center text-slate-500 py-4",children:"Ykleniyor..."}):e.map(l=>c.jsxs("div",{draggable:!n,onDragStart:s=>i(s,l),className:"rounded-lg p-2 flex flex-col items-center gap-1 cursor-move active:scale-95 transition-transform bg-slate-900/75 border border-white/10 shadow-lg hover:bg-slate-800/80",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 overflow-hidden border border-white/10 pointer-events-none",children:l.photo?c.jsx("img",{src:l.photo,alt:l.name,className:"w-full h-full object-cover",crossOrigin:"anonymous",draggable:"false"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-500",children:l.number})}),c.jsx("span",{className:"text-[9px] text-center leading-tight line-clamp-2 h-6 flex items-center pointer-events-none",children:l.name.split(" ").slice(-1)[0]}),c.jsx("span",{className:"text-[8px] text-slate-500 bg-slate-900/50 px-1.5 rounded pointer-events-none",children:l.position})]},l.id))})})]}),M3=()=>{const[e,t]=E.useState([]),[n,i]=E.useState({}),[l,s]=E.useState("4-2-3-1"),[a,r]=E.useState(!0),[o,u]=E.useState(!1),[h,f]=E.useState(null),[d,m]=E.useState(!1),[v,w]=E.useState(!1),x=E.useRef(null);E.useEffect(()=>{(async()=>{const N=await Ow();t(N),r(!1)})()},[]),E.useEffect(()=>{if(typeof window<"u"){const b="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;w(b)}},[]);const p=(b,N)=>{b.dataTransfer.setData("player",JSON.stringify(N))},g=(b,N)=>{b.preventDefault();const A=JSON.parse(b.dataTransfer.getData("player")),L=b.dataTransfer.getData("sourcePosition");if(L){const I=n[N];i(pe=>{const He={...pe};return I?(He[L]=I,He[N]=A):(delete He[L],He[N]=A),He})}else{if(Object.values(O).some(pe=>pe.id===A.id))return;i(pe=>({...pe,[N]:A}))}},y=b=>{b.preventDefault()},_=b=>{i(N=>{const A={...N};return delete A[b],A})},T=b=>{n[b]||(f(b),u(!0))},j=b=>{h&&(Object.values(O).some(A=>A.id===b.id)||i(A=>({...A,[h]:b}))),u(!1),f(null)};E.useEffect(()=>{const b=Object.keys(Kc[l]);i(N=>{const A={},L=new Set;for(const I of b){const pe=N[I];pe&&(A[I]=pe,L.add(pe.id))}for(const[I,pe]of Object.entries(N)){if(A[I]||L.has(pe.id))continue;const He=ig(I),xn=b.find(yt=>A[yt]?!1:ig(yt)===He);xn&&(A[xn]=pe,L.add(pe.id))}return A})},[l]);const C=Kc[l],O=Object.keys(C).reduce((b,N)=>(n[N]&&(b[N]=n[N]),b),{}),R=Object.keys(O).length,X=Object.keys(C).length,J=async()=>{const b=new Date().toISOString().split("T")[0],N=await T3(x.current,{quality:1,pixelRatio:2,backgroundColor:"#030712",style:{transform:"scale(1)"}}),L=await(await fetch(N)).blob(),I=`fenerbahce-${l.replace(/[^0-9a-z-]/gi,"")}-lineup-${b}.png`;return{blob:L,fileName:I,dataUrl:N}},H=async()=>{if(!(!R||d||!x.current)){m(!0);try{const{dataUrl:b,fileName:N}=await J(),A=document.createElement("a");A.download=N,A.href=b,A.click()}catch(b){console.error("Kadro kart indirilirken hata olutu:",b),window.alert(`Kart indirilirken bir hata olutu: ${b.message}`)}finally{m(!1)}}},Ke=async()=>{if(!(!R||d||!x.current)){m(!0);try{const{blob:b,fileName:N}=await J(),A=new File([b],N,{type:"image/png"});navigator.share&&navigator.canShare({files:[A]})?await navigator.share({title:"Fenerbahe Kadrom",text:`Benim ${l} kadrom! `,files:[A]}):H()}catch(b){b.name!=="AbortError"&&console.error("Paylam hatas:",b)}finally{m(!1)}}},It=Object.entries(C).sort(([,b],[,N])=>parseFloat(b.top)-parseFloat(N.top));return c.jsxs("div",{className:"h-full flex flex-col pb-20",children:[c.jsxs("div",{className:"flex flex-col gap-3 mb-4 px-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("select",{value:l,onChange:b=>s(b.target.value),className:"bg-slate-800 text-white text-sm rounded-lg px-3 py-2 border border-slate-700 focus:outline-none focus:border-yellow-400",children:Object.keys(Kc).map(b=>c.jsx("option",{value:b,children:b},b))}),c.jsx("button",{onClick:()=>i({}),className:"text-xs text-red-400 hover:text-red-300 font-medium px-3 py-2 bg-red-400/10 rounded-lg border border-red-400/20",children:"Temizle"})]}),c.jsx("div",{className:"glass-panel rounded-xl p-4 flex flex-col gap-3 border border-white/5",children:c.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-white",children:"Kadro Payla"}),c.jsxs("p",{className:"text-[11px] text-slate-400",children:["Tamamlanan kadro: ",c.jsxs("span",{className:"font-semibold text-white",children:[R,"/",X]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:Ke,disabled:!R||d,className:`px-3 py-2 rounded-lg text-xs font-semibold flex items-center gap-2 transition-colors ${R&&!d?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/40 hover:bg-yellow-500/30":"bg-white/5 text-slate-500 border border-white/10 cursor-not-allowed"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),d?"Hazrlanyor...":"Payla"]}),c.jsxs("button",{onClick:H,disabled:!R||d,className:`px-3 py-2 rounded-lg text-xs font-semibold flex items-center gap-2 transition-colors ${R&&!d?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/40 hover:bg-emerald-500/30":"bg-white/5 text-slate-500 border border-white/10 cursor-not-allowed"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"ndir"]})]})]})})]}),c.jsx("div",{ref:x,className:"relative w-full aspect-[2/3] overflow-hidden mx-auto max-w-sm rounded-xl mb-6",style:{backgroundImage:`url("${C3}")`,backgroundSize:"cover",backgroundPosition:"center"},children:It.map(([b,N])=>{const A=n[b];return c.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 flex items-center justify-center transition-all duration-200",style:N,onDrop:L=>g(L,b),onDragOver:y,onClick:()=>T(b),children:A?c.jsxs("div",{className:"relative w-full h-full flex flex-col items-center group",draggable:!d&&!v,onDragStart:L=>{L.dataTransfer.setData("player",JSON.stringify(A)),L.dataTransfer.setData("sourcePosition",b)},children:[c.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-yellow-400 overflow-hidden bg-slate-800 shadow-lg relative cursor-move z-10 group-hover:scale-110 transition-transform",children:A.photo?c.jsx("img",{src:A.photo,alt:A.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold",children:A.number})}),!d&&c.jsx("button",{type:"button","aria-label":`${A.name} pozisyonundan kar`,onClick:L=>{L.stopPropagation(),_(b)},className:"absolute top-0 right-0 w-4 h-4 rounded-full bg-slate-900/90 backdrop-blur-sm border border-slate-600/50 flex items-center justify-center shadow-md active:scale-90 transition-all z-20 hover:border-yellow-400/60 hover:bg-slate-800",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-2.5 h-2.5 text-slate-400 group-hover:text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),c.jsx("div",{className:"mt-1 bg-slate-900/90 px-2 py-0.5 rounded text-[9px] text-white font-medium truncate w-20 text-center border border-white/10 backdrop-blur-sm shadow-sm z-20",children:A.name.split(" ").pop()})]}):c.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-dashed border-white/40 bg-white/5 flex items-center justify-center hover:bg-white/10 hover:border-yellow-400/50 transition-all cursor-pointer",children:c.jsx("span",{className:"text-2xl text-white/50 hover:text-yellow-400",children:"+"})})},b)})}),c.jsx(A3,{squad:e,loading:a,isTouchDevice:v,onDragStart:p}),c.jsx(N3,{visible:o,squad:e,activePitchPlayers:O,onSelect:j,onClose:()=>{u(!1),f(null)}})]})},Ua="fb_fcm_token",mf=()=>({threeHours:!1,oneHour:!1,thirtyMinutes:!1,fifteenMinutes:!1,dailyCheck:!1}),Xc=e=>({...mf(),...e}),j3=()=>{const[e,t]=E.useState(!1),[n,i]=E.useState(()=>{const x=localStorage.getItem("fb_notification_options");if(x)try{return Xc(JSON.parse(x))}catch{return mf()}return mf()}),[l,s]=E.useState(null),[a,r]=E.useState(()=>localStorage.getItem("fb_has_notifications")==="true");E.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),E.useEffect(()=>{if(!a)return;(async()=>{try{if(!("Notification"in window)||Notification.permission!=="granted"||!("serviceWorker"in navigator))return;const{messaging:p}=await hi(async()=>{const{messaging:R}=await Promise.resolve().then(()=>df);return{messaging:R}},void 0),{getToken:g}=await hi(async()=>{const{getToken:R}=await Promise.resolve().then(()=>ff);return{getToken:R}},void 0);if(!p)return;const y="/fenerbahce-fan-hub/firebase-messaging-sw.js",_="/fenerbahce-fan-hub/firebase-cloud-messaging-push-scope";let T=await navigator.serviceWorker.getRegistration(_);T||(T=await navigator.serviceWorker.register(y,{scope:_}));const j=await g(p,{vapidKey:"BL36u1e0V4xvIyP8n_Nh1Uc_EZTquN1vNv58E3wm_q3IsQ916MfhsbF1NATwfeoitmAIyhMTC5TdhB7CSBRAz-4",serviceWorkerRegistration:T});if(!j)return;const C=localStorage.getItem(Ua);if(j===C)return;localStorage.setItem(Ua,j);const D=localStorage.getItem("fb_notification_options");if(!D)return;const O=Xc(JSON.parse(D));await fetch(`${Gt}/reminder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:j,oldPlayerId:C||void 0,options:O})})}catch(p){console.error("FCM token sync error:",p)}})()},[a]);const o=x=>{s(p=>{const g=p??n;return{...g,[x]:!(g!=null&&g[x])}})},u=()=>{s({...n}),t(!0)},h=()=>{s(null),t(!1)},f=async()=>{const x=Xc(m),p=Object.entries(x).filter(([T,j])=>j&&T!=="updatedAt").length,g=p===0,y=localStorage.getItem(Ua);let _=y;try{if(!g)try{if(!("Notification"in window)){alert(" Bu tarayc bildirimleri desteklemiyor.");return}if(await Notification.requestPermission()==="granted"){const{messaging:j}=await hi(async()=>{const{messaging:R}=await Promise.resolve().then(()=>df);return{messaging:R}},void 0),{getToken:C}=await hi(async()=>{const{getToken:R}=await Promise.resolve().then(()=>ff);return{getToken:R}},void 0),D="/fenerbahce-fan-hub/firebase-messaging-sw.js",O="/fenerbahce-fan-hub/firebase-cloud-messaging-push-scope";try{let R=await navigator.serviceWorker.getRegistration(O);R||(R=await navigator.serviceWorker.register(D,{scope:O})),_=await C(j,{vapidKey:"BL36u1e0V4xvIyP8n_Nh1Uc_EZTquN1vNv58E3wm_q3IsQ916MfhsbF1NATwfeoitmAIyhMTC5TdhB7CSBRAz-4",serviceWorkerRegistration:R}),_&&localStorage.setItem(Ua,_)}catch(R){console.error("FCM Service Worker registration failed:",R),alert(` Service Worker hatas: ${R.message}`);return}}else{alert(" Bildirim izni reddedildi! Tarayc ayarlarndan izin vermelisiniz.");return}}catch(T){console.error("Token alnamad:",T),alert(` Bildirim hatas: ${T.message}`);return}if(_){const T=y&&y!==_?y:void 0,j=await fetch(`${Gt}/reminder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:_,oldPlayerId:T,options:x})});if(!j.ok)throw new Error(`Backend error: ${j.status}`);const C=await j.json();console.log("Backend response:",C)}else if(g)console.warn("No stored token found while disabling notifications; local state cleared only.");else{alert(" Bildirim tokeni alnamad. Ltfen tekrar deneyin.");return}p===0?(r(!1),localStorage.removeItem("fb_has_notifications"),localStorage.removeItem("fb_notification_options"),alert(" Tm bildirimler temizlendi!")):(r(!0),localStorage.setItem("fb_has_notifications","true"),localStorage.setItem("fb_notification_options",JSON.stringify(x)),alert(` ${p} bildirim ayarland! Tm malara uygulanacak.`)),i(x),s(null),t(!1)}catch(T){console.error("Bildirim kaydetme hatas:",T),alert(" Balant hatas! Ltfen tekrar deneyin.")}},d=[{id:"threeHours",label:"Matan 3 saat nce",description:"Hazrlk yapmaya zamann olsun"},{id:"oneHour",label:"Matan 1 saat nce",description:"Heyecan zaman!"},{id:"thirtyMinutes",label:"Matan 30 dakika nce",description:"Son hazrlk"},{id:"fifteenMinutes",label:"Matan 15 dakika nce",description:"Ma balyor!"}],m=l??n,v=JSON.stringify(m)!==JSON.stringify(n),w=Object.entries(m).filter(([x,p])=>p&&x!=="updatedAt").length;return Object.entries(n).filter(([x,p])=>p&&x!=="updatedAt").length,c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:u,className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-300 bg-white/5 text-slate-400 hover:bg-white/10 hover:text-yellow-400 hover:scale-110 ${a?"ring-2 ring-yellow-400/60 text-yellow-400/80":""}`,title:"Bildirim ayarlar",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:a?2:1.5,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e&&c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fadeIn",onClick:h,children:c.jsxs("div",{className:"bg-[#0f172a] border border-white/10 rounded-2xl p-6 max-w-md w-full max-h-[85vh] overflow-y-auto animate-slideUp shadow-2xl",onClick:x=>x.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Bildirim Ayarlar"}),c.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Tm malar iin geerli"})]}),c.jsx("button",{onClick:h,className:"text-slate-400 hover:text-white hover:rotate-90 transition-all duration-300",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"glass-panel rounded-xl p-4 mb-6 border border-yellow-400/20",children:[c.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:"text-sm font-semibold",children:"Bu ayarlar tm malara uygulanr"})]}),c.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Bir kez ayarla, her ma iin otomatik bildirim al!"})]}),c.jsxs("div",{className:"space-y-3 mb-6",children:[d.map(x=>c.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${m[x.id]?"bg-yellow-400/20 border-yellow-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[c.jsx("input",{type:"checkbox",checked:!!m[x.id],onChange:()=>o(x.id),className:"mt-1 w-5 h-5 rounded border-2 border-yellow-400 bg-transparent checked:bg-yellow-400 cursor-pointer accent-yellow-400"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"flex items-center gap-2 mb-1",children:c.jsx("span",{className:"font-semibold text-white",children:x.label})}),c.jsx("p",{className:"text-xs text-slate-400",children:x.description})]})]},x.id)),c.jsx("div",{className:"pt-3 border-t border-white/10",children:c.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${m.dailyCheck?"bg-blue-400/20 border-blue-400 scale-[1.02]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[c.jsx("input",{type:"checkbox",checked:m.dailyCheck,onChange:()=>o("dailyCheck"),className:"mt-1 w-5 h-5 rounded border-2 border-blue-400 bg-transparent checked:bg-blue-400 cursor-pointer accent-blue-400"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"font-semibold text-white",children:"Gnlk Ma Kontrol"}),c.jsx("span",{className:"text-[10px] bg-blue-500/20 text-blue-300 px-2 py-0.5 rounded-full font-bold",children:"ZEL"})]}),c.jsx("p",{className:"text-xs text-slate-400",children:"Her sabah 09:00'da kontrol et, o gn ma varsa bildir"})]})]})})]}),Object.entries(m).some(([x,p])=>p&&x!=="updatedAt")&&c.jsx("div",{className:"bg-yellow-400/10 border border-yellow-400/30 rounded-lg p-3 mb-4 animate-fadeIn",children:c.jsxs("p",{className:"text-xs text-yellow-200",children:[c.jsx("strong",{className:"text-yellow-400",children:w})," bildirim setiniz"]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:x=>{x.stopPropagation(),h()},className:"flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 transition-all duration-200 font-medium border border-white/10 hover:border-white/20",children:"ptal"}),c.jsx("button",{onClick:f,disabled:!v,className:`flex-1 py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-all duration-200 ${v?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-300 hover:to-yellow-400 shadow-[0_0_20px_rgba(234,179,8,0.3)] hover:shadow-[0_0_30px_rgba(234,179,8,0.5)] hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed opacity-50"}`,children:"Kaydet"})]})]})})]})},ts=(e="")=>e&&e.replace(/\bFenerbahce\b/gi,"Fenerbahe").replace(/\bBesiktas\b/gi,"Beikta").replace(/\bIstanbul Basaksehir\b/gi,"stanbul Baakehir"),Sn=e=>{const t=new Date(e==null?void 0:e.date).getTime();return Number.isFinite(t)?t:0};function R3(){var ah,rh,oh,ch;const[e,t]=E.useState(null),[n,i]=E.useState(!0),[l,s]=E.useState(null),[a,r]=E.useState(!1),[o,u]=E.useState(null),[h,f]=E.useState(null),[d,m]=E.useState(!1),[v,w]=E.useState(null),[x,p]=E.useState("all"),[g,y]=E.useState(!1),[_,T]=E.useState(""),[j,C]=E.useState("all"),[D,O]=E.useState("all"),R=E.useRef(null);E.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[o]),E.useEffect(()=>{let V=!0;return(async()=>{i(!0),s(null);const si=await Fm();V&&(si!=null&&si.error&&s("Fikstr verisi alnamad. Ltfen tekrar dene."),t(si),i(!1))})(),()=>{V=!1}},[]);const X=async()=>{s(null),r(!0);const V=await Fm();V!=null&&V.error&&s("Fikstr verisi alnamad. Ltfen tekrar dene."),t(V),r(!1)},J=E.useMemo(()=>(e==null?void 0:e.matches)??[],[e]),H=E.useMemo(()=>J.filter(V=>V.status.completed||V.status.state==="post").sort((V,Xe)=>Sn(Xe)-Sn(V)),[J]),Ke=E.useMemo(()=>J.filter(V=>!V.status.completed&&V.status.state!=="post").sort((V,Xe)=>Sn(V)-Sn(Xe)),[J]),It=E.useMemo(()=>x==="played"?H:x==="upcoming"?Ke:[...Ke,...H],[x,H,Ke]),b=_.trim().toLocaleLowerCase("tr-TR"),N=E.useMemo(()=>It.filter(V=>{var Xe,si,uh,fh,dh;return!(j==="home"&&!V.isFbHome||j==="away"&&V.isFbHome||D!=="all"&&V.competitionGroup!==D||b&&![ts(((Xe=V.homeTeam)==null?void 0:Xe.name)||""),ts(((si=V.homeTeam)==null?void 0:si.shortName)||""),ts(((uh=V.awayTeam)==null?void 0:uh.name)||""),ts(((fh=V.awayTeam)==null?void 0:fh.shortName)||""),ts(((dh=V.opponentTeam)==null?void 0:dh.name)||"")].join(" ").toLocaleLowerCase("tr-TR").includes(b))}),[It,j,D,b]),A=E.useMemo(()=>x!=="all"?[]:N.filter(V=>V.status.completed||V.status.state==="post").sort((V,Xe)=>Sn(V)-Sn(Xe)),[x,N]),L=E.useMemo(()=>x!=="all"?[]:N.filter(V=>!V.status.completed&&V.status.state!=="post").sort((V,Xe)=>Sn(V)-Sn(Xe)),[x,N]),I=L[0]??null,pe=L.slice(1),He=[j!=="all",D!=="all",b.length>0].filter(Boolean).length,xn=()=>{T(""),C("all"),O("all")},yt=()=>{u(null),f(null),m(!1),w(null)},Hi=async V=>{u(V),f(null),w(null),m(!0);const Xe=await kw(V.id);Xe?f(Xe):w("Bu ma iin istatistik zeti henz hazr deil."),m(!1)},Cb=((ah=h==null?void 0:h.homeTeam)==null?void 0:ah.logo)||((rh=o==null?void 0:o.homeTeam)==null?void 0:rh.logo)||null,Nb=((oh=h==null?void 0:h.awayTeam)==null?void 0:oh.logo)||((ch=o==null?void 0:o.awayTeam)==null?void 0:ch.logo)||null;return{loading:n,error:l,isRefreshing:a,handleRefresh:X,statusFilter:x,setStatusFilter:p,showFilters:g,setShowFilters:y,searchTerm:_,setSearchTerm:T,venueFilter:j,setVenueFilter:C,competitionFilter:D,setCompetitionFilter:O,activeAdvancedFilterCount:He,clearAdvancedFilters:xn,filteredMatches:N,allFilterPlayedMatches:A,allFilterUpcomingMatches:L,allFilterNextMatch:I,allFilterLaterMatches:pe,nextMatchFocusRef:R,activeSummaryMatch:o,activeSummaryData:h,summaryLoading:d,summaryError:v,summaryHomeLogo:Cb,summaryAwayLogo:Nb,openSummaryModal:Hi,closeSummaryModal:yt}}const En=(e="")=>e&&e.replace(/\bFenerbahce\b/gi,"Fenerbahe").replace(/\bBesiktas\b/gi,"Beikta").replace(/\bIstanbul Basaksehir\b/gi,"stanbul Baakehir"),O3=(e="")=>{const t=String(e||"").trim().toLowerCase();return t?t==="ft"||t==="full time"||t.includes("full time")?"Ma Sonu":t==="ht"||t==="halftime"||t.includes("half time")?"Devre Aras":t==="aet"||t.includes("after extra time")?"Uzatma Sonu":t.includes("penalties")?"Penaltlar Sonu":e:"Ma Sonucu"};function D3({activeSummaryMatch:e,activeSummaryData:t,summaryLoading:n,summaryError:i,summaryHomeLogo:l,summaryAwayLogo:s,onClose:a}){var r,o,u,h,f,d,m,v,w,x;return e?c.jsxs("div",{className:"fixed inset-0 z-[80] flex items-end sm:items-center justify-center p-4",children:[c.jsx("button",{onClick:a,className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm","aria-label":"Kapat"}),c.jsxs("div",{className:"relative w-full max-w-2xl max-h-[88vh] overflow-hidden glass-card rounded-2xl border border-yellow-400/20",children:[c.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-yellow-300",children:"Ma statistikleri"}),c.jsxs("p",{className:"text-[11px] text-slate-400",children:[En((r=e.homeTeam)==null?void 0:r.name)," vs ",En((o=e.awayTeam)==null?void 0:o.name)]})]}),c.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-white hover:rotate-90 transition-all duration-300","aria-label":"Kapat",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-4 overflow-y-auto max-h-[calc(88vh-72px)] space-y-4",children:[n&&c.jsxs("div",{className:"space-y-3 animate-pulse",children:[c.jsx("div",{className:"h-20 rounded-xl bg-white/5"}),c.jsx("div",{className:"h-28 rounded-xl bg-white/5"}),c.jsx("div",{className:"h-28 rounded-xl bg-white/5"})]}),!n&&i&&c.jsx("div",{className:"rounded-xl border border-rose-400/20 bg-rose-500/10 p-4 text-sm text-rose-200",children:i}),!n&&!i&&t&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[c.jsx("div",{className:"w-11 h-11 rounded-full overflow-hidden border border-white/10 bg-white/5 flex items-center justify-center shrink-0",children:l?c.jsx("img",{src:l,alt:En(((u=t.homeTeam)==null?void 0:u.name)||""),className:"w-full h-full object-contain p-1",loading:"lazy"}):c.jsx("span",{className:"text-[10px] text-slate-300 font-bold",children:En(((h=t.homeTeam)==null?void 0:h.name)||"").slice(0,2).toUpperCase()})}),c.jsx("p",{className:"hidden sm:block text-base font-bold text-white text-left truncate",children:En(((f=t.homeTeam)==null?void 0:f.name)||"")})]}),c.jsxs("p",{className:"text-3xl font-black text-white px-4",children:[((d=t.homeTeam)==null?void 0:d.score)??"0"," ",c.jsx("span",{className:"text-slate-500",children:"-"})," ",((m=t.awayTeam)==null?void 0:m.score)??"0"]}),c.jsxs("div",{className:"flex items-center justify-end gap-2.5 min-w-0",children:[c.jsx("p",{className:"hidden sm:block text-base font-bold text-white text-right truncate",children:En(((v=t.awayTeam)==null?void 0:v.name)||"")}),c.jsx("div",{className:"w-11 h-11 rounded-full overflow-hidden border border-white/10 bg-white/5 flex items-center justify-center shrink-0",children:s?c.jsx("img",{src:s,alt:En(((w=t.awayTeam)==null?void 0:w.name)||""),className:"w-full h-full object-contain p-1",loading:"lazy"}):c.jsx("span",{className:"text-[10px] text-slate-300 font-bold",children:En(((x=t.awayTeam)==null?void 0:x.name)||"").slice(0,2).toUpperCase()})})]})]}),c.jsx("p",{className:"text-[11px] text-slate-400 mt-2 text-center",children:O3(t.statusDetail)})]}),Array.isArray(t.stats)&&t.stats.length>0&&c.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[c.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"zet statistikler"}),c.jsx("div",{className:"space-y-3",children:t.stats.map((p,g)=>{const y=Number.parseFloat(String(p.homeValue).replace(",","."))||0,_=Number.parseFloat(String(p.awayValue).replace(",","."))||0,T=y+_||1;return c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs text-slate-300",children:[c.jsx("span",{className:"font-semibold text-white",children:p.homeValue}),c.jsx("span",{children:p.label}),c.jsx("span",{className:"font-semibold text-white",children:p.awayValue})]}),c.jsxs("div",{className:"w-full h-2 rounded-full bg-white/5 overflow-hidden flex",children:[c.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${y/T*100}%`}}),c.jsx("div",{className:"h-full flex-1 bg-slate-600"})]})]},`${p.key}-${g}`)})})]}),Array.isArray(t.events)&&t.events.length>0&&c.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[c.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"Ma Olaylar"}),c.jsx("div",{className:"space-y-2",children:t.events.map((p,g)=>{const y=Vo(p),_=y==="goal"?"bg-yellow-400/10":y==="red-card"?"bg-red-500/10":"bg-white/5",T=y==="goal"?"text-yellow-300 font-semibold":y==="red-card"?"text-red-300":"text-slate-200";return c.jsxs("div",{className:`flex items-center gap-2 rounded-lg px-2 py-1.5 ${_}`,children:[c.jsx("span",{className:"text-[11px] text-yellow-300 w-12",children:Wr(p.clock)}),c.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:c.jsx(Zr,{event:p,className:y==="goal"?"w-4 h-4":"w-3 h-4"})}),c.jsxs("span",{className:`text-sm ${T}`,children:[p.player||p.type||"Olay",p.isGoal&&p.isPenalty&&c.jsx("span",{className:"ml-1 text-yellow-200 font-semibold",children:"(P)"}),p.isGoal&&p.assist&&c.jsxs("span",{className:"ml-2 text-slate-300/85 font-medium",children:["Asist: ",p.assist]})]})]},`${p.clock}-${g}`)})})]})]})]})]})]}):null}const k3=[{id:"all",label:"Tm"},{id:"played",label:"Biten"},{id:"upcoming",label:"Kalan"}],L3=[{id:"all",label:"Tm"},{id:"home",label:" Saha"},{id:"away",label:"Deplasman"}],z3=[{id:"all",label:"Tm"},{id:"superlig",label:"Sper Lig"},{id:"europe",label:"Avrupa"}],Ba=(e="")=>e&&e.replace(/\bFenerbahce\b/gi,"Fenerbahe").replace(/\bBesiktas\b/gi,"Beikta").replace(/\bIstanbul Basaksehir\b/gi,"stanbul Baakehir"),I3=e=>{const t=new Date(e);return{full:t.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}),time:t.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})}},U3=e=>{const t=e==null?void 0:e.venueName;return t?e!=null&&e.isFbHome&&/ulker|lker|sukru|kr|saracolu|saracoglu/i.test(t)?"Chobani Stadyumu kr Saracolu Spor Kompleksi":t:null},B3=e=>e.status.completed||e.status.state==="in",lg=({team:e,isFenerbahce:t=!1,align:n="left"})=>c.jsxs("div",{className:`flex items-center gap-2 min-w-0 ${n==="right"?"justify-end text-right":""}`,children:[n==="right"&&c.jsx("span",{className:`text-sm font-semibold truncate max-w-[120px] ${t?"text-yellow-300":"text-white"}`,children:Ba(e.shortName||e.name)}),c.jsx("div",{className:`w-9 h-9 rounded-full overflow-hidden border flex items-center justify-center shrink-0 ${t?"border-yellow-400/40 bg-yellow-400/10":"border-white/10 bg-white/5"}`,children:e.logo?c.jsx("img",{src:e.logo,alt:Ba(e.name),className:"w-full h-full object-contain p-1",loading:"lazy"}):c.jsx("span",{className:"text-[10px] font-bold text-slate-200",children:(e.abbreviation||Ba(e.name).slice(0,2)).toUpperCase()})}),n!=="right"&&c.jsx("span",{className:`text-sm font-semibold truncate max-w-[120px] ${t?"text-yellow-300":"text-white"}`,children:Ba(e.shortName||e.name)})]}),Ha=({match:e,featured:t=!1,cardRef:n=null,onOpenSummary:i=null})=>{const l=I3(e.date),s=B3(e),a=e.status.completed||e.status.state==="post",r=U3(e);return c.jsxs("article",{ref:n,className:`glass-panel rounded-2xl p-4 border transition-colors ${t?"border-yellow-400/20 shadow-[0_0_24px_rgba(234,179,8,0.08)]":"border-white/5 hover:border-yellow-400/10"}`,children:[c.jsxs("p",{className:`text-[12px] mb-3 ${t?"text-slate-300":"text-slate-400"}`,children:[l.full,"  ",l.time]}),c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-2",children:[c.jsx(lg,{team:e.homeTeam,isFenerbahce:e.homeTeam.id===e.fbTeam.id,align:"left"}),c.jsx("div",{className:"px-2 text-center shrink-0",children:s?c.jsxs("span",{className:"font-black text-white text-lg tracking-tight",children:[e.homeTeam.score??"-"," ",c.jsx("span",{className:"text-slate-500",children:":"})," ",e.awayTeam.score??"-"]}):c.jsx("span",{className:`font-bold text-sm ${t?"text-yellow-300":"text-slate-400"}`,children:"VS"})}),c.jsx(lg,{team:e.awayTeam,isFenerbahce:e.awayTeam.id===e.fbTeam.id,align:"right"})]}),(r||a&&i)&&c.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 flex items-center gap-3",children:[c.jsx("p",{className:"text-[11px] text-slate-500 truncate min-w-0 flex-1",children:r||""}),a&&i&&c.jsxs("button",{onClick:()=>i(e),className:"group inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-white/15 bg-white/[0.04] text-slate-200 hover:text-yellow-200 hover:border-yellow-400/35 hover:bg-yellow-400/10 transition-all duration-300 text-[11px] font-semibold whitespace-nowrap",children:["Ma statistikleri",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3.5 h-3.5 text-yellow-300/90 transition-transform duration-300 group-hover:translate-x-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})};function H3(){const{loading:e,error:t,isRefreshing:n,handleRefresh:i,statusFilter:l,setStatusFilter:s,showFilters:a,setShowFilters:r,searchTerm:o,setSearchTerm:u,venueFilter:h,setVenueFilter:f,competitionFilter:d,setCompetitionFilter:m,activeAdvancedFilterCount:v,clearAdvancedFilters:w,filteredMatches:x,allFilterPlayedMatches:p,allFilterNextMatch:g,allFilterLaterMatches:y,nextMatchFocusRef:_,activeSummaryMatch:T,activeSummaryData:j,summaryLoading:C,summaryError:D,summaryHomeLogo:O,summaryAwayLogo:R,openSummaryModal:X,closeSummaryModal:J}=R3();return c.jsxs("div",{className:"min-h-screen pb-24",children:[c.jsxs("section",{className:"sticky top-0 z-30 mb-4 space-y-3 pt-1 pb-2 bg-gradient-to-b from-slate-950/95 via-slate-950/90 to-transparent backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"grid grid-cols-3 gap-2 flex-1",children:k3.map(H=>c.jsx("button",{onClick:()=>s(H.id),className:`px-2 py-2 rounded-xl text-xs font-semibold transition-all duration-200 ${l===H.id?"bg-yellow-400 text-black shadow-[0_0_18px_rgba(234,179,8,0.25)]":"glass-panel text-slate-300 hover:bg-white/10"}`,children:H.label},H.id))}),c.jsxs("div",{className:"shrink-0 flex items-center gap-1.5",children:[c.jsxs("button",{onClick:()=>r(H=>!H),className:`h-[38px] px-[11px] rounded-xl text-xs font-semibold border transition-colors inline-flex items-center gap-1.5 ${a?"border-yellow-400/30 text-yellow-300 bg-yellow-400/5":"border-white/10 text-slate-300 bg-white/5 hover:bg-white/10"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h18M6 12h12m-9 8h6"})}),c.jsx("span",{children:"Filtre"}),v>0&&c.jsx("span",{className:"min-w-[18px] h-[18px] px-1 rounded-full bg-yellow-400 text-black text-[9px] inline-flex items-center justify-center font-bold",children:v})]}),c.jsxs("button",{onClick:i,disabled:e||n,className:"h-[38px] px-[11px] rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-xs text-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors inline-flex items-center gap-1.5",title:"Fikstr yenile",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`w-4 h-4 text-yellow-300 ${n?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v6h6M20 20v-6h-6M20 9a8 8 0 00-13.66-3.66L4 7m16 10l-2.34 2.34A8 8 0 014 15"})}),c.jsx("span",{children:n?"Yenileniyor":"Yenile"})]})]})]}),a&&c.jsxs("div",{className:"glass-panel rounded-2xl p-3 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 pb-1 border-b border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-yellow-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h18M6 12h12m-9 8h6"})}),c.jsx("p",{className:"text-xs font-semibold text-white",children:"Ma Filtreleri"})]}),c.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-white hover:rotate-90 transition-all duration-300 shrink-0","aria-label":"Filtre panelini kapat",title:"Kapat",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Takm Ara"}),c.jsx("input",{type:"text",value:o,onChange:H=>u(H.target.value),placeholder:"Rakip ad yaz...",className:"w-full rounded-xl border border-white/10 bg-slate-950/40 px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-yellow-400/30"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Saha"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:L3.map(H=>c.jsx("button",{onClick:()=>f(H.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${h===H.id?"bg-yellow-400/10 text-yellow-200 border border-yellow-400/25":"bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10"}`,children:H.label},H.id))})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[11px] uppercase tracking-wider text-slate-400 mb-1.5",children:"Kulvar"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:z3.map(H=>c.jsx("button",{onClick:()=>m(H.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${d===H.id?"bg-blue-400/10 text-blue-200 border border-blue-400/25":"bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10"}`,children:H.label},H.id))})]}),c.jsxs("div",{className:"flex items-center justify-between gap-3 pt-1",children:[c.jsxs("p",{className:"text-xs text-slate-400",children:[x.length," ma gsteriliyor"]}),c.jsx("button",{onClick:w,className:"text-sm font-semibold text-slate-200 hover:text-white transition-colors",children:"Temizle"})]})]})]}),e?c.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((H,Ke)=>c.jsxs("div",{className:"glass-panel rounded-2xl p-4 animate-pulse",children:[c.jsx("div",{className:"h-4 w-36 bg-white/10 rounded mb-3"}),c.jsx("div",{className:"h-10 w-full bg-white/5 rounded-xl"})]},Ke))}):c.jsxs("section",{className:"space-y-3",children:[t&&c.jsx("div",{className:"glass-panel rounded-2xl p-4 border border-rose-400/20",children:c.jsx("p",{className:"text-sm text-rose-200",children:t})}),!t&&x.length===0&&c.jsx("div",{className:"glass-panel rounded-2xl p-5 text-center",children:c.jsx("p",{className:"text-sm text-slate-300",children:"Bu filtre iin ma bulunamad."})}),!t&&x.length>0&&l!=="all"&&c.jsx("div",{className:"space-y-2.5",children:x.map(H=>c.jsx(Ha,{match:H,onOpenSummary:X},H.id))}),!t&&x.length>0&&l==="all"&&c.jsxs("div",{className:"relative space-y-4",children:[p.length>0&&c.jsxs("section",{className:"space-y-2.5",children:[c.jsxs("div",{className:"flex items-center gap-2 px-1",children:[c.jsx("div",{className:"h-px bg-white/10 flex-1"}),c.jsx("p",{className:"text-[11px] uppercase tracking-[0.14em] text-slate-400",children:"Gemi"}),c.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),p.map(H=>c.jsx(Ha,{match:H,onOpenSummary:X},H.id))]}),g&&c.jsxs("section",{className:"space-y-2.5",children:[p.length>0&&c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-white/10 bg-white/5 px-2.5 py-1 text-[10px] text-white/65 backdrop-blur-sm",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),c.jsx("span",{children:"Gemi"}),c.jsx("span",{className:"text-white/30",children:""}),c.jsx("span",{children:"Kaydr"})]})}),c.jsxs("div",{className:"flex items-center gap-2 px-1",children:[c.jsx("div",{className:"h-px bg-yellow-400/20 flex-1"}),c.jsx("p",{className:"text-[11px] uppercase tracking-[0.14em] text-yellow-300",children:"Sradaki Ma"}),c.jsx("div",{className:"h-px bg-yellow-400/20 flex-1"})]}),c.jsx(Ha,{match:g,featured:!0,cardRef:_,onOpenSummary:X}),y.length>0&&c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-white/10 bg-white/5 px-2.5 py-1 text-[10px] text-white/65 backdrop-blur-sm",children:[c.jsx("span",{children:"Kaydr"}),c.jsx("span",{className:"text-white/30",children:""}),c.jsx("span",{children:"Gelecek"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),y.length>0&&c.jsxs("section",{className:"space-y-2.5",children:[c.jsxs("div",{className:"flex items-center gap-2 px-1",children:[c.jsx("div",{className:"h-px bg-white/10 flex-1"}),c.jsx("p",{className:"text-[11px] uppercase tracking-[0.14em] text-slate-400",children:"Gelecek"}),c.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),y.map(H=>c.jsx(Ha,{match:H,onOpenSummary:X},H.id))]})]})]}),c.jsx(D3,{activeSummaryMatch:T,activeSummaryData:j,summaryLoading:C,summaryError:D,summaryHomeLogo:O,summaryAwayLogo:R,onClose:J})]})}const V3=()=>{if(typeof window>"u")return null;const e=localStorage.getItem("fb_last_match");if(!e)return null;try{return JSON.parse(e)}catch(t){return console.warn("fb_last_match parse error:",t),null}},sg=e=>e!=null&&e.startTimestamp?e.startTimestamp*1e3<=Date.now():!1;function q3(){const[e,t]=E.useState(typeof window>"u"),[n,i]=E.useState("dashboard"),l=E.useMemo(()=>typeof window>"u"?null:V3(),[]),[s,a]=E.useState((l==null?void 0:l.nextMatch)??null),[r,o]=E.useState((l==null?void 0:l.next3Matches)??[]),[u,h]=E.useState((l==null?void 0:l.timestamp)??null),[f,d]=E.useState(!l),[m,v]=E.useState(!1),[w,x]=E.useState(null),p=E.useRef(!!(l!=null&&l.nextMatch)),[g,y]=E.useState(sg(l==null?void 0:l.nextMatch)?"checking":"countdown"),[_,T]=E.useState(null),[j,C]=E.useState(0),D=E.useRef(null);E.useEffect(()=>{if(typeof document>"u")return;if(!document.fonts){t(!0);return}let b=!1;const N=()=>{b||t(!0)};if(document.fonts.check('1em "Outfit"'))return N(),()=>{b=!0};const A=1200;return Promise.race([Promise.all([document.fonts.load('400 1em "Outfit"').catch(()=>null),document.fonts.load('700 1em "Outfit"').catch(()=>null),document.fonts.ready.catch(()=>null)]),new Promise(L=>setTimeout(L,A))]).then(N),()=>{b=!0}},[]),E.useEffect(()=>{p.current=!!s},[s]),E.useEffect(()=>{let b;return(async()=>{try{if(!("Notification"in window)||Notification.permission!=="granted")return;const{messaging:A}=await hi(async()=>{const{messaging:I}=await Promise.resolve().then(()=>df);return{messaging:I}},void 0),{onMessage:L}=await hi(async()=>{const{onMessage:I}=await Promise.resolve().then(()=>ff);return{onMessage:I}},void 0);if(!A)return;b=L(A,I=>{console.log(" Foreground message:",I);const{title:pe,body:He}=I.notification||{};pe&&new Notification(pe,{body:He||"",icon:"https://media.api-sports.io/football/teams/611.png",data:I.data})})}catch(A){console.error("Foreground messaging setup error:",A)}})(),()=>{b&&b()}},[]);const O=E.useCallback(async()=>{const b=p.current;x(null),b?v(!0):d(!0);try{const[N,A]=await Promise.all([Rw(),Dw()]),L=Array.isArray(A)?A:[];if(o(L),N){a(N),C(0);const I={nextMatch:N,next3Matches:L,timestamp:Date.now()};typeof window<"u"&&localStorage.setItem("fb_last_match",JSON.stringify(I)),h(I.timestamp)}else a(null),x("Ma verisi alnamad. Ltfen balantn kontrol edip tekrar dene.")}catch(N){console.error("loadMatchData error:",N),a(null),o([]),x("Beklenmeyen bir hata olutu. Tekrar dene veya biraz sonra gel.")}finally{d(!1),v(!1)}},[]);E.useEffect(()=>{O()},[O]);const R=E.useMemo(()=>j===0?s:r.length>j?r[j]:s,[s,r,j]),X=E.useCallback(async()=>{try{const b=await fetch(`${Gt}/live-match`);if(!b.ok)return T(null),null;const N=await b.json();return N.matchState==="no-match"?(T(null),"no-match"):(T(N),N.matchState)}catch(b){return console.error("Live match fetch error:",b),null}},[]),J=E.useCallback(()=>{D.current&&(clearInterval(D.current),D.current=null)},[]),H=E.useCallback(()=>R!=null&&R.startTimestamp&&R.startTimestamp*1e3>Date.now()?"countdown":"checking",[R]),Ke=E.useCallback(()=>{if(D.current)return;const b=async()=>{const N=await X();N&&y(N==="no-match"?H():N)};b(),D.current=setInterval(b,3e4)},[X,H]),It=E.useCallback(()=>{y("checking"),Ke()},[Ke]);return E.useEffect(()=>{if(!(R!=null&&R.startTimestamp))return;const b=sg(R);if(b&&g==="countdown"){y("checking");return}!b&&(g==="pre"||g==="checking")&&!_&&(J(),y("countdown"))},[R,g,_,J]),E.useEffect(()=>{g==="checking"&&Ke()},[g,Ke]),E.useEffect(()=>{g==="post"&&J()},[g,J]),E.useEffect(()=>()=>{J()},[J]),e?c.jsxs("div",{className:"min-h-screen bg-slate-950 text-white pb-24 relative overflow-hidden",children:[c.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",children:[c.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-yellow-500/10 rounded-full blur-[100px]"}),c.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/20 rounded-full blur-[100px]"})]}),c.jsxs("div",{className:"relative z-10 max-w-md mx-auto h-full min-h-screen flex flex-col",children:[c.jsxs("header",{className:"p-6 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-yellow-200",children:"Fenerbahe Hub"}),c.jsx("p",{className:"text-slate-400 text-xs",children:"Taraftarn Sesi"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(j3,{}),c.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 p-0.5 shadow-lg shadow-yellow-500/20",children:c.jsx("div",{className:"w-full h-full rounded-full bg-slate-900 flex items-center justify-center overflow-hidden",children:c.jsx("img",{src:"https://media.api-sports.io/football/teams/611.png",alt:"FB Logo",className:"w-8 h-8 object-contain"})})})]})]}),c.jsxs("main",{className:"flex-1 px-4 overflow-y-auto no-scrollbar",children:[n==="dashboard"&&c.jsx(O4,{matchData:R,next3Matches:r,loading:f&&!s,onRetry:O,errorMessage:w,lastUpdated:u,isRefreshing:m,liveMatchState:g,liveMatchData:_,onCountdownEnd:It}),n==="fixtures"&&c.jsx(H3,{}),n==="builder"&&c.jsx(M3,{})]}),c.jsxs("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[88%] max-w-sm glass-panel rounded-2xl p-2 flex justify-around items-center z-50",children:[c.jsxs("button",{onClick:()=>i("dashboard"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${n==="dashboard"?"bg-white/10 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.3)]":"text-slate-400 hover:text-white"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),c.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Pano"})]}),c.jsxs("button",{onClick:()=>i("fixtures"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${n==="fixtures"?"bg-white/10 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.3)]":"text-slate-400 hover:text-white"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10m-11 9h12a2 2 0 002-2V7a2 2 0 00-2-2H6a2 2 0 00-2 2v11a2 2 0 002 2z"})}),c.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Fikstr"})]}),c.jsxs("button",{onClick:()=>i("builder"),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${n==="builder"?"bg-yellow-500 text-white shadow-[0_0_20px_rgba(234,179,8,0.5)] scale-110":"bg-slate-800 text-slate-400 hover:text-white"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),c.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Kadro Kur"})]})]})]})]}):c.jsxs("div",{className:"min-h-screen bg-slate-950 text-white pb-24 relative overflow-hidden",children:[c.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",children:[c.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-yellow-500/10 rounded-full blur-[100px]"}),c.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/20 rounded-full blur-[100px]"})]}),c.jsxs("div",{className:"relative z-10 max-w-md mx-auto h-full min-h-screen flex flex-col px-4 pt-6",children:[c.jsx("div",{className:"h-10 w-52 rounded-xl bg-white/10 animate-pulse mb-2"}),c.jsx("div",{className:"h-5 w-28 rounded-lg bg-white/5 animate-pulse mb-8"}),c.jsxs("div",{className:"glass-card rounded-3xl p-6 mb-6",children:[c.jsx("div",{className:"h-6 w-56 rounded-full bg-white/10 animate-pulse mb-6"}),c.jsx("div",{className:"h-28 rounded-2xl bg-white/5 animate-pulse mb-6"}),c.jsx("div",{className:"h-24 rounded-2xl bg-white/5 animate-pulse"})]}),c.jsxs("div",{className:"glass-panel rounded-2xl p-4 space-y-3",children:[c.jsx("div",{className:"h-5 w-36 rounded-lg bg-white/10 animate-pulse"}),c.jsx("div",{className:"h-14 rounded-xl bg-white/5 animate-pulse"}),c.jsx("div",{className:"h-14 rounded-xl bg-white/5 animate-pulse"}),c.jsx("div",{className:"h-14 rounded-xl bg-white/5 animate-pulse"})]})]})]})}"serviceWorker"in navigator&&Mw({immediate:!0});Cw.createRoot(document.getElementById("root")).render(c.jsx(Qb.StrictMode,{children:c.jsx(q3,{})}));
